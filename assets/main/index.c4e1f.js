if (typeof zuobi === 'undefined') {
var zuobi = -1;
 // 默认关闭作弊模式
};
if (typeof guanggao === 'undefined') {
var guanggao = -1;
};
console.log("作弊：" + zuobi + "，广告：" + guanggao); // 默认关闭作弊模式
// 检查作弊状态并更新按钮显示状态
function updateButtonVisibility() {
    // 获取当前作弊状态（如果zuobi变量已定义）
var isCheatEnabled = (typeof zuobi !== 'undefined' && zuobi === 1);
console.log(isCheatEnabled);
    // 更新按钮显示状态
if (this.gameWin) {
this.gameWin.active = isCheatEnabled;
}
if (this.gameNext) {
this.gameNext.active = isCheatEnabled;
}
    
console.log('作弊模式:', isCheatEnabled ? '开启' : '关闭');
}

// 从本地存储恢复作弊状态并更新按钮
function initCheatButtons() {
    // 检查本地存储中的作弊状态
if (typeof localStorage !== 'undefined') {
var savedMode = localStorage.getItem('cheatMode');
if (savedMode) {
            // 同步zuobi变量与本地存储
if (typeof zuobi === 'undefined') {
zuobi = parseInt(savedMode);
} else {
zuobi = parseInt(savedMode);
}
}
}
    
    // 更新按钮显示状态
updateButtonVisibility.call(this);
}

// 实时监控作弊状态变化（可选）
function monitorCheatMode() {
var lastCheatState = zuobi;
    
setInterval(function() {
if (zuobi !== lastCheatState) {
lastCheatState = zuobi;
updateButtonVisibility.call(this);
}
}.bind(this), 1000); // 每秒钟检查一次
}

// 页面加载时初始化
if (typeof document !== 'undefined') {
if (document.readyState === 'loading') {
document.addEventListener('DOMContentLoaded', function() {
setTimeout(function() {
initCheatButtons.call(this);
monitorCheatMode.call(this); // 如果需要实时监控，取消注释这行
}.bind(this), 100);
}.bind(this));
} else {
setTimeout(function() {
initCheatButtons.call(this);
monitorCheatMode.call(this); // 如果需要实时监控，取消注释这行
}.bind(this), 100);
}
}

// 手动调用更新函数（可以在作弊状态改变时调用）
function refreshButtonVisibility() {
updateButtonVisibility.call(this);
}


// 在作弊模式切换函数中调用更新
// 在你的toggleCheatMode函数最后添加：updateButtonVisibility.call(this);

// 全局视频广告系统
const VideoAdSystem = {
    ads: [
        {
            videoUrl: "https://wwwx.qyshare.com/api/share/download?token=a7bruc&fileId=46139&hostId=1",
            appName: "植物大战僵尸融合版",
            appIcon: "https://d6.qyshare.store/s/TBVWTxUNFQVWVFQEUgYPGgRUKFCVA50lQaKFCVA501QFBRpVKFCVA50gRTGgcFKFCVA50lYPBVVSKFCVA50gECBxUbFVhERH9YREMVDRVYREQZRk5CWRlYRVKFCVA50VGxVYRER8Uk4VDRVCR1tYVlMYBQcFKFCVA50hgHDhgFBhgGUVYPKFCVA50lMDDxoFKFCVA50FJVGgNTBVIaDlMPBxpSKFCVA50wQFBwFUVlYOKFCVA50gYZVV5ZFRsVVlQVDRUCBFMOBVZSKFCVA50RoEDgdUGgMDKFCVA50g8aVQQHBBpVU1IBUg8KFCVA50VFJUUw4VGxVZVlpSFQ0VBgKFCVA50HKFCVA501RVU1JSU1RTVQVWU1QOUwJRKFCVA50wVWDwMGUlECUQVJBKFCVA50cHTwQHBxlHWVKFCVA50VGxVUWFlDUllDY05HUhUNFV5aVlBSGEdZUBUbFVZTFQ0VBQYPDgBRBQYaVg9UVBoDBQJRGlUDDgEaUQ5WKFCVA50VJUKFCVA50FIDDwYEFUo=",
            downloadUrl: "https://pan.xunlei.com/s/VO__CfeseocLmO5BuL60bssDA1?pwd=bi6s#",
            description: "经典塔防游戏全新融合版本",
            authorInfo: "视频作者：@植物大战僵尸杂交版" // 添加作者信息
        },
        {
            videoUrl: "https://wwwx.qyshare.com/api/share/download?token=sziagu&fileId=46138&hostId=1",
            appName: "植物大战僵尸杂交版",
            appIcon: "https://d6.qyshare.store/s/TBVWTxUNFVIOKFCVA50VIKFCVA50KFCVA501ZSGg8BBQYaKFCVA50w5WUxpVDgdUGlYCUg4DBlUFKFCVA501EEDhUbFVhERH9YREMVDRVYREQZRk5CWRlYRVKFCVA50VGxVYRER8Uk4VDRVCR1tYVlMYBQcFKFCVA50hgHDhgFBhhRUgcGBKFCVA50MKFCVA50DhoOUw8HGgNWBgKFCVA50aDwBTBRoDBgEPKFCVA50lQGKFCVA50gJTBVEZVV5ZFRsVVlQVDRVWDlQFVVJSBBoCBgdVGgMEUwQaVVJUVBoOUwUHKFCVA50gYHKFCVA50KFCVA50QBVQcVGxVZVlpSFQ0V0Yqr376w04uo04uo34iKFCVA50GV1HUBUbFVRYWUNSWUNjTkdSFQ0VXlpWUFIYXUdSUBUbFVZTFQ0VKFCVA50QRRBVNSD1EaU1NVUxoDVVVVGg8EKFCVA501IaBFQOKFCVA50wJRD1YCVFQPFUo=",
            downloadUrl: "https://pan.xunlei.com/s/VO__DRyDZ7slC-pB1eEq3VFuA1?pwd=cf8w#",
            description: "0.7最新版本更新，新增植物与僵尸",
            authorInfo: "视频风格源于@植物大战僵尸杂交版" // 添加风格来源信息
        },
        {
            videoUrl: "https://wwwx.qyshare.com/api/share/download?token=wbzfee&fileId=46137&hostId=1",
            appName: "哈雪大帽险",
            appIcon: "https://d2.qyshare.store/s/TBVWTxUNFQcDKFCVA50VVWBQUEGgBTKFCVA50QQaKFCVA501RSBhpWD1JRGlQFKFCVA50VNWBgcGKFCVA50g8DVRUbFVhERH9YREMVDRVYREQZRk5CWRlYRVKFCVA50VGxVYRER8Uk4VDRVCR1tYVlMYBQcFKFCVA50hgHDhgFBxhUUg4DD1EEUhpTKFCVA50g9TGgMGKFCVA50wQaVgYOBBoFUg4DBwFVVKFCVA50MKFCVA50KFCVA501MZVV5ZFRsVVlQVDRUEUlRUVlRRBhoKFCVA50D1MPGgMHKFCVA50QQaDg4CBBoPDgYDUQQEUwVRKFCVA50w4VGxVZVlpSFQ0VVkdHaF5UWFkZR1lQFRsVVFhZQ1JZQ2NOR1IVDRVeWlZQUhhHWVKFCVA50VGxVWUxUNFVVVKFCVA50lYPUQ8DGlRUVVEaKFCVA501EEBhoOKFCVA50QFSGlYBVgRTBw9RUwRWDxVK",
            downloadUrl: "https://pan.xunlei.com/s/VO__EIKNMwFb6vTY_Re7O4NBA1?pwd=x25f#",
            description: "快来和哈基米一起大冒险！",
            authorInfo: "视频+游戏作者：@xiaomulink，BGM作者：@暗杠读秒p" // 添加复合作者信息
        }
    ],
    
    // 显示视频广告
    showVideoAd: function(successCallback, failCallback) {
        // 随机选择广告
        const ad = this.ads[Math.floor(Math.random() * this.ads.length)];
        cc.audioEngine.setMusicVolume(0);
        guanggao = 1;
        // 创建广告容器
        this.createAdContainer(ad, successCallback, failCallback);
    },
    
    // 创建广告容器
    createAdContainer: function(ad, successCallback, failCallback) {
        // 移除可能存在的旧广告
        this.removeExistingAd();
        
        // 创建遮罩层
        const overlay = document.createElement('div');
        overlay.id = 'global-video-ad-overlay';
        overlay.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        `;
        document.body.appendChild(overlay);
        
        // 创建广告主容器
        const adContainer = document.createElement('div');
        adContainer.id = 'video-ad-container';
        adContainer.style.cssText = `
            width: 90%;
            max-width: 340px;
            background: #1a1a1a;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        `;
        overlay.appendChild(adContainer);
        
        // 创建广告内容
        this.createAdContent(adContainer, ad, successCallback, failCallback);
        
        // 添加点击遮罩关闭功能（可选）
        overlay.addEventListener('click', (e) => {
            if (e.target === overlay && !this.rewardEarned) {
                failCallback && failCallback();
                this.closeAd();
            }
        });
    },
    
    // 创建广告内容
    createAdContent: function(container, ad, successCallback, failCallback) {
        // 顶部应用信息栏
        const header = document.createElement('div');
        header.style.cssText = `
            display: flex;
            align-items: center;
            padding: 16px;
            background: #2a2a2a;
            border-bottom: 1px solid #3a3a3a;
        `;
        
        const appIcon = document.createElement('img');
        appIcon.src = ad.appIcon;
        appIcon.style.cssText = `
            width: 40px;
            height: 40px;
            border-radius: 8px;
            margin-right: 12px;
            object-fit: cover;
        `;
        
        const appInfo = document.createElement('div');
        appInfo.style.cssText = `
            flex: 1;
        `;
        
        const appName = document.createElement('div');
        appName.textContent = ad.appName;
        appName.style.cssText = `
            font-weight: 600;
            font-size: 16px;
            color: white;
            margin-bottom: 2px;
        `;
        
        const appDesc = document.createElement('div');
        appDesc.textContent = ad.description;
        appDesc.style.cssText = `
            font-size: 12px;
            color: #999;
        `;
        
        appInfo.appendChild(appName);
        appInfo.appendChild(appDesc);
        header.appendChild(appIcon);
        header.appendChild(appInfo);
        container.appendChild(header);
        
        // 视频区域
        const videoSection = document.createElement('div');
        videoSection.style.cssText = `
            position: relative;
            background: #000;
            aspect-ratio: 16/9;
        `;
        
        const video = document.createElement('video');
        video.src = ad.videoUrl;
        video.style.cssText = `
            width: 100%;
            height: 100%;
            object-fit: cover;
        `;
        video.muted = false;
        video.playsInline = true;
        
        // 加载指示器
        const loading = document.createElement('div');
        loading.style.cssText = `
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 14px;
        `;
        loading.textContent = '广告加载中...';
        videoSection.appendChild(loading);
        
        video.addEventListener('loadeddata', () => {
            videoSection.removeChild(loading);
            video.play().catch(() => {
                this.showPlayButton(videoSection, video);
            });
        });
        
        videoSection.appendChild(video);
        container.appendChild(videoSection);
        
        // 添加作者信息标注
        const authorCredit = document.createElement('div');
        authorCredit.style.cssText = `
            padding: 8px 12px;
            background: rgba(0, 0, 0, 0.7);
            color: #ccc;
            font-size: 10px;
            text-align: center;
            border-top: 1px solid #333;
        `;
        authorCredit.textContent = ad.authorInfo;
        videoSection.appendChild(authorCredit);
        
        // 控制栏
        const controls = document.createElement('div');
        controls.style.cssText = `
            padding: 16px;
            background: #2a2a2a;
            display: flex;
            justify-content: space-between;
            align-items: center;
        `;
        
        const countdown = document.createElement('div');
        countdown.style.cssText = `
            color: white;
            font-size: 14px;
            font-weight: 500;
        `;
        countdown.textContent = '15秒后获得奖励';
        
        const skipBtn = document.createElement('button');
        skipBtn.style.cssText = `
            background: #555;
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            min-width: 60px;
        `;
        skipBtn.textContent = '跳过';
        
        controls.appendChild(countdown);
        controls.appendChild(skipBtn);
        container.appendChild(controls);
        
        // 底部下载按钮
        const footer = document.createElement('div');
        footer.style.cssText = `
            padding: 12px 16px;
            background: #2a2a2a;
            border-top: 1px solid #3a3a3a;
            text-align: center;
        `;
        
        const downloadBtn = document.createElement('a');
        downloadBtn.href = ad.downloadUrl;
        downloadBtn.target = '_blank';
        downloadBtn.style.cssText = `
            display: block;
            background: #4CAF50;
            color: white;
            padding: 12px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
        `;
        downloadBtn.textContent = '立即下载';
        
        footer.appendChild(downloadBtn);
        container.appendChild(footer);
        
        // 广告逻辑
        this.setupAdLogic(video, countdown, skipBtn, successCallback, failCallback);
        
        // 静音按钮
        this.addMuteButton(video);
    },
    
    // 设置广告逻辑
    setupAdLogic: function(video, countdown, skipBtn, successCallback, failCallback) {
        this.rewardEarned = false;
        let secondsLeft = 15;
        
        // 倒计时
        const countdownInterval = setInterval(() => {
            secondsLeft--;
            
            if (secondsLeft <= 0) {
                this.rewardEarned = true;
                countdown.textContent = '已获得奖励';
                countdown.style.color = '#4CAF50';
                skipBtn.textContent = '关闭';
                skipBtn.style.background = '#4CAF50';
                clearInterval(countdownInterval);
            } else {
                countdown.textContent = `${secondsLeft}秒后获得奖励`;
            }
        }, 1000);
        
        // 视频结束监听
        video.addEventListener('ended', () => {
            if (!this.rewardEarned) {
                this.rewardEarned = true;
                countdown.textContent = '已获得奖励';
                countdown.style.color = '#4CAF50';
                skipBtn.textContent = '关闭';
                skipBtn.style.background = '#4CAF50';
                clearInterval(countdownInterval);
            }
        });
        
        // 跳过按钮点击
        skipBtn.addEventListener('click', () => {
            clearInterval(countdownInterval);
            if (this.rewardEarned) {
                successCallback && successCallback();
            } else {
                failCallback && failCallback();
            }
            this.closeAd();
        });
    },
    
    // 添加静音按钮
    addMuteButton: function(video) {
        const muteBtn = document.createElement('div');
        muteBtn.style.cssText = `
            position: absolute;
            bottom: 30px; // 调整位置，避免与作者信息重叠
            right: 10px;
            background: rgba(0, 0, 0, 0.6);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
        `;
        
        muteBtn.innerHTML = `
            <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
            </svg>
        `;
        
        video.parentNode.appendChild(muteBtn);
        
        muteBtn.addEventListener('click', () => {
            video.muted = !video.muted;
            muteBtn.innerHTML = video.muted ? `
                <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                    <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
                </svg>
            ` : `
                <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                    <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                </svg>
            `;
        });
    },
    
    // 显示播放按钮
    showPlayButton: function(container, video) {
        const playBtn = document.createElement('div');
        playBtn.style.cssText = `
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
        `;
        
        playBtn.innerHTML = `
            <svg width="30" height="30" viewBox="0 0 24 24" fill="white">
                <path d="M8 5v14l11-7z"/>
            </svg>
        `;
        
        playBtn.addEventListener('click', () => {
            video.play();
            container.removeChild(playBtn);
            video.muted = false;
        });
        
        container.appendChild(playBtn);
    },
    
    // 移除现有广告
    removeExistingAd: function() {
        const existingAd = document.getElementById('global-video-ad-overlay');
        if (existingAd) {
            document.body.removeChild(existingAd);
        }
    },
    
    // 关闭广告
    closeAd: function() {
        this.removeExistingAd();
    }
};
	var audio = new Audio();
var AdNames = ["kun-video1","kun-video2","kun-video2"];
function winMusic(cc){
	var src = "./sound/winmusic.mp3";
	var playMusicWait;
	audio.src = src;
	cc.audioEngine.stopAll();
	playMusicWait = audio.play();
};
function FailVoice(cc){
	var src = "./sound/aminuosi.mp3";
	var playMusicWait;
	audio.src = src;
	playMusicWait = audio.play();
};
function souVoice(voi){
	var src = "./sound/"+ voi +".mp3";
	var playMusicWait;
	audio.src = src;
	//cc.audioEngine.stopAll();
	playMusicWait = audio.play();
};
window.__require = function e(t, o, n) {
function r(a, s) {
if (!o[a]) {
if (!t[a]) {
var c = a.split("/");
c = c[c.length - 1];
if (!t[c]) {
var l = "function" == typeof __require && __require;
if (!s && l) return l(c, !0);
if (i) return i(c, !0);
throw new Error("Cannot find module '" + a + "'");
}
a = c;
}
var u = o[a] = {
exports: {}
};
t[a][0].call(u.exports, function(e) {
return r(t[a][1][e] || e);
}, u, u.exports, e, t, o, n);
}
return o[a].exports;
}
for (var i = "function" == typeof __require && __require, a = 0; a < n.length; a++) r(n[a]);
return r;
}({
AdComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c656bfrp05HRZBzJLJolLnr", "AdComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("./base/enum/GamePlatform"), l = e("../base/GameFrameworkComponent"), u = e("../../base/utils/TimeUtils"), p = e("../log/DFLog"), d = e("./base/MiniGamePlatformBase"), f = e("../../base/utils/GFClassUtils"), h = e("../definition/dataStruct/AdLoopType"), y = cc._decorator, m = y.ccclass, g = y.property, b = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._platform = c.GamePlatform.Android;
t.currentPlatform = null;
t.m_IsLoopAd = !1;
t.m_ClickRate = [];
t._adLoopInterval = 99999;
t._loopRatioNativeAd = 70;
t._loopRatioIntersAd = 10;
t._loopRatioRewardAd = 20;
return t;
}
Object.defineProperty(t.prototype, "switchEnable", {
get: function() {
return this.currentPlatform.switchEnable;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "moreWonderfulAllowed", {
get: function() {
return this.currentPlatform.moreWonderfulAllowed();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "platform", {
get: function() {
return this._platform;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "platformString", {
get: function() {
return c.GamePlatformStrings[this._platform];
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "curPlatform", {
get: function() {
return this.currentPlatform;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "isMiniGame", {
get: function() {
return !!this.curPlatform && this.curPlatform.isMiniGame;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "IsLoopAd", {
get: function() {
return this.m_IsLoopAd;
},
set: function(e) {
this.m_IsLoopAd = e;
p.default.debug("set BAD lp:" + e);
this.platform == c.GamePlatform.Android && this.currentPlatform.setLoopAdState(this.m_IsLoopAd);
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "ClickRate", {
get: function() {
return this.m_ClickRate;
},
set: function(e) {
this.m_ClickRate = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "adLoopInterval", {
get: function() {
return this._adLoopInterval;
},
enumerable: !1,
configurable: !0
});
t.prototype.setAdLoopInterval = function(e) {
e < 0 || (this._adLoopInterval = e);
};
Object.defineProperty(t.prototype, "loopRatioNativeAd", {
get: function() {
return this._loopRatioNativeAd;
},
enumerable: !1,
configurable: !0
});
t.prototype.setLoopRatioNativeAd = function(e) {
e < 0 || (this._loopRatioNativeAd = e);
};
t.prototype.getLoopRatioByType = function(e) {
switch (e) {
case h.AdLoopType.Native:
return this._loopRatioNativeAd;

case h.AdLoopType.Interstitial:
return this._loopRatioNativeAd + this._loopRatioIntersAd;

case h.AdLoopType.Reward:
case h.AdLoopType.All:
default:
return this._loopRatioNativeAd + this._loopRatioIntersAd + this._loopRatioRewardAd;
}
};
Object.defineProperty(t.prototype, "loopRatioIntersAd", {
get: function() {
return this._loopRatioIntersAd;
},
enumerable: !1,
configurable: !0
});
t.prototype.setLoopRatioIntersAd = function(e) {
e < 0 || (this._loopRatioIntersAd = e);
};
Object.defineProperty(t.prototype, "loopRatioRewardAd", {
get: function() {
return this._loopRatioRewardAd;
},
enumerable: !1,
configurable: !0
});
t.prototype.setLoopRatioRewardAd = function(e) {
e < 0 || (this._loopRatioRewardAd = e);
};
t.prototype.isPlatform = function(e) {
return this.platform == e;
};
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
};
t.prototype.init = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
window.AdSdkFM = this;
this.currentPlatform = f.default.createInstance(this.platformString);
if (null == this.currentPlatform) throw new Error("创建平台类：" + this.platformString + "失败，请确认该类已实现gfClass特性.");
return [ 4, this.initMiniGame() ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
t.prototype.initMiniGame = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
if (!(this.currentPlatform instanceof d.MiniGamePlatformBase)) return [ 3, 2 ];
p.default.debug("小游戏平台初始化");
return [ 4, this.currentPlatform.init(window.GameEntryDF.builtin.miniGameInfo) ];

case 1:
e.sent();
return [ 2 ];

case 2:
p.default.debug("非小游戏平台初始化。");
return [ 2 ];
}
});
});
};
t.prototype.login = function(e) {
return a(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this.currentPlatform.login(e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.logout = function(e) {
return a(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this.currentPlatform.logout(e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.initAdSdkAtFirst = function() {
return this.currentPlatform.initAdSdkAtFirst();
};
t.prototype.showSplashAd = function(e) {
this.currentPlatform.showSplashAd(e);
};
t.prototype.showRewardVideoAd = function(e, t) {
this.currentPlatform.showRewardVideoAd(e, t);
};
t.prototype.showBannerAd = function(e, t) {
this.currentPlatform.showBannerAd(e, t);
};
t.prototype.hideBannerAd = function(e, t) {
this.currentPlatform.hideBannerAd(e, t);
};
t.prototype.allowShowAd = function(e) {
return this.currentPlatform.allowShowAd(e);
};
t.prototype.showNativeAd = function(e, t, o, n) {
this.currentPlatform.showNativeAd(e, t, o, n);
};
t.prototype.hideNativeAd = function(e, t, o) {
this.currentPlatform.hideNativeAd(e, t, o);
};
t.prototype.showPushBoxAd = function(e, t) {
this.currentPlatform.showPushBoxAd(e, t);
};
t.prototype.hidePushBoxAd = function(e, t) {
this.currentPlatform.hidePushBoxAd(e, t);
};
t.prototype.showPushBannerAd = function(e, t) {
this.currentPlatform.showPushBannerAd(e, t);
};
t.prototype.hidePushBannerAd = function(e, t) {
this.currentPlatform.hidePushBannerAd(e, t);
};
t.prototype.showInterstitialAd = function(e, t) {
this.currentPlatform.showInterstitialAd(e, t);
};
t.prototype.hideInterstitialAd = function(e, t) {
this.currentPlatform.hideInterstitialAd(e, t);
};
t.prototype.isNetworkAvailable = function(e) {
return this.curPlatform.isNetworkAvailable(e);
};
t.prototype.showToast = function(e, t) {
void 0 === t && (t = 2);
this.currentPlatform.showToast(e, t);
};
t.prototype.gameRecordingStart = function(e) {
this.currentPlatform.gameRecordingStart(e);
};
t.prototype.gameRecordingEnd = function(e, t) {
this.currentPlatform.gameRecordingEnd(e, t);
};
t.prototype.share = function(e, t) {
this.currentPlatform.share(e, t);
};
t.prototype.shareRecord = function(e, t) {
this.currentPlatform.shareRecord(e, t);
};
t.prototype.installShortcut = function(e, t) {
this.currentPlatform.installShortcut(e, t);
};
t.prototype.exitGame = function() {
this.currentPlatform.exitGame();
};
t.prototype.callService = function() {
this.currentPlatform.callService();
};
t.prototype.showPrivacy = function(e, t) {
this.currentPlatform.showPrivacy(e, t);
};
t.prototype.moreGame = function() {
this.currentPlatform.moreGame();
};
t.prototype.clickReportAd = function(e, t) {
this.currentPlatform.clickReportAd(e, t);
};
t.prototype.clickDownload = function(e, t) {
this.currentPlatform.clickDownload(e, t);
};
t.prototype.loopAd = function(e) {
p.default.debug("lp iv");
this.currentPlatform.loopAd(e);
};
t.prototype.copyDeviceId = function() {
this.currentPlatform.copyDeviceId();
};
t.prototype.getEffectiveTimesOfDay = function(e, t) {
var o = u.default.formatDate(new Date(), "yyyy-MM-dd");
return window.GameEntryDF.setting.getInt(e + o, 0) < t;
};
t.prototype.addEffectiveTimesOfDay = function(e) {
var t = u.default.formatDate(new Date(), "yyyy-MM-dd"), o = window.GameEntryDF.setting.getInt(e + t, 0);
o += 1;
window.GameEntryDF.setting.getFloat(e + t, o);
};
i([ g({
type: cc.Enum(c.GamePlatform),
tooltip: "游戏运营平台",
visible: !0
}) ], t.prototype, "_platform", void 0);
return i([ m, f.gfClass("AdComponent") ], t);
}(l.default);
o.default = b;
cc._RF.pop();
}, {
"../../base/utils/GFClassUtils": "GFClassUtils",
"../../base/utils/TimeUtils": "TimeUtils",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../definition/dataStruct/AdLoopType": "AdLoopType",
"../log/DFLog": "DFLog",
"./base/MiniGamePlatformBase": "MiniGamePlatformBase",
"./base/enum/GamePlatform": "GamePlatform"
} ],
AdLoopType: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9b1cdsAbhxGFrHN89q1T6hg", "AdLoopType");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.AdLoopType = void 0;
(function(e) {
e[e.All = 0] = "All";
e[e.Native = 1] = "Native";
e[e.Interstitial = 2] = "Interstitial";
e[e.Reward = 3] = "Reward";
})(o.AdLoopType || (o.AdLoopType = {}));
cc._RF.pop();
}, {} ],
AdProcessBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "24ed9x5DTBMZ6HLpzrkPDWz", "AdProcessBase");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.AdProcessBase = void 0;
var n = e("../../../../base/utils/Ramdom"), r = e("../../../log/DFLog"), i = function() {
function e() {
this.m_TriggeredCount = 0;
this.m_TotalClicks = 0;
this.m_Ratio = 0;
}
Object.defineProperty(e.prototype, "ratio", {
get: function() {
return this.m_Ratio;
},
set: function(e) {
this.m_Ratio = e;
},
enumerable: !1,
configurable: !0
});
e.prototype.onAdProcess = function() {};
e.prototype.onAdShowEvent = function() {
this.m_TotalClicks++;
var e = Math.floor(this.m_TotalClicks * this.m_Ratio / 100), t = this.m_TriggeredCount < e, o = 100 * n.default.rangeInt(0, 100);
if (!t) {
t = o < this.m_Ratio;
if (this.m_TriggeredCount > e) {
t = !1;
r.default.warn("第" + this.m_TotalClicks + "次点击，已满足预期次数：" + e + "，不再触发。");
return;
}
}
this.logClickInfo(this.m_TotalClicks, this.m_TriggeredCount, e, o, t, this.m_Ratio);
if (t) {
this.m_TriggeredCount++;
r.default.warn("第" + this.m_TotalClicks + "次，触发操作！触发次数：" + this.m_TriggeredCount + "，预期次数：" + e);
this.onAdProcess();
}
};
e.prototype.logClickInfo = function(e, t, o, n, i, a) {
var s;
s = t < o ? "第" + e + "次点击，触发次数：" + t + "<预期次数：" + o + "，需要触发：" + i : "第" + e + "次点击，触发次数：" + t + ",预期次数：" + o + ",随机值：" + n + ",点击率：" + a + ",需要触发：" + i;
r.default.debug(s);
};
return e;
}();
o.AdProcessBase = i;
cc._RF.pop();
}, {
"../../../../base/utils/Ramdom": "Ramdom",
"../../../log/DFLog": "DFLog"
} ],
AdShowingType: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0b58bFI735IHKgJxr2mL0bJ", "AdShowingType");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.AdShowingType = void 0;
(function(e) {
e[e.None = 900100] = "None";
e[e.Native = 900101] = "Native";
e[e.Reward = 900102] = "Reward";
e[e.Banner = 900103] = "Banner";
e[e.Box9 = 900104] = "Box9";
e[e.BoxBanner = 900105] = "BoxBanner";
})(o.AdShowingType || (o.AdShowingType = {}));
cc._RF.pop();
}, {} ],
AnalysisComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c045aoU3vxBQbdKb5RP/sUB", "AnalysisComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../base/GameFrameworkComponent"), s = e("../log/DFLog"), c = e("../../base/utils/GFClassUtils"), l = e("../../base/base/log/GameFrameworkLogLevel"), u = cc._decorator, p = u.ccclass, d = (u.property, 
function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
Object.defineProperty(t.prototype, "uma", {
get: function() {
try {
if (!this.m_Uma) {
s.default.debug("init dfUma");
this.m_Uma = window.dfUma.uma;
}
} catch (e) {
s.default.warn("uma lib is invalid.");
}
return this.m_Uma;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
};
t.prototype.init = function() {
var e = window.GameEntryDF.builtin;
if (null == e) throw new Error("分析模块-获取builtinDataComponent 失败");
if (this.uma) {
s.default.debug("分析模块启动.");
try {
this.uma.init({
appKey: e.miniGameInfo.umaKey,
useOpenid: !1,
debug: e.buildInfo.logLevel == l.GameFrameworkLogLevel.DEBUG
});
s.default.debug("分析模块启动-成功.");
} catch (e) {
s.default.debug("分析模块启动-失败:" + e);
}
} else s.default.debug("分析模块启动-失败:未获取到分析模块引用库");
};
return i([ p, c.gfClass("AnalysisComponent") ], t);
}(a.default));
o.default = d;
cc._RF.pop();
}, {
"../../base/base/log/GameFrameworkLogLevel": "GameFrameworkLogLevel",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../log/DFLog": "DFLog"
} ],
ApiTool: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b8fa1Acz1tD5ZSWCVi3x62F", "ApiTool");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
});
Object.defineProperty(r, "__esModule", {
value: !0
});
var a = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return i(t, e), Object.defineProperty(t, "instance", {
get: function() {
return this._instance || (this._instance = new t()), this._instance;
},
enumerable: !1,
configurable: !0
}), t._instance = null, t.avatar = "", t.dailyAllNumber = 0, t.dailywinNumber = 0, 
t;
}(cc.Component);
r.default = a;
cc._RF.pop();
}, {} ],
AssetUtility: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "10532TJt7FBUL6aRvduzKv3", "AssetUtility");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../definition/constant/ConstantBundle"), r = function() {
function e() {}
e.getConfigAsset = function(e, t) {
return t ? t + "|" + e : n.default.configs + "|" + e;
};
e.getDataTableAsset = function(e, t) {
return t ? t + "|" + e : n.default.dataTables + "|" + e;
};
e.getMusicAsset = function(e, t) {
return t ? t + "|" + e : n.default.music + "|" + e;
};
e.getSoundAsset = function(e, t) {
return t ? t + "|" + e : n.default.sounds + "|" + e;
};
e.getUiFormAsset = function(e, t) {
return t ? t + "|" + e : n.default.uiForms + "|" + e;
};
e.getUiSoundAsset = function(e, t) {
return t ? t + "|" + e : n.default.uiSounds + "|" + e;
};
e.getUiSpriteAsset = function(e, t) {
return t ? t + "|" + e : n.default.uiSprites + "|" + e;
};
return e;
}();
o.default = r;
cc._RF.pop();
}, {
"../definition/constant/ConstantBundle": "ConstantBundle"
} ],
AutoBgUi: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "85cd3z6XSlJkb2bpubrp2jg", "AutoBgUi");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc.Component, s = cc._decorator.property, c = cc.Sprite, l = cc.SpriteFrame, u = cc._decorator.ccclass, p = e("../../../../gf/scripts/ccEngine/log/DFLog"), d = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.bgSp = null;
t.privacyBgs = [];
t._isChanged = !1;
return t;
}
t.prototype.onEnable = function() {
this.check();
};
t.prototype.start = function() {
this.check();
};
t.prototype.check = function() {
if (!this._isChanged) {
this._isChanged = !0;
this.bgSp || (this.bgSp = this.node.getComponent(c));
var e = cc.find("Canvas").getComponent(cc.Canvas);
if (e) {
var t = cc.winSize, o = e.designResolution, n = o.width / o.height, r = t.width / t.height;
this.bgSp.spriteFrame = r > n ? this.privacyBgs[0] : this.privacyBgs[1];
} else p.default.error("获取Canvas失败");
}
};
i([ s({
type: c
}) ], t.prototype, "bgSp", void 0);
i([ s({
type: [ l ]
}) ], t.prototype, "privacyBgs", void 0);
return i([ u ], t);
}(a);
o.default = d;
cc._RF.pop();
}, {
"../../../../gf/scripts/ccEngine/log/DFLog": "DFLog"
} ],
AutoCanvasAdapter: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7918aMraLRPZIjgamKQNkE5", "AutoCanvasAdapter");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc._decorator.ccclass, s = cc.Component, c = cc.Canvas, l = cc.Size, u = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._gfDesignResolution = new l(1280, 720);
t._gameFrameworkSceneName = "gameFramework";
return t;
}
t.prototype.onLoad = function() {
this.adjustCanvas();
};
t.prototype.start = function() {};
t.prototype.adjustCanvas = function() {
var e = this.getCanvas();
this._gfDesignResolution = e.designResolution.clone();
var t = this.getRatio();
this.fitDesignResolution(e, t);
var o = t > e.designResolution.width / e.designResolution.height;
this.setFitMode(e, o);
};
t.prototype.fitDesignResolution = function(e, t) {
if (t > 1) {
var o = this._gfDesignResolution.width > this._gfDesignResolution.height;
e.designResolution = o ? new l(this._gfDesignResolution.width, this._gfDesignResolution.height) : new l(this._gfDesignResolution.height, this._gfDesignResolution.width);
} else {
o = this._gfDesignResolution.width > this._gfDesignResolution.height;
e.designResolution = o ? new l(this._gfDesignResolution.height, this._gfDesignResolution.width) : new l(this._gfDesignResolution.width, this._gfDesignResolution.height);
}
};
t.prototype.getCanvas = function() {
return this.node.getComponent(c);
};
t.prototype.getRatio = function() {
var e = cc.view.getFrameSize();
return e.width / e.height;
};
t.prototype.setFitMode = function(e, t) {
if (t) {
e.fitWidth = !0;
e.fitHeight = !1;
} else {
e.fitWidth = !1;
e.fitHeight = !0;
}
};
t.prototype.adjustCanvasNoBorder = function() {
var e = this.getCanvas(), t = this.getRatio();
this.fitDesignResolution(e, t);
e.fitHeight = !1;
e.fitWidth = !1;
};
return i([ a ], t);
}(s);
o.default = u;
cc._RF.pop();
}, {} ],
BDBannerAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "204bcAkQ+RIpYyNZxnZZhRA", "BDBannerAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/enum/LoadAdState"), a = e("../../base/adBase/BannerAdBase"), s = e("../../../log/DFLog"), c = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.loadAdState = i.LoadAdState.None;
return t;
}
t.prototype.init = function(t, o) {
e.prototype.init.call(this, t, o);
this.owner = t;
};
t.prototype.showAd = function(e) {
this.showInternal(e);
};
t.prototype.hideAd = function(e) {
if (window.GameEntryDF.ad.switchEnable) {
s.default.debug("横幅广告-关闭-B");
if (!0 === e) s.default.debug("横幅广告-关闭 userData[0] is true"); else {
s.default.debug("横幅广告-关闭 is false");
this.hideInternal();
}
} else {
s.default.debug("横幅广告-关闭-A");
this.hideInternal();
}
};
t.prototype.showInternal = function() {
if (this.owner.allowShowAd(!0)) try {
if (this.inCd(1)) {
s.default.debug("1秒内不让重复请求Banner,避免请求不到：");
return;
}
if (this.loadAdState == i.LoadAdState.Loading) return;
var e = this.owner.systemInfo.windowHeight - 168.75, t = (this.owner.systemInfo.windowWidth - 300) / 2;
this.m_Ad && window.GameEntryDF.ad.hideBannerAd(!1);
this.loadAdState = i.LoadAdState.Loading;
var o = this.owner.miniGameInfo.bannerId, n = tt.createBannerAd({
adUnitId: o,
adIntervals: 30,
style: {
width: 300,
top: e,
left: t
}
});
n.onLoad(this.onLoad.bind(this));
n.onResize(this.onReSize.bind(this));
n.onError(this.onError.bind(this));
this.m_Ad = n;
} catch (e) {
s.default.warn("横幅广告-创建时发生错误 error.Message:" + JSON.stringify(e));
}
};
t.prototype.hideInternal = function() {
this.loadAdState == i.LoadAdState.Loaded ? this.m_Ad ? this.m_Ad.hide() : s.default.warn("横幅广告-不存在,隐藏失败......") : s.default.warn("横幅广告-未加载,隐藏失败......");
this.releaseAd();
};
t.prototype.onLoad = function() {
var e = this;
this.loadAdState = i.LoadAdState.Loaded;
try {
this.m_Ad.show().then(function() {
s.default.debug("横幅广告-展示成功.");
}).catch(function(t) {
e.loadAdState = i.LoadAdState.None;
s.default.debug("横幅广告-展示失败-error.Message:" + JSON.stringify(t));
});
} catch (e) {
this.loadAdState = i.LoadAdState.None;
s.default.warn("横幅广告-展示时发生错误：", e ? JSON.stringify(e) : "");
}
};
t.prototype.onReSize = function(e) {
this.m_Ad.style.top = this.owner.systemInfo.windowHeight - e.height;
this.m_Ad.style.left = (this.owner.systemInfo.windowWidth - e.width) / 2;
};
t.prototype.releaseAd = function() {
if (this.m_Ad) {
this.m_Ad.offLoad(this.onLoad.bind(this));
this.m_Ad.offResize(this.onLoad.bind(this));
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.destroy();
this.loadAdState = i.LoadAdState.None;
this.m_Ad = null;
}
};
t.prototype.onError = function(e) {
s.default.warn("OnBannerAd Error:" + JSON.stringify(e));
this.loadAdState = i.LoadAdState.None;
};
t.prototype.onAdProcess = function() {};
return t;
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/BannerAdBase": "BannerAdBase",
"../../base/enum/LoadAdState": "LoadAdState"
} ],
BDGameSystem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f21dcmr3AhDpp4iEi6/KjCm", "BDGameSystem");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../../base/adBase/MiniGameSystemBase"), c = e("../../../log/DFLog"), l = e("../../../../../../gameMain/scripts/ui/base/UiFormId"), u = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.showPolicy = function() {
return i(this, void 0, void 0, function() {
return a(this, function(e) {
switch (e.label) {
case 0:
return [ 4, window.dfgf.ui.openUIForm(l.UiFormId.PrivacyForm) ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
t.prototype.moreGame = function() {};
t.prototype.showConnect = function() {};
t.prototype.getSystemInfo = function() {
try {
this.m_systemInfo || (this.m_systemInfo = tt.getSystemInfoSync());
} catch (e) {
c.default.warn("getSystemInfoSync fail:", JSON.stringify(e));
this.m_systemInfo = null;
}
return this.m_systemInfo;
};
t.prototype.installShortcut = function(e) {
var t = this;
try {
tt.addShortcut({
success: function() {
t.showToast("添加桌面成功");
c.default.debug("添加桌面成功");
e && e.success && e.success();
},
fail: function(o) {
c.default.warn("添加桌面失败", o.errMsg);
t.showToast("添加桌面失败");
e && e.fail && e.fail();
}
});
} catch (e) {
c.default.warn("当前平台不支持:installShortcut");
}
};
t.prototype.showToast = function(e, t) {
void 0 === t && (t = 2);
try {
tt.showToast({
title: e,
duration: t ? 1e3 * t : 2e3,
success: function(e) {
c.default.debug("" + e);
},
fail: function(e) {
c.default.debug("showToast 调用失败", e);
}
});
} catch (t) {
c.default.warn("展示吐司失败,消息：" + JSON.stringify(e) + "。错误：" + JSON.stringify(t) + " .");
}
};
t.prototype.exitGame = function() {};
t.prototype.initDeviceId = function() {};
t.prototype.copyDeviceId = function() {};
t.prototype.onAppShow = function() {};
t.prototype.onAppHide = function() {};
return t;
}(s.MiniGameSystemBase);
o.default = u;
cc._RF.pop();
}, {
"../../../../../../gameMain/scripts/ui/base/UiFormId": "UiFormId",
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameSystemBase": "MiniGameSystemBase"
} ],
BDInterstitialAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0ccdfamOU9DbZULO5ldjOT1", "BDInterstitialAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/adBase/InterstitialAdBase"), a = e("../../../log/DFLog"), s = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.adShowed = !1;
t.allowDestroy = !1;
t.m_LastAdTime = 0;
return t;
}
Object.defineProperty(t.prototype, "canShowInterstitialAd", {
get: function() {
if (!this.adShowed) {
a.default.debug("非第一次展示插屏,30s 间隔");
return this.showInterval > 30 && this.showInterval > 0;
}
return this.showInterval > 60 && this.owner.LastRewardedVideoAdTime > 60;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "showInterval", {
get: function() {
return (cc.director.getTotalTime() - this.m_LastAdTime) / 1e3;
},
enumerable: !1,
configurable: !0
});
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.showAd = function(t) {
e.prototype.showAd.call(this, t);
this.showInternal(t);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
if (window.GameEntryDF.ad.switchEnable) {
a.default.debug("插屏广告-关闭-B");
if (!0 === t) a.default.debug("插屏广告-关闭- userData[0] is true"); else {
a.default.debug("插屏广告-关闭-false");
this.hideInternal();
}
} else {
a.default.debug("插屏广告-关闭- A");
this.hideInternal();
}
};
t.prototype.showInternal = function() {
if (window.GameEntryDF.base.isEditor) this.owner.showInterstitialAdSim(); else if (this.owner.allowShowAd(!0)) try {
if (!1 === this.canShowInterstitialAd) {
a.default.debug("FM_ 60秒内不允许第二次播放插屏广告,尝试展示Banner广告.");
window.GameEntryDF.ad.showBannerAd(!0);
return;
}
this.adShowed ? a.default.debug("60s常显示插屏.") : a.default.debug("30s第一次显示插屏.");
window.GameEntryDF.ad.hideBannerAd(!1);
this.m_LastAdTime = this.totalTime;
this.allowDestroy && this.hideInternal();
if (!this.m_Ad) {
a.default.debug("插屏广告-创建并展示");
this.allowDestroy = !1;
this.m_Ad = tt.createInterstitialAd({
adUnitId: this.owner.miniGameInfo.interstitialId
});
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onError(this.onError.bind(this));
this.m_Ad.onClose(this.onClose.bind(this));
return;
}
} catch (e) {
a.default.warn("插屏广告-创建失败,error:" + e);
}
};
t.prototype.onLoad = function() {
var e = this;
try {
this.m_Ad.show().then(function() {
a.default.debug("插屏广告-展示成功.");
e.adShowed = !0;
e.allowDestroy = !0;
window.GameEntryDF.ad.hideBannerAd(!1);
}).catch(function(t) {
a.default.warn("插屏广告-展示失败 error:" + JSON.stringify(t));
e.onError(t);
});
} catch (e) {
a.default.warn("插屏广告-onLoad error!!:" + JSON.stringify(e));
this.onError(e);
}
};
t.prototype.onClose = function() {
try {
a.default.debug("插屏广告-onClose");
} catch (e) {
a.default.warn("插屏广告-onClose error:" + JSON.stringify(e));
}
};
t.prototype.onError = function(e) {
var t = "插屏广告-onError:";
switch (e.errCode) {
case 1004:
t += "请求广告失败....";
break;

case 2001:
t += "小程序启动一定时间内不允许展示插屏广告";
break;

case 2002:
t += "距离小程序插屏广告或者激励视频广告上次播放时间间隔不足，不允许展示插屏广告";
break;

case 2003:
t += "当前正在播放激励视频广告或者插屏广告，不允许再次展示插屏广告";
break;

case 2004:
t += "该项错误不是开发者的异常情况，或因小程序页面切换导致广告渲染失败";
break;

case 2005:
t += "插屏广告实例不允许跨页面调用";
break;

default:
t = t + "未知错误，错误码：" + e.errCode + ",错误信息:" + e.errMsg;
}
a.default.warn(t);
this.adShowed = !1;
this.allowDestroy = !0;
window.GameEntryDF.ad.showBannerAd(!0);
};
t.prototype.hideInternal = function() {
try {
a.default.debug("插屏广告-关闭");
this.m_Ad.offLoad(this.onLoad.bind(this));
this.m_Ad.offClose(this.onClose.bind(this));
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.destroy();
this.m_Ad = null;
} catch (e) {
a.default.warn("插屏广告-关闭失败-error：", JSON.stringify(e));
}
};
t.prototype.onAdProcess = function() {};
return t;
}(i.default);
o.default = s;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/InterstitialAdBase": "InterstitialAdBase"
} ],
BDRecord: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "59e00j8cPBN5r1hup/DUVmm", "BDRecord");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/adBase/MiniGameRecordBase"), a = e("../../../log/DFLog"), s = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.startRecord = function() {
try {
if (this.owner.IsVideoRecording) {
a.default.warn("录屏-正在录制中，不允许再次录制");
return;
}
this.m_VideoRecorded = tt.getGameRecorderManager();
this.m_VideoRecorded.onStart(this.onGameRecordStart.bind(this));
this.m_VideoRecorded.onStop(this.onGameRecordStop.bind(this));
this.m_VideoRecorded.start({
duration: 300
});
} catch (e) {
a.default.warn("录屏-开始录制失败- error:" + JSON.stringify(e));
}
};
t.prototype.endRecord = function(e) {
try {
if (!this.owner.IsVideoRecording) {
a.default.warn("录屏-停止失败-录屏未开始，无法直接停止，.");
return;
}
var t = this.owner.totalTime - this.owner.VideoStartTime;
a.default.debug("录屏-持续时间:", t / 1e3);
if (t <= 3e3) {
window.GameEntryDF.ad.showToast("录屏时长低于3秒");
return;
}
this.owner.IsRecStopToPlay = e;
this.m_VideoRecorded.stop();
} catch (e) {
a.default.warn("录屏-停止失败 error:" + JSON.stringify(e));
}
};
t.prototype.onGameRecordStart = function(e) {
a.default.debug("tt onGameRecordStart,userData is:" + JSON.stringify(e));
this.owner.IsVideoRecording = !0;
this.owner.VideoRecordedPath = "";
this.owner.VideoStartTime = this.owner.totalTime;
try {
cc.director.getScheduler().schedule(this.gameRecordEndAuto.bind(this), null, 300);
} catch (e) {
a.default.warn("录屏-开始失败- error:" + JSON.stringify(e));
}
};
t.prototype.gameRecordEndAuto = function(e) {
void 0 === e && (e = 300);
this.owner.IsVideoRecording ? this.endRecord(!1) : a.default.warn("录屏-自动停止失败-录屏未开始，无法直接停止，.");
};
t.prototype.onGameRecordStop = function(e) {
this.owner.IsVideoRecording = !1;
this.owner.VideoRecordedPath = e.videoPath;
var t = tt.getSystemInfoSync();
a.default.debug("头条版本号：" + t.version + ",宿主 APP 名称:" + t.appName);
"Toutiao" == t.appName ? a.default.debug("录屏-停止-宿主：完整版，暂停、分享录屏.") : a.default.debug("录屏-停止-宿主：极速整版，暂停、分享录屏.");
this.owner.IsRecStopToPlay && window.GameEntryDF.ad.shareRecord({
success: this.owner.ShareRecordVideoCallBack
}, this.owner.ShareRecordVideoArgs);
};
return t;
}(i.MiniGameRecordBase);
o.default = s;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameRecordBase": "MiniGameRecordBase"
} ],
BDRewardAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d9e50Lqn/FGsLQ9J2uTjMo+", "BDRewardAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/adBase/MiniGameRewardAdBase"), a = e("../../../log/DFLog"), s = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.showAd = function(t) {
e.prototype.showAd.call(this, t);
this.showInternal(t);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
};
t.prototype.showInternal = function() {
if (window.GameEntryDF.base.isEditor) this.owner.showRewardAdSim(); else try {
window.GameEntryDF.ad.hideBannerAd(!1);
if (!this.m_Ad) {
var e = this.owner.miniGameInfo.rewardId;
this.m_Ad = tt.createRewardedVideoAd({
adUnitId: e
});
this.m_Ad.onClose(this.onClose.bind(this));
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onError(this.onError.bind(this));
}
this.m_Ad.load();
} catch (e) {
a.default.warn("激励-创建失败-Message：" + JSON.stringify(e));
this.owner.fmCbFail();
}
};
t.prototype.onLoad = function() {
a.default.debug("激励-onLoad-尝试展示广告");
this.m_Ad.show().then(this.onShowSuccess.bind(this)).catch(this.onShowError.bind(this));
};
t.prototype.onShowSuccess = function() {
this.owner.LastRewardedVideoAdTime = this.totalTime;
a.default.debug("激励-onShowSuccess.");
};
t.prototype.onShowError = function(e) {
this.owner.fmCbFail();
a.default.debug("激励-onShowError：", JSON.stringify(e));
window.GameEntryDF.ad.showToast("激励广告失败~");
};
t.prototype.onClose = function(e) {
e && e.isEnded ? this.owner.fmCbSuccess() : this.owner.fmCbFail();
};
t.prototype.onError = function(e) {
this.owner.fmCbFail();
a.default.warn("激励-onError.Message：" + JSON.stringify(e));
window.GameEntryDF.ad.showToast("视频广告创建出错.稍后再试吧~");
};
t.prototype.onAdProcess = function() {};
return t;
}(i.MiniGameRewardAdBase);
o.default = s;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameRewardAdBase": "MiniGameRewardAdBase"
} ],
BDShare: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "63630zdNKVMsbJZSG9/yLnW", "BDShare");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../../../../../gameMain/scripts/definition/constant/ConstantEvent"), a = e("../../base/adBase/MiniGameShareBase"), s = e("../../../../base/utils/StringUtility"), c = e("../../../log/DFLog"), l = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.shareGame = function(e, t) {
this.shareInternal(e, t);
};
t.prototype.shareRecord = function(e, t) {
this.shareRecordedVideo(e, t);
};
t.prototype.shareInternal = function(e) {
if (window.GameEntryDF.base.isEditor) this.owner.showSimAdMode2("分享", "这是一个分享弹窗(模拟)", "领取奖励", function() {
window.GameEntryDF.event.fire(i.default.Ad_Builtin_OnShareSuccess);
}, "取消分享"); else try {
tt.shareAppMessage({
title: this.owner.miniGameInfo.shareTitle,
desc: this.owner.miniGameInfo.shareDesc,
imageUrl: this.owner.miniGameInfo.shareTexturePath,
query: "",
success: function() {
c.default.debug("分享-成功");
window.GameEntryDF.event.fire(i.default.Ad_Builtin_OnShareSuccess);
e && e.success && e.success();
e && e.complete && e.complete();
},
fail: function(t) {
var o = "分享-失败.Message:" + JSON.stringify(t);
c.default.debug(o);
window.GameEntryDF.event.fire(i.default.Ad_Builtin_OnShareFail, o);
e && e.fail && e.fail();
e && e.complete && e.complete();
}
});
} catch (o) {
var t = "分享-过程中发生错误.Message:" + JSON.stringify(o);
c.default.warn(t);
window.GameEntryDF.event.fire(i.default.Ad_Builtin_OnShareFail, t);
e && e.fail && e.fail();
e && e.complete && e.complete();
}
};
t.prototype.shareRecordedVideo = function(e, t) {
this.owner.ShareRecordVideoCallBack = e;
this.owner.ShareRecordVideoArgs = t;
this.owner.IsVideoRecording ? window.GameEntryDF.ad.gameRecordingEnd(!0) : this.shareRecVideoInternal(e, null);
};
t.prototype.shareRecVideoInternal = function(e) {
if (window.GameEntryDF.base.isEditor) this.owner.showSimAdMode2("分享录屏", "这是一个分享录屏弹窗(模拟)", "领取奖励", function() {
window.GameEntryDF.event.fire(i.default.Ad_Builtin_OnShareSuccess);
}, "取消分享"); else try {
var t = this.owner.totalTime - this.owner.VideoStartTime;
c.default.debug("录屏-持续时间:", t);
if (t <= 3e3) {
window.GameEntryDF.ad.showToast("录屏-时长低于3秒");
return;
}
if (s.default.isNullOrEmpty(this.owner.VideoRecordedPath)) {
c.default.error("录屏-路径错误.");
return;
}
var o = [ "喵喵消除", "争当领头喵", "消除解压", "休闲游戏", "好玩" ];
if (this.owner.allowShowAd(!0)) {
c.default.debug("更改分享话题");
o = [ "争当领头喵", "羊了个羊", "喵了个喵", "羊了个羊第二关通关秘籍", "好玩消除解压休闲单机游戏" ];
} else c.default.debug("分享话题");
var n = this.owner.miniGameInfo.shareId;
tt.shareAppMessage({
channel: "video",
title: this.owner.miniGameInfo.shareTitle,
desc: this.owner.miniGameInfo.shareDesc,
imageUrl: this.owner.miniGameInfo.shareTexturePath,
templateId: n,
query: "",
extra: {
videoPath: this.owner.VideoRecordedPath,
videoTopics: o,
hashtag_list: o,
video_title: "争当领头喵，看能消除多少关"
},
success: function() {
c.default.debug("录屏-分享成功.");
window.GameEntryDF.ad.showToast("分享成功");
window.GameEntryDF.event.fire(i.default.Ad_Builtin_OnShareRecordedVideoSuccess);
e && e.success && e.success();
e && e.complete && e.complete();
window.GameEntryDF.ad.gameRecordingStart({});
},
fail: function(t) {
var o = "录屏-分享失败. Message:" + JSON.stringify(t);
c.default.debug(o);
window.GameEntryDF.ad.showToast("分享失败");
window.GameEntryDF.event.fire(i.default.Ad_Builtin_OnShareRecordedVideoFail, o);
e && e.fail && e.fail();
e && e.complete && e.complete();
window.GameEntryDF.ad.gameRecordingStart({});
}
});
} catch (t) {
var r = "录屏-分享过程中发生错误 error:" + JSON.stringify(t);
c.default.warn(r);
window.GameEntryDF.event.fire(i.default.Ad_Builtin_OnShareRecordedVideoFail, r);
e && e.fail && e.fail();
e && e.complete && e.complete();
}
};
return t;
}(a.MiniGameShareBase);
o.default = l;
cc._RF.pop();
}, {
"../../../../../../gameMain/scripts/definition/constant/ConstantEvent": "ConstantEvent",
"../../../../base/utils/StringUtility": "StringUtility",
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameShareBase": "MiniGameShareBase"
} ],
BannerAdBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4b8c9xI6aFJHbBVF02N1Xrh", "BannerAdBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_LastShowTime = 0;
return t;
}
t.prototype.init = function() {};
t.prototype.showAd = function() {};
t.prototype.hideAd = function() {};
t.prototype.inCd = function(e, t) {
void 0 === t && (t = !0);
if (!t) return !1;
if ((this.totalTime - this.m_LastShowTime) / 1e3 < e) return !0;
this.m_LastShowTime = this.totalTime;
return !1;
};
return t;
}(e("./MiniGameAdBase").MiniGameAdBase);
o.default = i;
cc._RF.pop();
}, {
"./MiniGameAdBase": "MiniGameAdBase"
} ],
BaseComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "83d16I0qFpEO4Jsa1/LR4JG", "BaseComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("./GameFrameworkComponent"), s = e("../../base/base/log/GameFrameworkLog"), c = e("../../base/base/GameFrameworkEntry"), l = e("../../base/base/version/GameFrameworkVersion"), u = e("../../base/utils/JsonUtility"), p = cc._decorator.ccclass, d = cc._decorator.property, f = e("../log/DFLog"), h = e("../../base/utils/GFClassUtils"), y = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._buildInfoAsset = null;
t._gameSpeed = 1;
t._frameRate = 60;
t._showStatus = !1;
t._versionHelperTypeName = "DefaultVersionHelper";
t._logHelperTypeName = "DefaultLogHelper";
t._jsonHelperTypeName = "DefaultJsonHelper";
t._isGamePaused = !1;
t._isLogicPaused = !1;
t.lastFrameTime = Date.now();
t._isLandscape = !0;
return t;
}
Object.defineProperty(t.prototype, "buildInfo", {
get: function() {
if (!this._buildInfoAsset) throw new Error("构建信息配置不存在。");
return this._buildInfoAsset.json;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "isEditor", {
get: function() {
return cc.sys.platform == cc.sys.WIN32 || cc.sys.platform == cc.sys.DESKTOP_BROWSER || cc.sys.platform == cc.sys.MOBILE_BROWSER;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "showStatus", {
get: function() {
return this._showStatus;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "frameRate", {
get: function() {
return this._frameRate;
},
set: function(e) {
if (this._frameRate !== e) {
this._frameRate = e;
this.applyFrameRate();
f.default.debug("Frame rate set to " + e + ".");
this.notifyEvent("frameRateChanged", e);
} else f.default.debug("Frame rate unchanged: " + e);
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "isGamePaused", {
get: function() {
return this._isGamePaused;
},
set: function(e) {
if (this._isGamePaused !== e) {
this._isGamePaused = e;
if (e) {
cc.game.pause();
cc.director.pause();
cc.director.getScheduler().setTimeScale(0);
f.default.debug("Game fully paused.");
this.notifyEvent("gamePaused");
} else {
cc.game.resume();
this._isLogicPaused || cc.director.resume();
this.applyGameSpeed();
f.default.debug("Game fully resumed.");
this.notifyEvent("gameResumed");
}
} else f.default.debug("Game pause state unchanged: " + e);
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "isLogicPaused", {
get: function() {
return this._isLogicPaused;
},
set: function(e) {
if (this._isLogicPaused !== e) {
this._isLogicPaused = e;
if (e) {
cc.director.pause();
f.default.debug("Game logic paused.");
this.notifyEvent("logicPaused");
} else {
this._isGamePaused || cc.director.resume();
this.applyGameSpeed();
f.default.debug("Game logic resumed.");
this.notifyEvent("logicResumed");
}
} else f.default.debug("Game logic pause state unchanged: " + e);
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "gameSpeed", {
get: function() {
return this._gameSpeed;
},
set: function(e) {
f.default.debug("current: " + this._gameSpeed + ",valur:" + e + ",equal:" + (this._gameSpeed === e));
if (this._gameSpeed !== e) {
this._gameSpeed = e;
this.applyGameSpeed();
f.default.debug("Game speed set to " + e + ".");
this.notifyEvent("gameSpeedChanged", e);
} else f.default.debug("Game speed unchanged: " + e);
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "isLandscape", {
get: function() {
return this._isLandscape;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this.lastFrameTime = Date.now();
cc.debug.setDisplayStats(this._showStatus);
this.initScreenOrientation();
this.initLogHelper();
this.initJsonHelper();
this.initVersionHelper();
f.default.debug("Cocos Creator 引擎版本: " + cc.ENGINE_VERSION);
f.default.debug("框架版本: " + l.default.gameVersion);
f.default.debug("版本信息: " + l.default.gameVersion + " (" + l.default.internalGameVersion + ")");
f.default.debug("屏幕方向: " + (this.isLandscape ? "横屏" : "竖屏"));
f.default.debug("预设游戏帧率: " + this.frameRate);
f.default.debug("预设游戏速度: " + this.gameSpeed);
this.setShowStatus(this.showStatus);
this.applyFrameRate();
this.applyGameSpeed();
};
t.prototype.update = function(e) {
var t = Date.now(), o = (t - this.lastFrameTime) / 1e3;
this.lastFrameTime = t;
c.default.update(e, o);
};
t.prototype.onDestroy = function() {
c.default.shutdown();
this.unscheduleAllCallbacks();
this.node.stopAllActions();
};
t.prototype.shutdown = function() {
this.node.destroy();
};
t.prototype.resetGameSpeed = function() {
if (1 !== this._gameSpeed) {
this.gameSpeed = 1;
f.default.debug("Game speed reset to normal (1).");
} else f.default.debug("Game speed is already at normal (1). No change.");
};
t.prototype.setShowStatus = function(e) {
if (this.showStatus != e) {
f.default.debug("设置 显示Fps：", e);
this._showStatus = e;
cc.debug.setDisplayStats(e);
}
};
t.prototype.initVersionHelper = function() {
if (!this._versionHelperTypeName) throw new Error("请设置Version Helper名称后再试.");
if (!h.default.isClassRegistered(this._versionHelperTypeName)) throw new reportError(" '" + this._versionHelperTypeName + "为实现gfClass特性'.");
var e = h.default.createInstance(this._versionHelperTypeName);
if (!e) throw new reportError("创建 '" + this._versionHelperTypeName + "'的类的实例错误，请检查后再试。");
l.default.setVersionHelper(e);
f.default.debug("Version Helper initialized.");
};
t.prototype.initLogHelper = function() {
if (!this._logHelperTypeName) throw new Error("请设置Version Helper名称后再试.");
if (!h.default.isClassRegistered(this._logHelperTypeName)) throw new reportError("[" + this._logHelperTypeName + "] 未配置，请确保流程名称已在 ProcedureComponent 面板配置完成.");
var e = h.default.createInstance(this._logHelperTypeName);
if (!e) throw new reportError("创建 '" + this._versionHelperTypeName + "'的类的实例错误，请检查后再试。");
s.default.setLogHelper(e);
f.default.setLevel(this.buildInfo.logLevel);
f.default.debug("Log Helper initialized.");
};
t.prototype.initJsonHelper = function() {
if (!this._jsonHelperTypeName) throw new Error("请设置Version Helper名称后再试.");
if (!h.default.isClassRegistered(this._jsonHelperTypeName)) throw new reportError("[" + this._logHelperTypeName + "] 未配置，请确保流程名称已在 ProcedureComponent 面板配置完成.");
var e = h.default.createInstance(this._jsonHelperTypeName);
if (!e) throw new reportError("创建 '" + this._versionHelperTypeName + "'的类的实例错误，请检查后再试。");
u.default.setJsonHelper(e);
f.default.debug("Json Helper initialized.");
};
t.prototype.applyGameSpeed = function() {
if (!this._isGamePaused && !this._isLogicPaused) {
cc.director.getScheduler().setTimeScale(this._gameSpeed);
f.default.debug("Game speed applied: " + this._gameSpeed);
}
};
t.prototype.applyFrameRate = function() {
this._isGamePaused || f.default.debug("Frame rate applied: " + this._frameRate);
};
t.prototype.initScreenOrientation = function() {
this._isLandscape = cc.view.getFrameSize().width > cc.view.getFrameSize().height;
};
t.prototype.notifyEvent = function(e, t) {
f.default.debug("Event triggered: " + e, t);
};
i([ d({
type: cc.JsonAsset,
tooltip: "构建信息配置",
visible: !0
}) ], t.prototype, "_buildInfoAsset", void 0);
i([ d({
type: cc.Float,
min: .2,
max: 10,
step: .1,
tooltip: "游戏速度(正常为1，控制游戏速度(例如：用于游戏加减速-快慢镜头等))：可以调整区间 0.2 到 10,步进值为0.1",
visible: !0
}) ], t.prototype, "_gameSpeed", void 0);
i([ d({
type: cc.Integer,
min: 30,
max: 120,
step: 1,
tooltip: "游戏帧率： 30 到 120",
visible: !0
}) ], t.prototype, "_frameRate", void 0);
i([ d({
tooltip: "显示Fps等信息",
visible: !0
}) ], t.prototype, "_showStatus", void 0);
i([ d({
tooltip: "版本辅助器类名",
visible: !1
}) ], t.prototype, "_versionHelperTypeName", void 0);
i([ d({
tooltip: "日志辅助器类名",
visible: !1
}) ], t.prototype, "_logHelperTypeName", void 0);
i([ d({
tooltip: "Json辅助器类名",
visible: !1
}) ], t.prototype, "_jsonHelperTypeName", void 0);
return i([ p, h.gfClass("BaseComponent") ], t);
}(a.default);
o.default = y;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/base/log/GameFrameworkLog": "GameFrameworkLog",
"../../base/base/version/GameFrameworkVersion": "GameFrameworkVersion",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../../base/utils/JsonUtility": "JsonUtility",
"../log/DFLog": "DFLog",
"./GameFrameworkComponent": "GameFrameworkComponent"
} ],
BoxBannerAdBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f5c45BJXRtMkbdVw9FJtgjI", "BoxBannerAdBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_LastShowTime = 0;
return t;
}
t.prototype.onAdProcess = function() {};
t.prototype.init = function() {};
t.prototype.showAd = function() {};
t.prototype.hideAd = function() {};
t.prototype.inCd = function(e, t) {
void 0 === t && (t = !0);
if (!t) return !1;
if ((this.totalTime - this.m_LastShowTime) / 1e3 < e) return !0;
this.m_LastShowTime = this.totalTime;
return !1;
};
return t;
}(e("./MiniGameAdBase").MiniGameAdBase);
o.default = i;
cc._RF.pop();
}, {
"./MiniGameAdBase": "MiniGameAdBase"
} ],
BoxPortalAdBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7ed0ciKrp1GoZopkuEYtBEu", "BoxPortalAdBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_LastShowTime = 0;
return t;
}
t.prototype.onAdProcess = function() {};
t.prototype.init = function() {};
t.prototype.showAd = function() {};
t.prototype.hideAd = function() {};
t.prototype.inCd = function(e, t) {
void 0 === t && (t = !0);
if (!t) return !1;
if ((this.totalTime - this.m_LastShowTime) / 1e3 < e) return !0;
this.m_LastShowTime = this.totalTime;
return !1;
};
return t;
}(e("./MiniGameAdBase").MiniGameAdBase);
o.default = i;
cc._RF.pop();
}, {
"./MiniGameAdBase": "MiniGameAdBase"
} ],
BtnAndroidActive: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "69e7c42qx5NH7QW9Vrqw/M5", "BtnAndroidActive");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../base/GameEntry"), s = e("../../../../gf/scripts/ccEngine/ad/base/enum/GamePlatform"), c = cc._decorator, l = c.ccclass, u = (c.property, 
function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.start = function() {
this.node.active = a.default.ad.platform == s.GamePlatform.Android;
};
return i([ l ], t);
}(cc.Component));
o.default = u;
cc._RF.pop();
}, {
"../../../../gf/scripts/ccEngine/ad/base/enum/GamePlatform": "GamePlatform",
"../../base/GameEntry": "GameEntry"
} ],
BtnEditorInactive: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "86546O64llBiY6xXOSVsEl2", "BtnEditorInactive");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc.Component, s = cc._decorator.ccclass, c = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {};
return i([ s ], t);
}(a);
o.default = c;
cc._RF.pop();
}, {} ],
BtnHwMiniGameActive: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "61f99c/oSRCPJEEIqpbaKJZ", "BtnHwMiniGameActive");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc._decorator.ccclass, s = cc.Component, c = e("../../../../gf/scripts/ccEngine/ad/base/enum/GamePlatform"), l = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
this.node.active = window.GameEntryDF.ad.isPlatform(c.GamePlatform.HuaWeiMiniGame);
};
return i([ a ], t);
}(s);
o.default = l;
cc._RF.pop();
}, {
"../../../../gf/scripts/ccEngine/ad/base/enum/GamePlatform": "GamePlatform"
} ],
BtnMoreActive: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "da02cNLnsJIN4VK5uPumxMu", "BtnMoreActive");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc._decorator, s = a.ccclass, c = (a.property, function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.start = function() {
this.node.active = window.GameEntryDF.ad.moreWonderfulAllowed;
};
return i([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
BtnSpace: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "45040QVgYlMYI9ntSxlIGgy", "BtnSpace");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../../base/GameEntry"), l = e("../../definition/constant/ConstantPrivacy"), u = e("../../../../gf/scripts/base/base/referencePool/ReferencePool"), p = e("../param/DialogParams"), d = cc._decorator, f = d.ccclass, h = (d.property, 
function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.start = function() {};
t.prototype.onBtnPrivacyClick = function() {
window.open("https://space.bilibili.com/1644972548", "_blank");
};
t.prototype.onBtnCallClick = function() {
c.default.ad.callService();
};
t.prototype.onBtnMoreClick = function() {
c.default.ad.moreGame();
};
t.prototype.onBtnSdkClick = function() {
c.default.ad.showPrivacy(l.default.sdk);
};
t.prototype.onBtnPersonalClick = function() {
window.open("http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&k=7xtwUG7bbz4tFZyak18NuLutbb6tCCew&authKey=wmBIvaX5kxjEA4fck0JbGe22VMqOedgzMUmo2kV24t3DF3gm5wFI9YvAFMr3LSXc&noverify=0&group_code=526248386", "_blank");
};
t.prototype.onBtnLogoutClick = function() {
return a(this, void 0, void 0, function() {
var e;
return s(this, function(t) {
switch (t.label) {
case 0:
(e = u.default.acquire(p.default)).fill(2, "提示", "注销账号将退出游戏，清理游戏数据，确定继续？", "确定", this.onDialogQuitClick.bind(this));
return [ 4, c.default.ui.openDialog(e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.onDialogQuitClick = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
return [ 4, c.default.ad.logout() ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
return i([ f ], t);
}(cc.Component));
o.default = h;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/base/referencePool/ReferencePool": "ReferencePool",
"../../base/GameEntry": "GameEntry",
"../../definition/constant/ConstantPrivacy": "ConstantPrivacy",
"../param/DialogParams": "DialogParams"
} ],
BuildInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "87a32a+SKNP7bqcm2jQQ3QT", "BuildInfo");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.default = function() {};
cc._RF.pop();
}, {} ],
BuiltinDataComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "902cdBRLIpOgpo5SqAKfsqD", "BuiltinDataComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../../../gf/scripts/ccEngine/base/GameFrameworkComponent"), l = cc._decorator.ccclass, u = cc._decorator.property, p = e("../../../gf/scripts/base/utils/GFClassUtils"), d = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._buildInfoAsset = null;
t._miniGameInfo = null;
t._versionInfoAsset = null;
t._dfGfCcCfg = null;
return t;
}
Object.defineProperty(t.prototype, "buildInfo", {
get: function() {
if (!this._buildInfoAsset) throw new Error("构建信息配置不存在。");
return this._buildInfoAsset.json;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "miniGameInfo", {
get: function() {
if (!this._miniGameInfo) throw new Error("小游戏信息配置不存在。");
return this._miniGameInfo.json;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "versionInfo", {
get: function() {
if (!this._versionInfoAsset) throw new Error("版本信息配置不存在。");
return this._versionInfoAsset.json;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "dfGfCcCfg", {
get: function() {
if (!this._dfGfCcCfg) throw new Error("Cocos配置信息不存在。");
return this._dfGfCcCfg.json;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
};
t.prototype.initBuildInfo = function() {
return a(this, void 0, void 0, function() {
return s(this, function() {
return [ 2 ];
});
});
};
t.prototype.initDefaultDictionary = function() {
return a(this, void 0, void 0, function() {
return s(this, function() {
return [ 2 ];
});
});
};
i([ u({
type: cc.JsonAsset,
tooltip: "构建信息配置",
visible: !0
}) ], t.prototype, "_buildInfoAsset", void 0);
i([ u({
type: cc.JsonAsset,
tooltip: "广告信息配置",
visible: !0
}) ], t.prototype, "_miniGameInfo", void 0);
i([ u({
type: cc.JsonAsset,
tooltip: "版本信息配置",
visible: !0
}) ], t.prototype, "_versionInfoAsset", void 0);
i([ u({
type: cc.JsonAsset,
tooltip: "Cocos配置信息",
visible: !0
}) ], t.prototype, "_dfGfCcCfg", void 0);
return i([ l, p.gfClass("BuiltinDataComponent") ], t);
}(c.default);
o.default = d;
cc._RF.pop();
}, {
"../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../../gf/scripts/ccEngine/base/GameFrameworkComponent": "GameFrameworkComponent"
} ],
BulletPrefab: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "36bd1+aRohPD6vyVZmmE1za", "BulletPrefab");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("data-manager"), u = r("str-utils"), p = cc._decorator, d = p.ccclass, f = p.property, h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.speed = 0, t.contentLabel = null, t.header = null, t.border = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.setupData = function(e) {
var t, o;
e && (o = (o = e.content) || "雄起", e.region && 1 == e.type ? o = e.region + e.content : 2 == e.type && (o = (l.default.rankUserInfo ? (t = l.default.rankUserInfo.fail) && 0 != t || (t = 1) : t = c.default.randomNum(1, 50), 
u.default.formatStr(e.content, t))), this.contentLabel.string = o, 1 == e.state ? this.contentLabel.node.color = new cc.Color(255, 246, 0) : this.contentLabel.node.color = new cc.Color(255, 255, 255), 
c.default.setAvatar(this.header, e.avatar), e.isSelf ? this.border.active = !0 : this.border.active = !1);
}, s([ f({
type: cc.Label,
tooltip: "内容"
}) ], t.prototype, "contentLabel", void 0), s([ f({
type: cc.Node,
tooltip: "头像"
}) ], t.prototype, "header", void 0), s([ f({
type: cc.Node,
tooltip: "边框"
}) ], t.prototype, "border", void 0), s([ d ], t);
}(cc.Component);
i.default = h;
cc._RF.pop();
}, {} ],
CCNodeUtility: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f1cc4+wJslNm6QQI69Tqt3R", "CCNodeUtility");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.setNodeGroupRecursively = function(e, t) {
var o = this;
e.group = t;
e.children.forEach(function(e) {
o.setNodeGroupRecursively(e, t);
});
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
CcJsFunc: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3f1d9y5Ey5CfqFDLJVTW6yo", "CcJsFunc");
var n = e, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
});
var i = n("player-head-atlas"), a = n("audio"), s = n("sdk"), c = function() {
function e() {}
return e.shuffle = function(e) {
for (var t = e.length - 1; 0 <= t; t--) {
var o = Math.floor(Math.random() * (t + 1)), n = e[o];
e[o] = e[t], e[t] = n;
}
return e;
}, e.addClickAudio = function() {
a.default.playAudioMusic("audio/sound/clickBlock.mp3", !1), s.default.vibrateShort();
}, e.addbtnTouchStartScale = function(e, t) {
e.on("touchstart", function() {
this.addClickAudio(), cc.tween(e).to(.1, {
scale: .9
}).start(), t && t();
}, this);
}, e.addbtnTouchEndScale = function(e, t) {
e.on("touchend", function(o) {
cc.tween(e).to(.1, {
scale: 1
}).start(), t && (e.stopAllActions(), e.scale = 1, t(o));
}, this);
}, e.addbtnTouchCancelScale = function(e, t) {
e.on("touchcancel", function() {
cc.tween(e).to(.1, {
scale: 1
}).start(), t && t();
}, this);
}, e.addTargetTouchUpInside = function(e, t) {
e.on("touchstart", function() {
this.addClickAudio(), cc.tween(e).to(.1, {
scale: .9
}).start();
}, this), e.on("touchcancel", function() {
cc.tween(e).to(.1, {
scale: 1
}).start();
}, this), e.on("touchend", function(o) {
cc.tween(e).to(.1, {
scale: 1
}).start(), t && (e.stopAllActions(), e.scale = 1, t(o));
}, this);
}, e.addbtnTouchOriginStartScale = function(e, t) {
var o = .9, n = .9;
e.scaleX < 0 && (o = -o), e.scaleY < 0 && (n = -n), e.on("touchstart", function() {
this.addClickAudio(), cc.tween(e).to(.1, {
scaleX: o,
scaleY: n
}).start(), t && t();
}, this);
}, e.addbtnTouchOriginEndScale = function(e, t) {
var o = 1, n = 1;
e.scaleX < 0 && (o = -o), e.scaleY < 0 && (n = -n), e.on("touchend", function(r) {
cc.tween(e).to(.1, {
scaleX: o,
scaleY: n
}).start(), t && (e.stopAllActions(), e.scaleX = o, e.scaleY = n, t(r));
}, this);
}, e.addbtnTouchOriginCancelScale = function(e, t) {
var o = 1, n = 1;
e.scaleX < 0 && (o = -o), e.scaleY < 0 && (n = -n), e.on("touchcancel", function() {
cc.tween(e).to(.1, {
scaleX: o,
scaleY: n
}).start(), t && t();
}, this);
}, e.setAnimation = function(e, t, o, n, r) {
var i = new cc.Node(), a = (i.addComponent(cc.Sprite), i.addComponent(cc.Animation));
return cc.loader.loadRes(e, cc.SpriteAtlas, function(e, i) {
if (t) for (var s = [], c = 0; c < t.length; c++) s.push(i.getSpriteFrame(t[c])); else i.getSpriteFrames();
var l = cc.AnimationClip.createWithSpriteFrames(null, o);
l.name = n, 0 == r ? l.wrapMode = cc.WrapMode.Loop : 1 == r && (l.wrapMode = cc.WrapMode.Normal), 
a.addClip(l), a.play(n);
}), i;
}, e.changeSpriteFrame = function(e, t, o, n, r) {
var i = this;
o = o || function() {}, this._spriteFrameCache || (this._spriteFrameCache = {});
var a = e.getComponent(cc.Sprite);
a.pp_url = t;
if (e = this._spriteFrameCache[t]) return a.spriteFrame = e, void o();
n && (a.spriteFrame = null), cc.loader.loadRes(t, cc.SpriteFrame, function(e, n) {
e || (r && (i._spriteFrameCache[t] = n), a.pp_url === t && (a.spriteFrame = n, o()));
});
}, e.loadResSpriteFrame = function(e, t) {
var o = this;
t = t || function() {}, this._spriteFrameCache || (this._spriteFrameCache = {}), 
this._loadResIndex || (this._loadResIndex = 0);
var n = e[this._loadResIndex];
this._spriteFrameCache[n] ? (o._loadResIndex++, o._loadResIndex >= e.length ? (o._loadResIndex = 0, 
t()) : o.loadResSpriteFrame(e, t)) : cc.loader.loadRes(n, cc.SpriteFrame, function(r, i) {
r ? cc.error("SpriteFrame加载错误, 节点名: , url: " + n) : (o._spriteFrameCache[n] = i, 
o._loadResIndex++, o._loadResIndex >= e.length ? (o._loadResIndex = 0, t()) : o.loadResSpriteFrame(e, t));
});
}, e.getUrlSpriteFrame = function(e) {
return this._spriteFrameCache[e] || !1;
}, e.sliceURL = function(e) {
return /.+(?=\.png)/i.exec(e)[0].slice(10);
}, e.playFontAnimation = function(e, t, o, n) {
var r = {
num: t
}, i = e.getComponent(cc.Label);
cc.tween(e).to(.05, {
scale: 1.3
}).to(.05, {
scale: 1
}).to(.05, {
scale: 1.3
}).to(.05, {
scale: 1
}).repeat(10).start(), i.string = r.num + "";
1 < (t = o - t < 10 ? .3 : (o - t) / 10 * .3) && (t = 1), cc.tween(r).to(t, {
num: o
}, {
progress: function(e, t, o, r) {
return i.string = n ? n + Math.ceil(e + (t - e) * r) + "" : Math.ceil(e + (t - e) * r) + "", 
e + (t - e) * r;
}
}).call(function() {
e.stopAllActions(), e.scale = 1;
}).start();
}, e.loadWxHeadImgSpriteFrame = function(e, t, o, n, r, i) {
var a = this;
o = o || function() {}, this._spriteFrameCache || (this._spriteFrameCache = {});
var s = e.getComponent(cc.Sprite);
s.pp_url = t;
if (e = this._spriteFrameCache[t]) return s.spriteFrame = e, void o();
n && (s.spriteFrame = null), cc.loader.load({
url: t
}, function(e, n) {
e ? cc.error("SpriteFrame加载错误, 节点名: " + s.node.name + ", url: " + t) : (n = new cc.SpriteFrame(n), 
i instanceof Array && (n.insetTop = i[0] || 0, n.insetBottom = i[1] || 0, n.insetLeft = i[2] || 0, 
n.insetRight = i[3] || 0), a._spriteFrameCache[t] = n, s.pp_url === t && (s.spriteFrame = n, 
o()));
});
}, e.changeWXHeadImgSize = function(e, t) {
for (var o = e.split("/"), n = "", r = 0; r < o.length - 1; r++) n += o[r] + "/";
return n + t;
}, e.preLoader = function(e, t) {
for (var o = [], n = 0; n < e.length; n++) o.push(cc.url.raw("resources/" + e[n]));
cc.loader.load(o, function(e, o) {
if (e) for (var n = 0; n < e.length; n++) console.log("cc.js.preLoader Error: url [" + e[n] + "]: " + o.getError(e[n]));
t && t();
});
}, e.setProgressBar = function(e, t, o) {
e.getComponent("progressBar").setProgressVal(t, o);
}, e.randomNum = function(e, t) {
return Math.round(Math.random() * (t - e) + e);
}, e.randomCharNum = function(e) {
void 0 === e && (e = 16);
for (var t = [ [], [], [] ], o = 0; o < 10; o++) t[0].push(o);
for (o = 0; o < 26; o++) t[1].push(String.fromCharCode(97 + o));
for (o = 0; o < 26; o++) t[2].push(String.fromCharCode(65 + o));
var n = "";
for (o = 0; o < e; o++) {
var r = t[this.randomNum(0, 2)];
n += r[this.randomNum(0, r.length - 1)];
}
return n;
}, e.getWorldPosition = function(e) {
return e.convertToWorldSpaceAR(cc.v2(0, 0));
}, e.getNodePosition = function(e, t) {
return e.convertToNodeSpaceAR(t);
}, e.getMonthShorthand = function(e) {
var t = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ];
return t <= e || e < 0 ? "Jan" : t[e];
}, e.ifHaveNode = function(e, t, o) {
return e || (e = cc.instantiate(t), o.addChild(e)), e;
}, e.setAvatar = function(e, t, o) {
var n = this;
if (e) {
var r = e.getComponent(cc.Sprite);
if (!t || 0 == t.length) {
var a = "rank/rank_icon_default.png";
return s.default.isPlatform(s.Platform.wx) && (a = "rank/rank_icon_default_wx.png"), 
void cc.loader.loadRes(a, cc.SpriteFrame, function(e, t) {
e ? console.log("avatar err = " + e) : r.spriteFrame = t;
});
}
cc.assetManager.loadRemote(t, {
ext: ".head"
}, function(t, a) {
var s;
o ? (s = i.default.instance, cc.isValid(n) && cc.isValid(e) && cc.isValid(r) && (r.spriteFrame = new cc.SpriteFrame(a), 
o && !cc.sys.isNative && s.packToDynamicAtlas(o, r, r.spriteFrame))) : (a.packable = !1, 
r.spriteFrame = new cc.SpriteFrame(a));
});
} else console.log("setAvatar node 为空");
}, e.removeAvatar = function(e) {
e && e.length && i.default.instance.deleteInnerTextureByPath(e);
}, e.setAvatarHolder = function(e, t, o) {
var n;
e ? (n = e.getComponent(cc.Sprite), t && 0 != t.length || (t = "rank/rank_icon_default.png", 
s.default.isPlatform(s.Platform.wx) && (t = "rank/rank_icon_default_wx.png"), o && (t = o), 
cc.loader.loadRes(t, cc.SpriteFrame, function(e, t) {
e ? console.log("avatar err = " + e) : n.spriteFrame = t;
}))) : console.log("setAvatar node 为空");
}, e;
}();
r.default = c;
cc._RF.pop();
}, {} ],
CcUIForm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "82774NYKpxPA5SpZhtSbrMn", "CcUIForm");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("./UIFormLogic"), l = e("../../../../gameMain/scripts/base/GameEntry"), u = e("../log/DFLog"), p = cc.Label, d = cc._decorator.property, f = cc._decorator.ccclass, h = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._originalDepth = 0;
t._fadeTime = .3;
t._coroutines = [];
return t;
}
o = t;
Object.defineProperty(t.prototype, "originalDepth", {
get: function() {
return this._originalDepth;
},
set: function(e) {
if (this._originalDepth !== e) {
this.node.setSiblingIndex(e);
this._originalDepth = this.depth;
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "depth", {
get: function() {
return this.node.getSiblingIndex();
},
enumerable: !1,
configurable: !0
});
t.prototype.close = function(e) {
void 0 === e && (e = !1);
this.stopAllCoroutines();
e ? l.default.ui.closeUIForm(this) : this.closeCo(this._fadeTime);
};
t.prototype.playUISound = function(e) {
void 0 === e && (e = 10001);
return a(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, l.default.sound.playUiSound(e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.setMainFont = function(e) {
e ? this._mainFont = e : u.default.error("Main font is invalid.");
};
t.prototype.onInit = function(t) {
e.prototype.onInit.call(this, t);
this.originalDepth = this.depth;
for (var n = 0, r = this.node.getComponentsInChildren(p); n < r.length; n++) {
var i = r[n];
o._mainFont && (i.font = o._mainFont);
}
};
t.prototype.onRecycle = function() {
e.prototype.onRecycle.call(this);
};
t.prototype.onOpen = function(t) {
e.prototype.onOpen.call(this, t);
u.default.info(this.node.name + ":" + this.node.parent.name + "->" + this.node.parent.parent.name + "->" + this.node.parent.parent.parent.name);
this.openCo(this._fadeTime);
window.GameEntryDF.builtin.dfGfCcCfg.useCustomLayer && (this.node.group = window.GameEntryDF.builtin.dfGfCcCfg.customLayer);
};
t.prototype.onClose = function(t, o) {
e.prototype.onClose.call(this, t, o);
};
t.prototype.onPause = function() {
e.prototype.onPause.call(this);
};
t.prototype.onResume = function() {
e.prototype.onResume.call(this);
this.openCo(this._fadeTime);
};
t.prototype.onCover = function() {
e.prototype.onCover.call(this);
};
t.prototype.onReveal = function() {
e.prototype.onReveal.call(this);
};
t.prototype.onRefocus = function(t) {
e.prototype.onRefocus.call(this, t);
};
t.prototype.onUpdate = function(t, o) {
e.prototype.onUpdate.call(this, t, o);
};
t.prototype.onDepthChanged = function(t, o) {
e.prototype.onDepthChanged.call(this, t, o);
};
t.prototype.fadeToAlpha = function(e, t, o) {
var n = cc.tween(this.node).to(t, {
opacity: 255 * e
}).call(o).start();
this._coroutines.push(n);
};
t.prototype.stopAllCoroutines = function() {
this._coroutines.forEach(function(e) {
e.stop();
});
this._coroutines = [];
};
t.prototype.openCo = function(e) {
this.node.opacity = 0;
this.stopAllCoroutines();
this.fadeToAlpha(1, e);
};
t.prototype.closeCo = function(e) {
var t = this;
this.fadeToAlpha(0, e, function() {
l.default.ui.closeUIForm(t);
});
};
var o;
t._mainFont = null;
i([ d({
visible: !0,
tooltip: "界面淡入淡出时间"
}) ], t.prototype, "_fadeTime", void 0);
return o = i([ f ], t);
}(c.default);
o.default = h;
cc._RF.pop();
}, {
"../../../../gameMain/scripts/base/GameEntry": "GameEntry",
"../log/DFLog": "DFLog",
"./UIFormLogic": "UIFormLogic"
} ],
CcUIGroupHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "96531SmohhAxZbKVabz1PmV", "CcUIGroupHelper");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("./UIGroupHelperBase"), s = cc._decorator.ccclass, c = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._depth = 0;
return t;
}
t.prototype.setDepth = function(e) {
this.node.setSiblingIndex(e);
};
return i([ s ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"./UIGroupHelperBase": "UIGroupHelperBase"
} ],
CoinEmitterByTime: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d2234O7oOZOV7MTLWcEx96i", "CoinEmitterByTime");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CoinEmitter"), l = cc._decorator, u = l.ccclass, p = l.property, d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.tickTime = 0, t.countMinPerTick = 0, t.countMaxPerTick = 0, t._timePassed = 0, 
t._timeTick = 0, t._timeEnd = 0, t;
}
return a(t, e), t.prototype.fire = function(e, t, o) {
void 0 === t && (t = !1), this._timePassed = 0, this._timeEnd = e, this._rndCur = 0, 
this.newNode(t), this._cb = o;
}, t.prototype.update = function(e) {
if (this._rndCur < this._rndPathCount) {
for (var t = .017453293 * this.randomInRange(this.angleMin, this.angleMax), o = this.randomInRange(this.v0Min, this.v0Max), n = 0, r = 2 * cc.visibleRect.height, i = 0, a = []; -r < i; ) {
var s = o * (n += .016666666666666666) * Math.sin(t) - this.G * n * n / 2;
i = s;
a.push(s);
}
var l = new c.YPathCacheData(o, t, a);
this._cachePaths.push(l), this._rndCur++;
}
if (this._timePassed += e, !(this._timePassed >= this._timeEnd) && (this._timeTick += e, 
this._timeTick >= this.tickTime)) {
this._timeTick = 0;
for (var u = this.randomInt(this.countMinPerTick, this.countMaxPerTick), p = 0; p < u; p++) this.fireOne();
}
}, t.prototype.fireOne = function() {
var e = this._coinPool.get();
(e = e || cc.instantiate(this.prefab)) && (e.parent = this.node, this._runCoin(e));
}, t.prototype._resetNode = function(e) {
e.scale = 0, e.angle = 0, e.setPosition(0, 0), e.stopAllActions(), this._coinPool.put(e), 
this._numFlying--, this._numFlying <= 0 && (this._cb && this._cb(), this._coinPool.clear());
}, s([ p({
type: cc.Float,
tooltip: "发射间隔"
}) ], t.prototype, "tickTime", void 0), s([ p({
type: cc.Integer,
tooltip: "每次最少数量"
}) ], t.prototype, "countMinPerTick", void 0), s([ p({
type: cc.Integer,
tooltip: "每次最多数量"
}) ], t.prototype, "countMaxPerTick", void 0), s([ u ], t);
}(c.CoinEmitter);
i.default = d;
cc._RF.pop();
}, {} ],
CoinEmitter: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "41348Csc6hCtbd7Gx/Kabw/", "CoinEmitter");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
}), r.CoinEmitter = r.YPathCacheData = void 0;
var s = cc._decorator.ccclass, c = cc._decorator.property, l = cc._decorator.menu, u = function(e, t, o) {
this.v0 = e, this.angle = t, this.path = o;
};
r.YPathCacheData = u;
var p = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.G = 18e3, t.v0Min = 11e3, t.v0Max = 21e3, t.angleMin = 20, t.angleMax = 28, 
t.scaleStepMin = .065, t.scaleStepMax = .085, t.coinCount = 50, t.xMoveStepMin = -18, 
t.xMoveStepMax = 18, t.rotationStepMin = -1.3, t.rotationStepMax = 1.3, t.bornOffsetXMin = 1, 
t.bornOffsetXMax = -1, t.bornOffsetYMin = -10, t.bornOffsetYMax = 0, t.bornScacle = .5, 
t.prefab = null, t._coinPool = new cc.NodePool(), t._cachePaths = [], t._rndPathCount = 100, 
t._rndCur = 0, t._numFlying = 0, t;
}
return i(t, e), t.prototype.onLoad = function() {
if (!(70 <= this._coinPool.size())) for (var e = 0; e < 70; e++) {
var t = cc.instantiate(this.prefab);
t && this._coinPool.put(t);
}
}, t.prototype.newNode = function(e) {
if ((e = void 0 !== e && e) && (this._coinPool.clear(), !(70 <= this._coinPool.size()))) for (var t = 0; t < 70; t++) {
var o = cc.instantiate(this.prefab);
o && this._coinPool.put(o);
}
}, t.prototype.fire = function(e, t, o) {
void 0 === t && (t = !1), console.log("push=>4"), this.newNode(t), e = e || this.coinCount, 
this._numFlying = e, this._cb = o;
for (var n = 0; n < e; n++) {
var r = this._coinPool.get();
(r = r || cc.instantiate(this.prefab)) && (r.parent = this.node, this._runCoin(r));
}
}, t.prototype.update = function() {
if (!(this._rndCur >= this._rndPathCount)) {
for (var e = .017453293 * this.randomInRange(this.angleMin, this.angleMax), t = this.randomInRange(this.v0Min, this.v0Max), o = 0, n = 2 * cc.visibleRect.height, r = 0, i = []; -n < r; ) {
var a = t * (o += .016666666666666666) * Math.sin(e) - this.G * o * o / 2;
r = a;
i.push(a);
}
var s = new u(t, e, i);
this._cachePaths.push(s), this._rndCur++;
}
}, t.prototype._resetNode = function(e) {
e.scale = 0, e.angle = 0, e.setPosition(0, 0), e.stopAllActions(), this._coinPool.put(e), 
this._numFlying--, this._numFlying <= 0 && this._cb && this._cb();
}, t.prototype._runCoin = function(e) {
var t = this;
e.getComponent(cc.Animation).play("", this.randomInRange(0, .7));
var o = this.randomInArray(this._cachePaths).path;
e.x = this.randomInRange(this.bornOffsetXMin, this.bornOffsetXMax), e.y = this.randomInRange(this.bornOffsetYMin, this.bornOffsetYMax);
var n = e.x <= 0 ? this.randomInRange(this.xMoveStepMin, 0) : this.randomInRange(0, this.xMoveStepMax), r = this.randomInRange(this.rotationStepMin, this.rotationStepMax), i = this.randomInRange(this.scaleStepMin, this.scaleStepMax);
e.scale = this.bornScacle;
var a = 0;
this.schedule(function s() {
var c = o[a];
a++, e.y = c, e.x += n, e.scale += i, e.angle += r, a >= o.length && (t._resetNode(e), 
t.unschedule(s));
}, 1 / 60);
}, t.prototype.randomInRange = function(e, t) {
return e + (t - e) * Math.random();
}, t.prototype.randomInArray = function(e) {
return e[this.randomInt(0, e.length)];
}, t.prototype.randomInt = function(e, t) {
return e = Math.ceil(e), t = Math.floor(t), Math.floor(Math.random() * (t - e)) + e;
}, a([ c({
type: cc.Integer,
tooltip: "重力加速度"
}) ], t.prototype, "G", void 0), a([ c({
type: cc.Integer,
tooltip: "最小初速度"
}) ], t.prototype, "v0Min", void 0), a([ c({
type: cc.Integer,
tooltip: "最大初速度"
}) ], t.prototype, "v0Max", void 0), a([ c({
type: cc.Integer,
tooltip: "最小角度"
}) ], t.prototype, "angleMin", void 0), a([ c({
type: cc.Integer,
tooltip: "最大角度"
}) ], t.prototype, "angleMax", void 0), a([ c({
type: cc.Float,
tooltip: "最小每帧缩放增加"
}) ], t.prototype, "scaleStepMin", void 0), a([ c({
type: cc.Float,
tooltip: "最大每帧缩放增加"
}) ], t.prototype, "scaleStepMax", void 0), a([ c({
type: cc.Integer,
tooltip: "金币数量"
}) ], t.prototype, "coinCount", void 0), a([ c({
type: cc.Integer,
tooltip: "x轴每帧最小偏移"
}) ], t.prototype, "xMoveStepMin", void 0), a([ c({
type: cc.Integer,
tooltip: "x轴每帧最大偏移"
}) ], t.prototype, "xMoveStepMax", void 0), a([ c(cc.Integer) ], t.prototype, "rotationStepMin", void 0), 
a([ c(cc.Integer) ], t.prototype, "rotationStepMax", void 0), a([ c({
type: cc.Integer,
tooltip: "最小初始x偏移"
}) ], t.prototype, "bornOffsetXMin", void 0), a([ c({
type: cc.Integer,
tooltip: "最大初始x偏移"
}) ], t.prototype, "bornOffsetXMax", void 0), a([ c({
type: cc.Integer,
tooltip: "最小初始y偏移"
}) ], t.prototype, "bornOffsetYMin", void 0), a([ c({
type: cc.Integer,
tooltip: "最大初始y偏移"
}) ], t.prototype, "bornOffsetYMax", void 0), a([ c({
type: cc.Float,
tooltip: "初始缩放"
}) ], t.prototype, "bornScacle", void 0), a([ c(cc.Prefab) ], t.prototype, "prefab", void 0), 
a([ s, l("gameModules/common/CoinEmitter") ], t);
}(cc.Component);
r.CoinEmitter = p;
cc._RF.pop();
}, {} ],
ComponentHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b5055vtsxpB3Iim79vU/7D8", "ComponentHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = cc.Node, r = cc.Vec3, i = e("../log/DFLog"), a = e("../../base/utils/StringUtility"), s = function() {
function e() {}
e.createHelper = function(e, t, o, n, r, i) {
void 0 === n && (n = "");
return o ? this.createHelperInternal(e, t, o, n, r, i) : t ? this.createHelperInternal(e, t) : this.createHelperInternal(e, 0);
};
e.createHelperInternal = function(e, t, o, s, c, l) {
void 0 === s && (s = "");
void 0 === c && (c = null);
void 0 === l && (l = r.ONE.clone());
var u = null;
u = (c ? cc.instantiate(c) : new n()).addComponent(e);
if (o) {
u.node.setParent(o);
a.default.isNullOrEmpty(s) ? u.node.name = e.constructor.name : u.node.name = s;
u.node.setScale(l);
u.node.setSiblingIndex(t);
i.default.info("[" + u.node.name + "] setParent [" + o.name + "]");
}
return u;
};
return e;
}();
o.default = s;
cc._RF.pop();
}, {
"../../base/utils/StringUtility": "StringUtility",
"../log/DFLog": "DFLog"
} ],
ConfigComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "77db02YX+BMdIoy8+X2eUuM", "ConfigComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../base/GameFrameworkComponent"), l = cc._decorator.ccclass, u = e("../../base/utils/GFClassUtils"), p = e("../../base/base/GameFrameworkEntry"), d = e("../../base/config/ConfigManager"), f = e("../log/DFLog"), h = e("../res/ResourceManager"), y = e("./DefaultConfigHelper"), m = e("../../../../gameMain/scripts/utils/AssetUtility"), g = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._manager = null;
return t;
}
Object.defineProperty(t.prototype, "count", {
get: function() {
return this._manager.count;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._manager = p.default.getModule(d.default);
this._manager || f.default.error("Config manager is invalid.");
};
t.prototype.start = function() {
this._manager.setResourceManager(p.default.getModule(h.default));
var e = new y.DefaultConfigHelper();
this._manager.setDataProviderHelper(e);
this._manager.setConfigHelper(e);
};
t.prototype.readData = function(e, t, o) {
return a(this, void 0, Promise, function() {
return s(this, function(n) {
switch (n.label) {
case 0:
e = m.default.getConfigAsset(e);
return o ? [ 4, this._manager.readData(e, t, o) ] : [ 3, 2 ];

case 1:
n.sent();
return [ 3, 9 ];

case 2:
return t ? "number" != typeof t ? [ 3, 4 ] : [ 4, this._manager.readData(e, t) ] : [ 3, 7 ];

case 3:
n.sent();
return [ 3, 6 ];

case 4:
return [ 4, this._manager.readData(e, t) ];

case 5:
n.sent();
n.label = 6;

case 6:
return [ 3, 9 ];

case 7:
return [ 4, this._manager.readData(e) ];

case 8:
n.sent();
n.label = 9;

case 9:
return [ 2 ];
}
});
});
};
t.prototype.parseData = function(e, t) {
return t ? this._manager.parseData(e, t) : this._manager.parseData(e);
};
t.prototype.hasConfig = function(e) {
return this._manager.hasConfig(e);
};
t.prototype.getBool = function(e, t) {
return t ? this._manager.getBool(e, t) : this._manager.getBool(e);
};
t.prototype.getInt = function(e, t) {
return t ? this._manager.getInt(e, t) : this._manager.getInt(e);
};
t.prototype.getFloat = function(e, t) {
return t ? this._manager.getFloat(e, t) : this._manager.getFloat(e);
};
t.prototype.getString = function(e, t) {
return t ? this._manager.getString(e, t) : this._manager.getString(e);
};
t.prototype.addConfig = function(e, t, o, n, r) {
return "string" == typeof t ? this._manager.addConfig(e, t) : this._manager.addConfig(e, t, o, n, r);
};
t.prototype.removeConfig = function(e) {
return this._manager.removeConfig(e);
};
t.prototype.removeAllConfigs = function() {
this._manager.removeAllConfigs();
};
return i([ l, u.gfClass("ConfigComponent") ], t);
}(c.default);
o.default = g;
cc._RF.pop();
}, {
"../../../../gameMain/scripts/utils/AssetUtility": "AssetUtility",
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/config/ConfigManager": "ConfigManager",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../log/DFLog": "DFLog",
"../res/ResourceManager": "ResourceManager",
"./DefaultConfigHelper": "DefaultConfigHelper"
} ],
ConfigDataDf: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "17904toOHJOlqpp03VKVLEw", "ConfigDataDf");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e(e, t, o, n) {
this._boolValue = e;
this._intValue = t;
this._floatValue = o;
this._stringValue = n;
}
Object.defineProperty(e.prototype, "boolValue", {
get: function() {
return this._boolValue;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "intValue", {
get: function() {
return this._intValue;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "floatValue", {
get: function() {
return this._floatValue;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "stringValue", {
get: function() {
return this._stringValue;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConfigHelperBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "86da6KygqJF/am8B4hvGyGD", "ConfigHelperBase");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ConfigHelperBase = void 0;
o.ConfigHelperBase = function() {};
cc._RF.pop();
}, {} ],
ConfigManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "92799hZxmhB7p2g0gXjeGf+", "ConfigManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("./ConfigDataDf"), c = e("../base/dataProvider/DataProvider"), l = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._configDatas = new Map();
t._dataProvider = new c.default(t);
t._configHelper = null;
return t;
}
Object.defineProperty(t.prototype, "count", {
get: function() {
return this._configDatas.size;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "priority", {
get: function() {
return 0;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "Config";
},
enumerable: !1,
configurable: !0
});
t.prototype.update = function() {};
t.prototype.shutdown = function() {
this.removeAllConfigs();
e.prototype.shutdown.call(this);
};
t.prototype.setResourceManager = function(e) {
this._dataProvider.setResourcesManager(e);
};
t.prototype.setDataProviderHelper = function(e) {
this._dataProvider.setDataProviderHelper(e);
};
t.prototype.setConfigHelper = function(e) {
if (!e) throw new Error("Config helper is invalid.");
this._configHelper = e;
};
t.prototype.readData = function(e, t, o) {
return i(this, void 0, Promise, function() {
return a(this, function(n) {
switch (n.label) {
case 0:
return o ? [ 4, this._dataProvider.readData(e, t, o) ] : [ 3, 2 ];

case 1:
n.sent();
return [ 3, 9 ];

case 2:
return t ? "number" != typeof t ? [ 3, 4 ] : [ 4, this._dataProvider.readData(e, t) ] : [ 3, 7 ];

case 3:
n.sent();
return [ 3, 6 ];

case 4:
return [ 4, this._dataProvider.readData(e, t) ];

case 5:
n.sent();
n.label = 6;

case 6:
return [ 3, 9 ];

case 7:
return [ 4, this._dataProvider.readData(e) ];

case 8:
n.sent();
n.label = 9;

case 9:
return [ 2 ];
}
});
});
};
t.prototype.parseData = function(e, t) {
return t ? this._dataProvider.parseData(e, t) : this._dataProvider.parseData(e);
};
t.prototype.hasConfig = function(e) {
return null !== this.getConfigData(e);
};
t.prototype.getBool = function(e, t) {
var o = this.getConfigData(e);
if (o) return o.boolValue;
if (void 0 !== t) return t;
throw new Error("Config name '" + e + "' does not exist.");
};
t.prototype.getInt = function(e, t) {
var o = this.getConfigData(e);
if (o) return o.intValue;
if (void 0 !== t) return t;
throw new Error("Config name '" + e + "' does not exist.");
};
t.prototype.getFloat = function(e, t) {
var o = this.getConfigData(e);
if (o) return o.floatValue;
if (void 0 !== t) return t;
throw new Error("Config name '" + e + "' does not exist.");
};
t.prototype.getString = function(e, t) {
var o = this.getConfigData(e);
if (o) return o.stringValue;
if (void 0 !== t) return t;
throw new Error("Config name '" + e + "' does not exist.");
};
t.prototype.addConfig = function(e, t, o, n, r) {
if (this.hasConfig(e)) return !1;
var i, a, c, l;
if ("string" == typeof t) {
i = "true" === (l = t);
a = parseInt(l, 10) || 0;
c = parseFloat(l);
} else {
i = t;
a = o;
c = n;
l = r;
}
this._configDatas.set(e, new s.default(i, a, c, l));
return !0;
};
t.prototype.removeConfig = function(e) {
return !!this.hasConfig(e) && this._configDatas.delete(e);
};
t.prototype.removeAllConfigs = function() {
this._configDatas.clear();
};
t.prototype.getConfigData = function(e) {
if (!e) throw new Error("Config name is invalid.");
return this._configDatas.get(e) || null;
};
return t;
}(e("../base/GameFrameworkModule").default);
o.default = l;
cc._RF.pop();
}, {
"../base/GameFrameworkModule": "GameFrameworkModule",
"../base/dataProvider/DataProvider": "DataProvider",
"./ConfigDataDf": "ConfigDataDf"
} ],
ConstantBundleEngine: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7842e/RbxVLnb519JukCYJz", "ConstantBundleEngine");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.MAIN = "main";
e.RESOURCES = "resources";
e.START_SCENE = "start-scene";
e.INTERNAL = "internal";
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantBundle: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "838f64wYV1HQLhBM0Kh3wji", "ConstantBundle");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.configs = "configs";
e.dataTables = "dataTables";
e.music = "music";
e.sounds = "sounds";
e.uiForms = "uiForms";
e.uiItems = "uiItems";
e.uiSounds = "uiSounds";
e.uiSprites = "uiSprites";
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantData: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a2b7dnvTQNDPZLE99Xm56dg", "ConstantData");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.nextSceneId = "nextSceneId";
e.nextSceneName = "nextSceneName";
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantEngineAssetPriority: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "36c1bgnSjZNiLbTL7r1t4EG", "ConstantEngineAssetPriority");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.ConfigAsset = 100;
e.DataTableAsset = 100;
e.DictionaryAsset = 100;
e.FontAsset = 50;
e.MusicAsset = 20;
e.SceneAsset = 0;
e.SoundAsset = 30;
e.UIFormAsset = 50;
e.UISoundAsset = 30;
e.MyAircraftAsset = 90;
e.AircraftAsset = 80;
e.ThrusterAsset = 30;
e.WeaponAsset = 30;
e.ArmorAsset = 30;
e.BulletAsset = 80;
e.AsteroiAsset = 80;
e.EffectAsset = 80;
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantEventEngine: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e3d73xjDBlG/piO3Erou3WZ", "ConstantEventEngine");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.click = "click";
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantEvent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5d6aaJfxTdK95CbsMfZoagS", "ConstantEvent");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.showPrivacy = "ShowPrivacy";
e.agreePrivacy = "agreePrivacy";
e.loginCompleted = "loginCompleted";
e.splashDelayToLaunchScene = "splashDelayToLaunchScene";
e.Ad_Builtin_OnShareFail = "Ad_Builtin_OnShareFail";
e.Ad_Builtin_OnShareSuccess = "Ad_Builtin_OnShareSuccess";
e.Ad_Builtin_OnShareRecordedVideoSuccess = "Ad_Builtin_OnShareRecordedVideoSuccess";
e.Ad_Builtin_OnShareRecordedVideoFail = "Ad_Builtin_OnShareRecordedVideoFail";
e.Ad_Builtin_OnShowNativeAd = "Ad_Builtin_OnShowNativeAd";
e.Ad_Builtin_OnHideNativeAd = "Ad_Builtin_OnHideNativeAd";
e.Ad_Builtin_OnShowHuaweiLoginPanel = "Ad_Builtin_OnShowHuaweiLoginPanel";
e.Ad_Builtin_OnShowHuaweiLogoutPanel = "Ad_Builtin_OnShowHuaweiLogoutPanel";
e.ShowSplashAdFinished = "ShowSplashAdFinished";
e.showMenuTips = "showMenuTips";
e.onPlayerLogin = "onPlayerLogin";
e.showRewardedAdOnShow = "showRewardedAdOnShow";
e.onSceneLoaded = "onSceneLoaded";
e.showNetworkTips = "showNetworkTips";
e.networkTipsShowing = "networkTipsShowing";
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantGF: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "95bcePULohIj5DFbiwap0O1", "ConstantGF");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.DATA_SPLIT_SEPARATORS = [ "\t" ];
e.DATA_TRIM_SEPARATORS = [ '"' ];
e.PATH_SPLIT_SEPARATOR = [ ".", "/", "\\" ];
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantNativeAdInterface: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f7ffcCXA8RA1rdqqmwZs63t", "ConstantNativeAdInterface");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.switchEnable = "sEnable";
e.showSplashAd = "showSplashAd";
e.showRewardedVideoAd = "showRewardedVideoAd";
e.login = "login";
e.showBannerAd = "showBannerAd";
e.hideBannerAd = "hideBannerAd";
e.showNativeAd = "showNativeAd";
e.hideNativeAd = "hideNativeAd";
e.showInterstitialAd = "showInterstitialAd";
e.callService = "callService";
e.moreGame = "moreGame";
e.showPrivacy = "showPrivacy";
e.moreWonderfulAllowed = "moreWonderfulAllowed";
e.initAdSdkAtFirst = "initAdSdkAtFirst";
e.showToast = "showToast";
e.copyDeviceId = "copyDeviceId";
e.setLoopAdState = "setLoopAdState";
e.isNetworkAvailable = "isNetworkAvailable";
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantNativeMsg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5be21TBIlVOPYr0IQl/0dy9", "ConstantNativeMsg");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.default = function() {};
cc._RF.pop();
}, {} ],
ConstantNativeProtocol: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d407dnPm0hH1qiI3CSsokyQ", "ConstantNativeProtocol");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.REWARD_AD_RESP = "showRewardVideoAdRst";
e.PRIVACY_RESP = "privacyResp";
e.SPLASH_AD_RESP = "onSplashAdFinish";
e.LOGIN_RESP = "onLogin";
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantPrivacy: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1d2d5HXm+1H1bEbgy93eL0d", "ConstantPrivacy");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.privacy = "privacy";
e.personal = "personal";
e.sdk = "sdk";
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantResourceCGF: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b5fdbPF0L5MeZkpFktlJA5i", "ConstantResourceCGF");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.DEFAULT_PRIORITY = 0;
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantSceneName: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "99728ZQtohDkJ/Z/4svecow", "ConstantSceneName");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.pccPrivacy = "pccPrivacy";
e.pccHealth = "pccHealth";
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantSetting: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bdff1KbrV1Eb4d2AqpOumXA", "ConstantSetting");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.isAgreePrivacy = "IsAgreePrivacy";
e.soundGroupMuted = "Setting.Muted.";
e.soundGroupVolume = "Setting.Volume.";
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantSoundGF: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3d9239b82dM4LzG3lb64gVB", "ConstantSoundGF");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.defaultTime = 0;
e.defaultMute = !1;
e.defaultLoop = !1;
e.defaultPriority = 0;
e.defaultVolume = 1;
e.defaultFadeInSeconds = 0;
e.defaultFadeOutSeconds = 0;
e.defaultPitch = 1;
e.defaultPanStereo = 0;
e.defaultSpatialBlend = 0;
e.defaultMaxDistance = 100;
e.defaultDopplerLevel = 1;
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantSound: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bca45mBPBNJf5OGTge/8NiJ", "ConstantSound");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.SOUND_GROUP_MUSIC = "Music";
e.SOUND_GROUP_SOUND = "Sound";
e.SOUND_GROUP_UI_SOUND = "UISound";
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ConstantVersion: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "239e8U/d5ZGH7+lTdmhu7Qi", "ConstantVersion");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.version = "V20250124";
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
DFClassFactory: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9fab5dZeiNDhKrl8+0+BxiG", "DFClassFactory");
var n = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var n = Array(e), r = 0;
for (t = 0; t < o; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, 
r++) n[r] = i[a];
return n;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = function() {
function e() {}
e.registerClass = function(e, t) {
if (this.registry[e]) throw new Error("Class " + e + " is already registered.");
this.registry[e] = t;
};
e.unregisterClassByName = function(e) {
if (!this.registry[e]) {
console.warn("Class " + e + " is not registered.");
return !1;
}
delete this.registry[e];
return !0;
};
e.unregisterClassByClass = function(e) {
var t = this, o = Object.keys(this.registry).find(function(o) {
return t.registry[o] === e;
});
if (!o) {
console.warn("Class " + e.name + " is not registered.");
return !1;
}
delete this.registry[o];
return !0;
};
e.createInstance = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
var r = this.registry[e];
if (!r) throw new Error("Class " + e + " is not registered.");
return new (r.bind.apply(r, n([ void 0 ], t)))();
};
e.isRegistered = function(e) {
return !!this.registry[e];
};
e.getClassByName = function(e) {
return this.registry[e];
};
e.registry = {};
return e;
}();
o.default = r;
cc._RF.pop();
}, {} ],
DFClassUtils: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5f6d11yn1tOSYxcUNsGVRXc", "DFClassUtils");
var n = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var n = Array(e), r = 0;
for (t = 0; t < o; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, 
r++) n[r] = i[a];
return n;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = function() {
function e() {}
e.createInstance = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
return new (e.bind.apply(e, n([ void 0 ], t)))();
};
e.isClass = function(e) {
return "function" == typeof e && void 0 !== e.prototype;
};
return e;
}();
o.default = r;
cc._RF.pop();
}, {} ],
DFLog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cc32d8ftB5JQ433fLW7QxUU", "DFLog");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../../base/base/log/GameFrameworkLog"), r = function() {
function e() {}
e.setLevel = function(e) {
n.default.setLevel(e);
};
e.setEnabled = function(e) {
n.default.setEnabled(e);
};
e.debug = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
n.default.debug.apply(n.default, e);
};
e.info = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
n.default.info.apply(n.default, e);
};
e.warn = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
n.default.warn.apply(n.default, e);
};
e.error = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
n.default.error.apply(n.default, e);
};
return e;
}();
o.default = r;
cc._RF.pop();
}, {
"../../base/base/log/GameFrameworkLog": "GameFrameworkLog"
} ],
DRMusic: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4b432gFOfxGR6RPbJE1ev/e", "DRMusic");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../../gf/scripts/ccEngine/dataTable/DataRowBase"), s = e("../../../gf/scripts/base/utils/GFClassUtils"), c = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._id = 0;
t._assetName = "";
return t;
}
Object.defineProperty(t.prototype, "id", {
get: function() {
return this._id;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "assetName", {
get: function() {
return this._assetName;
},
enumerable: !1,
configurable: !0
});
t.prototype.parseDataRow = function(e) {
var t = this.getColumnStrings(e), o = 0;
o++;
this._id = parseInt(t[o++], 10);
o++;
this._assetName = t[o++];
this.generatePropertyArray();
return !0;
};
t.prototype.generatePropertyArray = function() {};
return i([ s.gfClass("DRMusic") ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../../gf/scripts/ccEngine/dataTable/DataRowBase": "DataRowBase"
} ],
DRScene: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bd928v1lr9I07O0zejkUpCJ", "DRScene");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../../gf/scripts/ccEngine/dataTable/DataRowBase"), s = e("../../../gf/scripts/base/utils/GFClassUtils"), c = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._id = 0;
t._assetName = "";
t._backgroundMusicId = 0;
return t;
}
Object.defineProperty(t.prototype, "id", {
get: function() {
return this._id;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "assetName", {
get: function() {
return this._assetName;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "backgroundMusicId", {
get: function() {
return this._backgroundMusicId;
},
enumerable: !1,
configurable: !0
});
t.prototype.parseDataRow = function(e) {
var t = this.getColumnStrings(e), o = 0;
o++;
this._id = parseInt(t[o++], 10);
o++;
this._assetName = t[o++];
this._backgroundMusicId = parseInt(t[o++], 10);
this.generatePropertyArray();
return !0;
};
t.prototype.generatePropertyArray = function() {};
return i([ s.gfClass("DRScene") ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../../gf/scripts/ccEngine/dataTable/DataRowBase": "DataRowBase"
} ],
DRSound: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9d31clmtDlM2YA0h3sH4+4O", "DRSound");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../../gf/scripts/ccEngine/dataTable/DataRowBase"), s = e("../../../gf/scripts/base/utils/GFClassUtils"), c = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._id = 0;
t._assetName = "";
t._priority = 0;
t._loop = !1;
t._volume = 0;
return t;
}
Object.defineProperty(t.prototype, "id", {
get: function() {
return this._id;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "assetName", {
get: function() {
return this._assetName;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "priority", {
get: function() {
return this._priority;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "loop", {
get: function() {
return this._loop;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "volume", {
get: function() {
return this._volume;
},
enumerable: !1,
configurable: !0
});
t.prototype.parseDataRow = function(e) {
var t = this.getColumnStrings(e), o = 0;
o++;
this._id = parseInt(t[o++], 10);
o++;
this._assetName = t[o++];
this._priority = parseInt(t[o++], 10);
this._loop = "true" === t[o++].toLowerCase();
this._volume = parseFloat(t[o++]);
this.generatePropertyArray();
return !0;
};
t.prototype.generatePropertyArray = function() {};
return i([ s.gfClass("DRSound") ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../../gf/scripts/ccEngine/dataTable/DataRowBase": "DataRowBase"
} ],
DRUIForm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f3ed4VT1mxH5ppFoCJ6QuSr", "DRUIForm");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../../gf/scripts/ccEngine/dataTable/DataRowBase"), s = e("../../../gf/scripts/base/utils/GFClassUtils"), c = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._id = 0;
t._assetName = "";
t._bundleName = "";
t._uiGroupName = "";
t._allowMultiInstance = !1;
t._pauseCoveredUIForm = !1;
return t;
}
Object.defineProperty(t.prototype, "id", {
get: function() {
return this._id;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "assetName", {
get: function() {
return this._assetName;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "bundleName", {
get: function() {
return this._bundleName;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "uiGroupName", {
get: function() {
return this._uiGroupName;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "allowMultiInstance", {
get: function() {
return this._allowMultiInstance;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "pauseCoveredUIForm", {
get: function() {
return this._pauseCoveredUIForm;
},
enumerable: !1,
configurable: !0
});
t.prototype.parseDataRow = function(e) {
var t = this.getColumnStrings(e), o = 0;
o++;
this._id = parseInt(t[o++], 10);
o++;
this._assetName = t[o++];
this._bundleName = t[o++];
this._uiGroupName = t[o++];
this._allowMultiInstance = "true" === t[o++].toLowerCase();
this._pauseCoveredUIForm = "true" === t[o++].toLowerCase();
this.generatePropertyArray();
return !0;
};
t.prototype.generatePropertyArray = function() {};
return i([ s.gfClass("DRUIForm") ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../../gf/scripts/ccEngine/dataTable/DataRowBase": "DataRowBase"
} ],
DRUISound: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "086d9TMinpBcIFLQ9wFocCR", "DRUISound");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../../gf/scripts/ccEngine/dataTable/DataRowBase"), s = e("../../../gf/scripts/base/utils/GFClassUtils"), c = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._id = 0;
t._assetName = "";
t._priority = 0;
t._volume = 0;
return t;
}
Object.defineProperty(t.prototype, "id", {
get: function() {
return this._id;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "assetName", {
get: function() {
return this._assetName;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "priority", {
get: function() {
return this._priority;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "volume", {
get: function() {
return this._volume;
},
enumerable: !1,
configurable: !0
});
t.prototype.parseDataRow = function(e) {
var t = this.getColumnStrings(e), o = 0;
o++;
this._id = parseInt(t[o++], 10);
o++;
this._assetName = t[o++];
this._priority = parseInt(t[o++], 10);
this._volume = parseFloat(t[o++]);
this.generatePropertyArray();
return !0;
};
t.prototype.generatePropertyArray = function() {};
return i([ s.gfClass("DRUISound") ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../../gf/scripts/ccEngine/dataTable/DataRowBase": "DataRowBase"
} ],
DataNodeComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b2d6etn5iBAY6gBKYEy+q4h", "DataNodeComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../base/GameFrameworkComponent"), s = e("../../base/base/GameFrameworkEntry"), c = e("../../base/dataNode/DataNodeManager"), l = e("../log/DFLog"), u = cc._decorator.ccclass, p = e("../../base/utils/GFClassUtils"), d = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._manager = null;
return t;
}
Object.defineProperty(t.prototype, "root", {
get: function() {
return this._manager.root;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._manager = s.default.getModule(c.default);
this._manager || l.default.error("DataNode manager is invalid.");
};
t.prototype.getData = function(e, t, o) {
return o ? this._manager.getData(e, t, o) : t ? this._manager.getData(e, t) : this._manager.getData(e);
};
t.prototype.setData = function(e, t, o) {
o ? this._manager.setData(e, t, o) : this._manager.setData(e, t);
};
t.prototype.getNode = function(e, t) {
return t ? this._manager.getNode(e, t) : this._manager.getNode(e);
};
t.prototype.getOrAddNode = function(e, t) {
return t ? this._manager.getOrAddNode(e, t) : this._manager.getOrAddNode(e);
};
t.prototype.removeNode = function(e, t) {
return t ? this._manager.removeNode(e, t) : this._manager.removeNode(e);
};
t.prototype.clear = function() {
this._manager.clear();
};
return i([ u, p.gfClass("DataNodeComponent") ], t);
}(a.default);
o.default = d;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/dataNode/DataNodeManager": "DataNodeManager",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../log/DFLog": "DFLog"
} ],
DataNodeManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "06f26K3FJpBapZFJRwjF3J1", "DataNodeManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("./DataNode"), a = e("../base/GameFrameworkModule"), s = e("../base/referencePool/ReferencePool"), c = e("../../ccEngine/log/DFLog"), l = e("../../ccEngine/definition/constant/ConstantGF"), u = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._emptyStringArray = [];
t._rootName = "[Root]";
t._root = i.default.create(t._rootName, null);
return t;
}
Object.defineProperty(t.prototype, "root", {
get: function() {
return this._root;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "priority", {
get: function() {
return 0;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "DataNode";
},
enumerable: !1,
configurable: !0
});
t.prototype.update = function() {};
t.prototype.shutdown = function() {
s.default.release(this._root);
this._root = null;
};
t.prototype.getData = function(e, t, o) {
if (o) {
var n = t;
if (!(i = this.getNode(e, n))) {
c.default.warn("Data node is not exist, path '" + e + "'");
return null;
}
return i.getData(o);
}
if (t) {
if ("getChild" in t) {
n = t;
if (!(i = this.getNode(e, n))) {
c.default.warn("Data node is not exist, path '" + e + "'");
return null;
}
return i.getData();
}
var r = t;
if (!(i = this.getNode(e, null))) {
c.default.warn("Data node is not exist, path '" + e + "'");
return null;
}
return i.getData(r);
}
var i;
if (!(i = this.getNode(e, null))) {
c.default.warn("Data node is not exist, path '" + e + "'");
return null;
}
return i.getData();
};
t.prototype.setData = function(e, t, o) {
var n = this.getOrAddNode(e, o);
if (!n) throw new Error("Data node is not exist, path '" + e + "'");
n.setData(t);
};
t.prototype.getNode = function(e, t) {
for (var o = t || this._root, n = 0, r = this.getSplitPath(e); n < r.length; n++) {
var i = r[n];
if (!(o = o.getChild(i))) return null;
}
return o;
};
t.prototype.getOrAddNode = function(e, t) {
for (var o = t || this._root, n = 0, r = this.getSplitPath(e); n < r.length; n++) {
var i = r[n];
o = o.getOrAddChild(i);
}
return o;
};
t.prototype.removeNode = function(e, t) {
for (var o = t || this._root, n = o.parent, r = 0, i = this.getSplitPath(e); r < i.length; r++) {
var a = i[r];
n = o;
if (!(o = o.getChild(a))) return;
}
n && n.removeChild(o.name);
};
t.prototype.clear = function() {
this._root.clearAllData();
};
t.prototype.getSplitPath = function(e) {
if (!e) return this._emptyStringArray;
var t = new RegExp(l.default.PATH_SPLIT_SEPARATOR.map(function(e) {
return "\\" + e;
}).join("|"), "g");
return e.split(t).filter(Boolean);
};
return t;
}(a.default);
o.default = u;
cc._RF.pop();
}, {
"../../ccEngine/definition/constant/ConstantGF": "ConstantGF",
"../../ccEngine/log/DFLog": "DFLog",
"../base/GameFrameworkModule": "GameFrameworkModule",
"../base/referencePool/ReferencePool": "ReferencePool",
"./DataNode": "DataNode"
} ],
DataNode: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b15b4372fNPbrT39/NbPwIc", "DataNode");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../base/referencePool/ReferencePool"), i = e("../utils/GFClassUtils"), a = e("../../ccEngine/definition/constant/ConstantGF"), s = function() {
function e() {
this._name = null;
this._data = null;
this._parent = null;
this._children = null;
}
t = e;
e.create = function(e, o) {
if (!this.isValidName(e)) throw new Error("Name of data node is invalid.");
var n = r.default.acquire(t);
n._name = e;
n._parent = o;
return n;
};
Object.defineProperty(e.prototype, "name", {
get: function() {
return this._name;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "fullName", {
get: function() {
return this._parent ? "" + this._parent.fullName + a.default.PATH_SPLIT_SEPARATOR[0] + this._name : this._name;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "parent", {
get: function() {
return this._parent;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "childCount", {
get: function() {
return this._children ? this._children.length : 0;
},
enumerable: !1,
configurable: !0
});
e.prototype.getData = function() {
return this._data;
};
e.prototype.setData = function(e) {
this._data && r.default.release(this._data);
this._data = e;
};
e.prototype.hasChild = function(e) {
if ("number" == typeof e) return e >= 0 && e < this._children.length;
if (!t.isValidName(e)) throw new Error("Name is invalid.");
if (null === this._children) return !1;
var o = !1;
this._children.forEach(function(t) {
t.name === e && (o = !0);
});
return o;
};
e.prototype.getChild = function(e) {
if ("number" == typeof e) return e >= 0 && e < this._children.length ? this._children[e] : null;
if (!t.isValidName(e)) throw new Error("Name is invalid.");
if (null === this._children) return null;
var o = null;
this._children.forEach(function(t) {
t.name === e && (o = t);
});
return o;
};
e.prototype.getOrAddChild = function(e) {
var o = this.getChild(e);
if (o) return o;
o = t.create(e, this);
this._children || (this._children = []);
this._children.push(o);
return o;
};
e.prototype.getAllChild = function() {
return this._children ? this._children.slice() : t.EmptyDataNodeArray;
};
e.prototype.removeChild = function(e) {
var t;
if ("number" == typeof e) {
if (e < 0 || e >= this._children.length) return;
t = this._children[e];
} else t = this.getChild(e);
if (t) {
var o = this._children.indexOf(t);
-1 !== o && this._children.splice(o, 1);
r.default.release(t);
}
};
e.prototype.clearAllData = function() {
if (null !== this._data) {
r.default.release(this._data);
this._data = null;
}
if (this._children) {
this._children.forEach(function(e) {
r.default.release(e);
});
this._children = [];
}
};
e.prototype.toString = function() {
return this.fullName + ": " + this.toDataString();
};
e.prototype.toDataString = function() {
return null === this._data ? "[Null]" : "[" + this._data.constructor.name + "]->" + this._data.toString();
};
e.isValidName = function(e) {
if (!e) return !1;
for (var t = 0, o = a.default.PATH_SPLIT_SEPARATOR; t < o.length; t++) {
var n = o[t];
if (e.includes(n)) return !1;
}
return !0;
};
e.prototype.clear = function() {
this._name = null;
this._parent = null;
this.clearAllData();
};
var t;
e.EmptyDataNodeArray = [];
return t = n([ i.gfClass("DataNode") ], e);
}();
o.default = s;
cc._RF.pop();
}, {
"../../ccEngine/definition/constant/ConstantGF": "ConstantGF",
"../base/referencePool/ReferencePool": "ReferencePool",
"../utils/GFClassUtils": "GFClassUtils"
} ],
DataProvider: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "63af14wt95GbZ/SmwONHWhP", "DataProvider");
var n = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, r = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../res/GameFrameworkConstant"), a = e("../res/GameFrameworkConstantConfig"), s = e("../../../ccEngine/log/DFLog"), c = function() {
function e(e) {
this._owner = e;
this._resourceManager = null;
this._dataProviderHelper = null;
}
e.prototype.setResourcesManager = function(e) {
if (!e) throw new Error("Resource manager is invalid.");
this._resourceManager = e;
};
e.prototype.setDataProviderHelper = function(e) {
if (!e) throw new Error("Data provider helper is invalid.");
this._dataProviderHelper = e;
};
e.prototype.readData = function(e, t, o) {
return n(this, void 0, Promise, function() {
return r(this, function(n) {
switch (n.label) {
case 0:
return o ? [ 4, this.readDataInternal(e, t, o) ] : [ 3, 2 ];

case 1:
n.sent();
return [ 3, 9 ];

case 2:
return t ? "number" != typeof t ? [ 3, 4 ] : [ 4, this.readDataInternal(e, t, null) ] : [ 3, 7 ];

case 3:
n.sent();
return [ 3, 6 ];

case 4:
return [ 4, this.readDataInternal(e, i.default.DEFAULT_PRIORITY, t) ];

case 5:
n.sent();
n.label = 6;

case 6:
return [ 3, 9 ];

case 7:
return [ 4, this.readDataInternal(e, i.default.DEFAULT_PRIORITY, null) ];

case 8:
n.sent();
n.label = 9;

case 9:
return [ 2 ];
}
});
});
};
e.prototype.parseData = function(e, t) {
return t ? this.parseDataInternal(e, t) : this.parseDataInternal(e, null);
};
e.prototype.readDataInternal = function(e, t, o) {
return n(this, void 0, Promise, function() {
var t, n, i, c, l;
return r(this, function(r) {
switch (r.label) {
case 0:
if (!this._resourceManager) throw new Error("You must set resource manager first.");
if (!this._dataProviderHelper) throw new Error("You must set data provider helper first.");
t = e.split(a.default.SPLIT_BUNDLE_PATH_FLAG);
n = t[0];
i = t[1];
if (!n || !e) throw new Error("You must make sure the config path is valid first.");
r.label = 1;

case 1:
r.trys.push([ 1, 3, , 4 ]);
return [ 4, this._resourceManager.loadAsset(n, i, cc.TextAsset, !0, this.defaultUpdateCallback.bind(this)) ];

case 2:
if (!(c = r.sent())) throw new Error("Failed to load text asset for data asset name '" + e + "'.");
if (!this._dataProviderHelper.readData(this._owner, e, c, o)) throw new Error("Load data failure in data provider helper, data asset name '" + e + "'.");
this._dataProviderHelper.releaseDataAsset(this._owner, n, i);
return [ 3, 4 ];

case 3:
l = r.sent();
s.default.error("Error in readDataInternal:", l);
throw l;

case 4:
return [ 2 ];
}
});
});
};
e.prototype.defaultUpdateCallback = function(e, t) {
var o = e / t * 100;
s.default.info("数据加载进度: " + o.toFixed(2) + "% (" + e + "/" + t + ")");
};
e.prototype.parseDataInternal = function(e, t) {
if (!this._dataProviderHelper) throw new Error("You must set data helper first.");
if (!e) throw new Error("Data string is invalid.");
try {
return this._dataProviderHelper.parseData(this._owner, e, t);
} catch (e) {
throw new Error("Can not parse data string with exception '" + e + "'.");
}
};
return e;
}();
o.default = c;
cc._RF.pop();
}, {
"../../../ccEngine/log/DFLog": "DFLog",
"../res/GameFrameworkConstant": "GameFrameworkConstant",
"../res/GameFrameworkConstantConfig": "GameFrameworkConstantConfig"
} ],
DataRowBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3afcbAq4zlME47P1A35/O6J", "DataRowBase");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../base/utils/GFClassUtils"), i = e("../definition/constant/ConstantGF"), a = function() {
function e() {}
e.prototype.parseDataRow = function() {
return !1;
};
e.prototype.getColumnStrings = function(e) {
for (var t = e.split(i.default.DATA_SPLIT_SEPARATORS[0]), o = 0; o < t.length; o++) {
t[o] = t[o].trim();
for (var n = 0, r = i.default.DATA_TRIM_SEPARATORS; n < r.length; n++) {
var a = r[n];
t[o] = t[o].replace(new RegExp("\\" + a, "g"), "");
}
}
return t;
};
return n([ r.gfClass("DataRowBase") ], e);
}();
o.default = a;
cc._RF.pop();
}, {
"../../base/utils/GFClassUtils": "GFClassUtils",
"../definition/constant/ConstantGF": "ConstantGF"
} ],
DataTableBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "759a7+1r1BGFLiuRJddOd0d", "DataTableBase");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, r = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, i = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.DataTableBase = void 0;
var a = e("../base/dataProvider/DataProvider"), s = e("../base/dataStruct/TypeNamePair"), c = e("../utils/GFClassUtils"), l = function() {
function e(e) {
this._name = null != e ? e : "";
this._dataProvider = new a.default(this);
}
Object.defineProperty(e.prototype, "name", {
get: function() {
return this._name;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "fullName", {
get: function() {
return new s.default(this.constructor, this._name).toString();
},
enumerable: !1,
configurable: !0
});
e.prototype.readData = function(e, t, o) {
return r(this, void 0, Promise, function() {
return i(this, function() {
return o ? [ 2, this._dataProvider.readData(e, t, o) ] : t ? [ 2, this._dataProvider.readData(e, t) ] : [ 2, this._dataProvider.readData(e) ];
});
});
};
e.prototype.parseData = function(e, t) {
return t ? this._dataProvider.parseData(e, t) : this._dataProvider.parseData(e);
};
e.prototype.setResourceManager = function(e) {
this._dataProvider.setResourcesManager(e);
};
e.prototype.setDataProviderHelper = function(e) {
this._dataProvider.setDataProviderHelper(e);
};
return n([ c.gfClass("DataTableBase") ], e);
}();
o.DataTableBase = l;
cc._RF.pop();
}, {
"../base/dataProvider/DataProvider": "DataProvider",
"../base/dataStruct/TypeNamePair": "TypeNamePair",
"../utils/GFClassUtils": "GFClassUtils"
} ],
DataTableComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b36c0klm+NBf4AgbaDoST9O", "DataTableComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../../base/utils/GFClassUtils"), l = cc._decorator.ccclass, u = e("../base/GameFrameworkComponent"), p = e("../../base/base/GameFrameworkEntry"), d = e("../log/DFLog"), f = e("../../base/dataTable/DataTableManager"), h = e("../res/ResourceManager"), y = e("./DefaultDataTableHelper"), m = e("../definition/constant/ConstantEngineAssetPriority"), g = e("../../../../gameMain/scripts/utils/AssetUtility"), b = e("../../../../gameMain/scripts/definition/constant/ConstantBundle"), v = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._manager = null;
return t;
}
Object.defineProperty(t.prototype, "count", {
get: function() {
return this._manager.count;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._manager = p.default.getModule(f.default);
this._manager || d.default.error("DataTable manager is invalid.");
};
t.prototype.start = function() {
this._manager.setResourceManager(p.default.getModule(h.default));
var e = new y.DefaultDataTableHelper();
this._manager.setDataProviderHelper(e);
this._manager.setDataTableHelper(e);
};
t.prototype.loadDataTable = function(e, t, o) {
void 0 === t && (t = b.default.dataTables);
return a(this, void 0, Promise, function() {
var n;
return s(this, function(r) {
switch (r.label) {
case 0:
if (!e) {
d.default.warn("Data table type is invalid.");
return [ 2 ];
}
n = c.default.getClassNameFromConstructor(e).slice(2);
return [ 4, this.createDataTable(e, n).readData(g.default.getDataTableAsset(n, t), m.default.DataTableAsset, o) ];

case 1:
r.sent();
return [ 2 ];
}
});
});
};
t.prototype.hasDataTable = function(e, t) {
return t ? this._manager.hasDataTable(e, t) : this._manager.hasDataTable(e, this.getDatableName(e));
};
t.prototype.getDataTable = function(e, t) {
return t ? this._manager.getDataTable(e, t) : this._manager.getDataTable(e, this.getDatableName(e));
};
t.prototype.getAllDataTables = function() {
return this._manager.getAllDataTables();
};
t.prototype.createDataTable = function(e, t) {
return t ? this._manager.createDataTable(e, t) : this._manager.createDataTable(e, this.getDatableName(e));
};
t.prototype.destroyDataTable = function(e, t) {
return t ? this._manager.destroyDataTable(e, t) : this._manager.destroyDataTable(e, this.getDatableName(e));
};
t.prototype.getDataTableRow = function(e, t) {
return this.getDataTable(e).getDataRow(t);
};
t.prototype.getDataTableRows = function(e, t, o) {
return o ? this.getDataTable(e).getDataRows(t, o) : (t.length, this.getDataTable(e).getDataRows(t));
};
t.prototype.getAllDataRows = function(e) {
return this.getDataTable(e).getAllDataRows();
};
t.prototype.getDatableName = function(e) {
return c.default.getClassNameFromConstructor(e).slice(2);
};
return i([ l, c.gfClass("DataTableComponent") ], t);
}(u.default);
o.default = v;
cc._RF.pop();
}, {
"../../../../gameMain/scripts/definition/constant/ConstantBundle": "ConstantBundle",
"../../../../gameMain/scripts/utils/AssetUtility": "AssetUtility",
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/dataTable/DataTableManager": "DataTableManager",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../definition/constant/ConstantEngineAssetPriority": "ConstantEngineAssetPriority",
"../log/DFLog": "DFLog",
"../res/ResourceManager": "ResourceManager",
"./DefaultDataTableHelper": "DefaultDataTableHelper"
} ],
DataTableHelperBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ddf7fu3SXVGa7at7EVC8ZVG", "DataTableHelperBase");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.DataTableHelperBase = void 0;
o.DataTableHelperBase = function() {};
cc._RF.pop();
}, {} ],
DataTableManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4d973jh3ABP2K/EP07SrWdB", "DataTableManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../base/GameFrameworkModule"), a = e("../base/dataStruct/TypeNamePair"), s = e("./DataTable"), c = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._dataTables = new Map();
t._resourceManager = null;
t._dataProviderHelper = null;
t._dataTableHelper = null;
return t;
}
Object.defineProperty(t.prototype, "count", {
get: function() {
return this._dataTables.size;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "priority", {
get: function() {
return 0;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "DataTable";
},
enumerable: !1,
configurable: !0
});
t.prototype.update = function() {};
t.prototype.shutdown = function() {
this._dataTables.forEach(function(e) {
e.shutdown();
});
this._dataTables.clear();
};
t.prototype.setResourceManager = function(e) {
if (!e) throw new Error("Resource manager is invalid.");
this._resourceManager = e;
};
t.prototype.setDataProviderHelper = function(e) {
if (!e) throw new Error("Data provider helper is invalid.");
this._dataProviderHelper = e;
};
t.prototype.setDataTableHelper = function(e) {
if (!e) throw new Error("Data table helper is invalid.");
this._dataTableHelper = e;
};
t.prototype.hasDataTable = function(e, t) {
var o = a.default.getString(e, t);
return this._dataTables.has(o);
};
t.prototype.getDataTable = function(e, t) {
var o = a.default.getString(e, t), n = this._dataTables.get(o);
if (!n) throw new Error("Data table not found: " + o);
return n;
};
t.prototype.getAllDataTables = function() {
return Array.from(this._dataTables.values());
};
t.prototype.createDataTable = function(e, t) {
if (!this._resourceManager) throw new Error("You must set resource manager first.");
if (!this._dataProviderHelper) throw new Error("You must set data provider helper first.");
var o = a.default.getString(e, t);
if (this._dataTables.has(o)) throw new Error("Already exist data table: " + o);
var n = new s.default(e, t);
n.setResourceManager(this._resourceManager);
n.setDataProviderHelper(this._dataProviderHelper);
this._dataTables.set(o, n);
return n;
};
t.prototype.destroyDataTable = function(e, t) {
var o = a.default.getString(e, t), n = this._dataTables.get(o);
if (!n) return !1;
n.shutdown();
this._dataTables.delete(o);
return !0;
};
return t;
}(i.default);
o.default = c;
cc._RF.pop();
}, {
"../base/GameFrameworkModule": "GameFrameworkModule",
"../base/dataStruct/TypeNamePair": "TypeNamePair",
"./DataTable": "DataTable"
} ],
DataTable: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6bc19FFcTtBDbWhls5aMAAd", "DataTable");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("./DataTableBase"), s = e("../base/dataStruct/TypeNamePair"), c = e("../utils/GFClassUtils"), l = function(e) {
r(t, e);
function t(t, o) {
void 0 === o && (o = "");
var n = e.call(this, o) || this;
n._dataSet = new Map();
n._minIdDataRow = null;
n._maxIdDataRow = null;
n._type = t;
return n;
}
Object.defineProperty(t.prototype, "type", {
get: function() {
return this._type;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "count", {
get: function() {
return this._dataSet.size;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "minIdDataRow", {
get: function() {
return this._minIdDataRow;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "maxIdDataRow", {
get: function() {
return this._maxIdDataRow;
},
enumerable: !1,
configurable: !0
});
t.prototype.hasDataRow = function(e) {
if ("number" == typeof e) return this._dataSet.has(e);
var t = !1;
this._dataSet.forEach(function(o) {
e(o) && (t = !0);
});
return t;
};
t.prototype.getDataRow = function(e) {
if ("number" == typeof e) return this._dataSet.get(e);
var t = null;
this._dataSet.forEach(function(o) {
e(o) && (t = o);
});
return t;
};
t.prototype.getDataRows = function(e, t) {
var o = [];
if (t) {
this._dataSet.forEach(function(t) {
e(t) && o.push(t);
});
o.sort(t);
} else if (2 === e.length) {
this._dataSet.forEach(function(e) {
o.push(e);
});
o.sort(e);
} else this._dataSet.forEach(function(t) {
e(t) && o.push(t);
});
return o;
};
t.prototype.getAllDataRows = function() {
return Array.from(this._dataSet.values());
};
t.prototype.addDataRow = function(e, t) {
try {
var o = new this.type();
if (!o.parseDataRow(e, t)) return !1;
this.internalAddDataRow(o);
return !0;
} catch (e) {
console.error("Can not parse data row string for data table '{" + new s.default(this.type, this.name).typeName + "}' with exception .", e);
return !1;
}
};
t.prototype.removeDataRow = function(e) {
var t, o;
if (!this.hasDataRow(e)) return !1;
if (!this._dataSet.delete(e)) return !1;
if ((null === (t = this._minIdDataRow) || void 0 === t ? void 0 : t.id) === e || (null === (o = this._maxIdDataRow) || void 0 === o ? void 0 : o.id) === e) {
this._minIdDataRow = null;
this._maxIdDataRow = null;
this.updateMinMaxDataRows();
}
return !0;
};
t.prototype.removeAllDataRows = function() {
this._dataSet.clear();
this._minIdDataRow = null;
this._maxIdDataRow = null;
};
t.prototype.shutdown = function() {
this._dataSet.clear();
};
t.prototype.internalAddDataRow = function(e) {
if (this._dataSet.has(e.id)) throw new Error("Already exist '" + e.id + "' in data table '" + this.name + "'.");
this._dataSet.set(e.id, e);
this.updateMinMaxDataRows();
};
t.prototype.updateMinMaxDataRows = function() {
var e = null, t = null;
this._dataSet.forEach(function(o) {
(null === e || o.id < e.id) && (e = o);
(null === t || o.id > t.id) && (t = o);
});
this._minIdDataRow = e;
this._maxIdDataRow = t;
};
return i([ c.gfClass("DataTable") ], t);
}(a.DataTableBase);
o.default = l;
cc._RF.pop();
}, {
"../base/dataStruct/TypeNamePair": "TypeNamePair",
"../utils/GFClassUtils": "GFClassUtils",
"./DataTableBase": "DataTableBase"
} ],
DateManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5f103B5zARLaI+1jRcCObQr", "DateManager");
var n = e, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
});
var i = cc._decorator, a = (i.ccclass, i.property, n("enumConfig")), s = function() {
function e() {
this.cutType = a.CALENDAR.MONTH;
var e = (o = new Date()).getFullYear(), t = o.getMonth(), o = o.getDate();
this.nowDate = new Date(e, t, o), this.selDate = new Date(e, t, o);
}
return e.getInstance = function() {
return this.instance || (this.instance = new e()), this.instance;
}, e.prototype.isNowMonth = function(e) {
return this.nowDate.getFullYear() === this.selDate.getFullYear() && this.nowDate.getMonth() === e;
}, e.prototype.isNowDay = function(e) {
if (this.nowDate.getFullYear() === this.selDate.getFullYear() && this.nowDate.getMonth() === this.selDate.getMonth()) {
if (this.nowDate.getDate() === e) return !0;
} else if (this.selDate.getDate() == e) return !0;
return !1;
}, e.prototype.isOldDay = function(e) {
if (this.selDate.getFullYear() == this.nowDate.getFullYear()) {
if (this.nowDate.getMonth() == this.selDate.getMonth()) {
if (e < this.nowDate.getDate()) return !0;
} else if (this.selDate.getMonth() < this.nowDate.getMonth()) return !0;
} else if (this.selDate.getFullYear() < this.nowDate.getFullYear()) return !0;
return !1;
}, e.prototype.isFutureDay = function(e) {
if (this.nowDate.getFullYear() == this.selDate.getFullYear()) {
if (this.nowDate.getDate() < e) return !0;
if (this.nowDate.getMonth() == this.selDate.getMonth()) {
if (this.nowDate.getDate() < e) return !0;
} else if (this.nowDate.getMonth() < this.selDate.getMonth()) return !0;
} else if (this.nowDate.getFullYear() <= this.selDate.getFullYear()) return !0;
return !1;
}, e.prototype.isSel = function(e, t, o) {
return this.selDate.getFullYear() === e && this.selDate.getMonth() === t && this.selDate.getDate() === o;
}, e.isLeapYear = function(e) {
return 29 === new Date(e, 1, 29).getDate();
}, e.cloneDate = function(e) {
return new Date(e.valueOf());
}, e.nextDate = function(e, t) {
void 0 === t && (t = a.CALENDAR.DAY);
var o = e.getFullYear(), n = e.getMonth(), r = e.getDate();
switch (t) {
case a.CALENDAR.YEAR:
o++, r <= (e = new Date(o, n + 1, 0)).getDate() && (e = new Date(o, n, r));
break;

case a.CALENDAR.MONTH:
n++, r <= (e = new Date(o, n + 1, 0)).getDate() && (e = new Date(o, n, r));
break;

case a.CALENDAR.DAY:
e = new Date(e.setDate(r + 1));
break;

case a.CALENDAR.WEEK:
e = new Date(e.setDate(r + 7));
}
return e;
}, e.lastDate = function(e, t) {
void 0 === t && (t = a.CALENDAR.DAY);
var o = e.getFullYear(), n = e.getMonth(), r = e.getDate();
switch (t) {
case a.CALENDAR.YEAR:
o--, r <= (e = new Date(o, n + 1, 0)).getDate() && (e = new Date(o, n, r));
break;

case a.CALENDAR.MONTH:
n--, e = new Date(o, n + 1, 0);
break;

case a.CALENDAR.DAY:
e = new Date(e.setDate(r - 1));
break;

case a.CALENDAR.WEEK:
e = new Date(e.setDate(r - 7));
}
return e;
}, e.showAloneChildByName = function(e, t) {
for (var o = 0, n = t.children; o < n.length; o++) {
var r = n[o];
r.active = !1, r.name === e && (r.active = !0);
}
}, e.format = function(e, t) {
void 0 === e && (e = "yyyy-mm-dd");
var o, n = {
"M+": (t = t).getMonth() + 1,
"d+": t.getDate(),
"h+": t.getHours(),
"m+": t.getMinutes(),
"s+": t.getSeconds(),
"q+": Math.floor((t.getMonth() + 3) / 3),
S: t.getMilliseconds()
};
for (o in /(y+)/i.test(e) && (e = e.replace(RegExp.$1, (t.getFullYear() + "").substr(4 - RegExp.$1.length))), 
n) new RegExp("(" + o + ")", "i").test(e) && (e = e.replace(RegExp.$1, 1 == RegExp.$1.length ? n[o] : ("00" + n[o]).substr(("" + n[o]).length)));
return e;
}, e.getDateString = function(t) {
void 0 === t && (t = !1);
var o = e.format(a.CALENDARNAMES[4], new Date()).split("-");
return o.length < 3 ? "" : t ? "- " + o[0] + "年" + o[1] + "月" + o[2] + "日 -" : "- " + o[1] + "月" + o[2] + "日 -";
}, e.prototype.dateToUnix = function(e) {
e = ((t = e.split(" ", 2))[0] || "").split("-", 3);
var t = (t[1] || "").split(":", 3);
return new Date(parseInt(e[0], 10) || null, (parseInt(e[1], 10) || 1) - 1, parseInt(e[2], 10) || null, parseInt(t[0], 10) || null, parseInt(t[1], 10) || null, parseInt(t[2], 10) || null).getTime() / 1e3;
}, e.prototype.changeTime = function(e) {
return new Date(e.format("YYYY-MM-DD HH:mm:ss")).getTime();
}, e.prototype.formatTs = function(e) {
return [ (e = new Date(1e3 * parseInt(e))).getFullYear(), e.getMonth() + 1 < 10 ? "0" + (e.getMonth() + 1) : e.getMonth() + 1, e.getDate() < 10 ? "0" + e.getDate() : e.getDate(), e.getHours() < 10 ? "0" + e.getHours() : e.getHours(), e.getMinutes() < 10 ? "0" + e.getMinutes() : e.getMinutes(), e.getSeconds() < 10 ? "0" + e.getSeconds() : e.getSeconds() ];
}, e.prototype.formatDate = function(e, t) {
if (e) {
switch (t = t || "yyyy-MM-dd HH:mm:ss", typeof e) {
case "string":
e = new Date(Number(e));
break;

case "number":
e = new Date(e);
}
if (e instanceof Date) {
var o = {
yyyy: e.getFullYear(),
M: e.getMonth() + 1,
d: e.getDate(),
H: e.getHours(),
m: e.getMinutes(),
s: e.getSeconds(),
MM: ("" + (e.getMonth() + 101)).substring(1),
dd: ("" + (e.getMonth() + 100)).substring(1),
HH: ("" + (e.getMonth() + 100)).substring(1),
mm: ("" + (e.getMonth() + 100)).substring(1),
ss: ("" + (e.getMonth() + 100)).substring(1)
};
return t.replace(/(yyyy|MM?|dd?|HH?|ss?|mm?)/g, function() {
return o[arguments[0]];
});
}
}
}, e;
}();
r.default = s;
cc._RF.pop();
}, {} ],
DefaultConfigHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c20b3pv8TpNH5aK2dZvc4is", "DefaultConfigHelper");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
o.DefaultConfigHelper = void 0;
var i = e("./ConfigHelperBase"), a = e("../res/ResourcesComponent"), s = cc.TextAsset, c = e("../log/DFLog"), l = e("../base/GameEntryEngine"), u = e("../../base/utils/TextAssetReader"), p = e("../definition/constant/ConstantGF"), d = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t.columnCount = 4;
t._resourceComponent = null;
t.init();
return t;
}
t.prototype.readData = function(e, t, o, n) {
if (o instanceof s) return e.parseData(o.text, n);
c.default.warn("Config asset '" + t + "' is invalid.");
return !1;
};
t.prototype.parseData = function(e, t) {
var o;
try {
for (var n = 0, r = void 0; n < t.length; ) {
r = (o = u.default.readLine(t, n))[0], n = o[1];
if (null === r) break;
if ("#" !== r[0]) {
var i = r.split(p.default.DATA_SPLIT_SEPARATORS[0]);
if (i.length !== this.columnCount) {
c.default.warn("Can not parse config line string '" + r + "' which column count is invalid.");
return !1;
}
var a = i[1], s = i[3];
if (!e.addConfig(a, s)) {
c.default.warn("Can not add config with config name '" + a + "' which may be invalid or duplicate.");
return !1;
}
}
}
return !0;
} catch (e) {
c.default.warn("Can not parse config string with exception '" + e + "'.");
return !1;
}
};
t.prototype.releaseDataAsset = function(e, t, o) {
this._resourceComponent && this._resourceComponent.releaseAsset(t, o);
};
t.prototype.init = function() {
this._resourceComponent = l.default.getComponentByType(a.default);
this._resourceComponent || c.default.error("Resource component is invalid.");
};
return t;
}(i.ConfigHelperBase);
o.DefaultConfigHelper = d;
cc._RF.pop();
}, {
"../../base/utils/TextAssetReader": "TextAssetReader",
"../base/GameEntryEngine": "GameEntryEngine",
"../definition/constant/ConstantGF": "ConstantGF",
"../log/DFLog": "DFLog",
"../res/ResourcesComponent": "ResourcesComponent",
"./ConfigHelperBase": "ConfigHelperBase"
} ],
DefaultDataTableHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9269b6UFXlF97u34J/x74Jt", "DefaultDataTableHelper");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
o.DefaultDataTableHelper = void 0;
var i = e("./DataTableHelperBase"), a = e("../res/ResourcesComponent"), s = e("../log/DFLog"), c = e("../base/GameEntryEngine"), l = e("../../base/utils/TextAssetReader"), u = cc.TextAsset, p = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._resourceComponent = null;
t.init();
return t;
}
t.prototype.readData = function(e, t, o, n) {
if (o instanceof u) return e.parseData(o.text, n);
s.default.warn("Data table asset '" + t + "' is invalid.");
return !1;
};
t.prototype.parseData = function(e, t, o) {
var n;
try {
for (var r = 0, i = null; (i = (n = l.default.readLine(t, r))[0], r = n[1], n) && null !== i; ) if ("#" !== i[0] && !e.addDataRow(i, o)) {
console.warn("Can not parse data row string '" + i + "'.");
return !1;
}
return !0;
} catch (e) {
console.warn("Can not parse data table string with exception '" + e + "'.");
return !1;
}
};
t.prototype.releaseDataAsset = function(e, t, o) {
this._resourceComponent && this._resourceComponent.releaseAsset(t, o);
};
t.prototype.init = function() {
this._resourceComponent = c.default.getComponentByType(a.default);
this._resourceComponent || s.default.error("Resource component is invalid.");
};
t.BytesAssetExtension = ".bytes";
return t;
}(i.DataTableHelperBase);
o.DefaultDataTableHelper = p;
cc._RF.pop();
}, {
"../../base/utils/TextAssetReader": "TextAssetReader",
"../base/GameEntryEngine": "GameEntryEngine",
"../log/DFLog": "DFLog",
"../res/ResourcesComponent": "ResourcesComponent",
"./DataTableHelperBase": "DataTableHelperBase"
} ],
DefaultHeartbeatHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "165dddQ4GBJCIMI7ExPc2pg", "DefaultHeartbeatHelper");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, r = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, i = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../log/DFLog"), s = e("../../../../gameMain/scripts/definition/constant/ConstantEvent"), c = e("../../../../gameMain/scripts/ui/base/UiFormId"), l = e("../../base/utils/GFClassUtils"), u = function() {
function e() {
this._isStart = !1;
this.elapsedTime = 0;
this._cdTime = 20;
this._isNetworkTipsShowing = !1;
}
e.prototype.setHeartbeatTime = function(e) {
this._cdTime = e;
};
e.prototype.startHeartbeat = function() {
if (this.allowHeartbeat()) {
this.elapsedTime = 0;
window.GameEntryDF.event.subscribe(s.default.networkTipsShowing, this.onNetworkShowing, this);
this._isStart = !0;
}
};
e.prototype.stopHeartbeat = function() {
if (this.allowHeartbeat()) {
window.GameEntryDF.event.unSubscribe(s.default.networkTipsShowing, this.onNetworkShowing, this);
this._isStart = !1;
}
};
e.prototype.update = function(e) {
if (this._isStart) {
this._isNetworkTipsShowing || (this.elapsedTime += e);
if (this.elapsedTime >= this._cdTime) {
this.executeLogic();
this.elapsedTime -= this._cdTime;
}
}
};
e.prototype.shutdown = function() {
this._isStart = null;
this.elapsedTime = 0;
this._isNetworkTipsShowing = !1;
};
e.prototype.executeLogic = function() {
return r(this, void 0, void 0, function() {
return i(this, function(e) {
switch (e.label) {
case 0:
e.trys.push([ 0, 2, , 4 ]);
return [ 4, window.GameEntryDF.heartbeat.sendHeartbeat() ];

case 1:
e.sent();
a.default.debug("心跳检测第一重检测成功，通过。");
return [ 3, 4 ];

case 2:
e.sent();
a.default.debug("心跳检测第一重检测失败.开始二次验证.");
return [ 4, this.heartbeatVerify() ];

case 3:
e.sent();
a.default.debug("心跳检测第二重检测成功，通过。");
return [ 3, 4 ];

case 4:
return [ 2 ];
}
});
});
};
e.prototype.heartbeatVerify = function() {
return r(this, void 0, void 0, function() {
return i(this, function(e) {
switch (e.label) {
case 0:
e.trys.push([ 0, 2, , 4 ]);
return [ 4, window.GameEntryDF.heartbeat.heartbeatVerify() ];

case 1:
e.sent();
return [ 3, 4 ];

case 2:
e.sent();
a.default.info("双重验证都失败，发送展示弹窗事件。");
return [ 4, this.handleRequestFailure() ];

case 3:
e.sent();
return [ 3, 4 ];

case 4:
return [ 2 ];
}
});
});
};
e.prototype.handleRequestFailure = function() {
return r(this, void 0, void 0, function() {
return i(this, function(e) {
switch (e.label) {
case 0:
return [ 4, window.GameEntryDF.ui.openUIForm(c.UiFormId.NetworkTipsForm) ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
e.prototype.onNetworkShowing = function(e) {
a.default.debug("网络弹窗状态:", e);
this._isNetworkTipsShowing = e;
};
e.prototype.allowHeartbeat = function() {
if (!window.GameEntryDF.switch.switchEnable) {
a.default.debug("A，心跳失效.");
return !1;
}
a.default.debug("B，心跳有效.");
return !0;
};
return n([ l.gfClass("DefaultHeartbeatHelper") ], e);
}();
o.default = u;
cc._RF.pop();
}, {
"../../../../gameMain/scripts/definition/constant/ConstantEvent": "ConstantEvent",
"../../../../gameMain/scripts/ui/base/UiFormId": "UiFormId",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../log/DFLog": "DFLog"
} ],
DefaultJsonHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b4fa60VsQVDhpygu6YDqbh1", "DefaultJsonHelper");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../base/utils/GFClassUtils"), i = function() {
function e() {}
e.prototype.toJson = function(e) {
return JSON.stringify(e);
};
e.prototype.toObject = function(e) {
return JSON.parse(e);
};
e.prototype.toObjectByType = function(e, t) {
return JSON.parse(t);
};
return n([ r.gfClass("DefaultJsonHelper") ], e);
}();
o.default = i;
cc._RF.pop();
}, {
"../../base/utils/GFClassUtils": "GFClassUtils"
} ],
DefaultLogHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "924dc58rkpBHrDCC72fUIY9", "DefaultLogHelper");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, r = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var n = Array(e), r = 0;
for (t = 0; t < o; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, 
r++) n[r] = i[a];
return n;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/base/log/GameFrameworkLogLevel"), a = e("../../base/utils/GFClassUtils"), s = function() {
function e() {
this.logLevel = i.GameFrameworkLogLevel.DEBUG;
this.enabled = !0;
}
e.prototype.setLevel = function(e) {
this.logLevel = "string" == typeof e ? i.GameFrameworkLogLevel[e] : e;
};
e.prototype.setEnabled = function(e) {
this.enabled = e;
};
e.prototype.log = function(e) {
for (var t, o = [], n = 1; n < arguments.length; n++) o[n - 1] = arguments[n];
if (this.enabled) {
var a = ((t = {})[i.GameFrameworkLogLevel.DEBUG] = 0, t[i.GameFrameworkLogLevel.INFO] = 1, 
t[i.GameFrameworkLogLevel.WARN] = 2, t[i.GameFrameworkLogLevel.ERROR] = 3, t[i.GameFrameworkLogLevel.NONE] = 4, 
t);
if (a[e] >= a[this.logLevel]) {
var s = new Date().toISOString().replace("T", " ").substring(11, 23), c = void 0;
switch (e) {
case i.GameFrameworkLogLevel.DEBUG:
c = "color: #ffffff;background: #0078D7; padding: 4px; border-radius: 4px";
break;

case i.GameFrameworkLogLevel.INFO:
c = "color: #ffffff;background: #00B894; padding: 4px; border-radius: 4px";
break;

case i.GameFrameworkLogLevel.WARN:
c = "color: #ffffff;background: #FF9F43; padding: 4px; border-radius: 4px";
break;

case i.GameFrameworkLogLevel.ERROR:
c = "color: #ffffff;background: #D63031; padding: 4px; border-radius: 4px";
break;

default:
c = "color: #ffffff;background: #000000; padding: 4px; border-radius: 4px";
}
console.log.apply(console, r([ "%c[" + s + "] [" + e + "]", c ], o));
}
}
};
e.prototype.debug = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
this.log.apply(this, r([ i.GameFrameworkLogLevel.DEBUG ], e));
};
e.prototype.info = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
this.log.apply(this, r([ i.GameFrameworkLogLevel.INFO ], e));
};
e.prototype.warn = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
this.log.apply(this, r([ i.GameFrameworkLogLevel.WARN ], e));
};
e.prototype.error = function() {
for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
this.log.apply(this, r([ i.GameFrameworkLogLevel.ERROR ], e));
};
return n([ a.gfClass("DefaultLogHelper") ], e);
}();
o.default = s;
cc._RF.pop();
}, {
"../../base/base/log/GameFrameworkLogLevel": "GameFrameworkLogLevel",
"../../base/utils/GFClassUtils": "GFClassUtils"
} ],
DefaultSoundAgentHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7422fdbY1lFEqXyK04y3btQ", "DefaultSoundAgentHelper");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("./SoundAgentHelperBase"), s = cc._decorator.ccclass, c = cc.Vec3, l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._cachedTransform = null;
t._audioSource = null;
t._bindingEntityLogic = null;
t._volumeWhenPause = 0;
t._applicationPauseFlag = !1;
t._volumeInternal = 1;
t.resetSoundAgent = null;
t._resetSoundAgentEventHandler = null;
t._coroutines = [];
return t;
}
Object.defineProperty(t.prototype, "isPlaying", {
get: function() {
return !!this._audioSource && this._audioSource.isPlaying;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "length", {
get: function() {
return this._audioSource && this._audioSource.clip ? this._audioSource.clip.duration : 0;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "time", {
get: function() {
return this._audioSource ? this._audioSource.getCurrentTime() : 0;
},
set: function(e) {
this._audioSource && this._audioSource.setCurrentTime(e);
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "mute", {
get: function() {
return !!this._audioSource && this._audioSource.mute;
},
set: function(e) {
this._audioSource && (this._audioSource.mute = e);
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "loop", {
get: function() {
return !!this._audioSource && this._audioSource.loop;
},
set: function(e) {
this._audioSource && (this._audioSource.loop = e);
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "priority", {
get: function() {
return 0;
},
set: function() {},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "volume", {
get: function() {
return this._audioSource ? this._audioSource.volume : 0;
},
set: function(e) {
if (this._audioSource) {
this._audioSource.volume = e;
this._volumeInternal = e;
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "volumeInternal", {
get: function() {
return this._volumeInternal;
},
set: function(e) {
this._volumeInternal = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "pitch", {
get: function() {
return 1;
},
set: function() {},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "panStereo", {
get: function() {
return 0;
},
set: function() {},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "spatialBlend", {
get: function() {
return 0;
},
set: function() {},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "maxDistance", {
get: function() {
return 999;
},
set: function() {},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "dopplerLevel", {
get: function() {
return 0;
},
set: function() {},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "audioMixerGroup", {
get: function() {
return null;
},
set: function() {},
enumerable: !1,
configurable: !0
});
t.prototype.play = function(e) {
this.stopAllCoroutines();
if (this._audioSource) {
this._audioSource.play();
if (e > 0) {
this._audioSource.volume = 0;
this.fadeToVolume(this.volumeInternal, e);
}
}
};
t.prototype.stop = function(e) {
var t = this;
this.stopAllCoroutines();
this._audioSource && (e > 0 ? this.fadeToVolume(0, e, function() {
t._audioSource.stop();
}) : this._audioSource.stop());
};
t.prototype.pause = function(e) {
var t = this;
this.stopAllCoroutines();
if (this._audioSource) {
this._volumeWhenPause = this._audioSource.volume;
e > 0 ? this.fadeToVolume(0, e, function() {
t._audioSource.pause();
}) : this._audioSource.pause();
}
};
t.prototype.resume = function(e) {
this.stopAllCoroutines();
if (this._audioSource) {
this._audioSource.resume();
e > 0 ? this.fadeToVolume(this._volumeWhenPause, e) : this._audioSource.volume = this._volumeWhenPause;
}
};
t.prototype.reset = function() {
this._cachedTransform && this._cachedTransform.setPosition(c.ZERO.clone());
this._bindingEntityLogic = null;
this._volumeWhenPause = 0;
};
t.prototype.setSoundAsset = function(e, t, o) {
var n = o;
if (!n) return !1;
this._audioSource && (this._audioSource.clip = n);
return !0;
};
t.prototype.setBindingEntity = function() {};
t.prototype.setWorldPosition = function(e) {
this._cachedTransform && this._cachedTransform.setPosition(e);
};
t.prototype.onLoad = function() {
this._cachedTransform = this.node;
this._audioSource = this.node.getComponent(cc.AudioSource) || this.node.addComponent(cc.AudioSource);
this._audioSource.playOnLoad = !1;
};
t.prototype.update = function() {
!this._applicationPauseFlag && !this.isPlaying && this._audioSource && this._audioSource.clip && this._resetSoundAgentEventHandler || this._bindingEntityLogic && this.updateAgentPosition();
};
t.prototype.onApplicationPause = function(e) {
this._applicationPauseFlag = e;
};
t.prototype.updateAgentPosition = function() {
this._bindingEntityLogic && this._bindingEntityLogic.available && this._cachedTransform && this._cachedTransform.setPosition(this._bindingEntityLogic.cachedTransform.position);
};
t.prototype.fadeToVolume = function(e, t, o) {
if (this._audioSource) {
var n = cc.tween(this._audioSource).to(t, {
volume: e
}, {
easing: "sineInOut"
}).call(o).start();
this._coroutines.push(n);
}
};
t.prototype.stopAllCoroutines = function() {
this._coroutines.forEach(function(e) {
e.stop();
});
this._coroutines = [];
};
t.prototype.setVolume = function(e) {
this.volume = e;
};
return i([ s ], t);
}(a.default);
o.default = l;
cc._RF.pop();
}, {
"./SoundAgentHelperBase": "SoundAgentHelperBase"
} ],
DefaultSoundGroupHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "961a80dbMlJVrS+HyML5NCi", "DefaultSoundGroupHelper");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return t;
}(e("./SoundGroupHelperBase").default);
o.default = i;
cc._RF.pop();
}, {
"./SoundGroupHelperBase": "SoundGroupHelperBase"
} ],
DefaultSoundHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5f76dwTxr5OeZqdGDE1cZGp", "DefaultSoundHelper");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("./SoundHelperBase"), a = e("../res/ResourcesComponent"), s = e("../base/GameEntryEngine"), c = e("../log/DFLog"), l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._resourceComponent = null;
return t;
}
t.prototype.start = function() {
this._resourceComponent = s.default.getComponentByType(a.default);
this._resourceComponent || c.default.error("Resource component is invalid.");
};
t.prototype.releaseSoundAsset = function(e, t) {
this._resourceComponent.releaseAsset(e, t);
};
return t;
}(i.default);
o.default = l;
cc._RF.pop();
}, {
"../base/GameEntryEngine": "GameEntryEngine",
"../log/DFLog": "DFLog",
"../res/ResourcesComponent": "ResourcesComponent",
"./SoundHelperBase": "SoundHelperBase"
} ],
DefaultSwitchHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ce725OlQlZIQbO+Z+yKOtxg", "DefaultSwitchHelper");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, r = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, i = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../ad/base/enum/GamePlatform"), s = e("../log/DFLog"), c = e("../../base/utils/StringUtility"), l = e("../../base/utils/XORUtil"), u = e("../../base/utils/GFClassUtils"), p = e("../definition/dataStruct/UserRegionInfo"), d = e("../../base/utils/JsonUtility"), f = function() {
function e() {
this.initScc = !1;
this.isAreaLimit = !1;
}
Object.defineProperty(e.prototype, "switchEnable", {
get: function() {
return this.initScc && !this.isAreaLimit;
},
enumerable: !1,
configurable: !0
});
e.prototype.init = function(e) {
return r(this, void 0, Promise, function() {
var t, o, n;
return i(this, function(r) {
switch (r.label) {
case 0:
return [ 4, this.fetchGameInfo(e) ];

case 1:
t = r.sent();
s.default.info("gameInfo:", t);
if (!t) {
this.initScc = !1;
return [ 2, !1 ];
}
if (1 != t.ok) {
this.initScc = !1;
return [ 2, !1 ];
}
this.initScc = !0;
this.initializeAdClickRate(t);
this.initializeTestDevice(e, t);
this.initializeHeartbeatInfo(t.url);
return [ 4, this.fetchUserRegionInfo(t.url) ];

case 2:
if (!(o = r.sent())) {
this.isAreaLimit = !0;
this.initScc = !1;
return [ 2, !1 ];
}
n = this.parseUserRegionData(o, t);
s.default.debug("用户区域信息：", n);
this.isAreaLimit = this.evaluateAreaLimit(e, t, n);
return [ 4, this.sendUserGameData(e, n) ];

case 3:
r.sent();
return [ 2, !0 ];
}
});
});
};
e.prototype.fetchGameInfo = function(e) {
return r(this, void 0, Promise, function() {
var t, o, n;
return i(this, function(r) {
switch (r.label) {
case 0:
r.trys.push([ 0, 2, , 3 ]);
return [ 4, window.GameEntryDF.webRequest.get(window.GameEntryDF.builtin.buildInfo.swUrl + "dfs/id=" + e.gameId) ];

case 1:
t = r.sent();
o = l.default.decrypt(t.data);
return [ 2, JSON.parse(o) ];

case 2:
n = r.sent();
this.initScc = !1;
s.default.error("获取初始配置失败:", n);
return [ 2, null ];

case 3:
return [ 2 ];
}
});
});
};
e.prototype.initializeAdClickRate = function(e) {
var t = [];
switch (window.GameEntryDF.ad.platform) {
case a.GamePlatform.Android:
break;

case a.GamePlatform.OppoMiniGame:
t = e.crtmo;
break;

case a.GamePlatform.VivoMiniGame:
t = e.crtmv;
break;

case a.GamePlatform.HuaWeiMiniGame:
t = e.crtmh;
break;

case a.GamePlatform.ByteDance:
t = e.crtmt;
break;

case a.GamePlatform.WeChat:
t = e.crtmw;
}
window.GameEntryDF.ad.ClickRate = t;
window.GameEntryDF.ad.setAdLoopInterval(e.lpItv);
window.GameEntryDF.ad.setLoopRatioNativeAd(e.lpRtn);
window.GameEntryDF.ad.setLoopRatioIntersAd(e.lpRti);
window.GameEntryDF.ad.setLoopRatioRewardAd(e.lpRtr);
};
e.prototype.initializeTestDevice = function() {};
e.prototype.initializeHeartbeatInfo = function(e) {
window.GameEntryDF.builtin.buildInfo.heartbeatVerifyURL = e;
};
e.prototype.fetchUserRegionInfo = function(e) {
return r(this, void 0, Promise, function() {
var t;
return i(this, function(o) {
switch (o.label) {
case 0:
o.trys.push([ 0, 2, , 3 ]);
return [ 4, window.GameEntryDF.webRequest.get(e) ];

case 1:
return [ 2, o.sent() ];

case 2:
t = o.sent();
this.initScc = !1;
s.default.error("获取用户区域信息失败:", t);
return [ 2, null ];

case 3:
return [ 2 ];
}
});
});
};
e.prototype.parseUserRegionData = function(e, t) {
var o = new p.default();
o.country = this.getNestedValue(e, t.l_country.split("|"));
o.ip = this.getNestedValue(e, t.l_ip.split("|"));
o.province = this.getNestedValue(e, t.l_pro.split("|"));
o.city = this.getNestedValue(e, t.l_city.split("|"));
o.area = this.getNestedValue(e, t.l_area.split("|"));
return o;
};
e.prototype.getNestedValue = function(e, t) {
return t.reduce(function(e, t) {
return e && e[t];
}, e);
};
e.prototype.evaluateAreaLimit = function(e, t, o) {
if (0 === t.ivc) {
s.default.debug("area A - sw master off.");
return !0;
}
if (1 === t.swa) {
s.default.debug("area B - swa is on.");
return !1;
}
if (!c.default.isNullOrEmpty(t.baDef) && (c.default.isNullOrEmpty(o.province) || c.default.isNullOrEmpty(o.city) || o.province.includes(t.baDef) || o.city.includes(t.baDef))) {
s.default.debug("area A - baDef.");
return !0;
}
s.default.debug("tmSw:", t.tmSw);
if (2 === t.tmSw) return this.checkArea(e, t, o);
if (1 === t.ps) {
s.default.debug("Is ps pkg.");
return this.checkTimeSlot(e, t, o);
}
if (t.cvn === window.GameEntryDF.builtin.miniGameInfo.gameVersion) {
s.default.debug("not ps.cur ver , area ck...");
return this.checkArea(e, t, o);
}
s.default.debug("not ps.old ver , slot ck. ");
return this.checkTimeSlot(e, t, o);
};
e.prototype.checkTimeSlot = function(e, t, o) {
if (0 === t.tmSw) {
s.default.debug("is A in ts.");
return !0;
}
s.default.debug("blkCpLc:" + t.blkCpLc);
if (!0 === t.blkCpLc) {
if (this.checkIsLocalLimit(e, o)) {
s.default.debug("is A in ts - blkCpLc.");
return !0;
}
s.default.debug("is B in ts - blkCpLc.");
return !1;
}
s.default.debug("is B in ts.");
return !1;
};
e.prototype.checkArea = function(e, t, o) {
if (!(t.countries.indexOf(o.country) > -1)) {
s.default.debug("area A ca- country:", d.default.toJson(o));
return !0;
}
if (this.checkIsInvalidArea(o)) return !0;
if (this.checkIsLocalLimit(e, o)) return !0;
if (this.checkIsRemoteLimit(t, o)) return !0;
s.default.debug("area B ca:", d.default.toJson(o));
return !1;
};
e.prototype.checkIsInvalidArea = function(e) {
if (c.default.isNullOrEmpty(e.province) || c.default.isNullOrEmpty(e.city)) {
s.default.debug("area A - invalid area:", d.default.toJson(e));
return !0;
}
return !1;
};
e.prototype.checkIsLocalLimit = function(e, t) {
for (var o = 0, n = e.areas; o < n.length; o++) {
var r = n[o];
if (t.province.indexOf(r) > -1 || t.city.indexOf(r) > -1) {
s.default.debug("area A - local:", r);
return !0;
}
}
return !1;
};
e.prototype.checkIsRemoteLimit = function(e, t) {
for (var o = 0, n = e.areas; o < n.length; o++) {
var r = n[o];
if (t.province.indexOf(r) > -1 || t.city.indexOf(r) > -1) {
s.default.debug("area A - remote:", r);
return !0;
}
}
return !1;
};
e.prototype.sendUserGameData = function(e, t) {
return r(this, void 0, void 0, function() {
var o, n, r, a;
return i(this, function(i) {
switch (i.label) {
case 0:
if (!this.isMiniGamePlatform()) return [ 3, 5 ];
s.default.debug("start post data.");
o = {
id: e.gameId,
version: e.gameVersion,
ip: t.ip,
country: t.country,
province: t.province,
city: t.city,
area: t.area
};
n = {
opCode: 1,
data: o
};
i.label = 1;

case 1:
i.trys.push([ 1, 3, , 4 ]);
return [ 4, window.GameEntryDF.webRequest.post(window.GameEntryDF.builtin.buildInfo.swUrl + "gameOpNormal", n) ];

case 2:
r = i.sent();
s.default.debug("Post data success!data:", r);
return [ 3, 4 ];

case 3:
a = i.sent();
s.default.error("Post data failed:", a);
return [ 3, 4 ];

case 4:
return [ 3, 6 ];

case 5:
s.default.debug("Do not post data.");
i.label = 6;

case 6:
return [ 2 ];
}
});
});
};
e.prototype.isMiniGamePlatform = function() {
return [ cc.sys.OPPO_GAME, cc.sys.VIVO_GAME, cc.sys.HUAWEI_GAME, cc.sys.BYTEDANCE_GAME, cc.sys.BYTEDANCE_GAME_SUB, cc.sys.WECHAT_GAME, cc.sys.WECHAT_GAME_SUB, cc.sys.QQ_PLAY, cc.sys.XIAOMI_GAME ].includes(cc.sys.platform);
};
return n([ u.gfClass("DefaultSwitchHelper") ], e);
}();
o.default = f;
cc._RF.pop();
}, {
"../../base/utils/GFClassUtils": "GFClassUtils",
"../../base/utils/JsonUtility": "JsonUtility",
"../../base/utils/StringUtility": "StringUtility",
"../../base/utils/XORUtil": "XORUtil",
"../ad/base/enum/GamePlatform": "GamePlatform",
"../definition/dataStruct/UserRegionInfo": "UserRegionInfo",
"../log/DFLog": "DFLog"
} ],
DefaultUIFormHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "eb20bEjYSlK34Ux7bhKy5jm", "DefaultUIFormHelper");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc._decorator.ccclass, s = e("./UIFormHelperBase"), c = e("../res/ResourcesComponent"), l = cc.Vec3, u = e("./UIForm"), p = e("../base/GameEntryEngine"), d = e("../log/DFLog"), f = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._resourceComponent = null;
return t;
}
t.prototype.instantiateUIForm = function(e) {
return cc.instantiate(e);
};
t.prototype.createUIForm = function(e, t) {
var o = e;
if (!o) {
d.default.error("UI form instance is invalid.");
return null;
}
var n = o;
n.parent = t.helper.node;
n.setScale(l.ONE.clone());
return o.getComponent(u.default) || o.addComponent(u.default);
};
t.prototype.releaseUIForm = function(e, t, o, n) {
n.destroy();
this._resourceComponent.releaseAsset(e, t);
};
t.prototype.start = function() {
this._resourceComponent = p.default.getComponentByType(c.default);
this._resourceComponent || d.default.error("Resource component is invalid.");
};
return i([ a ], t);
}(s.default);
o.default = f;
cc._RF.pop();
}, {
"../base/GameEntryEngine": "GameEntryEngine",
"../log/DFLog": "DFLog",
"../res/ResourcesComponent": "ResourcesComponent",
"./UIForm": "UIForm",
"./UIFormHelperBase": "UIFormHelperBase"
} ],
DefaultUIGroupHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c2498Zm2YFNpa+5kfDf9l4e", "DefaultUIGroupHelper");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc._decorator.ccclass, s = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.setDepth = function() {};
return i([ a ], t);
}(e("./UIGroupHelperBase").default);
o.default = s;
cc._RF.pop();
}, {
"./UIGroupHelperBase": "UIGroupHelperBase"
} ],
DefaultVersionHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8dc9bm43WhKBJN8J460quw/", "DefaultVersionHelper");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../base/utils/GFClassUtils"), i = function() {
function e() {
this.gameVersion = "1.0.0";
this.internalGameVersion = 100;
}
return n([ r.gfClass("DefaultVersionHelper") ], e);
}();
o.default = i;
cc._RF.pop();
}, {
"../../base/utils/GFClassUtils": "GFClassUtils"
} ],
DefaultWebRequestHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e19bbsWE2RN9avCC0KSh9IZ", "DefaultWebRequestHelper");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, r = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, i = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../log/DFLog"), s = e("../../base/utils/JsonUtility"), c = e("../../base/utils/GFClassUtils"), l = function() {
function e() {
this._getTimeout = 3e3;
this._postTimeout = 3e3;
this._putTimeout = 3e3;
this._deleteTimeout = 3e3;
this._uploadTimeout = 3e4;
}
e.prototype.get = function(e) {
return r(this, void 0, Promise, function() {
var t = this;
return i(this, function() {
return [ 2, new Promise(function(o, n) {
try {
var r = new XMLHttpRequest();
r.timeout = t._getTimeout;
r.open("GET", e, !0);
r.onerror = function() {
t.handleError(r, "GET 请求发生错误", n);
};
r.ontimeout = function() {
t.handleError(r, "GET 请求超时", n);
};
r.onreadystatechange = function() {
if (4 === r.readyState) if (r.status >= 200 && r.status < 400) try {
var e = s.default.toObject(r.responseText);
a.default.debug("GET 请求成功:", e);
o(e);
} catch (e) {
t.handleError(r, "GET 请求解析失败: " + e, n);
} else 0 === r.status || t.handleError(r, "GET 请求失败，状态码: " + r.status, n);
};
r.send();
} catch (e) {
t.handleErrorOnCode(e, n);
}
}) ];
});
});
};
e.prototype.post = function(e, t) {
return r(this, void 0, Promise, function() {
var o = this;
return i(this, function() {
return [ 2, new Promise(function(n, r) {
var i = new XMLHttpRequest();
i.timeout = o._postTimeout;
i.open("POST", e, !0);
i.setRequestHeader("Content-Type", "application/json; charset=utf-8");
i.onerror = function() {
o.handleError(i, "POST 请求发生错误", r);
};
i.ontimeout = function() {
o.handleError(i, "POST 请求超时", r);
};
i.onreadystatechange = function() {
if (4 === i.readyState) if (i.status >= 200 && i.status < 400) try {
var e = s.default.toObject(i.responseText);
n(e);
} catch (e) {
o.handleError(i, "POST 请求解析失败: " + e, r);
} else o.handleError(i, "POST 请求失败，状态码: " + i.status, r);
};
a.default.debug("POST 请求发送数据：", t);
i.send(s.default.toJson(t));
}) ];
});
});
};
e.prototype.put = function(e, t) {
return r(this, void 0, Promise, function() {
var o = this;
return i(this, function() {
return [ 2, new Promise(function(n, r) {
var i = new XMLHttpRequest();
i.timeout = o._putTimeout;
i.open("PUT", e, !0);
i.setRequestHeader("Content-Type", "application/json; charset=utf-8");
i.onerror = function() {
o.handleError(i, "PUT 请求发生错误", r);
};
i.ontimeout = function() {
o.handleError(i, "PUT 请求超时", r);
};
i.onreadystatechange = function() {
if (4 === i.readyState) if (i.status >= 200 && i.status < 400) try {
var e = s.default.toObject(i.responseText);
n(e);
} catch (e) {
o.handleError(i, "PUT 请求解析失败: " + e, r);
} else o.handleError(i, "PUT 请求失败，状态码: " + i.status, r);
};
a.default.debug("PUT 请求发送数据：", t);
i.send(s.default.toJson(t));
}) ];
});
});
};
e.prototype.delete = function(e) {
return r(this, void 0, Promise, function() {
var t = this;
return i(this, function() {
return [ 2, new Promise(function(o, n) {
var r = new XMLHttpRequest();
r.timeout = t._deleteTimeout;
r.open("DELETE", e, !0);
r.onerror = function() {
t.handleError(r, "DELETE 请求发生错误", n);
};
r.ontimeout = function() {
t.handleError(r, "DELETE 请求超时", n);
};
r.onreadystatechange = function() {
if (4 === r.readyState) if (r.status >= 200 && r.status < 400) try {
var e = s.default.toObject(r.responseText);
o(e);
} catch (e) {
t.handleError(r, "DELETE 请求解析失败: " + e, n);
} else t.handleError(r, "DELETE 请求失败，状态码: " + r.status, n);
};
r.send();
}) ];
});
});
};
e.prototype.uploadFile = function(e, t) {
return r(this, void 0, Promise, function() {
var o = this;
return i(this, function() {
return [ 2, new Promise(function(n, r) {
var i = new FormData();
i.append("file", t);
var a = new XMLHttpRequest();
a.timeout = o._uploadTimeout;
a.open("POST", e, !0);
a.onerror = function() {
o.handleError(a, "文件上传发生错误", r);
};
a.ontimeout = function() {
o.handleError(a, "文件上传超时", r);
};
a.onreadystatechange = function() {
if (4 === a.readyState) if (a.status >= 200 && a.status < 400) try {
var e = s.default.toObject(a.responseText);
n(e);
} catch (e) {
o.handleError(a, "文件上传解析失败: " + e, r);
} else o.handleError(a, "文件上传失败，状态码: " + a.status, r);
};
a.send(i);
}) ];
});
});
};
e.prototype.setGetTimeout = function(e) {
this._getTimeout = 1e3 * e;
};
e.prototype.setPostTimeout = function(e) {
this._postTimeout = 1e3 * e;
};
e.prototype.setPutTimeout = function(e) {
this._putTimeout = 1e3 * e;
};
e.prototype.setDeleteTimeout = function(e) {
this._deleteTimeout = 1e3 * e;
};
e.prototype.setUploadTimeout = function(e) {
this._uploadTimeout = 1e3 * e;
};
e.prototype.handleError = function(e, t, o) {
if (4 === e.readyState) {
a.default.error("请求失败,状态码: " + e.status + ",描述：" + t);
o(new Error(t + "，状态码: " + e.status));
} else {
a.default.error("请求失败,当前状态: " + e.readyState + ",描述：" + t);
o(new Error(t + "，当前状态: " + e.readyState));
}
};
e.prototype.handleErrorOnCode = function(e, t) {
a.default.error("请求过程中发生错误: ", e);
t(e);
};
return n([ c.gfClass("DefaultWebRequestHelper") ], e);
}();
o.default = l;
cc._RF.pop();
}, {
"../../base/utils/GFClassUtils": "GFClassUtils",
"../../base/utils/JsonUtility": "JsonUtility",
"../log/DFLog": "DFLog"
} ],
DfGfCcCfg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4c66dHeFwBDZ49X2QQCaIbH", "DfGfCcCfg");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.default = function() {};
cc._RF.pop();
}, {} ],
DialogForm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "32a63L1oJ5LFpbNgMwimj6Q", "DialogForm");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../../../gf/scripts/ccEngine/ui/CcUIForm"), l = cc.Label, u = cc._decorator.property, p = cc.Node, d = e("../../../gf/scripts/ccEngine/log/DFLog"), f = cc._decorator.ccclass, h = e("../../../gf/scripts/base/base/referencePool/ReferencePool"), y = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._titleText = null;
t._messageText = null;
t._modeObjects = new Array();
t._confirmTexts = [];
t._cancelTexts = [];
t._otherTexts = [];
t._dialogMode = 1;
t._pauseGame = !1;
t._userData = null;
t._onClickConfirm = null;
t._onClickCancel = null;
t._onClickOther = null;
return t;
}
Object.defineProperty(t.prototype, "dialogMode", {
get: function() {
return this._dialogMode;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "pauseGame", {
get: function() {
return this._pauseGame;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "userData", {
get: function() {
return this._userData;
},
enumerable: !1,
configurable: !0
});
t.prototype.onOpen = function(t) {
e.prototype.onOpen.call(this, t);
var o = t;
if (o) {
this._dialogMode = o.mode;
this.refreshDialogMode();
this._titleText.string = o.title;
this._messageText.string = o.message;
this._pauseGame = o.pauseGame;
this.refreshPauseGame();
this._userData = o.userData;
this.refreshConfirmText(o.confirmText);
this._onClickConfirm = o.onClickConfirm;
this.refreshCancelText(o.cancelText);
this._onClickCancel = o.onClickCancel;
this.refreshOtherText(o.otherText);
this._onClickOther = o.onClickOther;
h.default.release(o);
d.default.info("dialogParams release 后的消息：" + o.message);
} else d.default.warn("DialogParams is invalid.");
};
t.prototype.onBtnConfirmClick = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
this._onClickConfirm && this._onClickConfirm(this.userData);
return [ 4, this.playUISound() ];

case 1:
e.sent();
this.close(!0);
return [ 2 ];
}
});
});
};
t.prototype.onBtnCancelClick = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
this._onClickCancel && this._onClickCancel(this.userData);
return [ 4, this.playUISound() ];

case 1:
e.sent();
this.close(!0);
return [ 2 ];
}
});
});
};
t.prototype.onBtnOtherClick = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
this._onClickOther && this._onClickOther(this.userData);
return [ 4, this.playUISound() ];

case 1:
e.sent();
this.close(!0);
return [ 2 ];
}
});
});
};
t.prototype.refreshDialogMode = function() {
for (var e = 1; e <= this._modeObjects.length; e++) this._modeObjects[e - 1].active = e == this.dialogMode;
};
t.prototype.refreshConfirmText = function(e) {
for (var t = 0; t < this._confirmTexts.length; t++) this._confirmTexts[t].string = e;
};
t.prototype.refreshCancelText = function(e) {
for (var t = 0; t < this._cancelTexts.length; t++) this._cancelTexts[t].string = e;
};
t.prototype.refreshPauseGame = function() {};
t.prototype.refreshOtherText = function(e) {
for (var t = 0; t < this._otherTexts.length; t++) this._otherTexts[t].string = e;
};
i([ u({
type: l,
visible: !0
}) ], t.prototype, "_titleText", void 0);
i([ u({
type: l,
visible: !0
}) ], t.prototype, "_messageText", void 0);
i([ u({
type: [ p ],
visible: !0
}) ], t.prototype, "_modeObjects", void 0);
i([ u({
type: [ l ],
visible: !0
}) ], t.prototype, "_confirmTexts", void 0);
i([ u({
type: [ l ],
visible: !0
}) ], t.prototype, "_cancelTexts", void 0);
i([ u({
type: [ l ],
visible: !0
}) ], t.prototype, "_otherTexts", void 0);
return i([ f ], t);
}(c.default);
o.default = y;
cc._RF.pop();
}, {
"../../../gf/scripts/base/base/referencePool/ReferencePool": "ReferencePool",
"../../../gf/scripts/ccEngine/log/DFLog": "DFLog",
"../../../gf/scripts/ccEngine/ui/CcUIForm": "CcUIForm"
} ],
DialogParams: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f52bbQayYFM/LZVSw9fwxBz", "DialogParams");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../../../gf/scripts/base/utils/GFClassUtils"), i = function() {
function e() {}
e.prototype.fill = function(e, t, o, n, r, i, a, s, c, l, u) {
void 0 === n && (n = "确定");
void 0 === r && (r = null);
void 0 === i && (i = "取消");
void 0 === a && (a = null);
void 0 === s && (s = "其它");
void 0 === c && (c = null);
void 0 === l && (l = null);
void 0 === u && (u = !1);
this.mode = e;
this.title = t;
this.message = o;
this.pauseGame = u;
this.confirmText = n;
this.onClickConfirm = r;
this.cancelText = i;
this.onClickCancel = a;
this.otherText = s;
this.onClickOther = c;
this.userData = l;
};
e.prototype.clear = function() {
this.mode = null;
this.title = null;
this.message = null;
this.pauseGame = !1;
this.confirmText = null;
this.onClickConfirm = null;
this.cancelText = null;
this.onClickCancel = null;
this.otherText = null;
this.onClickOther = null;
this.userData = null;
};
return n([ r.gfClass("DialogParams") ], e);
}();
o.default = i;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils"
} ],
DictionaryDf: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "dcd70kmvE1DFYPRd3bFkwCc", "DictionaryDf");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {
this._map = new Map();
}
Object.defineProperty(e.prototype, "count", {
get: function() {
return this._map.size;
},
enumerable: !1,
configurable: !0
});
e.prototype.isEmpty = function() {
return 0 === this._map.size;
};
e.prototype.add = function(e, t) {
if (this._map.has(e)) throw new Error("Key already exists");
this._map.set(e, t);
};
e.prototype.containsKey = function(e) {
return this._map.has(e);
};
e.prototype.containsValue = function(e) {
return Array.from(this._map.values()).includes(e);
};
e.prototype.get = function(e) {
return this._map.get(e);
};
e.prototype.tryGetValue = function(e) {
return this._map.has(e) ? [ !0, this._map.get(e) ] : [ !1, null ];
};
e.prototype.set = function(e, t) {
if (this._map.has(e)) {
this._map.set(e, t);
return !0;
}
return !1;
};
e.prototype.remove = function(e) {
return this._map.delete(e);
};
e.prototype.clear = function() {
this._map.clear();
};
e.prototype.toString = function() {
var e = [];
this._map.forEach(function(t, o) {
e.push(String(o) + ": " + String(t));
});
return "{ " + e.join(", ") + " }";
};
e.prototype.toArray = function() {
return Array.from(this._map.entries());
};
e.prototype.forEach = function(e) {
this._map.forEach(e);
};
e.prototype.keys = function() {
return Array.from(this._map.keys());
};
e.prototype.values = function() {
return Array.from(this._map.values());
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
DreamFlyGlobal: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8c4b3vV9UdBkoueOekVsBN5", "DreamFlyGlobal");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.gameFrameworkRoot = null;
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
EntityLogic: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a97d5DtwTVOMpkk6DWp9MQ0", "EntityLogic");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator.ccclass, i = function() {
function e() {}
return n([ r ], e);
}();
o.default = i;
cc._RF.pop();
}, {} ],
Entity: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "777ecJYOgVBMK0ZkCX9PUk5", "Entity");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc._decorator.ccclass, s = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.start = function() {};
return i([ a ], t);
}(cc.Component);
o.default = s;
cc._RF.pop();
}, {} ],
EventComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "86d1cMVmRhIT6gZTCLDVZjc", "EventComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../base/GameFrameworkComponent"), s = e("../../base/utils/GFClassUtils"), c = e("../../base/base/GameFrameworkEntry"), l = e("../log/DFLog"), u = e("../../base/event/EventManager"), p = cc._decorator, d = p.ccclass, f = (p.property, 
function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._manager = null;
return t;
}
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._manager = c.default.getModule(u.default);
this._manager || l.default.error("事件模块未初始化");
};
t.prototype.check = function(e) {
return this._manager.check(e);
};
t.prototype.fire = function(e, t, o, n, r, i) {
this._manager.fire(e, t, o, n, r, i);
};
t.prototype.subscribe = function(e, t, o, n) {
return this._manager.subscribe(e, t, o, n);
};
t.prototype.subscribeOnce = function(e, t, o) {
this._manager.subscribeOnce(e, t, o);
};
t.prototype.unSubscribe = function(e, t, o) {
this._manager.unSubscribe(e, t, o);
};
t.prototype.unSubscribeAllCaller = function(e) {
this._manager.unSubscribeAllCaller(e);
};
t.prototype.unSubscribeAll = function() {
this._manager.unSubscribeAll();
};
return i([ d, s.gfClass("EventComponent") ], t);
}(a.default));
o.default = f;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/event/EventManager": "EventManager",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../log/DFLog": "DFLog"
} ],
EventManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "915cdx3IEtL05CJK0bt/4ZH", "EventManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../base/GameFrameworkModule"), a = cc.EventTarget, s = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t.m_EventDispatcher = null;
t.m_EventDispatcher = new a();
return t;
}
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "Event";
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "priority", {
get: function() {
return 7;
},
enumerable: !1,
configurable: !0
});
t.prototype.update = function() {};
t.prototype.shutdown = function() {
e.prototype.shutdown.call(this);
this.unSubscribeAll();
this.m_EventDispatcher = null;
};
t.prototype.check = function(e) {
return this.m_EventDispatcher.hasEventListener(e);
};
t.prototype.fire = function(e, t, o, n, r, i) {
this.m_EventDispatcher.emit(e, t, o, n, r, i);
};
t.prototype.subscribe = function(e, t, o, n) {
return this.m_EventDispatcher.on(e, t, o, n);
};
t.prototype.subscribeOnce = function(e, t, o) {
this.m_EventDispatcher.once(e, t, o);
};
t.prototype.unSubscribe = function(e, t, o) {
this.check(e) && this.m_EventDispatcher.off(e, t, o);
};
t.prototype.unSubscribeAllCaller = function(e) {
this.m_EventDispatcher.targetOff(e);
};
t.prototype.unSubscribeAll = function() {
this.m_EventDispatcher.clear();
};
return t;
}(i.default);
o.default = s;
cc._RF.pop();
}, {
"../base/GameFrameworkModule": "GameFrameworkModule"
} ],
FriendRankPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4213beT0KVE5b2bFg6XH/hw", "FriendRankPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("api-sheep"), l = r("CcJsFunc"), u = r("dataTs"), p = cc._decorator, d = p.ccclass, f = p.property, h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.popNode = null, t.closeBtn = null, t;
}
return a(t, e), t.prototype.start = function() {
l.default.addTargetTouchUpInside(this.closeBtn, this.closeBtnFunc.bind(this));
}, t.prototype.closeBtnFunc = function() {
this.node.active = !1, cc.game.emit("showPop", {
popName: "todayRankPop",
showPopData: {}
});
}, t.prototype.showPop = function() {
this.node.active = !0, cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), c.default.getPersonalInfo(function(e) {
e && e.data && (e = e.data.daily_count, u.default.updateFirendCount(e));
});
}, s([ f(cc.Node) ], t.prototype, "popNode", void 0), s([ f(cc.Node) ], t.prototype, "closeBtn", void 0), 
s([ d ], t);
}(cc.Component);
i.default = h;
cc._RF.pop();
}, {} ],
FriendSubContextView: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ea1df8KK9tCd5m1ulIYJEp0", "FriendSubContextView");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
}, c = function(e, t, o, n) {
return new (o = o || Promise)(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
var t;
e.done ? r(e.value) : ((t = e.value) instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
}
c((n = n.apply(e, t || [])).next());
});
}, l = function(e, t) {
var o, n, r, i = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
}, a = {
next: s(0),
throw: s(1),
return: s(2)
};
return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(a) {
return function(s) {
return function(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;i; ) try {
if (o = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, a[1])).done) return r;
switch (n = 0, (a = r ? [ 2 & a[0], r.value ] : a)[0]) {
case 0:
case 1:
r = a;
break;

case 4:
return i.label++, {
value: a[1],
done: !1
};

case 5:
i.label++, n = a[1], a = [ 0 ];
continue;

case 7:
a = i.ops.pop(), i.trys.pop();
continue;

default:
if (!(r = 0 < (r = i.trys).length && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
i = 0;
continue;
}
if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
i.label = a[1];
break;
}
if (6 === a[0] && i.label < r[1]) {
i.label = r[1], r = a;
break;
}
if (r && i.label < r[2]) {
i.label = r[2], i.ops.push(a);
break;
}
r[2] && i.ops.pop(), i.trys.pop();
continue;
}
a = t.call(e, i);
} catch (e) {
a = [ 6, e ], n = 0;
} finally {
o = r = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}([ a, s ]);
};
}
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var u = r("enumConfig"), p = cc._decorator, d = p.ccclass, f = p.property, h = (p.menu, 
function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.subContextView = null, t;
}
return a(t, e), t.prototype.onEnable = function() {
var e = this;
setTimeout(function() {
e.changeViewType(u.ShownType.friendRank);
}, 100);
}, t.prototype.start = function() {}, t.prototype.changeViewType = function() {
return c(this, void 0, Promise, function() {
var e;
return l(this, function() {
return cc.sys.platform != cc.sys.WECHAT_GAME || ((e = this.node).width, e.height, 
this.subContextView.updateSubContextViewport()), [ 2 ];
});
});
}, s([ f({
type: cc.SubContextView,
tooltip: "子域视图节点，没有则添加组件到本身"
}) ], t.prototype, "subContextView", void 0), s([ d ], t);
}(cc.Component));
i.default = h;
cc._RF.pop();
}, {} ],
FsmBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a7159ii9udCTb6pifrUGebF", "FsmBase");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {
this._name = "";
}
Object.defineProperty(e.prototype, "name", {
get: function() {
return this._name;
},
set: function(e) {
this._name = e || "";
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "fullName", {
get: function() {
var e = this.ownerType.gfClassName;
this._name && (e = e + "." + this._name);
return e;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
FsmComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6f577JcB3hGKppweCjO7KKG", "FsmComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../base/GameFrameworkComponent"), s = e("../../base/base/GameFrameworkEntry"), c = e("../../base/fsm/FsmManager"), l = e("../../base/fsm/FsmBase"), u = cc._decorator.ccclass, p = e("../../base/utils/GFClassUtils"), d = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._fsmManager = null;
return t;
}
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._fsmManager = s.default.getModule(c.default);
this._fsmManager || console.error("FSM manager is invalid.");
};
t.prototype.start = function() {};
Object.defineProperty(t.prototype, "count", {
get: function() {
return this._fsmManager ? this._fsmManager.count : 0;
},
enumerable: !1,
configurable: !0
});
t.prototype.hasFsm = function(e, t) {
return !!this._fsmManager && (void 0 === t ? this._fsmManager.hasFsm(e) : this._fsmManager.hasFsm(e, t));
};
t.prototype.getFsm = function(e, t) {
if (!this._fsmManager) return null;
if ("function" == typeof e && void 0 === t) return this._fsmManager.getFsm(e);
if ("function" == typeof e && "string" == typeof t) return this._fsmManager.getFsm(e, t);
if (e instanceof Function && void 0 === t) return this._fsmManager.getFsm(e);
if (e instanceof Function && "string" == typeof t) return this._fsmManager.getFsm(e, t);
throw new Error("Invalid arguments for getFsm.");
};
t.prototype.getAllFsms = function(e) {
if (!this._fsmManager) {
void 0 !== e && (e = []);
return [];
}
if (void 0 === e) return this._fsmManager.getAllFsms();
this._fsmManager.getAllFsms(e);
};
t.prototype.createFsm = function(e, t, o, n) {
if (!this._fsmManager) throw new Error("FSM manager is not initialized.");
if ("string" == typeof t) {
if (!o || !Array.isArray(n)) throw new Error("Owner and states are required.");
return this._fsmManager.createFsm(e, t, o, n);
}
if (!Array.isArray(o)) throw new Error("States are required.");
return this._fsmManager.createFsm(e, t, o);
};
t.prototype.destroyFsm = function(e, t) {
if (!this._fsmManager) throw new Error("FSM manager is not initialized.");
if ("function" == typeof e && void 0 === t) return this._fsmManager.destroyFsm(e);
if ("function" == typeof e && "string" == typeof t) return this._fsmManager.destroyFsm(e, t);
if (e instanceof l.default) return this._fsmManager.destroyFsm(e);
if (e instanceof Object && e.name) return this._fsmManager.destroyFsm(e);
if ("function" == typeof e && void 0 === t) return this._fsmManager.destroyFsm(e);
if ("function" == typeof e && "string" == typeof t) return this._fsmManager.destroyFsm(e, t);
throw new Error("Invalid arguments for destroyFsm.");
};
return i([ u, p.gfClass("FsmComponent") ], t);
}(a.default);
o.default = d;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/fsm/FsmBase": "FsmBase",
"../../base/fsm/FsmManager": "FsmManager",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../base/GameFrameworkComponent": "GameFrameworkComponent"
} ],
FsmManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4c123k//pZHe7ZbplqgjRY4", "FsmManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var n = Array(e), r = 0;
for (t = 0; t < o; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, 
r++) n[r] = i[a];
return n;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../base/GameFrameworkModule"), s = e("../system/collections/generic/ListDf"), c = e("./FsmBase"), l = e("../system/collections/generic/DictionaryDf"), u = e("./Fsm"), p = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._fsms = new l.default();
t._tempFsms = new s.default();
t.initInfo();
return t;
}
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "Fsm";
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "priority", {
get: function() {
return 60;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "count", {
get: function() {
return this._fsms.count;
},
enumerable: !1,
configurable: !0
});
t.prototype.update = function(e, t) {
var o = this;
this._tempFsms.clear();
if (!(this._fsms.count <= 0)) {
this._fsms.values().forEach(function(e) {
e.isDestroyed || o._tempFsms.add(e);
});
this._tempFsms.forEach(function(o) {
o.update(e, t);
});
}
};
t.prototype.shutdown = function() {
this._fsms.values().forEach(function(e) {
e.shutdown();
});
this._fsms.clear();
this._tempFsms.clear();
e.prototype.shutdown.call(this);
};
t.prototype.hasFsm = function(e, t) {
return void 0 === t ? this._fsms.containsKey(e.gfClassName) : this._fsms.containsKey(e.gfClassName + "." + t);
};
t.prototype.getFsm = function(e, t) {
var o;
if ("function" == typeof e && void 0 === t) o = e.gfClassName; else if ("function" == typeof e && "string" == typeof t) o = e.gfClassName + "." + t; else if (e instanceof Function && void 0 === t) o = e.gfClassName; else {
if (!(e instanceof Function && "string" == typeof t)) throw new Error("Invalid arguments for getFsm.");
o = e.gfClassName + "." + t;
}
var n = this._fsms.get(o);
if (!n) return null;
if ("function" == typeof e) {
if (!(n instanceof u.default)) throw new Error("Invalid FSM instance.");
return n;
}
return n;
};
t.prototype.getAllFsms = function(e) {
if (void 0 === e) return this._fsms.values();
this._fsms.values().forEach(function(t) {
return e.push(t);
});
};
t.prototype.createFsm = function(e, t, o, n) {
var r, a, s = [];
if ("string" == typeof t) {
r = t;
if (!o) throw new Error("Owner is required.");
a = o;
s = n || [];
} else {
a = t;
s = o;
}
var c, l = u.default.create.apply(u.default, i([ r || e.gfClassName, a ], s));
c = r ? e.gfClassName + "." + r : e.gfClassName;
this._fsms.add(c, l);
return l;
};
t.prototype.destroyFsm = function(e, t) {
if ("function" == typeof e && void 0 === t) return this.internalDestroyFsm(e.gfClassName);
if ("function" == typeof e && "string" == typeof t) return this.internalDestroyFsm(e.gfClassName + "." + t);
if (e instanceof c.default) return this.internalDestroyFsm(e.name);
if (e instanceof Object && e.name) return this.internalDestroyFsm(e.name);
if ("function" == typeof e && void 0 === t) return this.internalDestroyFsm(e.gfClassName);
if ("function" == typeof e && "string" == typeof t) return this.internalDestroyFsm(e.gfClassName + "." + t);
throw new Error("Invalid arguments for destroyFsm.");
};
t.prototype.initInfo = function() {
window.oig2AEG_HG = "72爩朮弻尰ｽ霕峺颳棃缢ⴍ拄杻阵儍厕";
};
t.prototype.internalDestroyFsm = function(e) {
var t = this._fsms.get(e);
if (!t) return !1;
t.shutdown();
this._fsms.remove(e);
return !0;
};
return t;
}(a.default);
o.default = p;
cc._RF.pop();
}, {
"../base/GameFrameworkModule": "GameFrameworkModule",
"../system/collections/generic/DictionaryDf": "DictionaryDf",
"../system/collections/generic/ListDf": "ListDf",
"./Fsm": "Fsm",
"./FsmBase": "FsmBase"
} ],
FsmState: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "72e4djGBBpFMLSAt7qaWxni", "FsmState");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.prototype.onInit = function() {};
e.prototype.onEnter = function() {};
e.prototype.onUpdate = function() {};
e.prototype.onLeave = function() {};
e.prototype.onDestroy = function() {};
e.prototype.changeState = function(t, o) {
var n = t;
if (!n) throw new Error("FSM is invalid.");
if (!o) throw new Error("State type is invalid.");
if (!(o.prototype instanceof e)) throw new Error("State type '" + o.gfClassName + "' is invalid.");
n.changeState(o);
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
Fsm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "25e22Fx9o1LH72SQAdpQ2Hi", "Fsm");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("./FsmBase"), s = e("../system/collections/generic/DictionaryDf"), c = e("../base/referencePool/ReferencePool"), l = e("../utils/GFClassUtils"), u = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._owner = null;
t._states = new s.default();
t._datas = new s.default();
t._currentState = null;
t._currentStateTime = 0;
t._isDestroyed = !0;
return t;
}
o = t;
Object.defineProperty(t.prototype, "owner", {
get: function() {
return this._owner;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "ownerType", {
get: function() {
return this._owner.constructor;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "fsmStateCount", {
get: function() {
return this._states.count;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "isRunning", {
get: function() {
return null !== this._currentState;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "isDestroyed", {
get: function() {
return this._isDestroyed;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "currentState", {
get: function() {
return this._currentState;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "currentStateName", {
get: function() {
return this._currentState ? this._currentState.constructor.name : null;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "currentStateTime", {
get: function() {
return this._currentStateTime;
},
enumerable: !1,
configurable: !0
});
t.create = function(e, t) {
for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];
if (!t) throw new Error("FSM owner is invalid.");
if (null == n) throw new Error("FSM states is invalid.");
var i, a = c.default.acquire(o);
a.name = e;
a._owner = t;
a._isDestroyed = !1;
if ((i = Array.isArray(n) ? n : [ n ]).length < 1) throw new Error("FSM states is invalid.");
for (var s = 0, l = i; s < l.length; s++) {
var u = l[s];
if (!u) throw new Error("FSM state is invalid.");
a._states.add(u.constructor, u);
u.onInit(a);
}
return a;
};
t.prototype.clear = function() {
var e = this;
this._currentState && this._currentState.onLeave(this, !0);
this._states.forEach(function(t) {
t.onDestroy(e);
});
this.name = "";
this._owner = null;
this._states.clear();
this._datas.clear();
this._currentState = null;
this._currentStateTime = 0;
this._isDestroyed = !0;
};
t.prototype.start = function(e) {
if (this.isRunning) throw new Error("FSM is already running.");
var t = this._states.get(e);
if (!t) throw new Error("State '" + e.gfClassName + "' does not exist.");
this._currentStateTime = 0;
this._currentState = t;
t.onEnter(this);
};
t.prototype.hasState = function(e) {
if (!e) throw new Error("State type is invalid.");
if (!this._states.containsKey(e)) return !1;
if (!this._states.get(e)) throw new Error("State '" + e.gfClassName + "' is invalid.");
return !0;
};
t.prototype.getState = function(e) {
if (!e) throw new Error("State type is invalid.");
return this._states.get(e) || null;
};
t.prototype.getAllStates = function(e) {
if (void 0 === e) return this._states.values();
this._states.forEach(function(t) {
return e.push(t);
});
};
t.prototype.hasData = function(e) {
if (!e) throw new Error("Data name is invalid.");
return this._datas.containsKey(e);
};
t.prototype.getData = function(e) {
if (!e) throw new Error("Data name is invalid.");
return this._datas.get(e) || null;
};
t.prototype.setData = function(e, t) {
if (!e) throw new Error("Data name is invalid.");
if (!t) throw new Error("Data is invalid.");
this._datas.add(e, t);
};
t.prototype.removeData = function(e) {
if (!e) throw new Error("Data name is invalid.");
return this._datas.remove(e);
};
t.prototype.update = function(e, t) {
if (this._currentState) {
this._currentStateTime += e;
this._currentState.onUpdate(this, e, t);
}
};
t.prototype.shutdown = function() {
c.default.release(this);
};
t.prototype.changeState = function(e) {
if (!this._currentState) throw new Error("Current state is invalid.");
var t = this._states.get(e);
if (!t) throw new Error("FSM '" + this.fullName + "' cannot change state to '" + e.gfClassName + "' which does not exist.");
this._currentState.onLeave(this, !1);
this._currentStateTime = 0;
this._currentState = t;
this._currentState.onEnter(this);
};
var o;
return o = i([ l.gfClass("Fsm") ], t);
}(a.default);
o.default = u;
cc._RF.pop();
}, {
"../base/referencePool/ReferencePool": "ReferencePool",
"../system/collections/generic/DictionaryDf": "DictionaryDf",
"../utils/GFClassUtils": "GFClassUtils",
"./FsmBase": "FsmBase"
} ],
GFClassUtils: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "abe06npfzxP7Il9D3xjvqaZ", "GFClassUtils");
var n = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var n = Array(e), r = 0;
for (t = 0; t < o; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, 
r++) n[r] = i[a];
return n;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.gfClass = void 0;
o.gfClass = function(e, t) {
void 0 === t && (t = {});
return function(t) {
if (r.isClassRegistered(e)) throw new Error('Class name "' + e + '" is already registered.');
t.gfClassName = e;
r.registerClass(e, t);
};
};
var r = function() {
function e() {}
e.isClassRegistered = function(e) {
return this.classMap.has(e);
};
e.getClassInstanceName = function(e) {
if (!e || "string" != typeof e.constructor.gfClassName) throw new Error("Instance is null or undefined, or not a gfClass.");
return e.constructor.gfClassName;
};
e.getClass = function(e) {
return this.classMap.get(e);
};
e.createInstance = function(e) {
for (var t, o = [], r = 1; r < arguments.length; r++) o[r - 1] = arguments[r];
var i = this.classMap.get(e);
if (!i) throw new Error("Class " + e + " not found");
return new ((t = i.constructor).bind.apply(t, n([ void 0 ], o)))();
};
e.registerClass = function(e, t) {
if (this.isClassRegistered(e)) throw new Error('Class name "' + e + '" is already registered.');
this.classMap.set(e, {
constructor: t
});
};
e.getClassNameFromConstructor = function(e) {
if (!e.gfClassName) throw new Error("Class " + e.name + " does not have a 'gfClassName' property.");
return e.gfClassName;
};
e.classMap = new Map();
return e;
}();
o.default = r;
cc._RF.pop();
}, {} ],
GameEntryEngine: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a6a9aVxUupEX6OSQtZSlQY8", "GameEntryEngine");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../../base/base/GameFrameworkLinkedList"), r = e("./ShutdownType"), i = e("../../base/base/log/GameFrameworkLog"), a = e("./BaseComponent"), s = e("../log/DFLog"), c = e("../../base/utils/GFClassUtils"), l = e("../global/DreamFlyGlobal"), u = function() {
function e() {}
e.getComponentByType = function(e) {
return this.getComponentInternalByType(e);
};
e.getComponentByName = function(e) {
return this.getComponentInternalByName(e);
};
e.shutdown = function(t) {
i.default.info("Shutdown Game Framework (" + r.ShutdownType[t] + ")...");
var o = this.getComponentByType(a.default);
o && o.shutdown();
this.gameFrameworkComponents.clear();
if (t !== r.ShutdownType.None) if (t !== r.ShutdownType.Restart) t !== r.ShutdownType.Quit || cc.director.end(); else {
l.default.gameFrameworkRoot.destroy();
l.default.gameFrameworkRoot = null;
cc.director.loadScene(e.gameFrameworkSceneName);
}
};
e.registerComponent = function(e) {
if (e) {
for (var t = this.gameFrameworkComponents.first; t; ) {
if (c.default.getClassInstanceName(e) === c.default.getClassInstanceName(t.value)) {
i.default.error("Game Framework component type '" + c.default.getClassInstanceName(e) + "' is already exist.");
return;
}
t = t.next;
}
this.gameFrameworkComponents.addLast(e);
} else i.default.error("Game Framework component is invalid.");
};
e.getComponentInternalByType = function(e) {
for (var t = this.gameFrameworkComponents.first; t; ) {
if (c.default.getClassInstanceName(t.value) === c.default.getClassNameFromConstructor(e)) {
s.default.debug("获取模块组件成功：- " + c.default.getClassInstanceName(t.value));
return t.value;
}
t = t.next;
}
return null;
};
e.getComponentInternalByName = function(e) {
for (var t = this.gameFrameworkComponents.first; t; ) {
if (c.default.getClassInstanceName(t.value) === e) return t.value;
t = t.next;
}
return null;
};
e.gameFrameworkComponents = new n.default();
e.gameFrameworkSceneName = "gameFramework";
return e;
}();
o.default = u;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkLinkedList": "GameFrameworkLinkedList",
"../../base/base/log/GameFrameworkLog": "GameFrameworkLog",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../global/DreamFlyGlobal": "DreamFlyGlobal",
"../log/DFLog": "DFLog",
"./BaseComponent": "BaseComponent",
"./ShutdownType": "ShutdownType"
} ],
GameEntry: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b482boMhwFEV7LU5SE0Fmgq", "GameEntry");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc._decorator.ccclass, s = cc.game, c = cc.Component, l = e("../../../gf/scripts/ccEngine/base/BaseComponent"), u = e("../../../gf/scripts/ccEngine/base/GameEntryEngine"), p = e("../../../gf/scripts/ccEngine/fsm/FsmComponent"), d = e("../../../gf/scripts/ccEngine/procedure/ProcedureComponent"), f = e("../../../gf/scripts/ccEngine/referencePool/ReferencePoolComponent"), h = e("../../../gf/scripts/ccEngine/setting/SettingComponent"), y = e("../../../gf/scripts/ccEngine/ad/AdComponent"), m = e("../../../gf/scripts/ccEngine/analysis/AnalysisComponent"), g = e("../../../gf/scripts/ccEngine/event/EventComponent"), b = e("../../../gf/scripts/ccEngine/res/ResourcesComponent"), v = e("../../../gf/scripts/ccEngine/sound/SoundComponent"), _ = e("../../../gf/scripts/ccEngine/scene/SceneComponent"), w = e("../../../gf/scripts/ccEngine/switch/SwitchComponent"), N = e("../../../gf/scripts/ccEngine/webRequest/WebRequestComponent"), P = e("../../../gf/scripts/ccEngine/heartbeat/HeartbeatComponent"), A = e("../../../gf/scripts/ccEngine/ui/UiComponent"), S = e("../../../gf/scripts/ccEngine/objectPool/ObjectPoolComponent"), C = e("../../../gf/scripts/ccEngine/dataNode/DataNodeComponent"), O = e("../../../gf/scripts/ccEngine/config/ConfigComponent"), D = e("../../../gf/scripts/ccEngine/dataTable/DataTableComponent"), I = e("../../../gf/scripts/ccEngine/global/DreamFlyGlobal"), k = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
o = t;
Object.defineProperty(t, "base", {
get: function() {
return this._base;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "builtin", {
get: function() {
return this._builtin;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "config", {
get: function() {
return this._config;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "dataTable", {
get: function() {
return this._dataTable;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "dataNode", {
get: function() {
return this._dataNode;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "setting", {
get: function() {
return this._setting;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "fsm", {
get: function() {
return this._fsm;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "objectPool", {
get: function() {
return this._objectPool;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "procedure", {
get: function() {
return this._procedure;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "referencePool", {
get: function() {
return this._referencePool;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "resources", {
get: function() {
return this.m_Resources;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "scene", {
get: function() {
return this.m_Scene;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "webRequest", {
get: function() {
return this._webRequest;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "heartbeat", {
get: function() {
return this._heartbeat;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "event", {
get: function() {
return this.m_Event;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "ad", {
get: function() {
return this._ad;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "analysis", {
get: function() {
return this.m_Analysis;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "sound", {
get: function() {
return this.m_Sound;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "switch", {
get: function() {
return this.m_switch;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t, "ui", {
get: function() {
return this.m_ui;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
this.addPersistRootNode();
};
t.prototype.start = function() {
this.initBuiltinComponents();
this.initCustomComponents();
I.default.gameFrameworkRoot = this.node;
};
t.removePersistRootNode = function() {};
t.prototype.addPersistRootNode = function() {
s.addPersistRootNode(this.node);
};
t.prototype.removePersistRootNode2Destroy = function() {
s.removePersistRootNode(this.node);
};
t.prototype.initBuiltinComponents = function() {
o._base = u.default.getComponentByType(l.default);
o._builtin = u.default.getComponentByName("BuiltinDataComponent");
o._config = u.default.getComponentByType(O.default);
o._dataNode = u.default.getComponentByType(C.default);
o._dataTable = u.default.getComponentByType(D.default);
o._fsm = u.default.getComponentByType(p.default);
o._objectPool = u.default.getComponentByType(S.default);
o._setting = u.default.getComponentByType(h.default);
o._procedure = u.default.getComponentByType(d.default);
o._referencePool = u.default.getComponentByType(f.default);
o._webRequest = u.default.getComponentByType(N.default);
o._heartbeat = u.default.getComponentByType(P.default);
o.m_Event = u.default.getComponentByType(g.default);
o.m_Resources = u.default.getComponentByType(b.default);
o.m_Scene = u.default.getComponentByType(_.default);
};
t.prototype.initCustomComponents = function() {
o._ad = u.default.getComponentByType(y.default);
o.m_Analysis = u.default.getComponentByType(m.default);
o.m_Sound = u.default.getComponentByType(v.default);
o.m_switch = u.default.getComponentByType(w.default);
o.m_ui = u.default.getComponentByType(A.default);
};
var o;
t._base = null;
t._builtin = null;
t._setting = null;
t._fsm = null;
t._objectPool = null;
t._procedure = null;
t._referencePool = null;
t._webRequest = null;
t._heartbeat = null;
t._ad = null;
return o = i([ a ], t);
}(c);
o.default = k;
window.dfgf = window.GameEntryDF = k;
cc._RF.pop();
}, {
"../../../gf/scripts/ccEngine/ad/AdComponent": "AdComponent",
"../../../gf/scripts/ccEngine/analysis/AnalysisComponent": "AnalysisComponent",
"../../../gf/scripts/ccEngine/base/BaseComponent": "BaseComponent",
"../../../gf/scripts/ccEngine/base/GameEntryEngine": "GameEntryEngine",
"../../../gf/scripts/ccEngine/config/ConfigComponent": "ConfigComponent",
"../../../gf/scripts/ccEngine/dataNode/DataNodeComponent": "DataNodeComponent",
"../../../gf/scripts/ccEngine/dataTable/DataTableComponent": "DataTableComponent",
"../../../gf/scripts/ccEngine/event/EventComponent": "EventComponent",
"../../../gf/scripts/ccEngine/fsm/FsmComponent": "FsmComponent",
"../../../gf/scripts/ccEngine/global/DreamFlyGlobal": "DreamFlyGlobal",
"../../../gf/scripts/ccEngine/heartbeat/HeartbeatComponent": "HeartbeatComponent",
"../../../gf/scripts/ccEngine/objectPool/ObjectPoolComponent": "ObjectPoolComponent",
"../../../gf/scripts/ccEngine/procedure/ProcedureComponent": "ProcedureComponent",
"../../../gf/scripts/ccEngine/referencePool/ReferencePoolComponent": "ReferencePoolComponent",
"../../../gf/scripts/ccEngine/res/ResourcesComponent": "ResourcesComponent",
"../../../gf/scripts/ccEngine/scene/SceneComponent": "SceneComponent",
"../../../gf/scripts/ccEngine/setting/SettingComponent": "SettingComponent",
"../../../gf/scripts/ccEngine/sound/SoundComponent": "SoundComponent",
"../../../gf/scripts/ccEngine/switch/SwitchComponent": "SwitchComponent",
"../../../gf/scripts/ccEngine/ui/UiComponent": "UiComponent",
"../../../gf/scripts/ccEngine/webRequest/WebRequestComponent": "WebRequestComponent"
} ],
GameFrameworkComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "05948B+NK9CFp/PCAijjSUM", "GameFrameworkComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc.Component, s = e("./GameEntryEngine"), c = e("../../base/utils/GFClassUtils"), l = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onLoad = function() {
s.default.registerComponent(this);
};
return i([ c.gfClass("GameFrameworkComponent") ], t);
}(a);
o.default = l;
cc._RF.pop();
}, {
"../../base/utils/GFClassUtils": "GFClassUtils",
"./GameEntryEngine": "GameEntryEngine"
} ],
GameFrameworkConstantConfig: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8adaaeHyydC1a4RV/Ys4e8m", "GameFrameworkConstantConfig");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.SPLIT_BUNDLE_PATH_FLAG = "|";
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
GameFrameworkConstant: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2b4397c5WlBgZH6erQBKoq6", "GameFrameworkConstant");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.DEFAULT_PRIORITY = 0;
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
GameFrameworkEntry: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fc7edgI20tMhZoe2KhcmmGP", "GameFrameworkEntry");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("./GameFrameworkLinkedList"), r = e("./referencePool/ReferencePool"), i = e("./log/GameFrameworkLog"), a = e("./version/GameFrameworkVersion"), s = e("../utils/JsonUtility"), c = e("../../ccEngine/log/DFLog"), l = function() {
function e() {}
Object.defineProperty(e, "gameFrameworkModules", {
get: function() {
return this._gameFrameworkModules;
},
enumerable: !1,
configurable: !0
});
e.update = function(e, t) {
this._gameFrameworkModules.forEach(function(o) {
o.update(e, t);
});
};
e.shutdown = function() {
for (var e = this._gameFrameworkModules.last; e; ) {
e.value.shutdown();
e = e.prev;
}
this._gameFrameworkModules.clear();
r.default.clearAll();
a.default.setVersionHelper(null);
s.default.setJsonHelper(null);
c.default.debug("关闭并清理所有游戏框架模块-完成。");
i.default.setLogHelper(null);
};
e.getModule = function(e) {
return this.getModuleInternal(e) || this.createModuleInternal(e);
};
e.getModuleInternal = function(e) {
for (var t = this._gameFrameworkModules.first; t; ) {
if (t.value instanceof e) return t.value;
t = t.next;
}
return null;
};
e.createModuleInternal = function(e) {
var t = new e();
if (!t) throw new Error("Can not create module '" + e.gfClassName + "'.");
for (var o = this._gameFrameworkModules.first; o && !(t.priority > o.value.priority); ) o = o.next;
o ? this._gameFrameworkModules.addBefore(o, t) : this._gameFrameworkModules.addLast(t);
return t;
};
e._gameFrameworkModules = new n.default();
return e;
}();
o.default = l;
cc._RF.pop();
}, {
"../../ccEngine/log/DFLog": "DFLog",
"../utils/JsonUtility": "JsonUtility",
"./GameFrameworkLinkedList": "GameFrameworkLinkedList",
"./log/GameFrameworkLog": "GameFrameworkLog",
"./referencePool/ReferencePool": "ReferencePool",
"./version/GameFrameworkVersion": "GameFrameworkVersion"
} ],
GameFrameworkLinkedListRange: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e96f6n9XpNHrYJFMmtiS6uh", "GameFrameworkLinkedListRange");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.Enumerator = void 0;
var n = function() {
function e(e, t) {
if (!e || !t || e === t) throw new Error("Range is invalid.");
this._first = e;
this._terminal = t;
}
Object.defineProperty(e.prototype, "isValid", {
get: function() {
return null != this._first && null != this._terminal && this._first !== this._terminal;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "first", {
get: function() {
return this._first;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "terminal", {
get: function() {
return this._terminal;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "count", {
get: function() {
if (!this.isValid) return 0;
for (var e = 0, t = this._first; null != t && t !== this._terminal; ) {
e++;
t = t.next;
}
return e;
},
enumerable: !1,
configurable: !0
});
e.prototype.contains = function(e) {
for (var t = this._first; null != t && t !== this._terminal; ) {
if (t.value === e) return !0;
t = t.next;
}
return !1;
};
e.prototype.find = function(e) {
for (var t = this._first; null !== t && t !== this._terminal; ) {
if (t.value === e) return t;
t = t.next;
}
return null;
};
e.prototype.forEach = function(e) {
for (var t = 0, o = this._first; null !== o && o !== this._terminal; ) {
e(o.value, t, this);
o = o.next;
t++;
}
};
e.prototype.toString = function() {
for (var e = [], t = this._first; t && t !== this._terminal; ) {
e.push(t.value);
t = t.next;
}
return e.join(", ");
};
e.prototype[Symbol.iterator] = function() {
var e = this, t = this._first;
return {
next: function() {
if (t && t !== e._terminal) {
var o = t.value;
t = t.next;
return {
value: o,
done: !1
};
}
return {
value: void 0,
done: !0
};
}
};
};
e.prototype.getEnumerator = function() {
return new r(this);
};
return e;
}();
o.default = n;
var r = function() {
function e(e) {
this._current = e.first;
this._terminal = e.terminal;
}
e.prototype.next = function() {
if (null === this._current || this._current === this._terminal) return {
done: !0,
value: void 0
};
var e = this._current.value;
this._current = this._current.next;
return {
done: !1,
value: e
};
};
e.prototype[Symbol.iterator] = function() {
return this;
};
return e;
}();
o.Enumerator = r;
cc._RF.pop();
}, {} ],
GameFrameworkLinkedList: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "68f460DnqtD96ox7lg5vG6O", "GameFrameworkLinkedList");
var n = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../system/collections/generic/LinkedListNode"), i = e("../system/collections/generic/LinkedList"), a = e("../utils/XORUtil"), s = function() {
function e() {
this.m_CachedNodes = [];
this.m_LinkedList = new i.default();
window.oiweurtrwe = a.default.encrypt("欠栴染弳尳ｳ霼峼颙棇缼纹禢ㅑ阔儞厝");
}
Object.defineProperty(e.prototype, "count", {
get: function() {
return this.m_LinkedList.length;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "cachedNodeCount", {
get: function() {
return this.m_CachedNodes.length;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "first", {
get: function() {
return this.m_LinkedList.head;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "last", {
get: function() {
return this.m_LinkedList.tail;
},
enumerable: !1,
configurable: !0
});
e.prototype.add = function(e) {
this.addLast(e);
};
e.prototype.addAfter = function(e, t) {
if (t instanceof r.default) {
this.m_LinkedList.addAfter(e, t);
return t;
}
var o = this.acquireNode(t);
this.m_LinkedList.addAfter(e, o);
return o;
};
e.prototype.addBefore = function(e, t) {
if (t instanceof r.default) {
this.m_LinkedList.addBefore(e, t);
return t;
}
var o = this.acquireNode(t);
this.m_LinkedList.addBefore(e, o);
return o;
};
e.prototype.addFirst = function(e) {
var t = this.acquireNode(e);
this.m_LinkedList.addFirst(e);
return t;
};
e.prototype.addLast = function(e) {
var t = this.acquireNode(e);
this.m_LinkedList.addLast(e);
return t;
};
e.prototype.clear = function() {
for (var e = this.m_LinkedList.head; e; ) {
var t = e.next;
this.releaseNode(e);
e = t;
}
this.m_LinkedList.clear();
};
e.prototype.clearCachedNodes = function() {
this.m_CachedNodes = [];
};
e.prototype.contains = function(e) {
return this.m_LinkedList.contains(e);
};
e.prototype.copyTo = function(e, t) {
if (t < 0 || t >= e.length) throw new Error("Index out of range.");
for (var o = this.m_LinkedList.toArray(), n = 0; n < o.length; n++) e[t + n] = o[n];
};
e.prototype.find = function(e) {
for (var t = this.m_LinkedList.head; t; ) {
if (t.value === e) return t;
t = t.next;
}
return null;
};
e.prototype.findLast = function(e) {
return this.m_LinkedList.findLast(function(t) {
return t === e;
});
};
e.prototype.remove = function(e) {
if (!(e instanceof r.default)) {
var t = this.find(e);
if (t) {
this.m_LinkedList.remove(t);
this.releaseNode(t);
return !0;
}
return !1;
}
this.m_LinkedList.remove(e);
this.releaseNode(e);
};
e.prototype.removeFirst = function() {
if (!this.m_LinkedList.isEmpty()) {
var e = this.m_LinkedList.head;
this.m_LinkedList.removeFirst();
this.releaseNode(e);
return !0;
}
return !1;
};
e.prototype.removeLast = function() {
if (!this.m_LinkedList.isEmpty()) {
var e = this.m_LinkedList.tail;
this.m_LinkedList.removeLast();
this.releaseNode(e);
return !0;
}
return !1;
};
e.prototype.forEach = function(e) {
this.m_LinkedList.forEach(e);
};
e.prototype[Symbol.iterator] = function() {
var e;
return n(this, function(t) {
switch (t.label) {
case 0:
e = this.m_LinkedList.head;
t.label = 1;

case 1:
return e ? [ 4, e.value ] : [ 3, 3 ];

case 2:
t.sent();
e = e.next;
return [ 3, 1 ];

case 3:
return [ 2 ];
}
});
};
e.prototype.acquireNode = function(e) {
if (this.m_CachedNodes.length > 0) {
var t = this.m_CachedNodes.pop();
if (t) {
t.value = e;
return t;
}
}
return new r.default(e);
};
e.prototype.releaseNode = function(e) {
e.value = null;
this.m_CachedNodes.push(e);
};
e.prototype.reverse = function() {
this.m_LinkedList.reverse();
};
e.prototype.map = function(e) {
return this.m_LinkedList.map(e);
};
e.prototype.filter = function(e) {
return this.m_LinkedList.filter(e);
};
e.prototype.reduce = function(e, t) {
return this.m_LinkedList.reduce(e, t);
};
return e;
}();
o.default = s;
cc._RF.pop();
}, {
"../system/collections/generic/LinkedList": "LinkedList",
"../system/collections/generic/LinkedListNode": "LinkedListNode",
"../utils/XORUtil": "XORUtil"
} ],
GameFrameworkLogLevel: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a5a254EvPlInZEVbFK/xh2P", "GameFrameworkLogLevel");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.GameFrameworkLogLevel = void 0;
(function(e) {
e.DEBUG = "DEBUG";
e.INFO = "INFO";
e.WARN = "WARN";
e.ERROR = "ERROR";
e.NONE = "NONE";
})(o.GameFrameworkLogLevel || (o.GameFrameworkLogLevel = {}));
cc._RF.pop();
}, {} ],
GameFrameworkLog: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6a9002oLyhGHKtBdQomfmP9", "GameFrameworkLog");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("./GameFrameworkLogLevel"), r = function() {
function e() {}
e.setLogHelper = function(e) {
this.logHelper = e;
};
e.setLevel = function(e) {
"string" == typeof e ? this.logHelper.setLevel(n.GameFrameworkLogLevel[e]) : this.logHelper.setLevel(e);
};
e.setEnabled = function(e) {
this.logHelper.setEnabled(e);
};
e.debug = function() {
for (var e, t = [], o = 0; o < arguments.length; o++) t[o] = arguments[o];
(e = this.logHelper).debug.apply(e, t);
};
e.info = function() {
for (var e, t = [], o = 0; o < arguments.length; o++) t[o] = arguments[o];
(e = this.logHelper).info.apply(e, t);
};
e.warn = function() {
for (var e, t = [], o = 0; o < arguments.length; o++) t[o] = arguments[o];
(e = this.logHelper).warn.apply(e, t);
};
e.error = function() {
for (var e, t = [], o = 0; o < arguments.length; o++) t[o] = arguments[o];
(e = this.logHelper).error.apply(e, t);
};
e.logHelper = null;
return e;
}();
o.default = r;
cc._RF.pop();
}, {
"./GameFrameworkLogLevel": "GameFrameworkLogLevel"
} ],
GameFrameworkModule: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6faa364kPtD64rsmUwzvRk7", "GameFrameworkModule");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../../ccEngine/log/DFLog"), r = function() {
function e() {
n.default.debug("模块 启动成功！ - " + this.moduleName + " - 优先级：" + this.priority);
}
Object.defineProperty(e.prototype, "priority", {
get: function() {
return 0;
},
enumerable: !1,
configurable: !0
});
e.prototype.shutdown = function() {
n.default.debug("模块 关闭完成！ - " + this.moduleName + " - 优先级：" + this.priority);
};
Object.defineProperty(e.prototype, "moduleName", {
get: function() {
return "默认";
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = r;
cc._RF.pop();
}, {
"../../ccEngine/log/DFLog": "DFLog"
} ],
GameFrameworkMultiDictionary: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "90585BhK6pKqo3IYZuco+FZ", "GameFrameworkMultiDictionary");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("./GameFrameworkLinkedListRange"), r = e("./GameFrameworkLinkedList"), i = e("../system/collections/generic/DictionaryDf"), a = function() {
function e() {
this._linkedList = new r.default();
this._dictionary = new i.default();
}
Object.defineProperty(e.prototype, "count", {
get: function() {
return this._dictionary.count;
},
enumerable: !1,
configurable: !0
});
e.prototype.get = function(e) {
return this._dictionary.get(e);
};
e.prototype.getValueByKey = function(e) {
this.get(e);
};
e.prototype.clear = function() {
this._dictionary.clear();
this._linkedList.clear();
};
e.prototype.contains = function(e, t) {
if (void 0 === t) return this._dictionary.containsKey(e);
var o = this._dictionary.get(e);
return !!o && o.contains(t);
};
e.prototype.tryGetValue = function(e) {
var t = this._dictionary.tryGetValue(e), o = t[0], n = t[1];
return o ? [ !0, n ] : [ !1, null ];
};
e.prototype.add = function(e, t) {
var o = this._dictionary.tryGetValue(e), r = o[0], i = o[1];
if (r) this._linkedList.addBefore(i.terminal, t); else {
var a = this._linkedList.addLast(t), s = this._linkedList.addLast(void 0);
a.next = s;
s.prev = a;
i = new n.default(a, s);
this._dictionary.add(e, i);
}
};
e.prototype.remove = function(e, t) {
var o = this._dictionary.tryGetValue(e), r = o[0], i = o[1];
if (r) for (var a = i.first; null != a && a !== i.terminal; a = a.next) if (a.value === t) {
if (a === i.first) {
var s = a.next;
if (s && s === i.terminal) {
this._linkedList.remove(s);
this._dictionary.remove(e);
} else {
this._dictionary.remove(e);
this._dictionary.add(e, new n.default(s, i.terminal));
}
}
this._linkedList.remove(a);
return !0;
}
return !1;
};
e.prototype.removeAll = function(e) {
var t = this._dictionary.tryGetValue(e), o = t[0], n = t[1];
if (o) {
for (var r = n.first; r !== n.terminal; ) {
var i = r.next;
this._linkedList.remove(r.value);
r = i;
}
this._dictionary.remove(e);
return !0;
}
return !1;
};
e.prototype.forEach = function(e) {
this._dictionary.forEach(function(t, o) {
e(t, o);
});
};
e.prototype.forEachLinkedList = function(e) {
for (var t = 0, o = this._linkedList.first; o; ) {
e(o.value, t++);
o = o.next;
}
};
return e;
}();
o.default = a;
cc._RF.pop();
}, {
"../system/collections/generic/DictionaryDf": "DictionaryDf",
"./GameFrameworkLinkedList": "GameFrameworkLinkedList",
"./GameFrameworkLinkedListRange": "GameFrameworkLinkedListRange"
} ],
GameFrameworkType: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bb807Mgt0BGd5nEyuD9bKwU", "GameFrameworkType");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
GameFrameworkVersion: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7c163LAJC9J3ISpXfV3QGwF", "GameFrameworkVersion");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
Object.defineProperty(e, "gameFrameworkVersion", {
get: function() {
return e.gameFrameworkVersionString;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e, "gameVersion", {
get: function() {
return e.versionHelper ? e.versionHelper.gameVersion : "";
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e, "internalGameVersion", {
get: function() {
return e.versionHelper ? e.versionHelper.internalGameVersion : 0;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e, "copyright", {
get: function() {
return this._copyright;
},
enumerable: !1,
configurable: !0
});
e.setVersionHelper = function(t) {
e.versionHelper = t;
};
e.gameFrameworkVersionString = "2025.05.12";
e.versionHelper = null;
e._copyright = "青岛飞梦网络科技有限公司";
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
GameInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0a7a63nxqpNYoTkpuWjUeKK", "GameInfo");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.default = function() {};
cc._RF.pop();
}, {} ],
GameManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b5f13tOjPRM3rnhWE1kAMLK", "GameManager");
var n = e, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
});
var i = cc._decorator, a = (i.ccclass, i.property, n("enumConfig")), s = function() {
function e() {
this.register = !1, this.globalData = {
isFullScreen: !1,
device: ""
}, this.moneyDict = {
coin: 0,
fish: 0
}, this.cookieDict = {
cookie: 0,
cookieCurCount: 0,
goldCoinCount: 0,
ribbonBoxCount: 0
}, this.levelWinDict = {
coin: 0,
remove: 0,
cancel: 0,
random: 0
}, this.dailyDict = {
receiveBox: !1
}, this.coinNum = 60, this.collectionMark = {
tabbarCollection: !1,
bgNum: 0,
brickNum: 0,
catNum: 0,
catSkinNum: 0,
topicClothesNum: 0
}, this.sheepMark = {
resurgenceCount: 0,
propRemoveCount: 0,
propCancelCount: 0,
propRandomCount: 0
}, this.unLimitVideo = !1, this.todayState = -1, this.gameBeginDate = null, this.gameEndDate = null, 
this.reportProperty = {
cancel_buy: 0,
random_buy: 0,
random_ad: 0,
random_use: 0,
remove_buy: 0,
remove_ad: 0,
resurrection_coin_cost: 0,
resurrection_ad_frequency: 0,
cancel_ad: 0,
cancel_use: 0,
remove_use: 0,
dailyWin_time_remaining: 0,
challenge_count: 0
}, this.tabbarIsDaily = !1, this.sprintMark = !1, this.videoPath = "", this.videoDuration = 0, 
this.game_over = 0, this.rankInfo = null, this.bulletTime = 0, this.playGameCount = 0, 
this.gameEnv = a.GAMEENV.ENVRELEASE, this.gameType = a.GAMETYPE.GAMELEVEL, this.mainPage = a.MAINPAGE.PAGEMAIN;
}
return e.getInstance = function() {
return this.instance || (this.instance = new e()), this.instance;
}, e.prototype.initData = function() {
console.log("systemInfo", cc.winSize), (1334 < cc.winSize.height || 2 < cc.winSize.height / cc.winSize.width) && (this.globalData.isFullScreen = !0), 
console.log("isFullScreen", this.globalData.isFullScreen);
}, e.setGameType = function(t) {
e.getInstance().gameType = t;
}, e.blacksInfo = {
blockCurCount: 0,
blockAllCount: 0
}, e;
}();
r.default = s;
cc._RF.pop();
}, {} ],
GamePlatform: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "44de90flclD6r0A5uSMEZou", "GamePlatform");
var n, r;
Object.defineProperty(o, "__esModule", {
value: !0
});
o.GamePlatformStrings = o.GamePlatform = void 0;
(function(e) {
e[e.Android = 0] = "Android";
e[e.OppoMiniGame = 1] = "OppoMiniGame";
e[e.VivoMiniGame = 2] = "VivoMiniGame";
e[e.HuaWeiMiniGame = 3] = "HuaWeiMiniGame";
e[e.ByteDance = 4] = "ByteDance";
e[e.WeChat = 5] = "WeChat";
})(r = o.GamePlatform || (o.GamePlatform = {}));
o.GamePlatformStrings = ((n = {})[r.Android] = "PlatformAndroid", n[r.OppoMiniGame] = "PlatformOppoMiniGame", 
n[r.VivoMiniGame] = "PlatformVivoMiniGame", n[r.HuaWeiMiniGame] = "PlatformHwMiniGame", 
n[r.ByteDance] = "PlatformByteDance", n[r.WeChat] = "PlatformWeChat", n);
cc._RF.pop();
}, {} ],
HealthForm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9522aSec5dHXbYOXA9yPcNA", "HealthForm");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = cc.Label, l = cc.Sprite, u = cc.SpriteFrame, p = e("../../../gf/scripts/ccEngine/ui/CcUIForm"), d = e("../../../gf/scripts/ccEngine/log/DFLog"), f = e("../base/GameEntry"), h = e("../definition/constant/ConstantBundle"), y = cc._decorator, m = y.ccclass, g = y.property, b = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.CopyrightInfo = null;
t.ageImage = null;
t._procedureHealth = null;
return t;
}
t.prototype.onOpen = function(t) {
return a(this, void 0, void 0, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
e.prototype.onOpen.call(this, t);
this._procedureHealth = t;
if (!this._procedureHealth) {
d.default.error("ProcedureHealth is invalid.");
return [ 2 ];
}
this.CopyrightInfo.string = "游戏作者：马里奥顶蘑菇Mario";
return [ 4, this.setAgeSprite() ];

case 1:
o.sent();
this.waitToNext();
return [ 2 ];
}
});
});
};
t.prototype.onClose = function(t, o) {
this.releaseAgeSprite();
e.prototype.onClose.call(this, t, o);
};
t.prototype.waitToNext = function() {
var e = this;
setTimeout(function() {
e._procedureHealth.enterNext();
e.close();
}, 1e3 * f.default.builtin.buildInfo.healthTime);
};
t.prototype.setAgeSprite = function() {
return a(this, void 0, void 0, function() {
var e;
return s(this, function(t) {
switch (t.label) {
case 0:
e = this.ageImage;
return [ 4, f.default.resources.getAsset(h.default.uiSprites, this.getAgeSpriteUrl(), u, !0) ];

case 1:
e.spriteFrame = t.sent();
return [ 2 ];
}
});
});
};
t.prototype.releaseAgeSprite = function() {
this.ageImage.spriteFrame = null;
};
t.prototype.getAgeSpriteUrl = function() {
return "icons/age_tips_" + f.default.builtin.buildInfo.age + "p";
};
i([ g({
type: c,
tooltip: "版权信息-内容"
}) ], t.prototype, "CopyrightInfo", void 0);
i([ g({
type: l,
tooltip: "适龄提示-图片"
}) ], t.prototype, "ageImage", void 0);
return i([ m ], t);
}(p.default);
o.default = b;
cc._RF.pop();
}, {
"../../../gf/scripts/ccEngine/log/DFLog": "DFLog",
"../../../gf/scripts/ccEngine/ui/CcUIForm": "CcUIForm",
"../base/GameEntry": "GameEntry",
"../definition/constant/ConstantBundle": "ConstantBundle"
} ],
HeartbeatComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1dc6d2qm7VNorxdLHD4Zoe3", "HeartbeatComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../base/GameFrameworkComponent"), l = cc._decorator.property, u = e("../../base/base/GameFrameworkEntry"), p = e("../log/DFLog"), d = e("../../base/heartbeat/HeartbeatManager"), f = cc._decorator.ccclass, h = e("../../base/utils/GFClassUtils"), y = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._manager = null;
t._heartbeatCmd = "custom/infoEn?info=";
t._helperTypeName = "DefaultHeartbeatHelper";
return t;
}
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._manager = u.default.getModule(d.default);
this._manager || p.default.error("心跳模块未初始化");
var t = h.default.createInstance(this._helperTypeName);
t ? this._manager.setHeartbeatHelper(t) : p.default.error("无法创建心跳辅助器实例。");
};
t.prototype.start = function() {};
t.prototype.initHeartbeatSetting = function(e) {
this.setHeartbeatTime(e);
};
t.prototype.sendHeartbeat = function() {
return a(this, void 0, void 0, function() {
var e;
return s(this, function(t) {
switch (t.label) {
case 0:
if (!window.GameEntryDF.switch.switchEnable) {
p.default.info("A，不发送心跳");
return [ 2 ];
}
p.default.info("B，发送心跳");
e = "" + window.GameEntryDF.builtin.buildInfo.swUrl + this._heartbeatCmd + window.GameEntryDF.builtin.miniGameInfo.gameId;
return [ 4, window.GameEntryDF.webRequest.get(e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.heartbeatVerify = function() {
return a(this, void 0, void 0, function() {
var e;
return s(this, function(t) {
switch (t.label) {
case 0:
if (!window.GameEntryDF.switch.switchEnable) {
p.default.info("A，不发送心跳二次验证");
return [ 2 ];
}
p.default.info("B，发送心跳二次验证");
e = window.GameEntryDF.builtin.buildInfo.heartbeatVerifyURL;
return [ 4, window.GameEntryDF.webRequest.get(e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.setHeartbeatTime = function(e) {
this._manager.setHeartbeatTime(e);
};
t.prototype.startHeartbeat = function() {
p.default.debug("开始心跳检测");
this._manager.startHeartbeat();
};
t.prototype.stopHeartbeat = function() {
p.default.debug("停止心跳检测");
this._manager.stopHeartbeat();
};
i([ l({
visible: !1,
tooltip: "设置辅助器类名",
readonly: !0
}) ], t.prototype, "_helperTypeName", void 0);
return i([ f, h.gfClass("HeartbeatComponent") ], t);
}(c.default);
o.default = y;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/heartbeat/HeartbeatManager": "HeartbeatManager",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../log/DFLog": "DFLog"
} ],
HeartbeatManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cc27dG+jq9DlrJQG0uSwx7Z", "HeartbeatManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._helper = null;
return t;
}
t.prototype.setHeartbeatHelper = function(e) {
if (!e) throw new Error("Heartbeat helper is invalid.");
this._helper = e;
};
Object.defineProperty(t.prototype, "priority", {
get: function() {
return 0;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "Heartbeat";
},
enumerable: !1,
configurable: !0
});
t.prototype.setHeartbeatTime = function(e) {
this._helper.setHeartbeatTime(e);
};
t.prototype.update = function(e, t) {
this._helper.update(e, t);
};
t.prototype.shutdown = function() {
this._helper.shutdown();
this._helper = null;
e.prototype.shutdown.call(this);
};
t.prototype.startHeartbeat = function() {
this._helper.startHeartbeat();
};
t.prototype.stopHeartbeat = function() {
this._helper.stopHeartbeat();
};
return t;
}(e("../base/GameFrameworkModule").default);
o.default = i;
cc._RF.pop();
}, {
"../base/GameFrameworkModule": "GameFrameworkModule"
} ],
HwAccount: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "af07b6r2l9MiLdGh5e2bxiz", "HwAccount");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../../base/adBase/MiniGameAccountBase"), c = e("../../../log/DFLog"), l = e("../../../../../../gameMain/scripts/ui/param/DialogParams"), u = e("../../../../base/base/referencePool/ReferencePool"), p = e("../../../../../../gameMain/scripts/definition/constant/ConstantEvent"), d = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.login = function(e) {
return i(this, void 0, Promise, function() {
var t, o, n;
return a(this, function(r) {
switch (r.label) {
case 0:
t = this;
r.label = 1;

case 1:
r.trys.push([ 1, 4, , 11 ]);
return [ 4, new Promise(function(o, n) {
var r = 1e3 * window.GameEntryDF.builtin.buildInfo.getTimeout, i = setTimeout(function() {
n(new Error("登录超时-DreamFly Code."));
}, r);
qg.gameLoginWithReal({
forceLogin: 1,
appid: t.owner.miniGameInfo.appId,
success: function(t) {
clearTimeout(i);
e && e.callback && e.callback.success && e.callback.success();
o(t);
},
fail: function(o, r) {
clearTimeout(i);
t.openLoginDialog(e);
e && e.callback && e.callback.success && e.callback.fail();
n({
data: o,
code: r
});
},
complete: function() {
e && e.callback && e.callback.complete && e.callback.complete();
}
});
}) ];

case 2:
o = r.sent();
c.default.debug("登录-成功-data：" + JSON.stringify(o));
this.owner.DeviceId = o.playerId;
c.default.debug("本机设备 Id:" + this.owner.DeviceId);
this.owner.checkDeviceId();
return [ 4, new Promise(function(e, t) {
qg.savePlayerInfoWithReal({
rank: "1",
role: "a",
area: "cn",
sociaty: "1",
success: function(t) {
c.default.debug("登录-保存玩家真实信息成功，data：" + JSON.stringify(t));
e(t);
},
fail: function(e, o) {
c.default.debug("登录-保存玩家真实信息失败，data:" + JSON.stringify(e) + ", code:" + o);
t({
data: e,
code: o
});
}
});
}) ];

case 3:
r.sent();
c.default.debug("登录流程完成。");
window.GameEntryDF.event.fire(p.default.loginCompleted, !0);
return [ 3, 11 ];

case 4:
n = r.sent();
if (!window.GameEntryDF.base.isEditor) return [ 3, 6 ];
c.default.warn("Editor模式，模拟登录");
return [ 4, this.openLoginDialog(e) ];

case 5:
r.sent();
return [ 3, 10 ];

case 6:
if (!n.data || !n.code) return [ 3, 8 ];
c.default.warn("登录过程中发生错误 - data: " + JSON.stringify(n.data) + ", code: " + n.code);
return [ 4, this.openLoginDialog(e) ];

case 7:
r.sent();
return [ 3, 10 ];

case 8:
c.default.warn("登录过程中发生未知错误:", n);
return [ 4, this.openLoginDialog(e) ];

case 9:
r.sent();
r.label = 10;

case 10:
return [ 3, 11 ];

case 11:
return [ 2 ];
}
});
});
};
t.prototype.logout = function() {
return i(this, void 0, void 0, function() {
return a(this, function() {
try {
this.owner.exitGame();
} catch (e) {
c.default.warn("退出登录-过程中发生错误:", e);
}
return [ 2 ];
});
});
};
t.prototype.openLoginDialog = function(e) {
return i(this, void 0, void 0, function() {
var t, o = this;
return a(this, function(n) {
switch (n.label) {
case 0:
(t = u.default.acquire(l.default)).fill(2, "登录", "需要登录账号", "登录", function() {
c.default.info("登录按钮被点击.");
if (window.GameEntryDF.base.isEditor) {
o.owner.checkDeviceId();
window.GameEntryDF.event.fire(p.default.loginCompleted, !0);
} else o.onBtnLoginClick(e);
}, "退出", function() {
c.default.info("退出按钮被点击.");
o.onBtnLogoutClick(e);
});
return [ 4, window.GameEntryDF.ui.openDialog(t) ];

case 1:
n.sent();
return [ 2 ];
}
});
});
};
t.prototype.onBtnLoginClick = function(e) {
return i(this, void 0, void 0, function() {
return a(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this.login(e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.onBtnLogoutClick = function(e) {
return i(this, void 0, void 0, function() {
return a(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this.logout(e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
return t;
}(s.MiniGameAccountBase);
o.default = d;
cc._RF.pop();
}, {
"../../../../../../gameMain/scripts/definition/constant/ConstantEvent": "ConstantEvent",
"../../../../../../gameMain/scripts/ui/param/DialogParams": "DialogParams",
"../../../../base/base/referencePool/ReferencePool": "ReferencePool",
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameAccountBase": "MiniGameAccountBase"
} ],
HwBannerAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a6febs8uplCsr3n53wZDcc/", "HwBannerAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/enum/NativeStyle"), a = e("../../base/adBase/BannerAdBase"), s = e("../../base/enum/AdShowingType"), c = e("../../base/enum/LoadAdState"), l = e("../../../log/DFLog"), u = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_Ad = null;
t.count = 0;
return t;
}
t.prototype.init = function(t, o) {
e.prototype.init.call(this, t, o);
this.owner = t;
this.loadAdState = c.LoadAdState.None;
};
t.prototype.onlyShowBannerAd = function(e) {
this.hideAd(!1);
this.showInternal(e.isLimit);
};
t.prototype.showAd = function(t) {
e.prototype.showAd.call(this, t);
if (this.count % 3 == 2) {
window.GameEntryDF.ad.hideNativeAd(!1, i.NativeStyle.banner);
this.showInternal(t);
} else {
window.GameEntryDF.ad.hideBannerAd(!1);
window.GameEntryDF.ad.showNativeAd(t, !1, i.NativeStyle.banner);
}
this.count++;
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
if (window.GameEntryDF.ad.switchEnable) {
l.default.debug("横幅广告-隐藏- B");
if (!0 === t) l.default.debug("横幅广告-隐藏 userData[0] ： true"); else {
l.default.debug("横幅广告-隐藏-直接关闭");
this.hideInternal();
}
} else {
l.default.debug("横幅广告-隐藏- A");
this.hideInternal();
}
};
t.prototype.showInternal = function(e) {
if (this.owner.allowShowAd(e)) if (this.inCd(1)) l.default.warn("不允许1s内重复弹出banner广告"); else try {
(this.loadAdState == c.LoadAdState.Error || this.loadAdState >= c.LoadAdState.Loaded) && window.GameEntryDF.ad.hideBannerAd(!1);
this.loadAdState = c.LoadAdState.Loading;
if (null == this.m_Ad) {
var t = this.owner.systemInfo.safeArea.height;
this.m_Ad = qg.createBannerAd({
adUnitId: this.owner.miniGameInfo.bannerId,
style: {
top: t - 57,
left: 0,
height: 57,
width: 360
},
adIntervals: 60
});
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onClick && this.m_Ad.onClick(this.onClick.bind(this));
this.m_Ad.onClose(this.onClose.bind(this));
this.m_Ad.onError(this.onError.bind(this));
}
try {
this.m_Ad.show();
} catch (e) {
l.default.warn("横幅广告-展示失败:" + JSON.stringify(e));
}
} catch (e) {
l.default.warn("横幅广告-创建过程中发生错误：" + JSON.stringify(e));
}
};
t.prototype.hideInternal = function() {
try {
if (!this.m_Ad) return;
this.owner.adShowingType = s.AdShowingType.None;
this.m_Ad.hide();
this.m_Ad.offLoad(this.onLoad.bind(this));
this.m_Ad.offClick && this.m_Ad.offClick(this.onClick.bind(this));
this.m_Ad.offClose(this.onClose.bind(this));
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad = null;
this.loadAdState = c.LoadAdState.None;
} catch (e) {
l.default.warn("横幅广告-内部隐藏-发生错误:" + JSON.stringify(e) + ".");
}
};
t.prototype.onLoad = function() {
try {
this.loadAdState = c.LoadAdState.Loaded;
} catch (e) {
l.default.warn("横幅广告-onLoad-发生错误：" + JSON.stringify(e));
}
};
t.prototype.onClick = function() {
this.owner.adShowingType = s.AdShowingType.Banner;
l.default.debug("横幅广告-onClick.");
};
t.prototype.onClose = function() {
this.owner.adShowingType = s.AdShowingType.None;
l.default.debug("横幅广告-onClose.");
};
t.prototype.onError = function(e) {
this.loadAdState = c.LoadAdState.Error;
l.default.warn("横幅广告-onError：" + JSON.stringify(e));
};
t.prototype.onAdProcess = function() {};
return t;
}(a.default);
o.default = u;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/BannerAdBase": "BannerAdBase",
"../../base/enum/AdShowingType": "AdShowingType",
"../../base/enum/LoadAdState": "LoadAdState",
"../../base/enum/NativeStyle": "NativeStyle"
} ],
HwBannerNativeAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "67c7dpYAK9A75Dhz0PY3aNU", "HwBannerNativeAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../../base/helper/NativeAdInfo"), c = e("../../base/enum/NativeStyle"), l = e("../../base/enum/AdShowingType"), u = e("../../base/adBase/MiniGameNativeAdBase"), p = e("../../base/enum/LoadAdState"), d = e("../../../log/DFLog"), f = e("../../../../../../gameMain/scripts/ui/base/UiFormId"), h = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.curAdId = "";
t.m_Ad = null;
t.isShowBanner = !1;
t.isLimit = !1;
t.m_NativeIndex = 0;
t.showNativeArgs = null;
t.m_CheckCD = !0;
t.m_IsAutoClick = !1;
return t;
}
Object.defineProperty(t.prototype, "NativeIndex", {
set: function(e) {
this.m_NativeIndex = e;
},
enumerable: !1,
configurable: !0
});
t.prototype.init = function(t, o) {
e.prototype.init.call(this, t, o);
this.owner = t;
this.loadAdState = p.LoadAdState.None;
this.m_IsAutoClick = !1;
this.ratio = window.GameEntryDF.ad.ClickRate[0];
};
t.prototype.initCheckCd = function(e) {
this.m_CheckCD = e;
};
t.prototype.showAd = function(t) {
e.prototype.showAd.call(this, t);
this.isLimit = t.isLimit;
this.isShowBanner = t.showBanner;
this.showNativeArgs = t;
this.showInternal(this.isLimit, this.isShowBanner);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
if (window.GameEntryDF.ad.switchEnable) {
d.default.debug("原生Banner" + this.m_NativeIndex + "-隐藏- B");
if (t.forceClose) {
d.default.debug("原生Banner" + this.m_NativeIndex + "-隐藏-直接关闭1");
this.hideInternal();
} else {
d.default.debug("原生Banner" + this.m_NativeIndex + "-隐藏-直接关闭2");
this.hideInternal();
}
} else {
d.default.debug("原生Banner" + this.m_NativeIndex + "-隐藏- A");
this.hideInternal();
}
};
t.prototype.showInternal = function(e) {
try {
if (!this.owner.allowShowAd(e)) return;
if (this.inCd(1, this.m_CheckCD)) {
d.default.debug("原生Banner" + this.m_NativeIndex + "-1s内不允许重复弹出");
return;
}
if (window.GameEntryDF.base.isEditor) {
this.hideAd({
forceClose: !1,
style: c.NativeStyle.banner
});
setTimeout(function() {
var e = new s.default("https://images.pexels.com/photos/248797/pexels-photo-248797.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1", "HUAWEI ADS TEST", "我是描述~~~~~~", "http://pic.51yuansu.com/pic3/cover/03/47/43/5bac3862ded5d_610.jpg", !1, "HUAWEI", c.NativeStyle.banner, "dddd");
d.default.debug("xxxxxxx");
window.GameEntryDF.base.isLandscape ? window.GameEntryDF.ui.openUIForm(f.UiFormId.NativeBannerAdFormH, e) : window.GameEntryDF.ui.openUIForm(f.UiFormId.NativeBannerAdFormV, e);
}, 500);
return;
}
(this.loadAdState == p.LoadAdState.Error || this.loadAdState >= p.LoadAdState.Loaded) && this.hideAd({
forceClose: !1,
style: c.NativeStyle.banner
});
this.onAdShowEvent();
this.loadAdState = p.LoadAdState.Loading;
var t = this;
this.m_Ad = qg.createNativeAd({
adUnitId: this.owner.miniGameInfo.nativeBannerId[this.m_NativeIndex]
});
t.m_Ad.onLoad(t.onLoad.bind(t));
t.m_Ad.onError(t.onError.bind(t));
t.m_Ad.load();
} catch (e) {
this.m_NativeIndex == this.owner.HwBannerNativeAdArray.length - 1 && window.GameEntryDF.ad.showToast("暂无广告", 1.5);
}
};
t.prototype.clickReportAd = function() {
try {
this.owner.adShowingType = l.AdShowingType.Native;
this.m_Ad.reportAdClick({
adId: this.curAdId
});
d.default.debug("原生Banner-上报点击");
} catch (e) {
d.default.warn("原生Banner-上报点击错误:" + JSON.stringify(e));
}
};
t.prototype.clickDownload = function() {
try {
var e = this, t = this.m_Ad.getAppStatus({
adId: e.curAdId
});
switch (t) {
case "DOWNLOAD":
this.m_Ad.startDownload({
adId: e.curAdId
});
break;

case "DOWNLOADFAILED":
this.m_Ad.cancelDownload({
adId: e.curAdId
});
this.m_Ad.startDownload({
adId: e.curAdId
});
break;

case "PAUSE":
this.m_Ad.resumeDownload({
adId: e.curAdId
});
break;

case "DOWNLOADING":
case "WAITING":
case "INSTALL":
case "INSTALLING":
case "INSTALLED":
d.default.debug("原生Banner-Status:" + t);
}
} catch (e) {
d.default.warn("原生Banner-下载失败:", JSON.stringify(e));
}
};
t.prototype.onLoad = function(e) {
return i(this, void 0, void 0, function() {
var t, o, n, r, i, l;
return a(this, function(a) {
switch (a.label) {
case 0:
t = this;
this.loadAdState = p.LoadAdState.Loaded;
if (!e || !e.adList) return [ 3, 5 ];
o = e.adList[0];
n = !1;
for (r = 0; r < this.owner.GameKeyWords.length; r++) if (o.title.indexOf(this.owner.GameKeyWords[r]) > -1 || o.source.indexOf(this.owner.GameKeyWords[r]) > -1) {
n = !0;
break;
}
if (n) {
d.default.warn("native banner " + this.m_NativeIndex + "识别到游戏类广告，拒绝渲染，重新读取下一个广告");
this.showNextNativeBannerAd();
return [ 2 ];
}
d.default.warn("native banner " + this.m_NativeIndex + "未识别到游戏类广告");
t.curAdId = o.adId;
i = this.m_IsAutoClick;
l = new s.default(o.imgUrlList[0], o.title, o.source, o.icon, i, o.source, c.NativeStyle.banner, o.clickBtnTxt);
return cc.winSize.width > cc.winSize.height ? [ 4, window.GameEntryDF.ui.openUIForm(f.UiFormId.NativeBannerAdFormH, l) ] : [ 3, 2 ];

case 1:
a.sent();
return [ 3, 4 ];

case 2:
return [ 4, window.GameEntryDF.ui.openUIForm(f.UiFormId.NativeBannerAdFormV, l) ];

case 3:
a.sent();
a.label = 4;

case 4:
this.m_Ad.reportAdShow({
adId: t.curAdId
});
t.owner.CurrentNativeBannerIndex = this.m_NativeIndex;
a.label = 5;

case 5:
return [ 2 ];
}
});
});
};
t.prototype.onError = function(e) {
d.default.debug("原生Banner" + this.m_NativeIndex + "-错误:" + JSON.stringify(e));
this.m_NativeIndex == this.owner.HwBannerNativeAdArray.length - 1 && window.GameEntryDF.ad.showToast("暂无广告B", 1.5);
this.showNextNativeBannerAd();
this.loadAdState = p.LoadAdState.Error;
};
t.prototype.hideInternal = function() {
if (null != this.m_Ad) {
this.m_Ad.offLoad(null);
this.m_Ad.offError(null);
this.m_Ad = null;
this.loadAdState = p.LoadAdState.None;
this.m_IsAutoClick = !1;
}
};
t.prototype.showNextNativeBannerAd = function() {
this.hideAd({
forceClose: !1,
style: c.NativeStyle.interstitial
});
this.owner.showNativeBannerByIndex(this.m_NativeIndex + 1, {
isLimit: this.showNativeArgs.isLimit,
showBanner: this.showNativeArgs.showBanner,
style: this.showNativeArgs.style,
customArgs: this.showNativeArgs.customArgs
});
};
t.prototype.onAdProcess = function() {
this.m_IsAutoClick = window.GameEntryDF.ad.switchEnable;
};
return t;
}(u.MiniGameNativeAdBase);
o.default = h;
cc._RF.pop();
}, {
"../../../../../../gameMain/scripts/ui/base/UiFormId": "UiFormId",
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameNativeAdBase": "MiniGameNativeAdBase",
"../../base/enum/AdShowingType": "AdShowingType",
"../../base/enum/LoadAdState": "LoadAdState",
"../../base/enum/NativeStyle": "NativeStyle",
"../../base/helper/NativeAdInfo": "NativeAdInfo"
} ],
HwGameSystem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e8caeL3hVlP2qE9+GF+XgeZ", "HwGameSystem");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../../../../../../gameMain/scripts/definition/constant/ConstantEvent"), c = e("../../base/enum/AdShowingType"), l = e("../../base/adBase/MiniGameSystemBase"), u = e("../../base/enum/NativeStyle"), p = e("../../../../base/utils/Ramdom"), d = e("../../../log/DFLog"), f = e("../../../../../../gameMain/scripts/ui/base/UiFormId"), h = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_systemInfo = null;
return t;
}
t.prototype.init = function(e) {
this.owner = e;
try {
qg.onHide(this.onAppHide.bind(this));
qg.onShow(this.onAppShow.bind(this));
} catch (e) {
d.default.debug("系统-注册前后台事件失败:" + JSON.stringify(e));
}
window.GameEntryDF.event.subscribe(s.default.showRewardedAdOnShow, function() {
d.default.debug("回弹-展示激励视频");
window.GameEntryDF.ad.showRewardVideoAd({
success: function() {},
fail: function() {},
complete: function() {}
});
});
};
t.prototype.showPolicy = function() {
return i(this, void 0, void 0, function() {
return a(this, function(e) {
switch (e.label) {
case 0:
return [ 4, window.dfgf.ui.openUIForm(f.UiFormId.PrivacyForm) ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
t.prototype.moreGame = function() {};
t.prototype.showConnect = function() {
window.GameEntryDF.base.isEditor ? this.owner.showSimAdMode1("联系客服", this.owner.callServiceStr) : this.showToast(this.owner.callServiceStr);
};
t.prototype.getSystemInfo = function() {
if (!this.m_systemInfo) {
this.m_systemInfo = qg.getSystemInfoSync();
d.default.debug("同步获取系统信息成功" + JSON.stringify(this.m_systemInfo));
}
return this.m_systemInfo;
};
t.prototype.installShortcut = function() {};
t.prototype.showToast = function(e, t) {
void 0 === t && (t = 2);
try {
qg.showToast({
title: e,
duration: t ? 1e3 * t : 1500,
icon: "none"
});
} catch (t) {
d.default.error("展示吐司失败,参数：" + JSON.stringify(e) + "。错误：" + JSON.stringify(t) + " .");
}
};
t.prototype.exitGame = function() {
try {
qg.exitApplication({
success: function() {
d.default.debug("退出游戏-成功");
},
fail: function() {
d.default.debug("退出游戏-失败");
},
complete: function() {
d.default.debug("退出游戏-完成");
}
});
} catch (e) {
if (window.GameEntryDF.base.isEditor) {
console.log("浏览器模拟小游戏退出，10秒后自动退出游戏");
cc.game.end();
} else console.error("退出游戏-失败:", e);
}
};
t.prototype.copyDeviceId = function() {
try {
qg.setClipboardData({
data: this.owner.DeviceId
});
this.showToast("已复制设备Id到剪切板");
} catch (e) {
d.default.warn("设置剪切板数据-失败-：", JSON.stringify(e));
}
};
t.prototype.onAppShow = function() {
d.default.debug("应用回到前台.");
if (this.owner.switchEnable) if (this.owner.adShowingType === c.AdShowingType.Native) {
d.default.debug("原生返回，100+展示激励。");
setTimeout(function() {
window.GameEntryDF.event.fire(s.default.showRewardedAdOnShow);
}, 1e3 * p.default.rangeFloat1(0, .1));
} else d.default.debug("非原生返回，不展示。", this.owner.adShowingType); else d.default.debug("A区，不回弹");
};
t.prototype.onAppHide = function() {
d.default.debug("应用进入后台.");
window.GameEntryDF.ad.hideNativeAd(!1, u.NativeStyle.All);
};
return t;
}(l.MiniGameSystemBase);
o.default = h;
cc._RF.pop();
}, {
"../../../../../../gameMain/scripts/definition/constant/ConstantEvent": "ConstantEvent",
"../../../../../../gameMain/scripts/ui/base/UiFormId": "UiFormId",
"../../../../base/utils/Ramdom": "Ramdom",
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameSystemBase": "MiniGameSystemBase",
"../../base/enum/AdShowingType": "AdShowingType",
"../../base/enum/NativeStyle": "NativeStyle"
} ],
HwInterstitialAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "38f7dmxeotLFZhkHapsivkc", "HwInterstitialAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/enum/AdShowingType"), a = e("../../base/adBase/InterstitialAdBase"), s = e("../../base/enum/LoadAdState"), c = e("../../../log/DFLog"), l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_Ad = null;
return t;
}
t.prototype.init = function(e) {
this.owner = e;
this.loadAdState = s.LoadAdState.None;
};
t.prototype.showAd = function(t) {
e.prototype.showAd.call(this, t);
this.showInternal(t);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
if (window.GameEntryDF.ad.switchEnable) {
c.default.debug("插屏广告-隐藏- B");
if (t) c.default.debug("插屏广告 hide userData[0] is true"); else {
c.default.debug("插屏广告 hide  is false");
this.hideInternal();
}
} else {
c.default.debug("插屏广告-隐藏- A");
this.hideInternal();
}
};
t.prototype.showInternal = function(e) {
if (window.GameEntryDF.base.isEditor) this.owner.showInterstitialAdSim(); else try {
if (!this.owner.allowShowAd(e)) return;
if (this.inCd(1)) {
c.default.warn("插屏广告-不允许1s内重复弹出");
return;
}
(this.loadAdState == s.LoadAdState.Error || this.loadAdState >= s.LoadAdState.Loaded) && window.GameEntryDF.ad.hideInterstitialAd(!1);
this.loadAdState = s.LoadAdState.Loading;
this.m_Ad = qg.createInterstitialAd({
adUnitId: this.owner.miniGameInfo.interstitialId
});
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onError(this.onError.bind(this));
this.m_Ad.onClose(this.onClosed.bind(this));
this.m_Ad.onClick && this.m_Ad.onClick(this.onClick.bind(this));
this.m_Ad.load();
} catch (e) {
c.default.warn("插屏广告-展示过程中发生错误:" + JSON.stringify(e));
}
};
t.prototype.hideInternal = function() {
try {
if (null != this.m_Ad) {
this.m_Ad.offLoad(this.onLoad.bind(this));
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.offClose(this.onClosed.bind(this));
this.m_Ad.offClick && this.m_Ad.offClick(this.onClick.bind(this));
this.m_Ad = null;
this.loadAdState = s.LoadAdState.None;
}
} catch (e) {
c.default.warn("插屏广告-隐藏过程中发生错误:" + JSON.stringify(e));
}
};
t.prototype.onLoad = function(e) {
c.default.debug("插屏广告 onLoad data " + JSON.stringify(e));
this.m_Ad.show();
this.loadAdState = s.LoadAdState.Loaded;
};
t.prototype.onError = function(e) {
c.default.debug("插屏广告 onError:", e);
this.loadAdState = s.LoadAdState.Error;
};
t.prototype.onClosed = function() {
c.default.debug("插屏广告 onClosed");
};
t.prototype.onClick = function() {
this.owner.adShowingType = i.AdShowingType.Native;
c.default.debug("插屏广告 onClick");
};
t.prototype.onAdProcess = function() {};
return t;
}(a.default);
o.default = l;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/InterstitialAdBase": "InterstitialAdBase",
"../../base/enum/AdShowingType": "AdShowingType",
"../../base/enum/LoadAdState": "LoadAdState"
} ],
HwNativeAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "36709HC8gRBQYvtZLmtDBDQ", "HwNativeAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../../base/helper/NativeAdInfo"), c = e("../../base/enum/AdShowingType"), l = e("../../base/enum/NativeStyle"), u = e("../../base/adBase/MiniGameNativeAdBase"), p = e("../../base/enum/LoadAdState"), d = e("../../../log/DFLog"), f = e("../../../../../../gameMain/scripts/ui/base/UiFormId"), h = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.curAdId = "";
t.m_Ad = null;
t.isShowBanner = !1;
t.isLimit = !1;
t.count = 0;
t.m_NativeIndex = 0;
t.showNativeArgs = null;
t.m_CheckCD = !0;
t.m_IsAutoClick = !1;
return t;
}
Object.defineProperty(t.prototype, "NativeIndex", {
set: function(e) {
this.m_NativeIndex = e;
},
enumerable: !1,
configurable: !0
});
t.prototype.init = function(t, o) {
e.prototype.init.call(this, t, o);
this.owner = t;
this.loadAdState = p.LoadAdState.None;
this.m_IsAutoClick = !1;
this.ratio = window.GameEntryDF.ad.ClickRate[0];
};
t.prototype.onlyShowNativeAd = function(e) {
if (null != e) {
this.showNativeArgs = e;
this.showInternal(e.isLimit, e.showBanner, e.customArgs);
} else d.default.debug("native " + this.m_NativeIndex + " showNativeArgs is null");
};
t.prototype.initCheckCd = function(e) {
this.m_CheckCD = e;
};
t.prototype.showAd = function(t) {
e.prototype.showAd.call(this, t);
this.isLimit = t.isLimit;
this.isShowBanner = t.showBanner;
this.showNativeArgs = t;
this.showNativeOrInterstitialAd(this.isLimit, this.isShowBanner);
};
t.prototype.hideAd = function(e) {
if (window.GameEntryDF.ad.switchEnable) {
d.default.debug("原生广告" + this.m_NativeIndex + "-隐藏- B");
if (e) {
d.default.debug("原生广告" + this.m_NativeIndex + "-直接关闭1");
this.hideInternal();
} else {
d.default.debug("原生广告" + this.m_NativeIndex + "-直接关闭2");
this.hideInternal();
}
} else {
d.default.debug("原生广告" + this.m_NativeIndex + " 原生广告-隐藏- A");
this.hideInternal();
}
};
t.prototype.showInternal = function(e, t) {
return i(this, void 0, void 0, function() {
var o, n = this;
return a(this, function() {
try {
if (!this.owner.allowShowAd(e)) {
d.default.debug("原生广告" + this.m_NativeIndex + "-受限.");
return [ 2 ];
}
if (this.inCd(2, this.m_CheckCD)) {
d.default.debug("原生广告" + this.m_NativeIndex + "-不允许2s内重复弹出");
return [ 2 ];
}
o = this;
if (window.GameEntryDF.base.isEditor) {
window.GameEntryDF.ad.hideNativeAd(!1, l.NativeStyle.interstitial);
setTimeout(function() {
return i(n, void 0, void 0, function() {
var e;
return a(this, function(t) {
switch (t.label) {
case 0:
e = new s.default("https://images.pexels.com/photos/248797/pexels-photo-248797.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1", "HUAWEI ADS TEST", "我是描述~~~~~~", "http://pic.51yuansu.com/pic3/cover/03/47/43/5bac3862ded5d_610.jpg", !1, "HUAWEI", l.NativeStyle.interstitial, "dddd");
d.default.debug("xxxxxxx");
return [ 4, window.GameEntryDF.ui.openUIForm(f.UiFormId.NativeAdForm, e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
}, 500);
return [ 2 ];
}
(this.loadAdState == p.LoadAdState.Error || this.loadAdState >= p.LoadAdState.Loaded) && this.hideAd(!1);
this.onAdShowEvent();
this.loadAdState = p.LoadAdState.Loading;
this.m_Ad = qg.createNativeAd({
adUnitId: o.owner.miniGameInfo.nativeId[this.m_NativeIndex]
});
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onError(this.onError.bind(this));
this.m_Ad.load();
t && this.owner.showBannerAd(e);
} catch (e) {
this.m_NativeIndex == this.owner.HwNativeAdArray.length - 1 && window.GameEntryDF.ad.showToast("暂无广告~", 1.5);
}
return [ 2 ];
});
});
};
t.prototype.showNativeOrInterstitialAd = function(e, t, o) {
this.count++;
this.count % 2 == 0 ? window.GameEntryDF.ad.showInterstitialAd(e) : this.showInternal(e, t, o);
};
t.prototype.clickReportAd = function() {
try {
this.owner.adShowingType = c.AdShowingType.Native;
this.m_Ad.reportAdClick({
adId: this.curAdId
});
d.default.debug("原生-上报点击");
} catch (e) {
d.default.warn("原生-上报点击错误:" + JSON.stringify(e));
}
};
t.prototype.clickDownload = function() {
try {
var e = this, t = this.m_Ad.getAppStatus({
adId: e.curAdId
});
switch (t) {
case "DOWNLOAD":
this.m_Ad.startDownload({
adId: e.curAdId
});
break;

case "DOWNLOADFAILED":
this.m_Ad.cancelDownload({
adId: e.curAdId
});
this.m_Ad.startDownload({
adId: e.curAdId
});
break;

case "PAUSE":
this.m_Ad.resumeDownload({
adId: e.curAdId
});
break;

case "DOWNLOADING":
case "WAITING":
case "INSTALL":
case "INSTALLING":
case "INSTALLED":
d.default.debug("原生-Status:" + t);
}
} catch (e) {
d.default.warn("原生广告" + this.m_NativeIndex + "-下载失败:", JSON.stringify(e));
}
};
t.prototype.onLoad = function(e) {
return i(this, void 0, void 0, function() {
var t, o, n, r, i, c;
return a(this, function(a) {
switch (a.label) {
case 0:
t = this;
this.loadAdState = p.LoadAdState.Loaded;
if (!e || !e.adList) return [ 3, 2 ];
o = e.adList[0];
n = !1;
for (r = 0; r < this.owner.GameKeyWords.length; r++) if (o.title.indexOf(this.owner.GameKeyWords[r]) > -1 || o.source.indexOf(this.owner.GameKeyWords[r]) > -1) {
n = !0;
break;
}
if (n) {
d.default.warn("native " + this.m_NativeIndex + "识别到游戏类广告，拒绝渲染，重新读取下一个广告");
this.showNextNativeAd();
return [ 2 ];
}
d.default.warn("native " + this.m_NativeIndex + "没有识别到游戏类广告");
t.curAdId = o.adId;
i = this.m_IsAutoClick;
c = new s.default(o.imgUrlList[0], o.title, o.source, o.icon, i, o.source, l.NativeStyle.interstitial, o.clickBtnTxt);
return [ 4, window.GameEntryDF.ui.openUIForm(f.UiFormId.NativeAdForm, c) ];

case 1:
a.sent();
t.m_Ad.reportAdShow({
adId: t.curAdId
});
t.owner.CurrentNativeIndex = this.m_NativeIndex;
a.label = 2;

case 2:
return [ 2 ];
}
});
});
};
t.prototype.onError = function(e) {
this.loadAdState = p.LoadAdState.Error;
d.default.debug("原生广告" + this.m_NativeIndex + " onError:" + JSON.stringify(e));
this.m_NativeIndex == this.owner.HwNativeAdArray.length - 1 && window.GameEntryDF.ad.showToast("暂无广告", 1.5);
this.showNextNativeAd();
};
t.prototype.hideInternal = function(e) {
void 0 === e && (e = !1);
if (null != this.m_Ad) {
this.m_Ad.offLoad(null);
this.m_Ad.offError(null);
this.m_Ad = null;
this.loadAdState = p.LoadAdState.None;
this.m_IsAutoClick = !1;
}
};
t.prototype.showNextNativeAd = function() {
this.hideAd(!1);
this.owner.showNativeByIndex(this.m_NativeIndex + 1, {
isLimit: this.showNativeArgs.isLimit,
showBanner: this.showNativeArgs.showBanner,
style: this.showNativeArgs.style,
customArgs: this.showNativeArgs.customArgs
});
};
t.prototype.onAdProcess = function() {
this.m_IsAutoClick = window.GameEntryDF.ad.switchEnable;
};
return t;
}(u.MiniGameNativeAdBase);
o.default = h;
cc._RF.pop();
}, {
"../../../../../../gameMain/scripts/ui/base/UiFormId": "UiFormId",
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameNativeAdBase": "MiniGameNativeAdBase",
"../../base/enum/AdShowingType": "AdShowingType",
"../../base/enum/LoadAdState": "LoadAdState",
"../../base/enum/NativeStyle": "NativeStyle",
"../../base/helper/NativeAdInfo": "NativeAdInfo"
} ],
HwRewardAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "446e6vXJ6hLYp1t7hF+MDu2", "HwRewardAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/enum/AdShowingType"), a = e("../../base/adBase/MiniGameRewardAdBase"), s = e("../../../log/DFLog"), c = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_Ad = null;
return t;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.showAd = function(t) {
e.prototype.showAd.call(this, t);
this.showInternal(t);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
};
t.prototype.showInternal = function() {
if (this.inCd(1)) s.default.warn("不允许1s内重复弹出激励广告"); else if (window.GameEntryDF.base.isEditor) this.owner.showRewardAdSim(); else try {
if (null == this.m_Ad) {
this.m_Ad = qg.createRewardedVideoAd({
adUnitId: this.owner.miniGameInfo.rewardId
});
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onClose(this.onClose.bind(this));
this.m_Ad.onError(this.onError.bind(this));
}
this.m_Ad.load();
} catch (e) {
s.default.warn("激励-创建过程中发生错误：" + JSON.stringify(e));
this.owner.fmCbFail();
}
};
t.prototype.onLoad = function() {
s.default.debug("激励-onLoad.");
this.owner.adShowingType = i.AdShowingType.Reward;
this.m_Ad.show().then(this.onShowSuccess.bind(this)).catch(this.onShowError.bind(this));
};
t.prototype.onShowSuccess = function() {
s.default.debug("激励-onShowSuccess.");
};
t.prototype.onShowError = function(e) {
s.default.debug("激励-创建过程中发生错误：" + JSON.stringify(e));
window.GameEntryDF.ad.showToast("展示广告失败");
this.owner.fmCbFail();
};
t.prototype.onClose = function(e) {
try {
e.isEnded ? this.owner.fmCbSuccess() : this.owner.fmCbFail();
} catch (e) {
s.default.warn("激励-关闭过程中发生错误:" + JSON.stringify(e) + " .");
this.owner.fmCbFail();
}
};
t.prototype.onError = function(e) {
s.default.warn("激励-错误：" + JSON.stringify(e));
this.owner.fmCbFail();
window.GameEntryDF.ad.showToast("暂无广告");
};
t.prototype.onAdProcess = function() {};
return t;
}(a.MiniGameRewardAdBase);
o.default = c;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameRewardAdBase": "MiniGameRewardAdBase",
"../../base/enum/AdShowingType": "AdShowingType"
} ],
IConfigHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8e429GYHFBIMJaZhC7346tb", "IConfigHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IConfigManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "209c5osPy5MaKdX7BmO5Pzz", "IConfigManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IDataNodeManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1b137JL7ThDVYKQM+LrNzQ5", "IDataNodeManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IDataNode: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "269d7UZEpNBT7gItTYLLolg", "IDataNode");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IDataProviderHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9f6d2gOTXpJI5GqT3HIYRa9", "IDataProviderHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IDataProvider: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3854b97X2VJvqHocWruUSjh", "IDataProvider");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IDataRow: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ee99dSM8wVNqII0Gw7tPZwf", "IDataRow");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IDataTableHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2d429XkdFBM77nQisQayABh", "IDataTableHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IDataTableManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cefd9g0wDtMtLZU//SSpOl+", "IDataTableManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IDataTable: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "18f772K38hHRp+dZmxzpShM", "IDataTable");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IEventManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "34ef6IXZu9ICIW24uMAVc8Y", "IEventManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IFsmManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2f59dhLZm9O/b+FbuXez9DU", "IFsmManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IFsm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "caf16D4gcFJrINLQfOqS4Gn", "IFsm");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IGameFrameworkLogHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8c7519+YsJB8rY+aXyQWasK", "IGameFrameworkLogHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IHeartBeatHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d1a2agUSqlAzooCg6FfIOYt", "IHeartBeatHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IHeartbeatManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3bddf6goVZHUK8L0ifW61Rp", "IHeartbeatManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IJsonHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8d078XUrahBu4x6y8+HhToZ", "IJsonHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IMiniGameAccount: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a4026TZqj5HRIB+f6xLmnP8", "IMiniGameAccount");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IMiniGameAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ac52avhCINH/L7AL6IWm3b0", "IMiniGameAd");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IMiniGameCb: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e94d72HUdZKW6TGZS6xjeLu", "IMiniGameCb");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IMiniGameRecord: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "717d2+ijAZLb4ZT5jFPQa4X", "IMiniGameRecord");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IMiniGameShare: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5adfcPQHvtAmYtNn1pXfqu0", "IMiniGameShare");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IMiniGameSystem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1cbf1Ed4B1ALYtQa8LWiI9i", "IMiniGameSystem");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IObjectPoolManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2c5cf6804hFz46yPXX15Gwg", "IObjectPoolManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IObjectPool: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b0c60hfcPNKR4DA9WnfFqGy", "IObjectPool");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IPlatform: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "07a25QtdhtNNp6T7PvBFlu7", "IPlatform");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IProcedureManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "44b66AmNW1HPpQeDfvAknsJ", "IProcedureManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IReference: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2402fv+SRpIFKk2oi/H0NUJ", "IReference");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IResourceManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2d397zBMgtLopys6ix28R+w", "IResourceManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IRewardCb: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "094a2mXJmRLZJeQYDhFGmou", "IRewardCb");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
ISceneManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f5d8e+TRR9FMqcH/1dtAs2A", "ISceneManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
ISettingHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "12a19c43N9NlaRkD27s9M6u", "ISettingHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
ISettingManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "df30bxNYhRClITvinP9qsOo", "ISettingManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
ISoundAgentHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "74b8eElFqpBQbMxJCBctwPm", "ISoundAgentHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
ISoundAgent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "861c6uP6YBGAo8D6EkCyAMv", "ISoundAgent");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
ISoundGroupHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8ecc2hjuixFlo00NB6rJXq+", "ISoundGroupHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
ISoundGroup: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e2ebbW+Ir5FFp+ppxKmzQkV", "ISoundGroup");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
ISoundHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bb47ae6K91LsocoBWlsPkTf", "ISoundHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
ISoundManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "79fec9aKF1NYKOAYBMF21yk", "ISoundManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
ISwitchHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "43c75yW5cdDxJ9tntSvupim", "ISwitchHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
ISwitchManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8bff4e3xnBC3oPGmVg/3Gn7", "ISwitchManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
ISwitch: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c37a4p9GQNGeKDo6jVhlsYF", "ISwitch");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
ITaskAgent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "509704om2ZFAodOU0bJHTk1", "ITaskAgent");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IUIFormHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "86a1ejnK2BLuqHj+XP8y9af", "IUIFormHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IUIForm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7fa79BwevNDspjzJ2zELm8V", "IUIForm");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IUIGroupHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1554b33HqxK1LO+gHodnxg/", "IUIGroupHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IUIGroup: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a9f2e1qXhZHsYbW14YAZ1qT", "IUIGroup");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IUIManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "69f8crbveRPSoQwtFnjhOwQ", "IUIManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IVersionHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "de7dfRn6IxL7ovEGwK7PBGR", "IVersionHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IWebRequestHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8f4b1jhwfhKtZiZAPEOiNtj", "IWebRequestHelper");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
IWebRequestManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "40985oe1yJB7owPPNbNptCS", "IWebRequestManager");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
InterstitialAdBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4e678NMtkdHE4QEWkp2cauu", "InterstitialAdBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_LastShowTime = 0;
return t;
}
t.prototype.onAdProcess = function() {};
t.prototype.init = function() {};
t.prototype.showAd = function() {};
t.prototype.hideAd = function() {};
t.prototype.inCd = function(e, t) {
void 0 === t && (t = !0);
if (!t) return !1;
if ((this.totalTime - this.m_LastShowTime) / 1e3 < e) return !0;
this.m_LastShowTime = this.totalTime;
return !1;
};
return t;
}(e("./MiniGameAdBase").MiniGameAdBase);
o.default = i;
cc._RF.pop();
}, {
"./MiniGameAdBase": "MiniGameAdBase"
} ],
JsonUtility: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f3b60t8S/hPb5sYFG10e95u", "JsonUtility");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.setJsonHelper = function(t) {
e._jsonHelper = t;
};
e.toJson = function(t) {
if (null == e._jsonHelper) throw new Error("JSON helper is invalid.");
try {
return e._jsonHelper.toJson(t);
} catch (e) {
throw new Error("Can not convert to JSON with exception '" + e + "'.");
}
};
e.toObject = function(t) {
if (null == e._jsonHelper) throw new Error("JSON helper is invalid.");
try {
return e._jsonHelper.toObject(t);
} catch (e) {
throw new Error("Can not convert to object with exception '" + e + "'.");
}
};
e.toObjectByType = function(t, o) {
if (null == e._jsonHelper) throw new Error("JSON helper is invalid.");
try {
return e._jsonHelper.toObjectByType(t, o);
} catch (e) {
throw new Error("Can not convert to object with exception '" + e + "'.");
}
};
e._jsonHelper = null;
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
LinkedListNode: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1f3db7GnENMepsx8r9wN7/2", "LinkedListNode");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.default = function(e) {
this.next = null;
this.prev = null;
this.value = e;
};
cc._RF.pop();
}, {} ],
LinkedList: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "96aecfTE8BKoKQnSzw/1mK7", "LinkedList");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("./LinkedListNode"), r = function() {
function e() {
this._head = null;
this._tail = null;
this._count = 0;
}
Object.defineProperty(e.prototype, "length", {
get: function() {
return this._count;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "head", {
get: function() {
return this._head;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "tail", {
get: function() {
return this._tail;
},
enumerable: !1,
configurable: !0
});
e.prototype.isEmpty = function() {
return 0 === this._count;
};
e.prototype.addFirst = function(e) {
var t;
t = e instanceof n.default ? e : new n.default(e);
if (this._head) {
t.next = this._head;
this._head.prev = t;
this._head = t;
} else {
this._head = t;
this._tail = t;
t.next = null;
t.prev = null;
}
this._count++;
};
e.prototype.addLast = function(e) {
var t;
t = e instanceof n.default ? e : new n.default(e);
if (this._head) {
t.prev = this._tail;
this._tail.next = t;
this._tail = t;
t.next = null;
} else {
this._head = t;
this._tail = t;
t.next = null;
t.prev = null;
}
this._count++;
};
e.prototype.addBefore = function(e, t) {
if (!e) throw new Error("Node is invalid.");
var o;
(o = t instanceof n.default ? t : new n.default(t)).next = e;
o.prev = e.prev;
e.prev ? e.prev.next = o : this._head = o;
e.prev = o;
this._count++;
};
e.prototype.addAfter = function(e, t) {
if (!e) throw new Error("Node is invalid.");
var o;
(o = t instanceof n.default ? t : new n.default(t)).next = e.next;
o.prev = e;
e.next ? e.next.prev = o : this._tail = o;
e.next = o;
this._count++;
};
e.prototype.addAt = function(e, t) {
if (t < 0 || t > this._count) return !1;
var o = new n.default(e);
if (0 === t) {
o.next = this._head;
this._head ? this._head.prev = o : this._tail = o;
this._head = o;
} else if (t === this._count) {
o.prev = this._tail;
this._tail ? this._tail.next = o : this._head = o;
this._tail = o;
} else {
for (var r = this._head, i = 0; i < t - 1; i++) r = r.next;
o.next = r.next;
o.prev = r;
r.next.prev = o;
r.next = o;
}
this._count++;
return !0;
};
e.prototype.removeFirst = function() {
if (!this._head) return null;
var e = this._head.value;
if (this._head === this._tail) {
this._head = null;
this._tail = null;
} else {
this._head = this._head.next;
this._head.prev = null;
}
this._count--;
return e;
};
e.prototype.removeLast = function() {
if (!this._tail) return null;
var e = this._tail.value;
if (this._head === this._tail) {
this._head = null;
this._tail = null;
} else {
this._tail = this._tail.prev;
this._tail.next = null;
}
this._count--;
return e;
};
e.prototype.removeAt = function(e) {
if (e < 0 || e >= this._count) return null;
for (var t = this._head, o = 0; o < e; o++) t = t.next;
var n = t.value;
t === this._head ? this._head = t.next : t.prev.next = t.next;
t === this._tail ? this._tail = t.prev : t.next.prev = t.prev;
this._count--;
return n;
};
e.prototype.remove = function(e) {
if (!e) throw new Error("Node is invalid.");
if (e === this._head) this._head = e.next; else {
if (!e || !e.next || !e.prev) return !1;
e.prev.next = e.next;
}
if (e === this._tail) this._tail = e.prev; else {
if (!e || !e.prev || !e.next) return !1;
e.next.prev = e.prev;
}
this._count--;
return !0;
};
e.prototype.removeValue = function(e, t) {
for (var o = this._head; o; ) {
if (t ? t(o.value, e) : o.value === e) {
this.remove(o);
return !0;
}
o = o.next;
}
return !1;
};
e.prototype.toArray = function() {
for (var e = [], t = this._head; t; ) {
e.push(t.value);
t = t.next;
}
return e;
};
e.prototype.toString = function() {
for (var e = [], t = this._head; t; ) {
e.push(t.value);
t = t.next;
}
return "[" + e.join(", ") + "]";
};
e.prototype.forEach = function(e) {
for (var t = 0, o = this._head; o; ) {
e(o.value, t++);
o = o.next;
}
};
e.prototype.indexOf = function(e, t) {
for (var o = this._head, n = 0; o; ) {
if (t ? t(o.value, e) : o.value === e) return n;
o = o.next;
n++;
}
return -1;
};
e.prototype.contains = function(e, t) {
for (var o = this._head; o; ) {
if (t ? t(o.value, e) : o.value === e) return !0;
o = o.next;
}
return !1;
};
e.prototype.find = function(e) {
for (var t = this._head; t; ) {
if (e(t.value)) return t.value;
t = t.next;
}
return null;
};
e.prototype.findLast = function(e, t) {
for (var o = this._tail; o; ) {
if (e(o.value)) return !1 === t ? o.value : o;
o = o.prev;
}
return null;
};
e.prototype.filter = function(e) {
for (var t = [], o = this._head; o; ) {
e(o.value) && t.push(o.value);
o = o.next;
}
return t;
};
e.prototype.map = function(e) {
for (var t = [], o = this._head; o; ) {
t.push(e(o.value));
o = o.next;
}
return t;
};
e.prototype.reduce = function(e, t) {
for (var o = t, n = this._head; n; ) {
o = e(o, n.value);
n = n.next;
}
return o;
};
e.prototype.clear = function() {
this._head = null;
this._tail = null;
this._count = 0;
};
e.prototype.getAt = function(e) {
if (e < 0 || e >= this._count) throw new Error("Index " + e + " is out of bounds.");
for (var t = this._head, o = 0; o < e; o++) t = t.next;
return t.value;
};
e.prototype.setAt = function(e, t) {
if (t < 0 || t >= this._count) throw new Error("Index " + t + " is out of bounds.");
for (var o = this._head, n = 0; n < t; n++) o = o.next;
if (o) {
o.value = e;
return !0;
}
return !1;
};
e.prototype.traverse = function() {
for (var e = [], t = this._head; t; ) {
e.push(t.value);
t = t.next;
}
console.log(e.join(" -> "));
};
e.prototype.reverse = function() {
for (var e = this._head, t = null; e; ) {
t = e.prev;
e.prev = e.next;
e.next = t;
e = e.prev;
}
t && (this._head = t.prev);
};
return e;
}();
o.default = r;
cc._RF.pop();
}, {
"./LinkedListNode": "LinkedListNode"
} ],
ListDf: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "43f73+S5uJOiaYIpufIxA8F", "ListDf");
var n = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var n = Array(e), r = 0;
for (t = 0; t < o; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, 
r++) n[r] = i[a];
return n;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = function() {
function e() {
this._array = [];
}
Object.defineProperty(e.prototype, "count", {
get: function() {
return this._array.length;
},
enumerable: !1,
configurable: !0
});
e.prototype.isEmpty = function() {
return 0 === this._array.length;
};
e.prototype.add = function(e) {
this._array.push(e);
};
e.prototype.insert = function(e, t) {
if (e < 0 || e > this._array.length) throw new RangeError("Index out of range");
this._array.splice(e, 0, t);
};
e.prototype.removeAt = function(e) {
if (!(e < 0 || e >= this._array.length)) return this._array.splice(e, 1)[0];
};
e.prototype.remove = function(e) {
var t = this._array.indexOf(e);
if (-1 === t) return !1;
this._array.splice(t, 1);
return !0;
};
e.prototype.indexOf = function(e) {
return this._array.indexOf(e);
};
e.prototype.get = function(e) {
if (!(e < 0 || e >= this._array.length)) return this._array[e];
};
e.prototype.set = function(e, t) {
if (e < 0 || e >= this._array.length) throw new RangeError("Index out of range");
this._array[e] = t;
};
e.prototype.toString = function() {
return this._array.join(", ");
};
e.prototype.toArray = function() {
return n(this._array);
};
e.prototype.clear = function() {
this._array = [];
};
e.prototype.sort = function(e) {
this._array.sort(e);
};
e.prototype.forEach = function(e) {
this._array.forEach(e);
};
e.prototype.find = function(e) {
return this._array.find(e);
};
e.prototype.findIndex = function(e) {
return this._array.findIndex(e);
};
return e;
}();
o.default = r;
cc._RF.pop();
}, {} ],
LoadAdState: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a92c3N2dzFMvqXdKdeTFseX", "LoadAdState");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.LoadAdState = void 0;
(function(e) {
e[e.None = 9e5] = "None";
e[e.Loading = 900001] = "Loading";
e[e.Error = 900002] = "Error";
e[e.Hide = 900003] = "Hide";
e[e.Loaded = 900004] = "Loaded";
e[e.Show = 900005] = "Show";
})(o.LoadAdState || (o.LoadAdState = {}));
cc._RF.pop();
}, {} ],
LoadAssetCallbacksTypes: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a8ea4TyHyVCjY8VzHfjVQkn", "LoadAssetCallbacksTypes");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
LocalStorageCcHelper: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "922d2rjYw9LwI46pG2A7p2f", "LocalStorageCcHelper");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../base/utils/JsonUtility"), s = e("./SettingHelperBase"), c = e("../../base/utils/GFClassUtils"), l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._encryptionEnabled = !1;
return t;
}
Object.defineProperty(t.prototype, "count", {
get: function() {
return -1;
},
enumerable: !1,
configurable: !0
});
t.prototype.setEncryptionEnabled = function(e) {
this._encryptionEnabled = e;
};
Object.defineProperty(t.prototype, "encryptionEnabled", {
get: function() {
return this._encryptionEnabled;
},
enumerable: !1,
configurable: !0
});
t.prototype.load = function() {
return !0;
};
t.prototype.save = function() {
return !0;
};
t.prototype.getAllSettingNames = function() {
return [];
};
t.prototype.hasSetting = function(e) {
return null !== cc.sys.localStorage.getItem(e);
};
t.prototype.removeSetting = function(e) {
if (!this.hasSetting(e)) return !1;
cc.sys.localStorage.removeItem(e);
return !0;
};
t.prototype.removeAllSettings = function() {
cc.sys.localStorage.clear();
};
t.prototype.getString = function(e, t) {
var o = cc.sys.localStorage.getItem(e);
return null !== o ? o : t;
};
t.prototype.setString = function(e, t) {
cc.sys.localStorage.setItem(e, t);
};
t.prototype.getBool = function(e, t) {
var o = this.getString(e);
return void 0 === o ? null != t && t : "true" === o.toLowerCase();
};
t.prototype.setBool = function(e, t) {
this.setString(e, t.toString());
};
t.prototype.getInt = function(e, t) {
var o = this.getString(e);
if (void 0 === o) return null != t ? t : 0;
var n = parseInt(o, 10);
return isNaN(n) ? null != t ? t : 0 : n;
};
t.prototype.setInt = function(e, t) {
this.setString(e, t.toString());
};
t.prototype.getFloat = function(e, t) {
var o = this.getString(e);
if (void 0 === o) return null != t ? t : 0;
var n = parseFloat(o);
return isNaN(n) ? null != t ? t : 0 : n;
};
t.prototype.setFloat = function(e, t) {
this.setString(e, t.toString());
};
t.prototype.getObject = function(e, t, o) {
var n = this.getString(t);
if (void 0 === n) return o;
try {
return a.default.toObject(n);
} catch (e) {
return o;
}
};
t.prototype.setObject = function(e, t) {
var o = a.default.toJson(t);
this.setString(e, o);
};
return i([ c.gfClass("LocalStorageCcHelper") ], t);
}(s.default);
o.default = l;
cc._RF.pop();
}, {
"../../base/utils/GFClassUtils": "GFClassUtils",
"../../base/utils/JsonUtility": "JsonUtility",
"./SettingHelperBase": "SettingHelperBase"
} ],
LoginForm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e4642AD9JRC44mKde+DXe+2", "LoginForm");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../base/GameEntry"), s = e("../../definition/constant/ConstantEvent"), c = e("../../../../gf/scripts/ccEngine/ui/CcUIForm"), l = cc._decorator, u = l.ccclass, p = (l.property, 
function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.open = function() {};
t.prototype.onClickLogin = function() {
a.default.ad.login({
callback: {
success: function() {
window.dfgf.event.fire(s.default.splashDelayToLaunchScene);
},
fail: function() {
window.dfgf.event.fire(s.default.Ad_Builtin_OnShowHuaweiLoginPanel);
},
complete: function() {}
}
});
};
t.prototype.onClickExit = function() {
a.default.ad.exitGame();
};
return i([ u ], t);
}(c.default));
o.default = p;
cc._RF.pop();
}, {
"../../../../gf/scripts/ccEngine/ui/CcUIForm": "CcUIForm",
"../../base/GameEntry": "GameEntry",
"../../definition/constant/ConstantEvent": "ConstantEvent"
} ],
LogoutForm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4a380jt6ORE0oxI+NdLclKk", "LogoutForm");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../base/GameEntry"), s = e("../../../../gf/scripts/ccEngine/ui/CcUIForm"), c = cc._decorator, l = c.ccclass, u = (c.property, 
function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.open = function() {
this.node.getChildByName("BgNode").active = !0;
};
t.prototype.onClickCancel = function() {
this.node.getChildByName("BgNode").active = !1;
};
t.prototype.onClickLogout = function() {
a.default.ad.logout({
callback: {
success: function() {},
fail: function() {},
complete: function() {}
}
});
this.node.getChildByName("BgNode").active = !1;
};
return i([ l ], t);
}(s.default));
o.default = u;
cc._RF.pop();
}, {
"../../../../gf/scripts/ccEngine/ui/CcUIForm": "CcUIForm",
"../../base/GameEntry": "GameEntry"
} ],
MiniGameAccountBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "44f3cVWix5FmYf/Y5kqMmcB", "MiniGameAccountBase");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.MiniGameAccountBase = void 0;
o.MiniGameAccountBase = function() {};
cc._RF.pop();
}, {} ],
MiniGameAdBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "475169isvtD5ohNa4KXjYiK", "MiniGameAdBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
o.MiniGameAdBase = void 0;
var i = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
Object.defineProperty(t.prototype, "totalTime", {
get: function() {
return cc.director.getTotalTime();
},
enumerable: !1,
configurable: !0
});
return t;
}(e("./AdProcessBase").AdProcessBase);
o.MiniGameAdBase = i;
cc._RF.pop();
}, {
"./AdProcessBase": "AdProcessBase"
} ],
MiniGameInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "87f47Ff2qtM6JGpN7bpnIu4", "MiniGameInfo");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.default = function() {};
cc._RF.pop();
}, {} ],
MiniGameNativeAdBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0b987wG/whI0bYgwD4u9idb", "MiniGameNativeAdBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
o.MiniGameNativeAdBase = void 0;
var i = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_LastShowTime = 0;
return t;
}
t.prototype.init = function() {};
t.prototype.showAd = function() {};
t.prototype.hideAd = function() {};
t.prototype.inCd = function(e, t) {
void 0 === t && (t = !0);
if (!t) return !1;
if ((this.totalTime - this.m_LastShowTime) / 1e3 < e) return !0;
this.m_LastShowTime = this.totalTime;
return !1;
};
return t;
}(e("./MiniGameAdBase").MiniGameAdBase);
o.MiniGameNativeAdBase = i;
cc._RF.pop();
}, {
"./MiniGameAdBase": "MiniGameAdBase"
} ],
MiniGamePlatformBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2a22dgH0RFLIoCKZCJ6u04F", "MiniGamePlatformBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.MiniGamePlatformBase = void 0;
var s = e("./PlatformBase"), c = e("./enum/AdShowingType"), l = e("../../log/DFLog"), u = e("../../../../../gameMain/scripts/definition/constant/ConstantEvent"), p = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.adShowingType = c.AdShowingType.None;
t.deviceIds = [];
t._m_DeviceId = "";
t.mIsTestDevice = !1;
return t;
}
Object.defineProperty(t.prototype, "isMiniGame", {
get: function() {
return !0;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "miniGameInfo", {
get: function() {
return window.GameEntryDF.builtin.miniGameInfo;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "switchEnable", {
get: function() {
return window.GameEntryDF.switch.switchEnable;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "DeviceId", {
get: function() {
return this._m_DeviceId;
},
set: function(e) {
this._m_DeviceId = e;
},
enumerable: !1,
configurable: !0
});
t.prototype.allowShowAd = function(e) {
return !e || this.switchEnable;
};
t.prototype.init = function() {
window.dfCurPlatform = this;
};
t.prototype.fmCbSuccess = function() {
e.prototype.fmCbSuccess.call(this);
};
t.prototype.fmCbFail = function() {
e.prototype.fmCbFail.call(this);
};
t.prototype.checkDeviceId = function() {
l.default.debug("checkDeviceId start.deviceId length is :", this.deviceIds.length);
if (!this._m_DeviceId) {
l.default.warn("checkDeviceId,DeviceId is invalid.");
window.GameEntryDF.switch.setIsDeviceId(!1);
return !1;
}
for (var e = 0; e < this.deviceIds.length; e++) if (this._m_DeviceId == this.deviceIds[e]) {
l.default.debug("该设备DeviceId为测试设备：", this._m_DeviceId);
this.mIsTestDevice = !0;
window.GameEntryDF.switch.setIsDeviceId(!0);
return this.mIsTestDevice;
}
window.GameEntryDF.switch.setIsDeviceId(!1);
l.default.debug("checkDeviceId end.");
};
t.prototype.setDeviceIds = function(e) {
this.deviceIds = e;
};
t.prototype.moreWonderfulAllowed = function() {
return !1;
};
t.prototype.callService = function() {};
t.prototype.clickDownload = function() {};
t.prototype.clickReportAd = function() {};
t.prototype.exitGame = function() {};
t.prototype.isNetworkAvailable = function() {
return !0;
};
t.prototype.gameRecordingEnd = function() {};
t.prototype.gameRecordingStart = function() {};
t.prototype.hideBannerAd = function() {};
t.prototype.hideInterstitialAd = function() {};
t.prototype.hideNativeAd = function() {};
t.prototype.hidePushBannerAd = function() {};
t.prototype.hidePushBoxAd = function() {};
t.prototype.installShortcut = function() {};
t.prototype.login = function() {
return i(this, void 0, void 0, function() {
return a(this, function() {
window.GameEntryDF.event.fire(u.default.loginCompleted, !0);
return [ 2 ];
});
});
};
t.prototype.logout = function() {
return i(this, void 0, void 0, function() {
return a(this, function() {
return [ 2 ];
});
});
};
t.prototype.loopAd = function() {};
t.prototype.moreGame = function() {};
t.prototype.share = function() {};
t.prototype.shareRecord = function() {};
t.prototype.showBannerAd = function() {};
t.prototype.showInterstitialAd = function() {};
t.prototype.showNativeAd = function() {};
t.prototype.showPrivacy = function() {
return i(this, void 0, void 0, function() {
return a(this, function() {
return [ 2 ];
});
});
};
t.prototype.showPushBannerAd = function() {};
t.prototype.showPushBoxAd = function() {};
t.prototype.showRewardVideoAd = function(e) {
window.FmCb = e;
};
t.prototype.showToast = function(e, t) {
void 0 === t && (t = 2);
};
t.prototype.copyDeviceId = function() {
try {
qg.setClipboardData({
text: this._m_DeviceId
});
this.showToast("已复制设备Id到剪切板");
} catch (e) {
console.warn("qg.setClipboardData is invalid on current platform.");
}
};
t.prototype.setLoopAdState = function(e) {
window.GameEntryDF.ad.IsLoopAd = e;
};
return t;
}(s.PlatformBase);
o.MiniGamePlatformBase = p;
cc._RF.pop();
}, {
"../../../../../gameMain/scripts/definition/constant/ConstantEvent": "ConstantEvent",
"../../log/DFLog": "DFLog",
"./PlatformBase": "PlatformBase",
"./enum/AdShowingType": "AdShowingType"
} ],
MiniGameRecordBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "49248X1y/ZATZxrNkRy8p21", "MiniGameRecordBase");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.MiniGameRecordBase = void 0;
o.MiniGameRecordBase = function() {};
cc._RF.pop();
}, {} ],
MiniGameRewardAdBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "161a14xCE5JoY184u/8RaqN", "MiniGameRewardAdBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
o.MiniGameRewardAdBase = void 0;
var i = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_LastShowTime = 0;
return t;
}
t.prototype.init = function() {};
t.prototype.showAd = function() {};
t.prototype.hideAd = function() {};
t.prototype.inCd = function(e, t) {
void 0 === t && (t = !0);
if (!t) return !1;
if ((this.totalTime - this.m_LastShowTime) / 1e3 < e) return !0;
this.m_LastShowTime = this.totalTime;
return !1;
};
return t;
}(e("./MiniGameAdBase").MiniGameAdBase);
o.MiniGameRewardAdBase = i;
cc._RF.pop();
}, {
"./MiniGameAdBase": "MiniGameAdBase"
} ],
MiniGameShareBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "acc1cjuhjNIE7Z6HU43zqqB", "MiniGameShareBase");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.MiniGameShareBase = void 0;
o.MiniGameShareBase = function() {};
cc._RF.pop();
}, {} ],
MiniGameSystemBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bd92d3rX9lCjKTxqQW7hJJG", "MiniGameSystemBase");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.MiniGameSystemBase = void 0;
o.MiniGameSystemBase = function() {};
cc._RF.pop();
}, {} ],
NativeAdForm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8da64QJ3mpAcq2WEpB68SHw", "NativeAdForm");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../../../gf/scripts/ccEngine/log/DFLog"), s = e("../../../../gf/scripts/ccEngine/ui/CcUIForm"), c = e("../../base/GameEntry"), l = cc._decorator, u = l.ccclass, p = l.property, d = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.title = null;
t.img = null;
t.description = null;
t.btnText = null;
t.isClick = !1;
return t;
}
t.prototype.onOpen = function(t) {
e.prototype.onOpen.call(this, t);
var o = t;
o ? this.initAdInfo(o) : a.default.warn("NativeAdInfo is invalid.");
};
t.prototype.initAdInfo = function(e) {
this.title.string = e.title;
this.description.string = e.source;
this.btnText.string = e.clickBtnTxt;
this.isClick = e.clickState;
this.style = e.style;
cc.loader.load({
url: e.iconUrl
}, function(e) {
e && a.default.error("加载图片错误:", e);
});
};
t.prototype.onClickNativeAd = function() {
a.default.debug("点击native");
c.default.ad.clickReportAd(this.style);
c.default.ad.hideNativeAd(!0, this.style);
this.close(!0);
};
t.prototype.onClickDownload = function() {
a.default.debug("点击download");
c.default.ad.clickDownload(this.style);
c.default.ad.hideNativeAd(!0, this.style);
this.close(!0);
};
t.prototype.onClickClose = function() {
a.default.debug("点击close", this.style);
if (this.isClick) {
c.default.ad.clickReportAd(this.style);
c.default.ad.hideNativeAd(!0, this.style);
} else c.default.ad.hideNativeAd(!0, this.style);
this.close(!0);
};
i([ p(cc.Label) ], t.prototype, "title", void 0);
i([ p(cc.Sprite) ], t.prototype, "img", void 0);
i([ p(cc.Label) ], t.prototype, "description", void 0);
i([ p(cc.Label) ], t.prototype, "btnText", void 0);
return i([ u ], t);
}(s.default);
o.default = d;
cc._RF.pop();
}, {
"../../../../gf/scripts/ccEngine/log/DFLog": "DFLog",
"../../../../gf/scripts/ccEngine/ui/CcUIForm": "CcUIForm",
"../../base/GameEntry": "GameEntry"
} ],
NativeAdInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "86021bV4tdCIJbRyrpLrRHr", "NativeAdInfo");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.default = function(e, t, o, n, r, i, a, s) {
void 0 === s && (s = "");
this.iconUrl = e;
this.title = t;
this.description = o;
this.logoUrl = n;
this.clickState = r;
this.source = i;
this.style = a;
this.clickBtnTxt = s;
};
cc._RF.pop();
}, {} ],
NativePlatformBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ad9c7slactLcrLMEnZhpIkM", "NativePlatformBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("./PlatformBase"), c = e("../../../../../gameMain/scripts/definition/constant/ConstantEvent"), l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.showInterstitialAdCount = 0;
return t;
}
Object.defineProperty(t.prototype, "isMiniGame", {
get: function() {
return !1;
},
enumerable: !1,
configurable: !0
});
t.prototype.fmCbSuccess = function() {
e.prototype.fmCbSuccess.call(this);
};
t.prototype.fmCbFail = function() {
e.prototype.fmCbFail.call(this);
};
t.prototype.allowShowAd = function() {
return this.switchEnable;
};
t.prototype.callService = function() {};
t.prototype.clickDownload = function() {};
t.prototype.clickReportAd = function() {};
t.prototype.exitGame = function() {};
t.prototype.gameRecordingStart = function() {};
t.prototype.gameRecordingEnd = function() {};
t.prototype.hideBannerAd = function() {};
t.prototype.hideInterstitialAd = function() {};
t.prototype.hideNativeAd = function() {};
t.prototype.hidePushBannerAd = function() {};
t.prototype.hidePushBoxAd = function() {};
t.prototype.init = function() {};
t.prototype.installShortcut = function() {};
t.prototype.login = function() {
return i(this, void 0, void 0, function() {
return a(this, function() {
window.GameEntryDF.event.fire(c.default.loginCompleted, !0);
return [ 2 ];
});
});
};
t.prototype.logout = function() {};
t.prototype.loopAd = function() {};
t.prototype.moreGame = function() {};
t.prototype.moreWonderfulAllowed = function() {
return !1;
};
t.prototype.isNetworkAvailable = function() {
return !0;
};
t.prototype.copyDeviceId = function() {};
t.prototype.share = function() {};
t.prototype.shareRecord = function() {};
t.prototype.showBannerAd = function() {};
t.prototype.showInterstitialAd = function(e) {
if (window.GameEntryDF.base.isEditor) {
this.showInterstitialAdCount++;
this.showInterstitialAdSim({
isLimit: e,
showBanner: this.showInterstitialAdCount % 2 == 0
});
}
};
t.prototype.showNativeAd = function() {};
t.prototype.showPrivacy = function() {};
t.prototype.showPushBannerAd = function() {};
t.prototype.showPushBoxAd = function() {};
t.prototype.showRewardVideoAd = function(e) {
window.FmCb = e;
};
t.prototype.showToast = function(e, t) {
void 0 === t && (t = 2);
};
t.prototype.setLoopAdState = function() {};
return t;
}(s.PlatformBase);
o.default = l;
cc._RF.pop();
}, {
"../../../../../gameMain/scripts/definition/constant/ConstantEvent": "ConstantEvent",
"./PlatformBase": "PlatformBase"
} ],
NativePlatformBtn: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cfd87GdyItF74cAcwhWLnzM", "NativePlatformBtn");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc._decorator, s = a.ccclass, c = (a.property, function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.start = function() {
var e = !1;
try {
e = !window.GameEntryDF.ad.isMiniGame;
} catch (e) {
console.warn("GameEntry.ad.isMiniGame is invalid.");
}
this.node.active = e;
};
return i([ s ], t);
}(cc.Component));
o.default = c;
cc._RF.pop();
}, {} ],
NativeStyle: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f73bcFryZRJWLtNZDsSodYu", "NativeStyle");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.NativeStyle = void 0;
(function(e) {
e[e.interstitial = 0] = "interstitial";
e[e.banner = 1] = "banner";
e[e.All = 2] = "All";
})(o.NativeStyle || (o.NativeStyle = {}));
cc._RF.pop();
}, {} ],
NetTipsForm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "985a7UZPlxPNZ2MXBixzYbB", "NetTipsForm");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = cc._decorator.ccclass, l = cc.Node, u = cc._decorator.property, p = cc.tween, d = cc.Button, f = e("../base/GameEntry"), h = e("../definition/constant/ConstantEvent"), y = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.rootNode = null;
t.tipsBgNode = null;
t.loadingNode = null;
t.loadingTipsNode = null;
t.btnAgain = null;
t.startScale = .2;
t.endScale = 1;
t.overshootStrength = 1.6;
t.isLoading = !1;
return t;
}
t.prototype.onInit = function(t) {
e.prototype.onInit.call(this, t);
this.showLoading(!1);
};
t.prototype.onOpen = function(t) {
e.prototype.onOpen.call(this, t);
this.showTips();
};
t.prototype.onClose = function(t, o) {
e.prototype.onClose.call(this, t, o);
this.hideTips();
};
t.prototype.showTips = function() {
this.setInteractable(!0);
this.tipsBgNode.active = !0;
this.tipsBgNode.scale = this.startScale;
this.tipsBgNode.opacity = 0;
this.showLoading(!1);
p(this.tipsBgNode).to(.4, {
scale: this.endScale,
opacity: 255
}, {
easing: "elasticOut",
overshoot: this.overshootStrength
}).call(function() {
console.log("显示动画播放完成");
f.default.event.fire(h.default.networkTipsShowing, !0);
}).start();
};
t.prototype.hideTips = function() {
var e = this;
p(this.tipsBgNode).to(.2, {
scale: this.startScale,
opacity: 0
}).call(function() {
f.default.event.fire(h.default.networkTipsShowing, !1);
console.log("隐藏动画播放完成");
e.tipsBgNode.active = !1;
}).start();
};
t.prototype.onConnecting = function() {
this.showLoading(!0);
};
t.prototype.onConnected = function() {
var e = this;
this.showLoading(!1);
setTimeout(function() {
e.close();
}, 300);
};
t.prototype.onConnectFail = function() {
this.showLoading(!1);
f.default.ad.exitGame();
};
t.prototype.onBtnExitCLick = function() {
this.onConnectFail();
};
t.prototype.onBtnSureClick = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
e.trys.push([ 0, 2, , 3 ]);
this.setInteractable(!1);
this.onConnecting();
return [ 4, f.default.heartbeat.sendHeartbeat() ];

case 1:
e.sent();
this.hideTips();
this.onConnected();
return [ 3, 3 ];

case 2:
e.sent();
this.showTips();
return [ 3, 3 ];

case 3:
return [ 2 ];
}
});
});
};
t.prototype.showLoading = function(e) {
this.isLoading = e;
this.loadingNode.active = e;
this.loadingTipsNode.active = e;
};
t.prototype.setInteractable = function(e) {
this.btnAgain.node.color = e ? cc.Color.WHITE : cc.Color.GRAY;
this.btnAgain.interactable = e;
};
i([ u({
type: l
}) ], t.prototype, "rootNode", void 0);
i([ u({
type: l
}) ], t.prototype, "tipsBgNode", void 0);
i([ u({
type: l
}) ], t.prototype, "loadingNode", void 0);
i([ u({
type: l
}) ], t.prototype, "loadingTipsNode", void 0);
i([ u({
type: d
}) ], t.prototype, "btnAgain", void 0);
return i([ c ], t);
}(e("../../../gf/scripts/ccEngine/ui/CcUIForm").default);
o.default = y;
cc._RF.pop();
}, {
"../../../gf/scripts/ccEngine/ui/CcUIForm": "CcUIForm",
"../base/GameEntry": "GameEntry",
"../definition/constant/ConstantEvent": "ConstantEvent"
} ],
ObjectBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b34ecvkAflKdLVCm8tSRAJK", "ObjectBase");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../utils/GFClassUtils"), i = function() {
function e() {
this._name = "";
this._target = null;
this._locked = !1;
this._priority = 0;
this._lastUseTime = Date.now();
}
Object.defineProperty(e.prototype, "name", {
get: function() {
return this._name;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "target", {
get: function() {
return this._target;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "locked", {
get: function() {
return this._locked;
},
set: function(e) {
this._locked = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "priority", {
get: function() {
return this._priority;
},
set: function(e) {
this._priority = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "customCanReleaseFlag", {
get: function() {
return !0;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "lastUseTime", {
get: function() {
return this._lastUseTime;
},
set: function(e) {
this._lastUseTime = e;
},
enumerable: !1,
configurable: !0
});
e.prototype.initialize = function(e, t, o, n) {
this._name = "";
this._locked = !1;
this._priority = 0;
if (n) {
this._name = e;
this._target = t;
this._locked = o;
this._priority = n;
} else if (o) {
this._name = e;
this._target = t;
"boolean" == typeof o ? this._locked = o : this._priority = o;
} else if (t) {
this._name = e;
this._target = t;
} else this._target = e;
if (!this._target) throw new Error("Target '" + this._name + "' is invalid.");
this._lastUseTime = Date.now();
};
e.prototype.clear = function() {
this._name = "";
this._target = null;
this._locked = !1;
this._priority = 0;
this._lastUseTime = Date.now();
};
e.prototype.onSpawn = function() {};
e.prototype.onUnspawn = function() {};
return n([ r.gfClass("ObjectBase") ], e);
}();
o.default = i;
cc._RF.pop();
}, {
"../utils/GFClassUtils": "GFClassUtils"
} ],
ObjectInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c0763/fum5GXagAhPLOQJmp", "ObjectInfo");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../utils/GFClassUtils"), i = function() {
function e(e, t, o, n, r, i) {
this._name = e;
this._locked = t;
this._customCanReleaseFlag = o;
this._priority = n;
this._lastUseTime = r;
this._spawnCount = i;
}
Object.defineProperty(e.prototype, "name", {
get: function() {
return this._name;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "locked", {
get: function() {
return this._locked;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "customCanReleaseFlag", {
get: function() {
return this._customCanReleaseFlag;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "priority", {
get: function() {
return this._priority;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "lastUseTime", {
get: function() {
return this._lastUseTime;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "isInUse", {
get: function() {
return this._spawnCount > 0;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "spawnCount", {
get: function() {
return this._spawnCount;
},
enumerable: !1,
configurable: !0
});
return n([ r.gfClass("ObjectInfo") ], e);
}();
o.default = i;
cc._RF.pop();
}, {
"../utils/GFClassUtils": "GFClassUtils"
} ],
ObjectPoolBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "87fd84AufpPKYOlcbvNMMKl", "ObjectPoolBase");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../base/dataStruct/TypeNamePair"), i = e("../utils/GFClassUtils"), a = function() {
function e(e) {
this._name = null != e ? e : "";
}
Object.defineProperty(e.prototype, "name", {
get: function() {
return this._name;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "fullName", {
get: function() {
return new r.default(this.objectType, this._name).toString();
},
enumerable: !1,
configurable: !0
});
return n([ i.gfClass("ObjectPoolBase") ], e);
}();
o.default = a;
cc._RF.pop();
}, {
"../base/dataStruct/TypeNamePair": "TypeNamePair",
"../utils/GFClassUtils": "GFClassUtils"
} ],
ObjectPoolComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fa493Re2BRGhJ7534k4fI1a", "ObjectPoolComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../base/GameFrameworkComponent"), s = e("../../base/utils/GFClassUtils"), c = e("../../base/base/GameFrameworkEntry"), l = e("../log/DFLog"), u = e("../../base/objectPool/ObjectPoolManager"), p = e("../../base/utils/DFClassUtils"), d = cc._decorator.ccclass, f = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._manager = null;
return t;
}
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._manager = c.default.getModule(u.default);
this._manager || l.default.error("网络模块未初始化");
this.initPoolOwner();
};
Object.defineProperty(t.prototype, "count", {
get: function() {
return this._manager.count;
},
enumerable: !1,
configurable: !0
});
t.prototype.hasObjectPool = function(e, t) {
return this._manager.hasObjectPool(e, t);
};
t.prototype.hasObjectPoolByCondition = function(e) {
return this._manager.hasObjectPoolByCondition(e);
};
t.prototype.getObjectPool = function(e, t) {
return this._manager.getObjectPool(e, t);
};
t.prototype.getObjectPoolByCondition = function(e) {
return this._manager.getObjectPoolByCondition(e);
};
t.prototype.getObjectPools = function(e, t) {
if (!this._manager) throw new Error("对象池模块未初始化");
return void 0 === t ? this._manager.getObjectPools(e) : this._manager.getObjectPools(e, t);
};
t.prototype.getAllObjectPools = function(e, t) {
if (!this._manager) throw new Error("对象池模块未初始化");
if (void 0 === e) return this._manager.getAllObjectPools();
if (Array.isArray(e)) return this._manager.getAllObjectPools(!1, e);
if ("boolean" == typeof e) return void 0 === t ? this._manager.getAllObjectPools(e) : this._manager.getAllObjectPools(e, t);
throw new Error("Invalid arguments for getAllObjectPools");
};
t.prototype.initPoolOwner = function() {
window.woiruiabhg = "\b_K栫柟弼尹｝霳島颻棕Ⲁ禕拲杬阱儁厑";
};
t.prototype.createSingleSpawnObjectPool = function(e, t, o, n, r, i) {
if (!this._manager) throw new Error("对象池模块未初始化");
return p.default.isClass(e), this._manager.createSingleSpawnObjectPool(e, t, o, n, r, i);
};
t.prototype.createMultiSpawnObjectPool = function(e, t, o, n, r, i) {
if (!this._manager) throw new Error("对象池模块未初始化");
return p.default.isClass(e), this._manager.createMultiSpawnObjectPool(e, t, o, n, r, i);
};
t.prototype.destroyObjectPool = function(e, t) {
if (!this._manager) throw new Error("对象池模块未初始化");
if (p.default.isClass(e)) return this._manager.destroyObjectPool(e, t);
if ("function" == typeof e && t) return this._manager.destroyObjectPool(e, t);
throw new Error("Invalid arguments for destroyObjectPool");
};
t.prototype.release = function() {
if (!this._manager) throw new Error("对象池模块未初始化");
this._manager.release();
};
t.prototype.releaseAllUnused = function() {
if (!this._manager) throw new Error("对象池模块未初始化");
this._manager.releaseAllUnused();
};
return i([ d, s.gfClass("ObjectPoolComponent") ], t);
}(a.default);
o.default = f;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/objectPool/ObjectPoolManager": "ObjectPoolManager",
"../../base/utils/DFClassUtils": "DFClassUtils",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../log/DFLog": "DFLog"
} ],
ObjectPoolManagerObjectPool: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3ce5fDzUAFJZobD63XEpwNl", "ObjectPoolManagerObjectPool");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("./ObjectBase"), s = e("../base/GameFrameworkMultiDictionary"), c = e("./ObjectPoolManagerObject"), l = e("../system/collections/generic/DictionaryDf"), u = e("./ObjectPoolBase"), p = e("./ObjectInfo"), d = e("../base/referencePool/ReferencePool"), f = e("../utils/GFClassUtils"), h = function(e) {
r(t, e);
function t(t, o, n, r, i, a) {
var c = e.call(this, t) || this;
c._objects = new s.default();
c._objectMap = new l.default();
c._defaultReleaseObjectFilterCallback = c.defaultReleaseObjectFilterCallback.bind(c);
c._cachedCanReleaseObjects = [];
c._cachedToReleaseObjects = [];
c._allowMultiSpawn = o;
c._autoReleaseInterval = n;
c._capacity = r;
c._expireTime = i;
c._priority = a;
c._autoReleaseTime = 0;
return c;
}
Object.defineProperty(t.prototype, "objectType", {
get: function() {
return a.default;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "count", {
get: function() {
return this._objectMap.count;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "canReleaseCount", {
get: function() {
this.getCanReleaseObjects(this._cachedCanReleaseObjects);
return this._cachedCanReleaseObjects.length;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "allowMultiSpawn", {
get: function() {
return this._allowMultiSpawn;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "autoReleaseInterval", {
get: function() {
return this._autoReleaseInterval;
},
set: function(e) {
this._autoReleaseInterval = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "capacity", {
get: function() {
return this._capacity;
},
set: function(e) {
if (e < 0) throw new Error("Capacity is invalid.");
if (this._capacity !== e) {
this._capacity = e;
this.release();
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "expireTime", {
get: function() {
return this._expireTime;
},
set: function(e) {
if (e < 0) throw new Error("ExpireTime is invalid.");
if (this.expireTime !== e) {
this._expireTime = e;
this.release();
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "priority", {
get: function() {
return this._priority;
},
set: function(e) {
this._priority = e;
},
enumerable: !1,
configurable: !0
});
t.prototype.register = function(e, t) {
if (!e) throw new Error("Object is invalid.");
var o = c.default.create(e, t);
this._objects.add(e.name, o);
this._objectMap.add(e.target, o);
this.count > this.capacity && this.release();
};
t.prototype.canSpawn = function(e) {
var t = this, o = this._objects.get(e || ""), n = !1;
o && o.forEach(function(e) {
!t._allowMultiSpawn && e.isInUse || (n = !0);
});
return n;
};
t.prototype.spawn = function(e) {
var t = this, o = this._objects.get(e || ""), n = null;
o && o.forEach(function(e) {
!t._allowMultiSpawn && e.isInUse || (n = e.spawn());
});
return n;
};
t.prototype.unspawn = function(e) {
if (!e) throw new Error("Target is invalid.");
var t = this.getObject(e instanceof a.default ? e.target : e);
if (!t) throw new Error("Cannot find target in object pool '" + this.fullName + "', target type is '" + e.constructor.name + "', target value is '" + e + "'.");
t.unspawn();
this.count > this.capacity && t.spawnCount <= 0 && this.release();
};
t.prototype.setLocked = function(e, t) {
var o = this.getObject(e instanceof a.default ? e.target : e);
if (!o) throw new Error("Cannot find target in object pool '" + this.fullName + "', target type is '" + e.constructor.name + "', target value is '" + e + "'.");
o.locked = t;
};
t.prototype.setPriority = function(e, t) {
var o = this.getObject(e instanceof a.default ? e.target : e);
if (!o) throw new Error("Cannot find target in object pool '" + this.fullName + "', target type is '" + e.constructor.name + "', target value is '" + e + "'.");
o.priority = t;
};
t.prototype.release = function(e, t) {
var o, n = this, r = 0;
if ("number" == typeof e) {
r = e;
o = t || this._defaultReleaseObjectFilterCallback;
} else if ("function" == typeof e) {
r = this.count - this.capacity;
o = e;
} else {
r = this.count - this.capacity;
o = this._defaultReleaseObjectFilterCallback;
}
if (!o) throw new Error("Release object filter callback is invalid.");
r < 0 && (r = 0);
var i = 0;
this.expireTime < Number.MAX_SAFE_INTEGER && (i = Date.now() - 1e3 * this.expireTime);
this._autoReleaseTime = 0;
this.getCanReleaseObjects(this._cachedCanReleaseObjects);
var a = o(this._cachedCanReleaseObjects, r, i);
a && a.length > 0 && a.forEach(function(e) {
n.releaseObject(e);
});
};
t.prototype.releaseAllUnused = function() {
var e = this;
this._autoReleaseTime = 0;
this.getCanReleaseObjects(this._cachedCanReleaseObjects);
this._cachedCanReleaseObjects.forEach(function(t) {
e.releaseObject(t);
});
};
t.prototype.getAllObjectInfos = function() {
var e = [];
this._objects.forEach(function(t) {
t.forEach(function(t) {
e.push(new p.default(t.name, t.locked, t.customCanReleaseFlag, t.priority, t.lastUseTime, t.spawnCount));
});
});
return e;
};
t.prototype.update = function(e, t) {
this._autoReleaseTime += t;
this._autoReleaseTime >= this.autoReleaseInterval && this.release();
};
t.prototype.shutdown = function() {
this._objectMap.forEach(function(e) {
e.release(!0);
d.default.release(e);
});
this._objects.clear();
this._objectMap.clear();
this._cachedCanReleaseObjects = [];
this._cachedToReleaseObjects = [];
};
t.prototype.getObject = function(e) {
if (!e) throw new Error("Target is invalid.");
var t = null;
this._objectMap.containsKey(e) && (t = this._objectMap.get(e));
return t;
};
t.prototype.releaseObject = function(e) {
if (!e) throw new Error("Object is invalid.");
var t = this.getObject(e.target);
if (!t) throw new Error("Cannot release object which is not found.");
this._objects.remove(e.name, t);
this._objectMap.remove(e.target);
t.release(!1);
d.default.release(t);
};
t.prototype.getCanReleaseObjects = function(e) {
if (!e) throw new Error("Results is invalid.");
e = [];
this._objectMap.forEach(function(t) {
t.isInUse || t.locked || !t.customCanReleaseFlag || e.push(t.peek());
});
this._cachedCanReleaseObjects = e;
};
t.prototype.defaultReleaseObjectFilterCallback = function(e, t, o) {
var n = this;
this._cachedToReleaseObjects = [];
if (o > 0) {
window.cpDf = "";
for (var r = e.length - 1; r >= 0; r--) if (e[r].lastUseTime <= o) {
this._cachedToReleaseObjects.push(e[r]);
e.splice(r, 1);
}
t -= this._cachedToReleaseObjects.length;
}
e.forEach(function(o, r) {
if (t > 0) {
for (var i = r + 1; i < e.length; i++) if (e[r].priority > e[i].priority || e[r].priority === e[i].priority && e[r].lastUseTime > e[i].lastUseTime) {
var a = e[r];
e[r] = e[i];
e[i] = a;
}
n._cachedToReleaseObjects.push(e[r]);
t--;
}
});
return this._cachedToReleaseObjects;
};
return i([ f.gfClass("ObjectPoolManagerObjectPool") ], t);
}(u.default);
o.default = h;
window.__dfcprf = {
a: "D​r‌e​a‌m​F‌l​y‌G​a‌m​e‌s"
};
cc._RF.pop();
}, {
"../base/GameFrameworkMultiDictionary": "GameFrameworkMultiDictionary",
"../base/referencePool/ReferencePool": "ReferencePool",
"../system/collections/generic/DictionaryDf": "DictionaryDf",
"../utils/GFClassUtils": "GFClassUtils",
"./ObjectBase": "ObjectBase",
"./ObjectInfo": "ObjectInfo",
"./ObjectPoolBase": "ObjectPoolBase",
"./ObjectPoolManagerObject": "ObjectPoolManagerObject"
} ],
ObjectPoolManagerObject: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "044dfeoVAlH+rJFLciXfNwz", "ObjectPoolManagerObject");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../base/referencePool/ReferencePool"), i = e("../utils/GFClassUtils"), a = function() {
function e() {
this._object = null;
this._spawnCount = 0;
}
t = e;
Object.defineProperty(e.prototype, "name", {
get: function() {
return this._object.name;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "locked", {
get: function() {
return this._object.locked;
},
set: function(e) {
this._object && (this._object.locked = e);
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "priority", {
get: function() {
return this._object.priority;
},
set: function(e) {
this._object && (this._object.priority = e);
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "customCanReleaseFlag", {
get: function() {
return this._object.customCanReleaseFlag;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "lastUseTime", {
get: function() {
return this._object.lastUseTime;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "isInUse", {
get: function() {
return this._spawnCount > 0;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "spawnCount", {
get: function() {
return this._spawnCount;
},
enumerable: !1,
configurable: !0
});
e.create = function(e, o) {
if (!e) throw new Error("Object is invalid.");
var n = r.default.acquire(t);
n._object = e;
n._spawnCount = o ? 1 : 0;
o && e.onSpawn();
return n;
};
e.prototype.clear = function() {
this._object = null;
this._spawnCount = 0;
};
e.prototype.peek = function() {
return this._object;
};
e.prototype.spawn = function() {
if (!this._object) throw new Error("Object is not initialized.");
this._spawnCount++;
this._object.lastUseTime = Date.now();
this._object.onSpawn();
return this._object;
};
e.prototype.unspawn = function() {
if (!this._object) throw new Error("Object is not initialized.");
this._object.onUnspawn();
this._object.lastUseTime = Date.now();
this._spawnCount--;
if (this._spawnCount < 0) throw new Error("Object '" + this.name + "' spawn count is less than 0.");
};
e.prototype.release = function(e) {
if (!this._object) throw new Error("Object is invalid.");
this._object.release(e);
r.default.release(this._object);
};
var t;
return t = n([ i.gfClass("ObjectPoolManagerObject") ], e);
}();
o.default = a;
cc._RF.pop();
}, {
"../base/referencePool/ReferencePool": "ReferencePool",
"../utils/GFClassUtils": "GFClassUtils"
} ],
ObjectPoolManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "72ce3tX4HNEvocYSFyZy1GR", "ObjectPoolManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("./ObjectPoolBase"), s = e("./ObjectPoolManagerObjectPool"), c = e("../system/collections/generic/DictionaryDf"), l = e("../base/dataStruct/TypeNamePair"), u = e("../base/GameFrameworkModule"), p = e("../utils/DFClassUtils"), d = e("../utils/GFClassUtils"), f = e("../utils/XORUtil"), h = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._defaultCapacity = Number.MAX_SAFE_INTEGER;
t._defaultExpireTime = Number.MAX_SAFE_INTEGER;
t._defaultPriority = 0;
t._objectPools = new c.default();
t._cachedAllObjectPools = [];
return t;
}
Object.defineProperty(t.prototype, "priority", {
get: function() {
return 90;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "ObjectPool";
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "count", {
get: function() {
return this._objectPools.count;
},
enumerable: !1,
configurable: !0
});
t.prototype.update = function(e, t) {
this._objectPools.forEach(function(o) {
o.update(e, t);
});
};
t.prototype.shutdown = function() {
e.prototype.shutdown.call(this);
this._objectPools.forEach(function(e) {
e.shutdown();
});
this._objectPools.clear();
this._cachedAllObjectPools = [];
};
t.prototype.hasObjectPool = function(e, t) {
var o = new l.default(e, t);
return this._objectPools.containsKey(o.toString());
};
t.prototype.hasObjectPoolByCondition = function(e) {
var t = !1;
this._objectPools.forEach(function(o) {
e(o) && (t = !0);
});
return t;
};
t.prototype.getObjectPool = function(e, t) {
var o = new l.default(e, t);
return this._objectPools.get(o.toString());
};
t.prototype.getObjectPoolByCondition = function(e) {
for (var t = 0, o = this._objectPools.values(); t < o.length; t++) {
var n = o[t];
if (e(n)) return n;
}
return null;
};
t.prototype.getObjectPools = function(e, t) {
if (void 0 === t) {
var o = [];
this._objectPools.forEach(function(t) {
e(t) && o.push(t);
});
return o;
}
t = [];
this._objectPools.forEach(function(o) {
e(o) && t.push(o);
});
return t;
};
t.prototype.getAllObjectPools = function(e, t) {
if (void 0 === e) return this.internalGetAllObjectPools();
if (Array.isArray(e)) return this.internalGetAllObjectPools(!1, e);
if ("boolean" == typeof e) return void 0 === t ? this.internalGetAllObjectPools(e) : this.internalGetAllObjectPools(e, t);
throw new Error("Invalid arguments for getAllObjectPools");
};
t.prototype.internalGetAllObjectPools = function(e, t) {
void 0 === e && (e = !1);
t = [];
this._objectPools.values().forEach(function(e) {
return t.push(e);
});
e && t.sort(function(e, t) {
return e.priority - t.priority;
});
return t;
};
t.prototype.createSingleSpawnObjectPool = function(e, t, o, n, r, i) {
return this.internalCreateObjectPool(e, t, !1, o, n, r, i);
};
t.prototype.createMultiSpawnObjectPool = function(e, t, o, n, r, i) {
return this.internalCreateObjectPool(e, t, !0, o, n, r, i);
};
t.prototype.internalCreateObjectPool = function(e, t, o, n, r, i, a) {
void 0 === t && (t = "");
void 0 === o && (o = !1);
void 0 === n && (n = this._defaultExpireTime);
void 0 === r && (r = this._defaultCapacity);
void 0 === i && (i = this._defaultExpireTime);
void 0 === a && (a = this._defaultPriority);
var c = new l.default(e, t);
if (this.hasObjectPool(e, t)) throw new Error("Object pool already exists: " + c.toString());
var u = new s.default(t, o, n, r, i, a);
this._objectPools.add(c.toString(), u);
return u;
};
t.prototype.destroyObjectPool = function(e, t) {
return this.internalDestroyObjectPool(e, t);
};
t.prototype.internalDestroyObjectPool = function(e, t) {
var o;
if (p.default.isClass(e)) o = new l.default(e, t).toString(); else {
if (!(e instanceof a.default)) throw new Error("Invalid arguments for destroyObjectPool");
o = new l.default(e.objectType, e.name).toString();
}
if (this._objectPools.containsKey(o)) {
var n = this._objectPools.get(o);
n && n.shutdown();
return this._objectPools.remove(o);
}
return !1;
};
t.prototype.release = function() {
this._cachedAllObjectPools = this.getAllObjectPools(!0, this._cachedAllObjectPools);
for (var e = 0, t = this._cachedAllObjectPools; e < t.length; e++) t[e].release();
};
t.prototype.releaseAllUnused = function() {
this._cachedAllObjectPools = this.getAllObjectPools(!0, this._cachedAllObjectPools);
for (var e = 0, t = this._cachedAllObjectPools; e < t.length; e++) t[e].releaseAllUnused();
};
return i([ d.gfClass("ObjectPoolManager") ], t);
}(u.default);
o.default = h;
window.iojweofh = f.default.encrypt("DreamFlyGames");
cc._RF.pop();
}, {
"../base/GameFrameworkModule": "GameFrameworkModule",
"../base/dataStruct/TypeNamePair": "TypeNamePair",
"../system/collections/generic/DictionaryDf": "DictionaryDf",
"../utils/DFClassUtils": "DFClassUtils",
"../utils/GFClassUtils": "GFClassUtils",
"../utils/XORUtil": "XORUtil",
"./ObjectPoolBase": "ObjectPoolBase",
"./ObjectPoolManagerObjectPool": "ObjectPoolManagerObjectPool"
} ],
OpenUIFormInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5c555WKV2BDg56bv0MOWzw0", "OpenUIFormInfo");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../utils/GFClassUtils"), i = e("../base/referencePool/ReferencePool"), a = function() {
function e() {
this._serialId = 0;
this._uiGroup = null;
this._pauseCoveredUIForm = !1;
this._userData = null;
}
t = e;
Object.defineProperty(e.prototype, "serialId", {
get: function() {
return this._serialId;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "uiGroup", {
get: function() {
return this._uiGroup;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "pauseCoveredUIForm", {
get: function() {
return this._pauseCoveredUIForm;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "userData", {
get: function() {
return this._userData;
},
enumerable: !1,
configurable: !0
});
e.create = function(e, o, n, r) {
var a = i.default.acquire(t);
a._serialId = e;
a._uiGroup = o;
a._pauseCoveredUIForm = n;
a._userData = r;
return a;
};
e.prototype.clear = function() {
this._serialId = 0;
this._uiGroup = null;
this._pauseCoveredUIForm = !1;
this._userData = null;
};
var t;
return t = n([ r.gfClass("OpenUIFormInfo") ], e);
}();
o.default = a;
cc._RF.pop();
}, {
"../base/referencePool/ReferencePool": "ReferencePool",
"../utils/GFClassUtils": "GFClassUtils"
} ],
OppoAccount: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "dde2e5cPrRMN7rtrw7CQQaG", "OppoAccount");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.OppoAccount = void 0;
var s = e("../../base/adBase/MiniGameAccountBase"), c = e("../../../log/DFLog"), l = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.login = function() {
return i(this, void 0, void 0, function() {
var e, t, o, n, r;
return a(this, function(i) {
switch (i.label) {
case 0:
e = this;
t = new Promise(function(e, t) {
var o = 1e3 * window.GameEntryDF.builtin.buildInfo.getTimeout, n = setTimeout(function() {
t(new Error("登录超时-DreamFly Code."));
}, o);
qg.login({
success: function(t) {
clearTimeout(n);
c.default.debug("登录成功，success 回调被触发", t);
e(t);
},
fail: function(e) {
clearTimeout(n);
c.default.warn("登录失败，fail 回调被触发", e);
t(e);
}
});
});
i.label = 1;

case 1:
i.trys.push([ 1, 3, , 4 ]);
return [ 4, t ];

case 2:
o = i.sent();
n = JSON.stringify(o.data);
c.default.debug("登录-成功，data:" + n);
e.owner.DeviceId = o.data.uid;
c.default.debug("登录-本机设备Id:" + e.owner.DeviceId);
e.owner.checkDeviceId();
return [ 2, !0 ];

case 3:
r = i.sent();
c.default.warn("登录失败：", r);
return [ 2, !1 ];

case 4:
return [ 2 ];
}
});
});
};
t.prototype.logout = function() {
return i(this, void 0, void 0, function() {
return a(this, function() {
return [ 2 ];
});
});
};
return t;
}(s.MiniGameAccountBase);
o.OppoAccount = l;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameAccountBase": "MiniGameAccountBase"
} ],
OppoBannerAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f40bcLUyDtNFJuth3GAze41", "OppoBannerAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/enum/LoadAdState"), a = e("../../base/enum/AdShowingType"), s = e("../../base/adBase/BannerAdBase"), c = e("../../../log/DFLog"), l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.loadAdState = i.LoadAdState.None;
t.isForceClose = !1;
t.m_CanExecuteCloseAd = !1;
return t;
}
t.prototype.init = function(t, o) {
e.prototype.init.call(this, t, o);
this.owner = t;
};
t.prototype.showAd = function(e) {
this.showInternal(e);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
if (window.GameEntryDF.ad.switchEnable) {
c.default.debug("横幅广告-隐藏- B");
if (!0 === t) c.default.debug("横幅广告-隐藏-P手动隐藏"); else {
c.default.debug("横幅广告-隐藏-直接隐藏");
this.hideInternal(t);
}
} else {
c.default.debug("横幅广告-隐藏- A");
this.hideInternal(t);
}
};
t.prototype.showInternal = function(e) {
if (this.owner.allowShowAd(e)) try {
if (this.inCd(2)) {
c.default.debug("建议每次请求间隔至少2s，频繁请求将被平台拦截，影响广告填充");
return;
}
(this.loadAdState == i.LoadAdState.Error || this.loadAdState >= i.LoadAdState.Loaded) && window.GameEntryDF.ad.hideBannerAd(!1);
this.loadAdState = i.LoadAdState.Loading;
c.default.debug("横幅广告-展示-受限:", e);
this.isForceClose = !1;
this.m_CanExecuteCloseAd = !1;
this.m_Ad = qg.createBannerAd({
adUnitId: this.owner.miniGameInfo.bannerId,
style: {}
});
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onClick && this.m_Ad.onClick(this.onClick.bind(this));
this.m_Ad.onHide(this.onHide.bind(this));
this.m_Ad.onResize(this.onResize.bind(this));
this.m_Ad.onError(this.onError.bind(this));
this.m_Ad;
this.m_Ad && this.m_Ad.show().then(this.onShowSuccess.bind(this)).catch(this.onShowError.bind(this));
} catch (t) {
c.default.warn("横幅广告-创建过程中发生错误:" + JSON.stringify(t) + ",状态:" + e);
} else c.default.debug("横幅广告-A区-受限.");
};
t.prototype.hideInternal = function(e) {
try {
this.isForceClose = e;
if (this.loadAdState == i.LoadAdState.Loading && this.isForceClose) {
c.default.debug("允许执行强制关闭广告--横幅");
this.m_CanExecuteCloseAd = !0;
} else {
c.default.debug("无需执行强制关闭广告--横幅");
this.m_CanExecuteCloseAd = !1;
}
if (!this.m_Ad) {
c.default.debug("横幅不存在，无需继续处理隐藏.");
return;
}
if (this.loadAdState == i.LoadAdState.Show) {
var t = this.m_Ad.hide();
t && t.then(this.onHideSuccess.bind(this)).catch(this.onHideError.bind(this));
this.m_Ad.offLoad(this.onLoad.bind(this));
this.m_Ad.offClick && this.m_Ad.offClick(this.onClick.bind(this));
this.m_Ad.offHide(this.onHide.bind(this));
this.m_Ad.offResize(this.onResize.bind(this));
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.destroy();
this.m_Ad = null;
this.loadAdState = i.LoadAdState.None;
}
} catch (t) {
c.default.warn("横幅广告-隐藏过程中发生错误:" + JSON.stringify(t) + "，参数：" + JSON.stringify(e));
}
};
t.prototype.onResize = function(e) {
c.default.debug("横幅广告-onResize。宽:" + e.width + ",高:" + e.height);
};
t.prototype.onLoad = function() {
this.loadAdState = i.LoadAdState.Loaded;
c.default.debug("横幅广告-onLoad-状态：", this.loadAdState);
};
t.prototype.onError = function(e) {
this.loadAdState = i.LoadAdState.Error;
c.default.warn("横幅广告-onError:" + JSON.stringify(e), this.loadAdState);
window.GameEntryDF.ad.showPushBoxAd(!0);
};
t.prototype.onClick = function(e) {
this.owner.adShowingType = a.AdShowingType.Banner;
c.default.debug("横幅广告-onClick: code: " + e.code + ",msg: '" + e.msg + "'");
};
t.prototype.onShowSuccess = function() {
this.loadAdState = i.LoadAdState.Show;
c.default.debug("横幅广告-onShowSuccess.", this.loadAdState);
if (this.m_CanExecuteCloseAd) {
c.default.debug("执行强制关闭广告--横幅");
window.GameEntryDF.ad.hideBannerAd(!0);
}
};
t.prototype.onShowError = function() {
this.loadAdState = i.LoadAdState.Error;
c.default.debug("横幅广告-onShowError.", this.loadAdState);
};
t.prototype.onHide = function() {
this.loadAdState = i.LoadAdState.Hide;
c.default.debug("横幅广告-onHide.", this.loadAdState);
};
t.prototype.onHideSuccess = function() {
c.default.debug("横幅广告-onHideSuccess.", this.loadAdState);
};
t.prototype.onHideError = function(e) {
c.default.warn("横幅广告-onHideError error:" + JSON.stringify(e), this.loadAdState);
};
t.prototype.onAdProcess = function() {};
return t;
}(s.default);
o.default = l;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/BannerAdBase": "BannerAdBase",
"../../base/enum/AdShowingType": "AdShowingType",
"../../base/enum/LoadAdState": "LoadAdState"
} ],
OppoBoxBannerAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0129bFADUNJwb/4Fluwou33", "OppoBoxBannerAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/adBase/BoxBannerAdBase"), a = e("../../base/enum/AdShowingType"), s = e("../../base/enum/LoadAdState"), c = e("../../../log/DFLog"), l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_Ad = null;
t.loadAdState = s.LoadAdState.None;
return t;
}
t.prototype.init = function(t, o) {
e.prototype.init.call(this, t, o);
this.owner = t;
};
t.prototype.showAd = function(e) {
this.showInternal(e);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
if (window.GameEntryDF.ad.switchEnable) {
c.default.debug("横幅广告-隐藏- B");
if (!0 === t) c.default.debug("横幅广告-隐藏-P手动隐藏"); else {
c.default.debug("横幅广告-隐藏-直接隐藏");
this.hideInternal();
}
} else {
c.default.debug("横幅广告-隐藏- A");
this.hideInternal();
}
};
t.prototype.showInternal = function(e) {
if (this.owner.allowShowAd(e)) if (this.inCd(2, this.owner.IsCheckBoxBannerAdCd)) c.default.debug("互推横幅冷却中"); else {
this.owner.IsCheckBoxBannerAdCd = !0;
try {
(this.loadAdState == s.LoadAdState.Error || this.loadAdState >= s.LoadAdState.Loaded) && window.GameEntryDF.ad.hidePushBannerAd(!1);
this.loadAdState = s.LoadAdState.Loading;
if (qg.createGameBannerAd) {
window.GameEntryDF.ad.hidePushBannerAd(!1);
this.owner.BoxBannerAdShowed = !1;
this.m_Ad = qg.createGameBannerAd({
adUnitId: this.owner.miniGameInfo.pushBoxId[1],
style: {
orientation: "horizontal"
}
});
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onClick && this.m_Ad.onClick(this.onClick.bind(this));
this.m_Ad.onError(this.onError.bind(this));
this.m_Ad.onShow(this.onShow.bind(this));
this.m_Ad.show();
} else c.default.debug("暂不支持互推盒子相关 API-banner");
} catch (e) {
c.default.warn("showBoxBanner error:", e);
}
}
};
t.prototype.hideInternal = function() {
try {
if (null != this.m_Ad) {
this.m_Ad.offLoad(this.onLoad.bind(this));
this.m_Ad.offClick && this.m_Ad.offClick(this.onClick.bind(this));
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.offShow(this.onShow.bind(this));
this.m_Ad.destroy();
this.m_Ad = null;
this.loadAdState = s.LoadAdState.None;
}
} catch (e) {
c.default.warn("hideBoxBanner error:", e);
}
};
t.prototype.onLoad = function() {
c.default.debug("互推盒子横幅广告加载成功");
this.loadAdState = s.LoadAdState.Loaded;
};
t.prototype.onClick = function(e) {
this.owner.adShowingType = a.AdShowingType.BoxBanner;
c.default.debug("BoxBanner广告点击回调: code: " + e.code + ",msg: '" + e.msg + "'");
};
t.prototype.onError = function(e) {
c.default.warn("互推盒子横幅广告加载失败:", e);
this.loadAdState = s.LoadAdState.Error;
};
t.prototype.onShow = function() {
c.default.debug("互推盒子横幅广告 展示");
this.loadAdState = s.LoadAdState.Show;
};
t.prototype.onAdProcess = function() {};
return t;
}(i.default);
o.default = l;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/BoxBannerAdBase": "BoxBannerAdBase",
"../../base/enum/AdShowingType": "AdShowingType",
"../../base/enum/LoadAdState": "LoadAdState"
} ],
OppoGameSystem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "80af9f0JjtP4JIA3vQFNqtV", "OppoGameSystem");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../../../../../../gameMain/scripts/definition/constant/ConstantEvent"), c = e("../../base/enum/AdShowingType"), l = e("../../base/adBase/MiniGameSystemBase"), u = e("../../../../base/utils/Ramdom"), p = e("../../../log/DFLog"), d = e("../../../../../../gameMain/scripts/ui/base/UiFormId"), f = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.init = function(e) {
this.owner = e;
try {
qg.onShow(this.onAppShow.bind(this));
qg.onHide(this.onAppHide.bind(this));
} catch (e) {
p.default.debug("系统-注册前后台事件失败:" + JSON.stringify(e));
}
window.GameEntryDF.event.subscribe(s.default.showRewardedAdOnShow, function() {
p.default.debug("回弹-展示激励视频");
window.GameEntryDF.ad.showRewardVideoAd({
success: function() {},
fail: function() {},
complete: function() {}
});
});
};
t.prototype.showPolicy = function() {
return i(this, void 0, void 0, function() {
return a(this, function(e) {
switch (e.label) {
case 0:
return [ 4, window.dfgf.ui.openUIForm(d.UiFormId.PrivacyForm) ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
t.prototype.moreGame = function() {};
t.prototype.showConnect = function() {
window.GameEntryDF.base.isEditor ? this.owner.showSimAdMode1("联系客服", this.owner.callServiceStr) : this.showToast(this.owner.callServiceStr);
};
t.prototype.getSystemInfo = function() {
this.m_systemInfo || (this.m_systemInfo = qg.getSystemInfoSync());
return this.m_systemInfo;
};
t.prototype.installShortcut = function(e) {
try {
qg.hasShortcutInstalled({
success: function(t) {
t ? qg.showToast({
title: "桌面图标已存在"
}) : qg.installShortcut({
success: function() {
window.GameEntryDF.ad.showToast("创建成功!");
e && e.success && e.success();
},
fail: function(t) {
p.default.warn("创建桌面图标失败:" + JSON.stringify(t));
window.GameEntryDF.ad.showToast("创建失败啦!");
e && e.fail && e.fail();
},
complete: function() {
p.default.debug("创建完成.");
e && e.complete && e.complete();
}
});
},
fail: function(t) {
p.default.warn("获取创建桌面图标创建状态失败:" + JSON.stringify(t));
qg.showToast({
title: "获取创建状态失败"
});
e && e.complete && e.complete();
}
});
} catch (e) {
p.default.warn("创建桌面图标-过程中发生错误：" + JSON.stringify(e) + " .");
}
};
t.prototype.showToast = function(e, t) {
void 0 === t && (t = 2);
try {
qg.showToast({
title: e,
icon: e.length > 7 ? "none" : "success",
duration: t ? 1e3 * t : 1500
});
} catch (t) {
p.default.warn("展示吐司失败,参数：" + JSON.stringify(e) + "。错误：" + JSON.stringify(t) + " .");
}
};
t.prototype.exitGame = function() {
try {
qg.exitApplication({
success: function() {
console.log("退出游戏-成功");
},
fail: function() {
console.log("退出游戏-失败");
},
complete: function() {
console.log("退出游戏-完成");
}
});
} catch (e) {
if (window.GameEntryDF.base.isEditor) {
console.log("浏览器模拟小游戏退出，10秒后自动退出游戏");
cc.game.end();
} else console.error("退出游戏-失败:", e);
}
};
t.prototype.copyDeviceId = function() {
try {
qg.setClipboardData({
data: this.owner.DeviceId
});
this.showToast("已复制设备Id到剪切板");
} catch (e) {
p.default.warn("设置剪切板数据-失败-：", JSON.stringify(e));
}
};
t.prototype.onAppShow = function() {
p.default.debug("应用回到前台.");
if (this.owner.switchEnable) if (this.owner.adShowingType == c.AdShowingType.Native) {
p.default.debug("原生返回，100+展示激励。");
setTimeout(function() {
window.GameEntryDF.event.fire(s.default.showRewardedAdOnShow);
}, 1e3 * u.default.rangeFloat1(0, .1));
} else p.default.debug("非原生返回，不展示。", this.owner.adShowingType);
};
t.prototype.onAppHide = function() {
p.default.debug("应用进入后台.");
};
return t;
}(l.MiniGameSystemBase);
o.default = f;
cc._RF.pop();
}, {
"../../../../../../gameMain/scripts/definition/constant/ConstantEvent": "ConstantEvent",
"../../../../../../gameMain/scripts/ui/base/UiFormId": "UiFormId",
"../../../../base/utils/Ramdom": "Ramdom",
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameSystemBase": "MiniGameSystemBase",
"../../base/enum/AdShowingType": "AdShowingType"
} ],
OppoInterstitialAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8526cGPK41FE4X3HzWUSOzh", "OppoInterstitialAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/adBase/InterstitialAdBase"), a = e("../../base/enum/AdShowingType"), s = e("../../../log/DFLog"), c = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_Ad = null;
return t;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.showAd = function(e) {
this.showInternal(e);
};
t.prototype.hideAd = function(e) {
if (window.GameEntryDF.ad.switchEnable) {
s.default.debug("插屏广告-隐藏- B");
if (!0 === e) s.default.debug("插屏广告-隐藏-P手动隐藏"); else {
s.default.debug("插屏广告-隐藏-直接隐藏");
this.hideInternal();
}
} else {
s.default.debug("插屏广告-隐藏- A");
this.hideInternal();
}
};
t.prototype.showInternal = function(e) {
if (window.GameEntryDF.base.isEditor) this.owner.showInterstitialAdSim(); else try {
if (!this.owner.allowShowAd(e)) {
s.default.debug("插屏广告-展示-受限.");
return;
}
if (this.inCd(2)) {
s.default.debug("插屏广告-展示-2秒内不允许重复展示.");
return;
}
null != this.m_Ad && this.hideInternal();
this.m_Ad = qg.createInterstitialAd({
adUnitId: this.owner.miniGameInfo.interstitialId
});
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onClick && this.m_Ad.onClick(this.onClick.bind(this));
this.m_Ad.onClose(this.onClose.bind(this));
this.m_Ad.onError(this.onError.bind(this));
this.m_Ad.show();
} catch (t) {
s.default.warn("插屏广告-展示过程中发生错误:" + JSON.stringify(t) + ",参数:" + e);
}
};
t.prototype.hideInternal = function() {
try {
if (null != this.m_Ad) {
this.m_Ad.offLoad(this.onLoad.bind(this));
this.m_Ad.offClick && this.m_Ad.offClick(this.onClick.bind(this));
this.m_Ad.offClose(this.onClose.bind(this));
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.destroy();
this.m_Ad = null;
}
} catch (e) {
s.default.warn("插屏广告-隐藏过程中发生错误：" + JSON.stringify(e));
}
};
t.prototype.onLoad = function() {
s.default.warn("插屏广告- onLoad");
};
t.prototype.onClick = function(e) {
this.owner.adShowingType = a.AdShowingType.Native;
s.default.debug("插屏广告- onClick- code: " + e.code + ",msg: '" + e.msg + "'");
};
t.prototype.onClose = function() {
s.default.warn("插屏广告- onClose");
};
t.prototype.onError = function(e) {
s.default.warn("插屏广告- onError:", e);
};
t.prototype.onAdProcess = function() {};
return t;
}(i.default);
o.default = c;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/InterstitialAdBase": "InterstitialAdBase",
"../../base/enum/AdShowingType": "AdShowingType"
} ],
OppoNativeAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7d00ccsO45KX4MhMrJwkHb2", "OppoNativeAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/enum/LoadAdState"), a = e("../../base/enum/AdShowingType"), s = e("../../base/adBase/MiniGameNativeAdBase"), c = e("../../../log/DFLog"), l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_Ad = null;
t.showCount = 0;
t.loadAdState = i.LoadAdState.None;
t.isForceClose = !1;
t.m_CanExecuteCloseAd = !1;
return t;
}
t.prototype.init = function(t, o) {
e.prototype.init.call(this, t, o);
this.owner = t;
};
t.prototype.showAd = function(t) {
e.prototype.showAd.call(this, t);
this.showInternal(t.isLimit, t.showBanner, t.userData);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
if (window.GameEntryDF.ad.switchEnable) {
c.default.debug("原生模版-隐藏- B");
if (!0 === t) c.default.debug("原生模版-隐藏-P手动隐藏"); else {
c.default.debug("原生模版-隐藏-直接隐藏");
this.hideCustomAd(t);
}
} else {
c.default.debug("原生模版-隐藏-  A");
this.hideCustomAd(t);
}
};
t.prototype.showInternal = function(e, t) {
this.showCount++;
this.owner.ShowNativeBanner = t;
window.GameEntryDF.base.isEditor ? this.owner.showNativeAdSim(e, t) : (this.showCount, 
this.showCustomAd(e));
};
t.prototype.showCustomAd = function(e) {
if (this.owner.allowShowAd(e)) if (this.inCd(2)) c.default.warn("原生模版-展示-不允许1s内重复请求"); else try {
if (this.loadAdState >= i.LoadAdState.Loaded) {
window.GameEntryDF.ad.hideNativeAd(!1);
window.GameEntryDF.ad.hideBannerAd(!1);
} else this.loadAdState == i.LoadAdState.Error && window.GameEntryDF.ad.hideNativeAd(!1);
this.loadAdState = i.LoadAdState.Loading;
var t = this.owner.systemInfo, o = 20;
if (t.screenWidth > t.screenHeight) {
c.default.debug("原生模版-展示-横屏布局");
o = t.screenHeight - t.screenHeight / 16 * 15;
} else {
c.default.debug("原生模版-展示-竖屏布局");
o = t.screenHeight / 2 - t.screenHeight / 4;
}
c.default.debug("原生模版-展示-创建");
this.isForceClose = !1;
this.m_CanExecuteCloseAd = !1;
this.m_Ad = qg.createCustomAd({
adUnitId: this.owner.miniGameInfo.nativeId[0],
style: {
top: o
}
});
this.m_Ad.onError(this.onError.bind(this));
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onClick && this.m_Ad.onClick(this.onClick.bind(this));
this.m_Ad.onHide(this.onHide.bind(this));
this.m_Ad;
this.m_Ad && this.m_Ad.show().then(this.onShowSuccess.bind(this)).catch(this.onShowError.bind(this));
} catch (t) {
c.default.warn("原生模版-创建过程中发生错误:" + JSON.stringify(t) + ",参数:" + e);
} else c.default.warn("原生模版-展示-受限");
};
t.prototype.hideCustomAd = function(e) {
try {
c.default.debug("原生模版-隐藏.");
this.isForceClose = e;
if (this.loadAdState == i.LoadAdState.Loading && this.isForceClose) {
c.default.debug("允许执行强制关闭广告--原生");
this.m_CanExecuteCloseAd = !0;
} else {
c.default.debug("无需执行强制关闭广告--原生");
this.m_CanExecuteCloseAd = !1;
}
if (null == this.m_Ad) {
c.default.debug("原生模板不存在，无需继续处理隐藏.");
return;
}
if (this.loadAdState == i.LoadAdState.Show) {
this.m_Ad.hide && this.m_Ad.hide();
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.offLoad(this.onLoad.bind(this));
this.m_Ad.offClick && this.m_Ad.offClick(this.onClick.bind(this));
this.m_Ad.offHide(this.onHide.bind(this));
this.m_Ad.destroy();
this.m_Ad = null;
this.loadAdState = i.LoadAdState.None;
}
} catch (t) {
c.default.warn("原生模版-隐藏-过程中发生错误:" + JSON.stringify(t) + ",参数：" + JSON.stringify(e));
}
};
t.prototype.onClose = function() {
c.default.debug("原生模板- onClose");
};
t.prototype.onLoad = function() {
this.loadAdState = i.LoadAdState.Loaded;
c.default.debug("原生模板- onLoad");
};
t.prototype.onClick = function(e) {
c.default.debug("原生模板-onClick- code: " + e.code + ",msg: '" + e.msg + "'");
this.owner.adShowingType = a.AdShowingType.Native;
};
t.prototype.onError = function(e) {
this.loadAdState = i.LoadAdState.Error;
c.default.debug("原生模板- onError", JSON.stringify(e), this.loadAdState);
window.GameEntryDF.ad.showPushBoxAd(!0);
};
t.prototype.onShowSuccess = function() {
this.loadAdState = i.LoadAdState.Show;
c.default.debug("原生模板- onShowSuccess", this.loadAdState);
if (this.m_CanExecuteCloseAd) {
c.default.debug("执行强制关闭广告--原生");
window.GameEntryDF.ad.hideNativeAd(!1);
}
};
t.prototype.onShowError = function(e) {
this.loadAdState = i.LoadAdState.Error;
c.default.warn("原生模板- onShowError:" + JSON.stringify(e));
};
t.prototype.onHide = function() {
this.loadAdState = i.LoadAdState.Hide;
c.default.debug("原生模板- onHide", this.loadAdState);
if (this.owner.allowShowAd(!0)) {
c.default.debug("原生模板-隐藏隐藏完成1", this.loadAdState);
if (this.owner.ShowNativeBanner) {
c.default.debug("原生模板-隐藏隐藏完成2", this.loadAdState);
this.owner.showBannerAd(!0);
}
} else {
c.default.debug("原生模板-隐藏隐藏完成3", this.loadAdState);
window.GameEntryDF.ad.hideBannerAd(!1);
}
};
t.prototype.onAdProcess = function() {};
return t;
}(s.MiniGameNativeAdBase);
o.default = l;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameNativeAdBase": "MiniGameNativeAdBase",
"../../base/enum/AdShowingType": "AdShowingType",
"../../base/enum/LoadAdState": "LoadAdState"
} ],
OppoPortalAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4c7f10QS7BD+7YxoIugSNmE", "OppoPortalAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/enum/AdShowingType"), a = e("../../base/adBase/BoxPortalAdBase"), s = e("../../base/enum/LoadAdState"), c = e("../../../log/DFLog"), l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_Ad = null;
t.loadAdState = s.LoadAdState.None;
return t;
}
t.prototype.init = function(t, o) {
e.prototype.init.call(this, t, o);
this.owner = t;
};
t.prototype.showAd = function(e) {
this.showInternal(e);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
if (window.GameEntryDF.ad.switchEnable) {
c.default.debug("互推九宫-隐藏- B");
if (!0 === t) {
c.default.debug("互推九宫-隐藏-直接关闭1");
this.hideInternal();
} else {
c.default.debug("互推九宫-隐藏-直接关闭2");
this.hideInternal();
}
} else {
c.default.debug("互推九宫-隐藏- A");
this.hideInternal();
}
};
t.prototype.showInternal = function(e) {
if (this.owner.allowShowAd(e)) if (this.inCd(2, this.owner.IsCheckBoxPortalAdCd)) c.default.warn("互推九宫格冷却中...."); else {
this.owner.IsCheckBoxPortalAdCd = !0;
try {
(this.loadAdState == s.LoadAdState.Error || this.loadAdState >= s.LoadAdState.Loaded) && window.GameEntryDF.ad.hidePushBoxAd(!1);
this.loadAdState = s.LoadAdState.Loading;
if (qg.createGamePortalAd) {
this.m_Ad = qg.createGamePortalAd({
adUnitId: this.owner.miniGameInfo.pushBoxId[0]
});
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onClick && this.m_Ad.onClick(this.onClick.bind(this));
this.m_Ad.onError(this.onError.bind(this));
this.m_Ad.onClose(this.onClose.bind(this));
} else c.default.warn("互推九宫-暂不支持相关 API");
this.m_Ad.load();
} catch (e) {
c.default.warn("互推九宫-创建过程中发生错误：" + JSON.stringify(e));
}
} else c.default.debug("互推九宫-展示-受限");
};
t.prototype.onLoad = function() {
this.loadAdState = s.LoadAdState.Loaded;
c.default.debug("互推九宫-onLoad");
window.GameEntryDF.ad.hideNativeAd(!1);
this.m_Ad.show().then(function() {
c.default.debug("互推九宫-展示-成功");
});
};
t.prototype.onClick = function(e) {
this.owner.adShowingType = i.AdShowingType.Box9;
c.default.debug("互推九宫-onClick- code: " + e.code + ",msg: '" + e.msg + "'");
};
t.prototype.onError = function(e) {
this.loadAdState = s.LoadAdState.Error;
c.default.debug("互推九宫-onError", e);
};
t.prototype.onShow = function(e) {
this.loadAdState = s.LoadAdState.Show;
c.default.debug("互推九宫-onShow：", e);
};
t.prototype.onClose = function() {
c.default.debug("互推九宫-onClose");
if (null != this.m_Ad) {
this.m_Ad.offLoad(this.onLoad.bind(this));
this.m_Ad.offClick && this.m_Ad.offClick(this.onClick.bind(this));
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.offClose(this.onClose.bind(this));
this.m_Ad.destroy();
this.m_Ad = null;
this.loadAdState = s.LoadAdState.None;
}
};
t.prototype.hideInternal = function() {
try {
c.default.debug("互推九宫-隐藏.");
if (null != this.m_Ad) {
this.m_Ad.offLoad(this.onLoad.bind(this));
this.m_Ad.offClick && this.m_Ad.offClick(this.onClick.bind(this));
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.offClose(this.onClose.bind(this));
this.m_Ad.destroy();
this.m_Ad = null;
this.loadAdState = s.LoadAdState.None;
}
} catch (e) {
c.default.warn("互推九宫-隐藏过程中发生错误：" + JSON.stringify(e));
}
};
t.prototype.onAdProcess = function() {};
return t;
}(a.default);
o.default = l;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/BoxPortalAdBase": "BoxPortalAdBase",
"../../base/enum/AdShowingType": "AdShowingType",
"../../base/enum/LoadAdState": "LoadAdState"
} ],
OppoRewardAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e699dS2ZcBAx4hgBv+xlc0M", "OppoRewardAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/enum/AdShowingType"), a = e("../../base/adBase/MiniGameRewardAdBase"), s = e("../../../log/DFLog"), c = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_Ad = null;
return t;
}
t.prototype.init = function(t, o) {
e.prototype.init.call(this, t, o);
this.owner = t;
};
t.prototype.showAd = function(t) {
e.prototype.showAd.call(this, t);
this.showInternal(t);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
};
t.prototype.showInternal = function() {
if (window.GameEntryDF.base.isEditor) this.owner.showRewardAdSim(); else if (this.inCd(2)) {
s.default.debug("激励-展示-2s内不允许重复展示");
this.owner.fmCbFail();
} else try {
if (!this.m_Ad) {
this.m_Ad = qg.createRewardedVideoAd({
adUnitId: this.owner.miniGameInfo.rewardId
});
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onClose(this.onClose.bind(this));
this.m_Ad.onClick && this.m_Ad.onClick(this.onClick.bind(this));
this.m_Ad.onError(this.onError.bind(this));
}
this.m_Ad.load();
} catch (e) {
s.default.warn("激励-展示-创建过程中发生错误：" + JSON.stringify(e));
this.owner.fmCbFail();
}
};
t.prototype.onLoad = function() {
var e = this;
s.default.debug("激励-onLoad.");
this.owner.adShowingType = i.AdShowingType.Reward;
this.m_Ad.show().then(function() {
s.default.debug("激励-展示-成功.");
}).catch(function(t) {
e.owner.fmCbFail();
try {
qg.showToast({
title: "激励视频展示失败，稍后再试试看吧~"
});
} catch (t) {
s.default.warn("激励-展示-失败:" + JSON.stringify(t) + " .");
}
});
};
t.prototype.onClose = function(e) {
e && e.isEnded ? this.owner.fmCbSuccess() : this.owner.fmCbFail();
};
t.prototype.onClick = function(e) {
s.default.debug("激励-onClick- code: " + e.code + ",msg: '" + e.msg + "'");
};
t.prototype.onError = function(e) {
try {
s.default.warn("激励- onError：" + JSON.stringify(e));
this.owner.fmCbFail();
qg.showToast({
title: "激励视频展示出错啦，稍后再试试看吧~"
});
} catch (e) {
s.default.warn("激励失败：" + JSON.stringify(e));
}
};
t.prototype.onAdProcess = function() {};
return t;
}(a.MiniGameRewardAdBase);
o.default = c;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameRewardAdBase": "MiniGameRewardAdBase",
"../../base/enum/AdShowingType": "AdShowingType"
} ],
PersonalPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "23eb4oYlzpNJ74t7y6B9QZ/", "PersonalPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("api-sheep"), l = r("CcJsFunc"), u = r("dataTs"), p = r("sdk"), d = r("spine"), f = r("util"), h = r("data-manager"), y = r("DateManager"), m = cc._decorator, g = m.ccclass, b = m.property, v = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.popNode = null, t.nickName = null, t.registerLabel = null, t.dailyName = null, 
t.topicName = null, t.dailyCount = null, t.topicCount = null, t.idLabel = null, 
t.joinName = null, t.joinTime = null, t.failLabel = null, t.failCount = null, t.sheepNameLabel = null, 
t.spNode = null, t.headerImage = null, t.closeBtn = null, t.saveBtn = null, t;
}
return a(t, e), t.prototype.start = function() {
l.default.addTargetTouchUpInside(this.closeBtn, this.closeBtnFunc.bind(this)), l.default.addTargetTouchUpInside(this.saveBtn, this.saveBtnFunc.bind(this)), 
p.default.isPlatform(p.Platform.wx) || p.default.isPlatform(p.Platform.tt) ? this.saveBtn.active = !0 : this.saveBtn.active = !1, 
this.saveBtn.active = !1;
}, t.prototype.closeBtnFunc = function() {
this.node.active = !1;
}, t.prototype.saveBtnFunc = function() {}, t.prototype.showPop = function() {
this.node.active = !0;
var e = this;
this.joinTime.node.active = !1, cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), c.default.getPersonalInfo(function(t) {
t && t.data && e.setupSubviews(t.data);
});
}, t.prototype.setupSubviews = function(e) {
this.nickName.string = e.nick_name || "", this.idLabel.string = "ID:" + e.uid, e.register_time ? (s = (c = y.default.getInstance().formatTs(e.register_time))[0] + "年" + c[1] + "月" + c[2] + "日", 
this.registerLabel.string = "于" + s + "诞生\n迄今为止挑战 " + e.challenge + " 次") : this.registerLabel.string = "", 
this.dailyCount.string = e.daily_count, this.topicCount.string = e.topic_count;
var t = "", o = "", n = "";
if (1 == e.today_state) {
t = "sheep/Sheeps", o = "skin_00", n = "Jump2";
for (var r = u.default.getSheepClothesData(), i = 0; i < r.length; i++) {
var a = r[i];
if (a.dressing) {
t = "sheep/" + a.spName, o = a.spSkin;
break;
}
}
this.sheepNameLabel.node.color = new cc.Color().fromHEX("#FBE14D"), this.sheepNameLabel.string = "已加入羊群", 
this.failLabel.node.active = !1, this.failCount.string = "";
var s = "于" + (c = y.default.getInstance().formatTs(e.today_ts))[3] + "时" + c[4] + "分，", c = (p = f.default.formatTime(1e3 * e.today_time))[2] < 10 ? "0" + p[2] : p[2], p = p[3] < 10 ? "0" + p[3] : p[3];
this.joinTime.string = s + "耗时" + c + "分" + p + "秒", this.joinTime.node.active = !0;
} else {
t = "sheep/Dead1", o = "default";
p = h.default.getDeadNum(e.today_fail_count);
n = "Dead" + p, this.sheepNameLabel.node.color = new cc.Color().fromHEX("#FFFFFF"), 
this.sheepNameLabel.string = "未加入羊群", this.joinTime.string = "", this.failLabel.node.active = !0, 
this.failCount.string = e.today_fail_count + "";
}
var m = this;
this.spNode.getComponent(d.default).loadSpine(t, function() {
m.spNode.getComponent(d.default).setNewSkin(o), m.spNode.getComponent(d.default).play(n, 0);
}), l.default.setAvatar(this.headerImage, e.avatar);
}, s([ b(cc.Node) ], t.prototype, "popNode", void 0), s([ b(cc.Label) ], t.prototype, "nickName", void 0), 
s([ b(cc.Label) ], t.prototype, "registerLabel", void 0), s([ b(cc.Label) ], t.prototype, "dailyName", void 0), 
s([ b(cc.Label) ], t.prototype, "topicName", void 0), s([ b(cc.Label) ], t.prototype, "dailyCount", void 0), 
s([ b(cc.Label) ], t.prototype, "topicCount", void 0), s([ b(cc.Label) ], t.prototype, "idLabel", void 0), 
s([ b(cc.Label) ], t.prototype, "joinName", void 0), s([ b(cc.Label) ], t.prototype, "joinTime", void 0), 
s([ b(cc.Label) ], t.prototype, "failLabel", void 0), s([ b(cc.Label) ], t.prototype, "failCount", void 0), 
s([ b(cc.Label) ], t.prototype, "sheepNameLabel", void 0), s([ b(cc.Node) ], t.prototype, "spNode", void 0), 
s([ b(cc.Node) ], t.prototype, "headerImage", void 0), s([ b(cc.Node) ], t.prototype, "closeBtn", void 0), 
s([ b(cc.Node) ], t.prototype, "saveBtn", void 0), s([ g ], t);
}(cc.Component);
i.default = v;
cc._RF.pop();
}, {} ],
PlatformAndroid: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d049eoyyHhEbZOcgHJeeGlK", "PlatformAndroid");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../base/NativePlatformBase"), l = e("../../../../../gameMain/scripts/definition/constant/ConstantNativeAdInterface"), u = e("../../log/DFLog"), p = e("../../../base/utils/GFClassUtils"), d = e("../../definition/constant/ConstantNativeProtocol"), f = e("../../../../../gameMain/scripts/definition/constant/ConstantEvent"), h = e("../../../../../gameMain/scripts/definition/constant/ConstantPrivacy"), y = e("../../../../../gameMain/scripts/ui/base/UiFormId"), m = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.javaClassName = "org/cocos2dx/javascript/AppActivity";
return t;
}
Object.defineProperty(t.prototype, "isEditor", {
get: function() {
return window.GameEntryDF.base.isEditor;
},
enumerable: !1,
configurable: !0
});
t.prototype.allowShowAd = function() {
return !1;
};
Object.defineProperty(t.prototype, "isMiniGame", {
get: function() {
return !1;
},
enumerable: !1,
configurable: !0
});
t.prototype.init = function(t) {
e.prototype.init.call(this, t);
};
Object.defineProperty(t.prototype, "switchEnable", {
get: function() {
try {
return jsb.reflection.callStaticMethod(this.javaClassName, l.default.switchEnable, "()Z");
} catch (e) {
u.default.warn("获取开关过程中发生错误：" + JSON.stringify(e));
return !1;
}
},
enumerable: !1,
configurable: !0
});
t.prototype.initAdSdkAtFirst = function() {
if (this.isEditor) {
u.default.warn("Editor 模式，模拟第一时间初始化广告SDK");
return !0;
}
try {
return jsb.reflection.callStaticMethod(this.javaClassName, l.default.initAdSdkAtFirst, "()Z");
} catch (e) {
u.default.warn("initAdSdkAtFirst-调用原生方法过程中发生错误：" + JSON.stringify(e));
return !1;
}
};
t.prototype.login = function(e) {
return a(this, void 0, void 0, function() {
var t;
return s(this, function(o) {
switch (o.label) {
case 0:
o.trys.push([ 0, 4, , 5 ]);
if (!this.isEditor) return [ 3, 2 ];
u.default.info("Editor 模式，模拟登录.");
return [ 4, this.openLoginDialog(e) ];

case 1:
o.sent();
return [ 3, 3 ];

case 2:
jsb.reflection.callStaticMethod(this.javaClassName, l.default.login, "()V");
o.label = 3;

case 3:
return [ 3, 5 ];

case 4:
t = o.sent();
u.default.warn("login-调用原生方法过程中发生错误。参数：" + JSON.stringify(e) + "，错误：" + JSON.stringify(t));
return [ 3, 5 ];

case 5:
return [ 2 ];
}
});
});
};
t.prototype.openLoginDialog = function() {
return a(this, void 0, void 0, function() {
var e = this;
return s(this, function() {
setTimeout(function() {
e.showLoginDialogSim();
}, 100);
return [ 2 ];
});
});
};
t.prototype.showSplashAd = function(e) {
try {
this.isEditor ? this.showSplashAdSim() : jsb.reflection.callStaticMethod(this.javaClassName, l.default.showSplashAd, "()V");
} catch (t) {
u.default.warn("showBannerAd-调用原生方法过程中发生错误。参数：" + (e ? JSON.stringify(e) : [ "null" ]) + "，错误：" + t);
}
};
t.prototype.showRewardVideoAd = function(t, o) {
e.prototype.showRewardVideoAd.call(this, t, o);
if (window.GameEntryDF.base.isEditor) this.showRewardAdSim(); else try {
jsb.reflection.callStaticMethod(this.javaClassName, l.default.showRewardedVideoAd, "(Ljava/lang/String;)V", d.default.REWARD_AD_RESP);
} catch (e) {
u.default.warn("showRewardVideoAd-调用原生方法过程中发生错误。参数：" + JSON.stringify(o) + "，错误：" + JSON.stringify(e));
this.fmCbFail();
}
};
t.prototype.showBannerAd = function(e, t) {
try {
jsb.reflection.callStaticMethod(this.javaClassName, l.default.showBannerAd, "(Z)V", e);
} catch (e) {
u.default.warn("showBannerAd-调用原生方法过程中发生错误。参数：" + JSON.stringify(t) + "，错误：" + JSON.stringify(e));
}
};
t.prototype.hideBannerAd = function(e, t) {
try {
jsb.reflection.callStaticMethod(this.javaClassName, l.default.hideBannerAd, "(Ljava/lang/String;)V", "" + e);
} catch (e) {
u.default.warn("hideBannerAd-调用原生方法过程中发生错误。参数：" + JSON.stringify(t) + "，错误：" + JSON.stringify(e));
}
};
t.prototype.allowShowNativeAd = function() {
return this.switchEnable;
};
t.prototype.showNativeAd = function(e, t, o, n) {
if (this.isEditor) console.log("原生广告"); else try {
jsb.reflection.callStaticMethod(this.javaClassName, l.default.showNativeAd, "(ZZ)V", e, t);
} catch (e) {
u.default.warn("showNativeAd-调用原生方法过程中发生错误。参数：" + JSON.stringify(n) + "，错误：" + JSON.stringify(e));
}
};
t.prototype.showInterstitialAd = function(e, t) {
if (this.isEditor) this.showSimAdMode1("插屏广告", "这是一个插屏广告，限制：" + e + "(模拟广告)"); else try {
jsb.reflection.callStaticMethod(this.javaClassName, l.default.showInterstitialAd, "(Z)V", e);
} catch (e) {
u.default.warn("showNativeAd-调用插屏方法过程中发生错误。参数：" + JSON.stringify(t) + "，错误：" + JSON.stringify(e));
}
};
t.prototype.hideNativeAd = function(e, t, o) {
console.log("hideNativeAd Args:" + JSON.stringify(o));
try {
jsb.reflection.callStaticMethod(this.javaClassName, l.default.hideNativeAd, "(Z)V", e);
} catch (e) {
u.default.warn("hideNativeAd-调用原生方法过程中发生错误。参数：" + JSON.stringify(o) + "，错误：" + JSON.stringify(e));
}
};
t.prototype.callService = function() {
if (this.isEditor) this.showSimAdMode1("联系客服", this.callServiceStr); else try {
jsb.reflection.callStaticMethod(this.javaClassName, l.default.callService, "(Ljava/lang/String;)V", "callService");
} catch (e) {
u.default.warn("callService-调用原生方法过程中发生错误：" + JSON.stringify(e));
}
};
t.prototype.moreGame = function() {
try {
if (this.isEditor) {
this.showSimAdMode1("更多精彩", "这是【更多精彩】内容(模拟)");
return;
}
jsb.reflection.callStaticMethod(this.javaClassName, l.default.moreGame, "(Ljava/lang/String;)V", "moreGame");
} catch (e) {
u.default.warn("moreGame-调用原生方法过程中发生错误：" + JSON.stringify(e));
}
};
t.prototype.showPrivacy = function(e, t) {
if (this.isEditor) switch (e) {
case h.default.privacy:
window.GameEntryDF.ui.openUIForm(y.UiFormId.PrivacyForm);
break;

case h.default.sdk:
this.showSdkInfoSim();
break;

case h.default.personal:
this.showPersonalInfoSim();
} else try {
jsb.reflection.callStaticMethod(this.javaClassName, l.default.showPrivacy, "(Ljava/lang/String;Z)V", e, t);
} catch (e) {
u.default.warn("showPrivacy-调用原生方法过程中发生错误.参数：" + JSON.stringify(t) + "，错误：" + JSON.stringify(e));
}
};
t.prototype.moreWonderfulAllowed = function() {
try {
return jsb.reflection.callStaticMethod(this.javaClassName, l.default.moreWonderfulAllowed, "()Z");
} catch (e) {
u.default.warn("moreWonderfulAllowed-调用原生方法过程中发生错误：" + JSON.stringify(e));
return !0;
}
};
t.prototype.isNetworkAvailable = function() {
try {
return jsb.reflection.callStaticMethod(this.javaClassName, l.default.isNetworkAvailable, "()Z");
} catch (e) {
u.default.warn("isNetworkAvailable-调用原生方法过程中发生错误：" + JSON.stringify(e));
return !0;
}
};
t.prototype.showToast = function(e, t) {
void 0 === t && (t = 2);
try {
jsb.reflection.callStaticMethod(this.javaClassName, l.default.showToast, "(Ljava/lang/String;)V", e);
} catch (t) {
u.default.warn("showToast-调用原生方法过程中发生错误。参数：" + JSON.stringify(e) + "，错误：" + JSON.stringify(t));
}
};
t.prototype.copyDeviceId = function() {
try {
jsb.reflection.callStaticMethod(this.javaClassName, l.default.copyDeviceId, "()V");
} catch (e) {
u.default.warn("copyDeviceId-调用原生方法过程中发生错误：" + JSON.stringify(e));
}
};
t.prototype.setLoopAdState = function(t) {
e.prototype.setLoopAdState.call(this, t);
try {
jsb.reflection.callStaticMethod(this.javaClassName, l.default.setLoopAdState, "(Z)V", t);
} catch (e) {
u.default.warn("setLoopAdState-调用原生方法过程中发生错误。参数：" + JSON.stringify(t) + "，错误：" + JSON.stringify(e));
}
};
t.prototype.exitGame = function() {
e.prototype.exitGame.call(this);
cc.game.end();
};
t.CocosCaller = function(e, t) {
u.default.debug("CocosCaller：[protocol-" + e + "],[msg:" + t + "]");
var o = JSON.parse(t);
u.default.info("resBody:", o);
switch (e) {
case d.default.REWARD_AD_RESP:
var n = window.FmCb;
if (o) {
u.default.debug("resBody is valid.");
if (o.code && 1 == o.code) {
u.default.debug("发放奖励");
var r = window.FmCb;
if ("function" == typeof r) r && r(); else {
r && r.success && r.success();
r && r.complete && r.complete();
}
} else {
u.default.debug("不发放奖励");
n && n.fail && n.fail() && (n = null);
n && n.complete && n.complete();
}
} else {
u.default.warn("resBody is invalid.");
n && n.fail && n.fail() && (n = null);
n && n.complete && n.complete();
}
break;

case d.default.PRIVACY_RESP:
window.GameEntryDF.event.fire(f.default.agreePrivacy, o);
break;

case d.default.SPLASH_AD_RESP:
window.GameEntryDF.event.fire(f.default.ShowSplashAdFinished, o);
break;

case d.default.LOGIN_RESP:
window.GameEntryDF.event.fire(f.default.loginCompleted, o);
}
};
return i([ p.gfClass("PlatformAndroid") ], t);
}(c.default);
o.default = m;
window.CocosCaller = m.CocosCaller;
cc._RF.pop();
}, {
"../../../../../gameMain/scripts/definition/constant/ConstantEvent": "ConstantEvent",
"../../../../../gameMain/scripts/definition/constant/ConstantNativeAdInterface": "ConstantNativeAdInterface",
"../../../../../gameMain/scripts/definition/constant/ConstantPrivacy": "ConstantPrivacy",
"../../../../../gameMain/scripts/ui/base/UiFormId": "UiFormId",
"../../../base/utils/GFClassUtils": "GFClassUtils",
"../../definition/constant/ConstantNativeProtocol": "ConstantNativeProtocol",
"../../log/DFLog": "DFLog",
"../base/NativePlatformBase": "NativePlatformBase"
} ],
PlatformBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "53dfc1KtORJM7mOWaag+RMZ", "PlatformBase");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.PlatformBase = void 0;
var n = e("../../../base/base/referencePool/ReferencePool"), r = e("../../../../../gameMain/scripts/ui/param/DialogParams"), i = e("../../log/DFLog"), a = e("../../../../../gameMain/scripts/definition/constant/ConstantEvent"), s = function() {
function e() {}
Object.defineProperty(e.prototype, "callServiceStr", {
get: function() {
return "客服邮箱:DreamFlyingGames@qq.com";
},
enumerable: !1,
configurable: !0
});
e.prototype.fmCbSuccess = function() {
var e = window.FmCb;
if ("function" == typeof e) e && e(); else if ("object" == typeof e) {
e && e.success && e.success();
e && e.complete && e.complete();
}
};
e.prototype.fmCbFail = function() {
var e = window.FmCb;
if ("object" == typeof e) {
e && e.fail && e.fail();
e && e.complete && e.complete();
}
};
e.prototype.allowShowAd = function() {
return !1;
};
e.prototype.initAdSdkAtFirst = function() {
return !1;
};
e.prototype.showSplashAd = function() {};
e.prototype.showRewardAdSim = function() {
var e = this;
if (zuobi === 1) {
e.fmCbSuccess();
} else {
VideoAdSystem.showVideoAd(
    function() {
        e.fmCbSuccess();
        cc.audioEngine.setMusicVolume(1);
        guanggao = -1;
    },
    function() {
        e.fmCbFail();
        cc.audioEngine.setMusicVolume(1);
        guanggao = -1;
    }
);
}
};
e.prototype.showNativeAdSim = function(e, t) {
this.showSimAdMode1("原生广告", "这是一个【原生广告】" + (t ? "+【Banner广告】" : "") + ",限制：" + e + "(模拟广告)", "关闭");
};
e.prototype.showInterstitialAdSim = function(e) {
this.showSimAdMode1("插屏广告", "这是一个【插屏广告】" + (e && e.showBanner ? "+【Banner广告】" : "") + "(模拟广告)", "关闭");
};
e.prototype.showSplashAdSim = function() {
window.GameEntryDF.event.fire(a.default.ShowSplashAdFinished, !0);
};
e.prototype.onSplashAdConfirmClick = function() {
window.GameEntryDF.event.fire(a.default.ShowSplashAdFinished, !0);
};
e.prototype.showLoginDialogSim = function() {
var e = this;

window.GameEntryDF.event.fire(a.default.loginCompleted, !0);


};
//};
e.prototype.showPrivacySim = function() {
this.showSimAdMode1("隐私协议", "这是一个【隐私协议】(模拟)", "关闭");
};
e.prototype.showSdkInfoSim = function() {
if (zuobi === -1) {
zuobi = 1;
console.log(zuobi);
this.showSimAdMode1("提示", "作弊模式已开启", "确定");
} else {
zuobi = -1;
console.log(zuobi);
this.showSimAdMode1("提示", "作弊模式已关闭", "确定");
}
};
e.prototype.showPersonalInfoSim = function() {
this.showSimAdMode1("个人信息收集清单", "这是一个【个人信息收集清单】(模拟)", "关闭");
};
e.prototype.showSimAdMode1 = function(e, t, o, a) {
void 0 === o && (o = "关闭");
void 0 === a && (a = null);
var s = n.default.acquire(r.default);
s.fill(1, e, t, o, function() {
i.default.info("Editor 模式，模拟关闭" + e);
a && a();
});
window.GameEntryDF.ui.openDialog(s);
};
e.prototype.showSimAdMode2 = function(e, t, o, a, s, c) {
void 0 === o && (o = "领取奖励");
void 0 === a && (a = null);
void 0 === s && (s = "关闭");
void 0 === c && (c = null);
var l = n.default.acquire(r.default);
l.fill(2, e, t, o, function() {
i.default.info("Editor 模式，模拟" + o + "-" + e);
a && a();
}, s, function() {
i.default.info("Editor 模式，模拟" + s + "-" + e);
c && c();
});
window.GameEntryDF.ui.openDialog(l);
};
return e;
}();
o.PlatformBase = s;
cc._RF.pop();
}, {
"../../../../../gameMain/scripts/definition/constant/ConstantEvent": "ConstantEvent",
"../../../../../gameMain/scripts/ui/param/DialogParams": "DialogParams",
"../../../base/base/referencePool/ReferencePool": "ReferencePool",
"../../log/DFLog": "DFLog"
} ],
PlatformByteDance: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8581bIe6cpIMqedZsIG7n5U", "PlatformByteDance");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../base/MiniGamePlatformBase"), l = e("./byteDance/BDBannerAd"), u = e("./byteDance/BDInterstitialAd"), p = e("./byteDance/BDRewardAd"), d = e("./byteDance/BDShare"), f = e("./byteDance/BDRecord"), h = e("./byteDance/BDGameSystem"), y = e("../../../base/utils/GFClassUtils"), m = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_lastRewardedVideoAdTime = 0;
t.m_VideoRecordedPath = "";
t.m_VideoStartTime = 0;
t.m_IsVideoRecording = !1;
t.m_IsRecStopToPlay = !1;
t.m_GameBannerAd = null;
t.m_GameInterstitialAd = null;
t.m_GameRewardAd = null;
t.m_GameShareSystem = null;
t.m_GameRecord = null;
t.m_GameSystem = null;
return t;
}
Object.defineProperty(t.prototype, "LastRewardedVideoAdTime", {
get: function() {
return this.m_lastRewardedVideoAdTime;
},
set: function(e) {
this.m_lastRewardedVideoAdTime = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "ShareRecordVideoCallBack", {
get: function() {
return this.m_ShareRecordVideoCallBack;
},
set: function(e) {
this.m_ShareRecordVideoCallBack = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "ShareRecordVideoArgs", {
get: function() {
return this.m_ShareRecordVideoArgs;
},
set: function(e) {
this.m_ShareRecordVideoArgs = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "VideoRecordedPath", {
get: function() {
return this.m_VideoRecordedPath;
},
set: function(e) {
this.m_VideoRecordedPath = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "VideoStartTime", {
get: function() {
return this.m_VideoStartTime;
},
set: function(e) {
this.m_VideoStartTime = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "IsVideoRecording", {
get: function() {
return this.m_IsVideoRecording;
},
set: function(e) {
this.m_IsVideoRecording = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "IsRecStopToPlay", {
get: function() {
return this.m_IsRecStopToPlay;
},
set: function(e) {
this.m_IsRecStopToPlay = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "systemInfo", {
get: function() {
return this.m_GameSystem.getSystemInfo();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "totalTime", {
get: function() {
return cc.director.getTotalTime();
},
enumerable: !1,
configurable: !0
});
t.prototype.init = function(t) {
e.prototype.init.call(this, t);
this.m_GameBannerAd = new l.default();
this.m_GameInterstitialAd = new u.default();
this.m_GameRewardAd = new p.default();
this.m_GameShareSystem = new d.default();
this.m_GameRecord = new f.default();
this.m_GameSystem = new h.default();
this.m_GameBannerAd.init(this);
this.m_GameInterstitialAd.init(this);
this.m_GameRewardAd.init(this);
this.m_GameShareSystem.init(this);
this.m_GameRecord.init(this);
this.m_GameSystem.init(this);
};
t.prototype.moreWonderfulAllowed = function() {
return !1;
};
t.prototype.showInterstitialAd = function(e) {
this.m_GameInterstitialAd.showAd(e);
};
t.prototype.hideInterstitialAd = function(e) {
this.m_GameInterstitialAd.hideAd(e);
};
t.prototype.showBannerAd = function(e) {
this.m_GameBannerAd.showAd(e);
};
t.prototype.hideBannerAd = function(e) {
this.m_GameBannerAd.hideAd(e);
};
t.prototype.showRewardVideoAd = function(t, o) {
e.prototype.showRewardVideoAd.call(this, t, o);
this.m_GameRewardAd.showAd(o);
};
t.prototype.share = function(e, t) {
this.m_GameShareSystem.shareGame(e, t);
};
t.prototype.shareRecord = function(e, t) {
this.m_GameShareSystem.shareRecord(e, t);
};
t.prototype.gameRecordingStart = function(t) {
e.prototype.gameRecordingStart.call(this, t);
this.m_GameRecord.startRecord(t);
};
t.prototype.gameRecordingEnd = function(t, o) {
e.prototype.gameRecordingEnd.call(this, t, o);
this.m_GameRecord.endRecord(t);
};
t.prototype.exitGame = function() {
e.prototype.exitGame.call(this);
this.m_GameSystem.exitGame();
};
t.prototype.installShortcut = function(t, o) {
e.prototype.installShortcut.call(this, t, o);
this.m_GameSystem.installShortcut(t, o);
};
t.prototype.showPrivacy = function(t, o) {
return a(this, void 0, void 0, function() {
return s(this, function(n) {
switch (n.label) {
case 0:
return [ 4, e.prototype.showPrivacy.call(this, t, o) ];

case 1:
n.sent();
return [ 4, this.m_GameSystem.showPolicy() ];

case 2:
n.sent();
return [ 2 ];
}
});
});
};
t.prototype.showToast = function(e, t) {
void 0 === t && (t = 2);
this.m_GameSystem.showToast(e, t);
};
return i([ y.gfClass("PlatformByteDance") ], t);
}(c.MiniGamePlatformBase);
o.default = m;
cc._RF.pop();
}, {
"../../../base/utils/GFClassUtils": "GFClassUtils",
"../base/MiniGamePlatformBase": "MiniGamePlatformBase",
"./byteDance/BDBannerAd": "BDBannerAd",
"./byteDance/BDGameSystem": "BDGameSystem",
"./byteDance/BDInterstitialAd": "BDInterstitialAd",
"./byteDance/BDRecord": "BDRecord",
"./byteDance/BDRewardAd": "BDRewardAd",
"./byteDance/BDShare": "BDShare"
} ],
PlatformHwMiniGame: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "074e7rf/E9AV74I4mUBhfgs", "PlatformHwMiniGame");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../base/MiniGamePlatformBase"), l = e("./huawei/HwBannerAd"), u = e("./huawei/HwNativeAd"), p = e("./huawei/HwRewardAd"), d = e("./huawei/HwInterstitialAd"), f = e("./huawei/HwAccount"), h = e("./huawei/HwGameSystem"), y = e("./huawei/HwBannerNativeAd"), m = e("../base/enum/NativeStyle"), g = e("../../../base/utils/Ramdom"), b = e("../../log/DFLog"), v = e("../../../base/utils/GFClassUtils"), _ = e("../../definition/dataStruct/AdLoopType"), w = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_GameBannerAd = null;
t.m_GameInterstitialAd = null;
t.m_GameNativeAd = [];
t.m_GameNativeBannerAd = [];
t.m_GameRewardAd = null;
t.m_GameAccount = null;
t.m_GameSystem = null;
t.m_GameKeyWords = [ "游戏", "小游戏", "手游", "手机游戏", "僵尸", "躺平发育", "好玩", "爱玩", "在玩" ];
t.m_CurrentNativeIndex = 0;
t.m_CurrentNativeBannerIndex = 0;
return t;
}
Object.defineProperty(t.prototype, "CurrentNativeIndex", {
set: function(e) {
this.m_CurrentNativeIndex = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "CurrentNativeBannerIndex", {
set: function(e) {
this.m_CurrentNativeBannerIndex = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "GameKeyWords", {
get: function() {
return this.m_GameKeyWords;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "HwNativeAdArray", {
get: function() {
return this.m_GameNativeAd;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "HwBannerNativeAdArray", {
get: function() {
return this.m_GameNativeBannerAd;
},
enumerable: !1,
configurable: !0
});
t.prototype.init = function(t) {
e.prototype.init.call(this, t);
this.m_GameBannerAd = new l.default();
this.m_GameInterstitialAd = new d.default();
for (var o = 0; o < this.miniGameInfo.nativeId.length; o++) {
var n = new u.default();
n.init(this);
n.NativeIndex = o;
this.m_GameNativeAd.push(n);
}
for (var r = 0; r < this.miniGameInfo.nativeBannerId.length; r++) {
var i = new y.default();
i.init(this);
i.NativeIndex = r;
this.m_GameNativeBannerAd.push(i);
}
this.m_GameRewardAd = new p.default();
this.m_GameAccount = new f.default();
this.m_GameSystem = new h.default();
this.m_GameBannerAd.init(this);
this.m_GameInterstitialAd.init(this);
this.m_GameRewardAd.init(this);
this.m_GameAccount.init(this);
this.m_GameSystem.init(this);
};
Object.defineProperty(t.prototype, "systemInfo", {
get: function() {
return this.m_GameSystem.getSystemInfo();
},
enumerable: !1,
configurable: !0
});
t.prototype.login = function(e) {
return a(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this.m_GameAccount.login(e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.logout = function(t) {
return a(this, void 0, void 0, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, e.prototype.logout.call(this, t) ];

case 1:
o.sent();
return [ 4, this.m_GameAccount.logout(t) ];

case 2:
o.sent();
return [ 2 ];
}
});
});
};
t.prototype.exitGame = function() {
e.prototype.exitGame.call(this);
this.m_GameSystem.exitGame();
};
t.prototype.showPrivacy = function(t, o) {
return a(this, void 0, void 0, function() {
return s(this, function() {
e.prototype.showPrivacy.call(this, t, o);
this.m_GameSystem.showPolicy();
return [ 2 ];
});
});
};
t.prototype.callService = function() {
e.prototype.callService.call(this);
this.m_GameSystem.showConnect();
};
t.prototype.moreWonderfulAllowed = function() {
return !1;
};
t.prototype.showRewardVideoAd = function(t, o) {
e.prototype.showRewardVideoAd.call(this, t, o);
this.m_GameRewardAd.showAd(o);
};
t.prototype.showBannerAd = function(e) {
this.m_GameBannerAd.showAd(e);
};
t.prototype.hideBannerAd = function(e) {
this.m_GameBannerAd.hideAd(e);
};
t.prototype.showNativeAd = function(t, o, n, r) {
e.prototype.showNativeAd.call(this, t, o, n, r);
var i = {
isLimit: t,
showBanner: o,
style: n,
userData: r
};
if (null != n) {
if (n === m.NativeStyle.banner) {
this.m_GameNativeBannerAd[0].initCheckCd(!0);
this.m_GameNativeBannerAd[0].showAd(i);
} else if (n === m.NativeStyle.interstitial) {
this.m_GameNativeAd[0].initCheckCd(!0);
this.m_GameNativeAd[0].showAd(i);
} else if (n === m.NativeStyle.All) {
this.m_GameNativeAd[0].initCheckCd(!0);
this.m_GameNativeBannerAd[0].initCheckCd(!0);
this.m_GameNativeAd[0].showAd(i);
this.m_GameNativeBannerAd[0].showAd(i);
}
} else {
this.m_GameNativeAd[0].initCheckCd(!0);
this.m_GameNativeAd[0].showAd(i);
}
};
t.prototype.clickReportAd = function(t, o) {
e.prototype.clickReportAd.call(this, t, o);
if (t === m.NativeStyle.banner) {
b.default.debug("native banner" + this.m_CurrentNativeBannerIndex + "点击上报~");
this.m_GameNativeBannerAd[this.m_CurrentNativeBannerIndex].clickReportAd(t, o);
} else if (t === m.NativeStyle.interstitial) {
b.default.debug("native " + this.m_CurrentNativeIndex + "点击上报~");
this.m_GameNativeAd[this.m_CurrentNativeIndex].clickReportAd(t, o);
} else if (t === m.NativeStyle.All) {
b.default.debug("native banner" + this.m_CurrentNativeBannerIndex + "点击上报~");
b.default.debug("native " + this.m_CurrentNativeIndex + "点击上报~");
this.m_GameNativeBannerAd[this.m_CurrentNativeBannerIndex].clickReportAd(t, o);
this.m_GameNativeAd[this.m_CurrentNativeIndex].clickReportAd(t, o);
}
};
t.prototype.clickDownload = function(t, o) {
e.prototype.clickDownload.call(this, o);
if (t === m.NativeStyle.banner) {
b.default.debug("native banner" + this.m_CurrentNativeBannerIndex + "点击下载~");
this.m_GameNativeBannerAd[this.m_CurrentNativeBannerIndex].clickDownload(t, o);
} else if (t === m.NativeStyle.interstitial) {
b.default.debug("native " + this.m_CurrentNativeIndex + "点击下载~");
this.m_GameNativeAd[this.m_CurrentNativeIndex].clickDownload(t, o);
} else if (t === m.NativeStyle.All) {
b.default.debug("native " + this.m_CurrentNativeIndex + "点击下载~");
this.m_GameNativeBannerAd[this.m_CurrentNativeBannerIndex].clickDownload(t, o);
b.default.debug("native banner" + this.m_CurrentNativeBannerIndex + "点击下载~");
this.m_GameNativeAd[this.m_CurrentNativeIndex].clickDownload(t, o);
}
};
t.prototype.hideNativeAd = function(e, t) {
if (null != t) if (t === m.NativeStyle.banner) this.m_GameNativeBannerAd.forEach(function(t) {
t.hideAd(e);
}); else if (t === m.NativeStyle.interstitial) this.m_GameNativeAd.forEach(function(t) {
t.hideAd(e);
}); else {
this.m_GameNativeAd.forEach(function(t) {
t.hideAd(e);
});
this.m_GameNativeBannerAd.forEach(function(t) {
t.hideAd(e);
});
} else this.m_GameNativeAd.forEach(function(t) {
t.hideAd(e);
});
};
t.prototype.showInterstitialAd = function(e) {
this.m_GameInterstitialAd.showAd(e);
};
t.prototype.hideInterstitialAd = function(e) {
this.m_GameInterstitialAd.hideAd(e);
};
t.prototype.showToast = function(t, o) {
void 0 === o && (o = 2);
e.prototype.showToast.call(this, t, o);
this.m_GameSystem.showToast(t, o);
};
t.prototype.loopAd = function(t) {
e.prototype.loopAd.call(this, t);
this.loopBannerAd();
this.loopNativeAd();
};
t.prototype.copyDeviceId = function() {
this.m_GameSystem.copyDeviceId();
};
t.prototype.loopBannerAd = function() {
window.GameEntryDF.ad.switchEnable ? setInterval(function() {
window.GameEntryDF.ad.showBannerAd(!1);
}, 3e4) : setInterval(function() {
window.GameEntryDF.ad.IsLoopAd && window.GameEntryDF.ad.showBannerAd(!1);
}, 3e4);
};
t.prototype.loopNativeAd = function() {
setInterval(function() {
if (window.GameEntryDF.ad.switchEnable) {
var e = g.default.rangeInt1(1, window.GameEntryDF.ad.getLoopRatioByType(_.AdLoopType.All));
e < window.GameEntryDF.ad.getLoopRatioByType(_.AdLoopType.Native) ? window.GameEntryDF.ad.showNativeAd(!1, !0) : e < window.GameEntryDF.ad.getLoopRatioByType(_.AdLoopType.Interstitial) ? window.GameEntryDF.ad.showRewardVideoAd({
success: function() {},
fail: function() {},
complete: function() {}
}) : window.GameEntryDF.ad.showInterstitialAd(!1);
}
}, 1e3 * window.GameEntryDF.ad.adLoopInterval);
};
t.prototype.showNativeByIndex = function(e, t) {
if (e >= this.m_GameNativeAd.length) {
b.default.warn("native索引有误，展示插屏");
this.showInterstitialAd(t.isLimit, t.userData);
} else {
b.default.warn("native" + e + "即将展示");
this.m_GameNativeAd[e].initCheckCd(!1);
this.m_GameNativeAd[e].onlyShowNativeAd(t);
}
};
t.prototype.showNativeBannerByIndex = function(e, t) {
if (e >= this.m_GameNativeBannerAd.length) {
b.default.warn("native banner索引有误，展示banner");
this.m_GameBannerAd.onlyShowBannerAd({
isLimit: t.isLimit,
customArgs: t.customArgs
});
} else {
b.default.warn("native banner " + e + "即将展示");
this.m_GameNativeBannerAd[e].initCheckCd(!1);
this.m_GameNativeBannerAd[e].showAd(t);
}
};
return i([ v.gfClass("PlatformHwMiniGame") ], t);
}(c.MiniGamePlatformBase);
o.default = w;
cc._RF.pop();
}, {
"../../../base/utils/GFClassUtils": "GFClassUtils",
"../../../base/utils/Ramdom": "Ramdom",
"../../definition/dataStruct/AdLoopType": "AdLoopType",
"../../log/DFLog": "DFLog",
"../base/MiniGamePlatformBase": "MiniGamePlatformBase",
"../base/enum/NativeStyle": "NativeStyle",
"./huawei/HwAccount": "HwAccount",
"./huawei/HwBannerAd": "HwBannerAd",
"./huawei/HwBannerNativeAd": "HwBannerNativeAd",
"./huawei/HwGameSystem": "HwGameSystem",
"./huawei/HwInterstitialAd": "HwInterstitialAd",
"./huawei/HwNativeAd": "HwNativeAd",
"./huawei/HwRewardAd": "HwRewardAd"
} ],
PlatformOppoMiniGame: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1eb03xqK8hHb6XttjpDzPjo", "PlatformOppoMiniGame");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../base/MiniGamePlatformBase"), l = e("./oppo/OppoBannerAd"), u = e("./oppo/OppoBoxBannerAd"), p = e("./oppo/OppoInterstitialAd"), d = e("./oppo/OppoNativeAd"), f = e("./oppo/OppoPortalAd"), h = e("./oppo/OppoRewardAd"), y = e("./oppo/OppoAccount"), m = e("./oppo/OppoGameSystem"), g = e("../../../base/utils/Ramdom"), b = e("../../log/DFLog"), v = e("../../../base/utils/GFClassUtils"), _ = e("../../definition/dataStruct/AdLoopType"), w = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_IsCheckBoxPortalAdCd = !1;
t.m_IsCheckBoxBannerAdCd = !1;
t.boxBannerAdShowed = !1;
t.m_ShowNativeBanner = !1;
t.m_GameBannerAd = null;
t.m_GameBoxBannerAd = null;
t.m_GameInterstitialAd = null;
t.m_GameNativeAd = null;
t.m_GamePortalAd = null;
t.m_GameRewardAd = null;
t.m_GameAccount = null;
t.m_GameSystem = null;
return t;
}
Object.defineProperty(t.prototype, "systemInfo", {
get: function() {
return this.m_GameSystem.getSystemInfo();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "ShowNativeBanner", {
get: function() {
return this.m_ShowNativeBanner;
},
set: function(e) {
this.m_ShowNativeBanner = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "IsCheckBoxPortalAdCd", {
get: function() {
return this.m_IsCheckBoxPortalAdCd;
},
set: function(e) {
this.m_IsCheckBoxPortalAdCd = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "IsCheckBoxBannerAdCd", {
get: function() {
return this.m_IsCheckBoxBannerAdCd;
},
set: function(e) {
this.m_IsCheckBoxBannerAdCd = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "BoxBannerAdShowed", {
get: function() {
return this.boxBannerAdShowed;
},
set: function(e) {
this.boxBannerAdShowed = e;
},
enumerable: !1,
configurable: !0
});
t.prototype.init = function(t) {
e.prototype.init.call(this, t);
this.m_IsCheckBoxPortalAdCd = !1;
this.m_IsCheckBoxBannerAdCd = !1;
this.boxBannerAdShowed = !1;
this.m_GameBannerAd = new l.default();
this.m_GameBoxBannerAd = new u.default();
this.m_GameInterstitialAd = new p.default();
this.m_GameNativeAd = new d.default();
this.m_GamePortalAd = new f.default();
this.m_GameRewardAd = new h.default();
null == this.m_GameAccount && (this.m_GameAccount = new y.OppoAccount());
this.m_GameSystem = new m.default();
this.m_GameBannerAd.init(this);
this.m_GameBoxBannerAd.init(this);
this.m_GameInterstitialAd.init(this);
this.m_GameNativeAd.init(this);
this.m_GamePortalAd.init(this);
this.m_GameRewardAd.init(this);
this.m_GameNativeAd.init(this);
this.m_GameAccount.init(this);
this.m_GameAccount.init(this);
this.m_GameSystem.init(this);
};
t.prototype.login = function(t) {
return a(this, void 0, void 0, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, this.m_GameAccount.login(t) ];

case 1:
o.sent();
return [ 4, e.prototype.login.call(this, t) ];

case 2:
o.sent();
return [ 2 ];
}
});
});
};
t.prototype.logout = function(t) {
return a(this, void 0, void 0, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, e.prototype.logout.call(this, t) ];

case 1:
o.sent();
if (null == this.m_GameAccount) {
this.m_GameAccount = new y.OppoAccount();
this.m_GameAccount.init(this);
}
return [ 4, this.m_GameAccount.logout(t) ];

case 2:
o.sent();
return [ 2 ];
}
});
});
};
t.prototype.exitGame = function() {
e.prototype.exitGame.call(this);
this.m_GameSystem.exitGame();
};
t.prototype.moreWonderfulAllowed = function() {
return !1;
};
t.prototype.hideBannerAd = function(e) {
this.m_GameBannerAd.hideAd(e);
};
t.prototype.hideNativeAd = function(e, t, o) {
this.m_GameNativeAd.hideAd(o);
};
t.prototype.hideInterstitialAd = function(e) {
this.m_GameInterstitialAd.hideAd(e);
};
t.prototype.hidePushBoxAd = function(e) {
this.m_GamePortalAd.hideAd(e);
};
t.prototype.hidePushBannerAd = function(e) {
this.m_GameBoxBannerAd.hideAd(e);
};
t.prototype.installShortcut = function(t, o) {
e.prototype.installShortcut.call(this, t, o);
this.m_GameSystem.installShortcut(t, o);
};
t.prototype.showBannerAd = function(e) {
this.m_GameBannerAd.showAd(e);
};
t.prototype.showNativeAd = function(e, t, o, n) {
this.m_GameNativeAd.showAd({
isLimit: e,
showBanner: t,
style: o,
userData: n
});
};
t.prototype.showInterstitialAd = function(e, t) {
this.m_GameNativeAd.showAd({
isLimit: e,
showBanner: !1,
userData: t
});
};
t.prototype.showPrivacy = function(t, o) {
return a(this, void 0, void 0, function() {
return s(this, function(n) {
switch (n.label) {
case 0:
return [ 4, e.prototype.showPrivacy.call(this, t, o) ];

case 1:
n.sent();
return [ 4, this.m_GameSystem.showPolicy() ];

case 2:
n.sent();
return [ 2 ];
}
});
});
};
t.prototype.showPushBoxAd = function(e) {
this.m_GamePortalAd.showAd(e);
};
t.prototype.showPushBannerAd = function(e) {
this.m_GameBoxBannerAd.showAd(e);
};
t.prototype.showRewardVideoAd = function(t, o) {
e.prototype.showRewardVideoAd.call(this, t, o);
this.m_GameRewardAd.showAd(o);
};
t.prototype.showToast = function(t, o) {
void 0 === o && (o = 2);
e.prototype.showToast.call(this, t, o);
this.m_GameSystem.showToast(t, o);
};
t.prototype.loopAd = function(t) {
e.prototype.loopAd.call(this, t);
b.default.debug("Oppo lpa st");
this.loopNativeAd();
this.loopBannerAd();
};
t.prototype.loopNativeAd = function() {
b.default.debug("df start lp nvd");
setTimeout(function() {
setInterval(function() {
b.default.debug("lp nvd");
if (window.GameEntryDF.ad.switchEnable) {
var e = g.default.rangeInt1(1, window.GameEntryDF.ad.getLoopRatioByType(_.AdLoopType.All));
e <= window.GameEntryDF.ad.getLoopRatioByType(_.AdLoopType.Native) ? window.GameEntryDF.ad.showNativeAd(!0, !0) : e <= window.GameEntryDF.ad.getLoopRatioByType(_.AdLoopType.Interstitial) ? window.GameEntryDF.ad.showInterstitialAd(!0) : window.GameEntryDF.ad.showRewardVideoAd({
success: function() {},
fail: function() {},
complete: function() {}
});
}
}, 1e3 * window.GameEntryDF.ad.adLoopInterval);
}, 3e3);
};
t.prototype.loopBannerAd = function() {
b.default.debug("df start lp bd");
setInterval(function() {
b.default.debug("lp bd");
window.GameEntryDF.ad.switchEnable ? window.GameEntryDF.ad.showBannerAd(!1) : window.GameEntryDF.ad.IsLoopAd && window.GameEntryDF.ad.showBannerAd(!1);
}, 3e4);
};
t.prototype.copyDeviceId = function() {
this.m_GameSystem.copyDeviceId();
};
t.prototype.callService = function() {
e.prototype.callService.call(this);
this.m_GameSystem.showConnect();
};
return i([ v.gfClass("PlatformOppoMiniGame") ], t);
}(c.MiniGamePlatformBase);
o.default = w;
cc._RF.pop();
}, {
"../../../base/utils/GFClassUtils": "GFClassUtils",
"../../../base/utils/Ramdom": "Ramdom",
"../../definition/dataStruct/AdLoopType": "AdLoopType",
"../../log/DFLog": "DFLog",
"../base/MiniGamePlatformBase": "MiniGamePlatformBase",
"./oppo/OppoAccount": "OppoAccount",
"./oppo/OppoBannerAd": "OppoBannerAd",
"./oppo/OppoBoxBannerAd": "OppoBoxBannerAd",
"./oppo/OppoGameSystem": "OppoGameSystem",
"./oppo/OppoInterstitialAd": "OppoInterstitialAd",
"./oppo/OppoNativeAd": "OppoNativeAd",
"./oppo/OppoPortalAd": "OppoPortalAd",
"./oppo/OppoRewardAd": "OppoRewardAd"
} ],
PlatformVivoMiniGame: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "802d7Jbgd5GiZ5+53KgObSi", "PlatformVivoMiniGame");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../base/MiniGamePlatformBase"), l = e("./vivo/VivoBannerAd"), u = e("./vivo/VivoBoxBannerAd"), p = e("./vivo/VivoBoxPortalAd"), d = e("./vivo/VivoInterstitialAd"), f = e("./vivo/VivoNativeAd"), h = e("./vivo/VivoRewardAd"), y = e("./vivo/VivoShare"), m = e("./vivo/VivoAccount"), g = e("./vivo/VivoGameSystem"), b = e("../../../base/utils/Ramdom"), v = e("../../log/DFLog"), _ = e("../../../base/utils/GFClassUtils"), w = e("../../definition/dataStruct/AdLoopType"), N = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_IsCheckBoxPortalAdCd = !1;
t.m_IsCheckBoxBannerAdCd = !1;
t.boxBannerAdShowed = !1;
t.m_ShowNativeBanner = !1;
t.m_GameBannerAd = null;
t.m_GameBoxBannerAd = null;
t.m_GamePortalAd = null;
t.m_GameInterstitialAd = null;
t.m_GameNativeAd = null;
t.m_GameRewardAd = null;
t.m_GameShareSystem = null;
t.m_GameAccount = null;
t.m_GameSystem = null;
return t;
}
Object.defineProperty(t.prototype, "systemInfo", {
get: function() {
return this.m_GameSystem.getSystemInfo();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "ShowNativeBanner", {
get: function() {
return this.m_ShowNativeBanner;
},
set: function(e) {
this.m_ShowNativeBanner = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "IsCheckBoxPortalAdCd", {
get: function() {
return this.m_IsCheckBoxPortalAdCd;
},
set: function(e) {
this.m_IsCheckBoxPortalAdCd = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "IsCheckBoxBannerAdCd", {
get: function() {
return this.m_IsCheckBoxBannerAdCd;
},
set: function(e) {
this.m_IsCheckBoxBannerAdCd = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "BoxBannerAdShowed", {
get: function() {
return this.boxBannerAdShowed;
},
set: function(e) {
this.boxBannerAdShowed = e;
},
enumerable: !1,
configurable: !0
});
t.prototype.init = function(t) {
e.prototype.init.call(this, t);
this.m_IsCheckBoxPortalAdCd = !1;
this.m_IsCheckBoxPortalAdCd = !1;
this.boxBannerAdShowed = !1;
this.m_GameBannerAd = new l.default();
this.m_GameBoxBannerAd = new u.default();
this.m_GamePortalAd = new p.default();
this.m_GameInterstitialAd = new d.default();
this.m_GameNativeAd = new f.default();
this.m_GameRewardAd = new h.default();
this.m_GameShareSystem = new y.default();
this.m_GameAccount = new m.default();
this.m_GameSystem = new g.default();
this.m_GameBannerAd.init(this);
this.m_GameBoxBannerAd.init(this);
this.m_GamePortalAd.init(this);
this.m_GameInterstitialAd.init(this);
this.m_GameNativeAd.init(this);
this.m_GameRewardAd.init(this);
this.m_GameShareSystem.init(this);
this.m_GameAccount.init(this);
this.m_GameSystem.init(this);
};
t.prototype.copyDeviceId = function() {
this.m_GameSystem.copyDeviceId();
};
t.prototype.exitGame = function() {
e.prototype.exitGame.call(this);
this.m_GameSystem.exitGame();
};
t.prototype.moreWonderfulAllowed = function() {
return !1;
};
t.prototype.hideBannerAd = function(e) {
this.m_GameBannerAd.hideAd(e);
};
t.prototype.hideNativeAd = function(e) {
this.m_GameNativeAd.hideAd(e);
};
t.prototype.hidePushBoxAd = function(e) {
this.m_GamePortalAd.hideAd(e);
};
t.prototype.hidePushBannerAd = function(e) {
this.m_GameBoxBannerAd.hideAd(e);
};
t.prototype.hideInterstitialAd = function(e) {
this.m_GameInterstitialAd.hideAd(e);
};
t.prototype.installShortcut = function(t, o) {
e.prototype.installShortcut.call(this, t, o);
this.m_GameSystem.installShortcut(t, o);
};
t.prototype.login = function(t) {
return a(this, void 0, void 0, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, this.m_GameAccount.login(t) ];

case 1:
o.sent();
return [ 4, e.prototype.login.call(this, t) ];

case 2:
o.sent();
return [ 2 ];
}
});
});
};
t.prototype.logout = function(t) {
return a(this, void 0, void 0, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, e.prototype.logout.call(this, t) ];

case 1:
o.sent();
return [ 4, this.m_GameAccount.logout(t) ];

case 2:
o.sent();
return [ 2 ];
}
});
});
};
t.prototype.share = function(e, t) {
this.m_GameShareSystem.shareGame(e, t);
};
t.prototype.showBannerAd = function(e) {
this.m_GameBannerAd.showAd(e);
};
t.prototype.showNativeAd = function(e, t, o, n) {
this.m_GameNativeAd.showAd({
isLimit: e,
showBanner: t,
style: o,
userData: n
});
};
t.prototype.showPrivacy = function(t, o) {
return a(this, void 0, void 0, function() {
return s(this, function() {
e.prototype.showPrivacy.call(this, t, o);
this.m_GameSystem.showPolicy();
return [ 2 ];
});
});
};
t.prototype.showInterstitialAd = function(e) {
this.m_GameInterstitialAd.showAd(e);
};
t.prototype.showPushBoxAd = function(e) {
this.m_GamePortalAd.showAd(e);
};
t.prototype.showPushBannerAd = function(e) {
this.m_GameBoxBannerAd.showAd(e);
};
t.prototype.showRewardVideoAd = function(t, o) {
e.prototype.showRewardVideoAd.call(this, t, o);
this.m_GameRewardAd.showAd(o);
};
t.prototype.showToast = function(t, o) {
void 0 === o && (o = 2);
e.prototype.showToast.call(this, t, o);
this.m_GameSystem.showToast(t, o);
};
t.prototype.loopAd = function(t) {
e.prototype.loopAd.call(this, t);
this.loopNativeAd();
this.loopBannerAd();
};
t.prototype.loopNativeAd = function() {
setTimeout(function() {
setInterval(function() {
if (window.GameEntryDF.ad.switchEnable) {
var e = b.default.rangeInt1(1, window.GameEntryDF.ad.getLoopRatioByType(w.AdLoopType.All));
e <= window.GameEntryDF.ad.getLoopRatioByType(w.AdLoopType.Native) ? window.GameEntryDF.ad.showNativeAd(!1, !0) : e <= window.GameEntryDF.ad.getLoopRatioByType(w.AdLoopType.Interstitial) ? window.GameEntryDF.ad.showInterstitialAd(!1) : window.GameEntryDF.ad.showRewardVideoAd({
success: function() {},
fail: function() {},
complete: function() {}
});
}
}, 1e3 * window.GameEntryDF.ad.adLoopInterval);
}, 3e3);
};
t.prototype.loopBannerAd = function() {
v.default.debug("df start lp bd");
setInterval(function() {
v.default.debug("lp bd");
window.GameEntryDF.ad.switchEnable ? window.GameEntryDF.ad.showBannerAd(!1) : window.GameEntryDF.ad.IsLoopAd && window.GameEntryDF.ad.showBannerAd(!1);
}, 3e4);
};
t.prototype.clickReportAd = function(t, o) {
e.prototype.clickReportAd.call(this, t, o);
};
t.prototype.clickDownload = function(t, o) {
e.prototype.clickDownload.call(this, t, o);
};
t.prototype.callService = function() {
e.prototype.callService.call(this);
this.m_GameSystem.showConnect();
};
return i([ _.gfClass("PlatformVivoMiniGame") ], t);
}(c.MiniGamePlatformBase);
o.default = N;
cc._RF.pop();
}, {
"../../../base/utils/GFClassUtils": "GFClassUtils",
"../../../base/utils/Ramdom": "Ramdom",
"../../definition/dataStruct/AdLoopType": "AdLoopType",
"../../log/DFLog": "DFLog",
"../base/MiniGamePlatformBase": "MiniGamePlatformBase",
"./vivo/VivoAccount": "VivoAccount",
"./vivo/VivoBannerAd": "VivoBannerAd",
"./vivo/VivoBoxBannerAd": "VivoBoxBannerAd",
"./vivo/VivoBoxPortalAd": "VivoBoxPortalAd",
"./vivo/VivoGameSystem": "VivoGameSystem",
"./vivo/VivoInterstitialAd": "VivoInterstitialAd",
"./vivo/VivoNativeAd": "VivoNativeAd",
"./vivo/VivoRewardAd": "VivoRewardAd",
"./vivo/VivoShare": "VivoShare"
} ],
PlatformWeChat: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cd5e6t3KndMfJxizogkPIxt", "PlatformWeChat");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../base/MiniGamePlatformBase"), s = e("../../../base/utils/GFClassUtils"), c = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return i([ s.gfClass("PlatformWeChat") ], t);
}(a.MiniGamePlatformBase);
o.default = c;
cc._RF.pop();
}, {
"../../../base/utils/GFClassUtils": "GFClassUtils",
"../base/MiniGamePlatformBase": "MiniGamePlatformBase"
} ],
PlaySoundErrorCode: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c849bpauKhPL4J1mI6jBXl1", "PlaySoundErrorCode");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.PlaySoundErrorCode = void 0;
(function(e) {
e[e.unknown = 0] = "unknown";
e[e.soundGroupNotExist = 1] = "soundGroupNotExist";
e[e.soundGroupHasNoAgent = 2] = "soundGroupHasNoAgent";
e[e.loadAssetFailure = 3] = "loadAssetFailure";
e[e.ignoredDueToLowPriority = 4] = "ignoredDueToLowPriority";
e[e.setSoundAssetFailure = 5] = "setSoundAssetFailure";
})(o.PlaySoundErrorCode || (o.PlaySoundErrorCode = {}));
cc._RF.pop();
}, {} ],
PlaySoundInfoGF: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "47a33onBUxA8LvWSjGSuUPc", "PlaySoundInfoGF");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../base/referencePool/ReferencePool"), i = e("../utils/GFClassUtils"), a = function() {
function e() {
this._serialId = 0;
this._soundGroup = null;
this._playSoundParams = null;
this._userData = null;
}
t = e;
Object.defineProperty(e.prototype, "serialId", {
get: function() {
return this._serialId;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "soundGroup", {
get: function() {
return this._soundGroup;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "playSoundParams", {
get: function() {
return this._playSoundParams;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "userData", {
get: function() {
return this._userData;
},
enumerable: !1,
configurable: !0
});
e.create = function(e, o, n, i) {
var a = r.default.acquire(t);
a._serialId = e;
a._soundGroup = o;
a._playSoundParams = n;
a._userData = i;
return a;
};
e.prototype.clear = function() {
this._serialId = 0;
this._soundGroup = null;
this._playSoundParams = null;
this._userData = null;
};
var t;
return t = n([ i.gfClass("PlaySoundInfoGF") ], e);
}();
o.default = a;
cc._RF.pop();
}, {
"../base/referencePool/ReferencePool": "ReferencePool",
"../utils/GFClassUtils": "GFClassUtils"
} ],
PlaySoundInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "71b60UpFRFLT6/Ufg7EICBq", "PlaySoundInfo");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../base/base/referencePool/ReferencePool"), i = e("../../base/utils/GFClassUtils"), a = function() {
function e() {
this._bindingEntity = null;
this._worldPosition = cc.Vec3.ZERO.clone();
this._userData = null;
}
t = e;
Object.defineProperty(e.prototype, "bindingEntity", {
get: function() {
return this._bindingEntity;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "worldPosition", {
get: function() {
return this._worldPosition;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "userData", {
get: function() {
return this._userData;
},
enumerable: !1,
configurable: !0
});
e.create = function(e, o, n) {
var i = r.default.acquire(t);
i._bindingEntity = e;
i._worldPosition = o;
i._userData = n;
return i;
};
e.prototype.clear = function() {
this._bindingEntity = null;
this._worldPosition = cc.Vec3.ZERO.clone();
this._userData = null;
};
var t;
return t = n([ i.gfClass("PlaySoundInfo") ], e);
}();
o.default = a;
cc._RF.pop();
}, {
"../../base/base/referencePool/ReferencePool": "ReferencePool",
"../../base/utils/GFClassUtils": "GFClassUtils"
} ],
PlaySoundParams: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e4116jVve1Gmbcowu5WcDnN", "PlaySoundParams");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.PlaySoundParams = void 0;
var r = e("./ConstantSoundGF"), i = e("../base/referencePool/ReferencePool"), a = e("../utils/GFClassUtils"), s = function() {
function e() {
this._referenced = !1;
this.resetInternal();
}
t = e;
Object.defineProperty(e.prototype, "time", {
get: function() {
return this._time;
},
set: function(e) {
this._time = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "muteInSoundGroup", {
get: function() {
return this._muteInSoundGroup;
},
set: function(e) {
this._muteInSoundGroup = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "loop", {
get: function() {
return this._loop;
},
set: function(e) {
this._loop = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "priority", {
get: function() {
return this._priority;
},
set: function(e) {
this._priority = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "volumeInSoundGroup", {
get: function() {
return this._volumeInSoundGroup;
},
set: function(e) {
this._volumeInSoundGroup = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "fadeInSeconds", {
get: function() {
return this._fadeInSeconds;
},
set: function(e) {
this._fadeInSeconds = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "pitch", {
get: function() {
return this._pitch;
},
set: function(e) {
this._pitch = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "panStereo", {
get: function() {
return this._panStereo;
},
set: function(e) {
this._panStereo = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "spatialBlend", {
get: function() {
return this._spatialBlend;
},
set: function(e) {
this._spatialBlend = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "maxDistance", {
get: function() {
return this._maxDistance;
},
set: function(e) {
this._maxDistance = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "dopplerLevel", {
get: function() {
return this._dopplerLevel;
},
set: function(e) {
this._dopplerLevel = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "referenced", {
get: function() {
return this._referenced;
},
enumerable: !1,
configurable: !0
});
e.create = function() {
var e = i.default.acquire(t);
e._referenced = !0;
return e;
};
e.prototype.clear = function() {
this.resetInternal();
};
e.prototype.resetInternal = function() {
this._time = r.default.defaultTime;
this._muteInSoundGroup = r.default.defaultMute;
this._loop = r.default.defaultLoop;
this._priority = r.default.defaultPriority;
this._volumeInSoundGroup = r.default.defaultVolume;
this._fadeInSeconds = r.default.defaultFadeInSeconds;
this._pitch = r.default.defaultPitch;
this._panStereo = r.default.defaultPanStereo;
this._spatialBlend = r.default.defaultSpatialBlend;
this._maxDistance = r.default.defaultMaxDistance;
this._dopplerLevel = r.default.defaultDopplerLevel;
};
var t;
return t = n([ a.gfClass("PlaySoundParams") ], e);
}();
o.PlaySoundParams = s;
cc._RF.pop();
}, {
"../base/referencePool/ReferencePool": "ReferencePool",
"../utils/GFClassUtils": "GFClassUtils",
"./ConstantSoundGF": "ConstantSoundGF"
} ],
PoolManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fa6ed2YIVxN45t8qifYPswb", "PoolManager");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
}), r.PoolManager = void 0;
var s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.prefab = [], t.prefabMap = {}, t.poolMap = {}, t;
}
var o;
return i(t, e), (o = t).prototype.onLoad = function() {
o.instance = this;
for (var e, t = 0; t < this.prefab.length; t++) this.prefabMap[this.prefab[t].name] = t, 
this.poolMap[this.prefab[t].name + "Pool"] = new cc.NodePool();
for (e in this.prefabMap) cc.log(e + this.prefabMap[e]);
}, t.prototype.get = function(e) {
var t = this.prefabMap[e];
if (null != t) {
var o = this.poolMap[e + "Pool"].get();
return 0 < this.poolMap[e + "Pool"].size() ? o.active = !0 : (o = cc.instantiate(this.prefab[t])).active = !0, 
o;
}
console.log("预制体不存在或未加载（未拖拽）");
}, t.prototype.put = function(e) {
e.active = !1, this.poolMap[e.name + "Pool"].put(e);
}, a([ l(cc.Prefab) ], t.prototype, "prefab", void 0), o = a([ c ], t);
}(cc.Component);
r.PoolManager = u;
cc._RF.pop();
}, {} ],
PrivacyForm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9307dpcAfBP95x/VsXtaFTR", "PrivacyForm");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc.Label, s = cc.Node, c = cc.Button, l = e("../../../gf/scripts/ccEngine/ui/CcUIForm"), u = e("../base/GameEntry"), p = e("../definition/constant/ConstantEvent"), d = e("../definition/constant/ConstantSetting"), f = e("../../../gf/scripts/ccEngine/log/DFLog"), h = cc._decorator, y = h.ccclass, m = h.property, g = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.BtnOK = null;
t.BtnAgree = null;
t.BtnQuit = null;
t.privacyContentText = null;
t._isInit = !1;
return t;
}
t.prototype.init = function() {
var e = '生效日期：2024年08月08日\n\n欢迎使用本公司（"青岛飞梦网络科技有限公司"，以下简称“我们”）的产品。我们非常重视您的隐私和个人信息保护。本隐私政策旨在帮助您了解我们如何收集、使用、存储和分享您的个人信息。我们将以高度的勤勉、审慎义务的态度对待这些信息。您在同意我们使用协议之时，即视为您已经同意本隐私权政策全部内容。\n\n1.信息收集\n. 我们仅在您注册或使用我们的服务时收集必要的个人信息，如用户名、邮箱地址等。\n. 使用过程中，我们会自动收集非个人身份信息，如设备型号、操作系统版本、IP地址等，用于改善用户体验和服务质量。\n2.信息使用\n. 您的信息将用于提供和优化我们的服务。\n. 不会向第三方出售或出租您的个人信息，除非获得您的明确同意或按照法律规定。\n. 如您是适格的知识产权投诉人并已提起投诉，应被投诉人要求，向被投诉人披露，以便双方处理可能的权利纠纷。\n3.信息安全\n. 我们采取合理的安全措施来保护您的个人信息免受未经授权的访问、泄露、更改或破坏。\n4.用户选择与控制\n. 您可以随时通过游戏设置管理您的个人信息及权限。\n. 如需删除账户或个人信息，请联系我们。\n5.隐私政策更新\n. 我们可能会根据法律法规或业务需求对本政策进行更新，并通过适当方式通知您。\n6.联系我们\n. 如有任何疑问或建议，欢迎通过DreamFlyingGames@qq.com联系我们。\n2024年08月08日';
e = e.replace("青岛飞梦网络科技有限公司", u.default.builtin.buildInfo.devCompany);
this.privacyContentText.string = e;
};
t.prototype.onOpen = function(t) {
e.prototype.onOpen.call(this, t);
u.default.event.subscribe(p.default.showPrivacy, this.onShowEvent, this);
if (!this._isInit) {
this.init();
this._isInit = !0;
}
this.setBtnAgreeInteractable(!0);
t && !0 === t.first ? this.BtnOK.active = !1 : this.onShowEvent(!0);
};
t.prototype.onClose = function(t, o) {
e.prototype.onClose.call(this, t, o);
u.default.event.fire(p.default.agreePrivacy, !0);
u.default.event.unSubscribeAllCaller(this);
};
t.prototype.onShowEvent = function(e) {
this.BtnAgree.active = !1;
this.BtnQuit.active = !1;
this.BtnOK.active = !0;
e && (this.node.zIndex = 9999);
this.BtnAgree.getComponent(c).interactable = e;
};
t.prototype.onBtnOkClick = function() {
this.setBtnAgreeInteractable(!1);
this.close();
};
t.prototype.onBtnAgreeClick = function() {
this.setBtnAgreeInteractable(!1);
u.default.setting.setBool(d.default.isAgreePrivacy, !0);
f.default.debug("隐私政策同意按钮被点击");
this.close();
};
t.prototype.onBtnQuitClick = function() {
this.setBtnAgreeInteractable(!1);
u.default.ad.exitGame();
};
t.prototype.setBtnAgreeInteractable = function(e) {
this.BtnAgree.getComponent(c).interactable = e;
};
i([ m({
type: s,
tooltip: "隐私协-好的"
}) ], t.prototype, "BtnOK", void 0);
i([ m({
type: s,
tooltip: "隐私协-同意"
}) ], t.prototype, "BtnAgree", void 0);
i([ m({
type: s,
tooltip: "隐私协-拒绝"
}) ], t.prototype, "BtnQuit", void 0);
i([ m({
type: a,
tooltip: "隐私协-内容"
}) ], t.prototype, "privacyContentText", void 0);
return i([ y ], t);
}(l.default);
o.default = g;
cc._RF.pop();
}, {
"../../../gf/scripts/ccEngine/log/DFLog": "DFLog",
"../../../gf/scripts/ccEngine/ui/CcUIForm": "CcUIForm",
"../base/GameEntry": "GameEntry",
"../definition/constant/ConstantEvent": "ConstantEvent",
"../definition/constant/ConstantSetting": "ConstantSetting"
} ],
PrivacyPolicy: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "83b1cbmnjRKCqtOVxg1KAz1", "PrivacyPolicy");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.label = null, t.text = "hello", t;
}
return i(t, e), t.prototype.start = function() {}, a([ l(cc.Node) ], t.prototype, "label", void 0), 
a([ l ], t.prototype, "text", void 0), a([ c ], t);
}(cc.Component);
r.default = u;
cc._RF.pop();
}, {} ],
PrivacyUserPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2a225F7jMhPWpqoKwvcsBGP", "PrivacyUserPop");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.popNode = null, t.privacyNode = null, t.userNode = null, t;
}
return i(t, e), t.prototype.start = function() {}, t.prototype.privacyCloseBtnFunc = function() {
this.node.active = !1;
}, t.prototype.userCloseBtnFunc = function() {
this.node.active = !1;
}, t.prototype.showPop = function(e) {
this.node.active = !0, this.userNode.active = !1, this.privacyNode.active = !1, 
cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), "user" == e.type ? this.userNode.active = !0 : this.privacyNode.active = !0;
}, a([ l(cc.Node) ], t.prototype, "popNode", void 0), a([ l(cc.Node) ], t.prototype, "privacyNode", void 0), 
a([ l(cc.Node) ], t.prototype, "userNode", void 0), a([ c ], t);
}(cc.Component);
r.default = u;
cc._RF.pop();
}, {} ],
ProcedureBaseBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fc9a9boI1FGRbmHUEzPh79o", "ProcedureBaseBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onInit = function(t) {
e.prototype.onInit.call(this, t);
};
t.prototype.onEnter = function(t) {
e.prototype.onEnter.call(this, t);
};
t.prototype.onUpdate = function(t, o, n) {
e.prototype.onUpdate.call(this, t, o, n);
};
t.prototype.onLeave = function(t, o) {
e.prototype.onLeave.call(this, t, o);
};
t.prototype.onDestroy = function(t) {
e.prototype.onDestroy.call(this, t);
};
return t;
}(e("../fsm/FsmState").default);
o.default = i;
cc._RF.pop();
}, {
"../fsm/FsmState": "FsmState"
} ],
ProcedureBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ba911xHswxLB608Th7E3ceP", "ProcedureBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../../../gf/scripts/base/procedure/ProcedureBaseBase"), s = e("../../../../gf/scripts/base/utils/GFClassUtils"), c = e("../../../../gf/scripts/ccEngine/log/DFLog"), l = function(e) {
r(t, e);
function t() {
return e.call(this) || this;
}
t.prototype.onInit = function(t) {
e.prototype.onInit.call(this, t);
c.default.debug(s.default.getClassInstanceName(this) + " onInit.");
};
t.prototype.onEnter = function(t) {
e.prototype.onEnter.call(this, t);
c.default.debug(s.default.getClassInstanceName(this) + " onEnter.");
};
t.prototype.onUpdate = function(t, o, n) {
e.prototype.onUpdate.call(this, t, o, n);
};
t.prototype.onLeave = function(t, o) {
e.prototype.onLeave.call(this, t, o);
c.default.debug(s.default.getClassInstanceName(this) + " onLeave.");
};
t.prototype.onDestroy = function(t) {
e.prototype.onDestroy.call(this, t);
c.default.debug(s.default.getClassInstanceName(this) + " onDestroy.");
};
return i([ s.gfClass("ProcedureBase") ], t);
}(a.default);
o.default = l;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/procedure/ProcedureBaseBase": "ProcedureBaseBase",
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../../../gf/scripts/ccEngine/log/DFLog": "DFLog"
} ],
ProcedureChangeScene: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "029caXFvXNHcJTuqWZ5I0yN", "ProcedureChangeScene");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("./ProcedureBase"), l = e("../../base/GameEntry"), u = e("../../definition/constant/ConstantData"), p = e("../../../../gf/scripts/ccEngine/log/DFLog"), d = e("../../../../gf/scripts/base/utils/GFClassUtils"), f = e("../../../../gf/scripts/base/base/referencePool/ReferencePool"), h = e("../custom/ProcedureFreeGame"), y = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._gotoSceneName = null;
t._owner = null;
return t;
}
t.prototype.onEnter = function(t) {
return a(this, void 0, void 0, function() {
var o;
return s(this, function(n) {
switch (n.label) {
case 0:
e.prototype.onEnter.call(this, t);
this._owner = t;
this.hideAllEntities();
l.default.base.resetGameSpeed();
o = t.getData(u.default.nextSceneName);
this._gotoSceneName = o.value;
f.default.release(o);
p.default.debug("准备跳转到场景：", this._gotoSceneName);
return [ 4, l.default.scene.loadScene(this._gotoSceneName) ];

case 1:
n.sent();
this.onSceneLoaded();
return [ 2 ];
}
});
});
};
t.prototype.onLeave = function(t, o) {
e.prototype.onLeave.call(this, t, o);
this._gotoSceneName = null;
this._owner = null;
};
t.prototype.hideAllEntities = function() {};
t.prototype.onSceneLoaded = function() {
if (this._owner) {
p.default.debug("ProcedureChangeScene，加载场景回调成功:", this._gotoSceneName);
switch (this._gotoSceneName) {
case l.default.builtin.buildInfo.firstGameSceneName:
this.changeState(this._owner, h.default);
}
} else p.default.error("ProcedureChangeScene，加载场景回调错误。");
};
return i([ d.gfClass("ProcedureChangeScene") ], t);
}(c.default);
o.default = y;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/base/referencePool/ReferencePool": "ReferencePool",
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../../../gf/scripts/ccEngine/log/DFLog": "DFLog",
"../../base/GameEntry": "GameEntry",
"../../definition/constant/ConstantData": "ConstantData",
"../custom/ProcedureFreeGame": "ProcedureFreeGame",
"./ProcedureBase": "ProcedureBase"
} ],
ProcedureCheckVersion: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b062c3Tok9OLabXvB8JedMt", "ProcedureCheckVersion");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("./ProcedureBase"), s = e("../../../../gf/scripts/base/utils/GFClassUtils"), c = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onEnter = function(t) {
e.prototype.onEnter.call(this, t);
};
t.prototype.onLeave = function(t, o) {
e.prototype.onLeave.call(this, t, o);
};
return i([ s.gfClass("ProcedureCheckVersion") ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"./ProcedureBase": "ProcedureBase"
} ],
ProcedureComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f7ba9ZbrI1BKIO9Kx7MIZvo", "ProcedureComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var n = Array(e), r = 0;
for (t = 0; t < o; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, 
r++) n[r] = i[a];
return n;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../base/GameFrameworkComponent"), c = cc._decorator.ccclass, l = e("../../base/base/GameFrameworkEntry"), u = e("../../base/procedure/ProcedureManager"), p = e("../../base/fsm/FsmManager"), d = cc._decorator.property, f = e("../../base/utils/GFClassUtils"), h = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._procedureManager = null;
t._availableProcedureNames = [];
t._entranceProcedureName = "";
t._entranceProcedure = null;
return t;
}
Object.defineProperty(t.prototype, "currentProcedure", {
get: function() {
return this._procedureManager ? this._procedureManager.currentProcedure : null;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "currentProcedureTime", {
get: function() {
return this._procedureManager ? this._procedureManager.currentProcedureTime : 0;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._procedureManager = l.default.getModule(u.default);
this._procedureManager || console.error("Procedure manager is invalid.");
};
t.prototype.start = function() {
for (var e, t = [], o = 0, n = this._availableProcedureNames; o < n.length; o++) {
var r = n[o];
if (!f.default.isClassRegistered(r)) throw new Error("[" + r + "] 未配置，请确保流程名称已在 ProcedureComponent 面板配置完成.");
var i = f.default.createInstance(r);
if (!i) throw new Error("Can not create procedure instance '" + r + "'.");
t.push(i);
this._entranceProcedureName === r && (this._entranceProcedure = i);
}
if (!this._entranceProcedure) throw new Error("Entrance procedure is invalid.");
(e = this._procedureManager).initialize.apply(e, a([ l.default.getModule(p.default) ], t));
this._procedureManager.startProcedure(this._entranceProcedure.constructor);
};
t.prototype.hasProcedure = function(e) {
if (!this._procedureManager) throw new Error("Procedure manager is not initialized.");
return this._procedureManager.hasProcedure(e);
};
t.prototype.getProcedure = function(e) {
if (!this._procedureManager) throw new Error("Procedure manager is not initialized.");
return this._procedureManager.getProcedure(e);
};
i([ d({
type: [ cc.String ],
tooltip: "生效流程名，请确保流程名称已在 ProcedureComponent 面板配置完成",
visible: !0
}) ], t.prototype, "_availableProcedureNames", void 0);
i([ d({
tooltip: "框架启动的流程类名",
visible: !0
}) ], t.prototype, "_entranceProcedureName", void 0);
return i([ c, f.gfClass("ProcedureComponent") ], t);
}(s.default);
o.default = h;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/fsm/FsmManager": "FsmManager",
"../../base/procedure/ProcedureManager": "ProcedureManager",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../base/GameFrameworkComponent": "GameFrameworkComponent"
} ],
ProcedureFreeGame: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e4d54FIOGlMdJ+IiPtTknmD", "ProcedureFreeGame");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../builtin/ProcedureBase"), s = e("../../../../gf/scripts/base/utils/GFClassUtils"), c = e("../../base/GameEntry"), l = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onEnter = function(t) {
e.prototype.onEnter.call(this, t);
c.default.heartbeat.startHeartbeat();
};
t.prototype.onLeave = function(t, o) {
e.prototype.onLeave.call(this, t, o);
};
return i([ s.gfClass("ProcedureFreeGame") ], t);
}(a.default);
o.default = l;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../base/GameEntry": "GameEntry",
"../builtin/ProcedureBase": "ProcedureBase"
} ],
ProcedureGame: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4977aS50VZOLKvAGXldIsIO", "ProcedureGame");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../builtin/ProcedureBase"), s = e("../../../../gf/scripts/base/utils/GFClassUtils"), c = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return i([ s.gfClass("ProcedureGame") ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../builtin/ProcedureBase": "ProcedureBase"
} ],
ProcedureHealth: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "53a8a0W2IxDMIa492FrEBfw", "ProcedureHealth");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../builtin/ProcedureBase"), l = e("../../base/GameEntry"), u = e("../../../../gf/scripts/ccEngine/log/DFLog"), p = e("../builtin/ProcedurePreload"), d = e("../../../../gf/scripts/base/utils/GFClassUtils"), f = e("../../ui/base/UiFormId"), h = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._owner = null;
return t;
}
t.prototype.onEnter = function(t) {
return a(this, void 0, void 0, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
e.prototype.onEnter.call(this, t);
this._owner = t;
return [ 4, l.default.ui.openUIForm(f.UiFormId.HealthForm, this) ];

case 1:
o.sent();
u.default.debug("等待" + l.default.builtin.buildInfo.healthTime + "秒后进入预加载流程");
return [ 2 ];
}
});
});
};
t.prototype.onLeave = function(t, o) {
e.prototype.onLeave.call(this, t, o);
this._owner = null;
};
t.prototype.enterNext = function() {
this.changeState(this._owner, p.default);
};
t.prototype.releaseAssets = function() {};
return i([ d.gfClass("ProcedureHealth") ], t);
}(c.default);
o.default = h;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../../../gf/scripts/ccEngine/log/DFLog": "DFLog",
"../../base/GameEntry": "GameEntry",
"../../ui/base/UiFormId": "UiFormId",
"../builtin/ProcedureBase": "ProcedureBase",
"../builtin/ProcedurePreload": "ProcedurePreload"
} ],
ProcedureLaunch: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "06229FeMKRGQahaSVbRhyf0", "ProcedureLaunch");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("./ProcedureBase"), l = e("../../base/GameEntry"), u = e("../../../../gf/scripts/base/utils/GFClassUtils"), p = e("./ProcedurePreloadLaunchRes"), d = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onEnter = function(t) {
return a(this, void 0, void 0, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
e.prototype.onEnter.call(this, t);
this.setValidLog();
return [ 4, this.initBuiltinSettings() ];

case 1:
o.sent();
return [ 4, this.initCustomSettings() ];

case 2:
o.sent();
this.changeState(t, p.default);
return [ 2 ];
}
});
});
};
t.prototype.onLeave = function(t, o) {
e.prototype.onLeave.call(this, t, o);
};
t.prototype.initBuiltinSettings = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
return [ 4, l.default.builtin.initBuildInfo() ];

case 1:
e.sent();
this.initLanguageSettings();
this.initQualitySettings();
this.initSoundSetting();
return [ 4, l.default.builtin.initDefaultDictionary() ];

case 2:
e.sent();
return [ 2 ];
}
});
});
};
t.prototype.initCustomSettings = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
this.initNetworkSetting();
this.initHeartbeatSetting();
return [ 4, this.initAdsSettings() ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
t.prototype.initLanguageSettings = function() {};
t.prototype.initQualitySettings = function() {};
t.prototype.initSoundSetting = function() {};
t.prototype.initNetworkSetting = function() {
var e = l.default.builtin.buildInfo;
l.default.webRequest.initServerMode(e.useRemoteServer);
l.default.webRequest.initTimeoutInfo(e.getTimeout, e.postTimeout, e.putTimeout, e.deleteTimeout, e.uploadTimeout);
};
t.prototype.initHeartbeatSetting = function() {
l.default.heartbeat.initHeartbeatSetting(l.default.builtin.buildInfo.heartbeatCdTime);
};
t.prototype.initAdsSettings = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
return [ 4, l.default.ad.init() ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
t.prototype.setValidLog = function() {
if (!l.default.base.isEditor) {
console.log = function() {};
console.warn = function() {};
console.error = function() {};
}
};
return i([ u.gfClass("ProcedureLaunch", {
description: "这是启动流程."
}) ], t);
}(c.default);
o.default = d;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../base/GameEntry": "GameEntry",
"./ProcedureBase": "ProcedureBase",
"./ProcedurePreloadLaunchRes": "ProcedurePreloadLaunchRes"
} ],
ProcedureLogin: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0b702+nYJlO1qNI/NNCMjEi", "ProcedureLogin");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../../../../gf/scripts/base/utils/GFClassUtils"), l = e("../builtin/ProcedureBase"), u = e("../../base/GameEntry"), p = e("../../../../gf/scripts/ccEngine/log/DFLog"), d = e("../builtin/ProcedureSplash"), f = e("./ProcedureSplashAd"), h = e("../../definition/constant/ConstantEvent"), y = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._owner = null;
return t;
}
t.prototype.onEnter = function(t) {
return a(this, void 0, void 0, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
e.prototype.onEnter.call(this, t);
this._owner = t;
u.default.event.subscribe(h.default.loginCompleted, this.onLoginFinishEvent, this);
if (!u.default.ad.isMiniGame) return [ 3, 2 ];
p.default.debug("发送开关请求-开始");
return [ 4, u.default.switch.init(u.default.builtin.miniGameInfo) ];

case 1:
o.sent();
p.default.debug("发送开关请求-结束-响应完成.");
u.default.analysis.init();
o.label = 2;

case 2:
p.default.debug("戏登录开始....");
return [ 4, u.default.ad.login() ];

case 3:
o.sent();
return [ 2 ];
}
});
});
};
t.prototype.onLeave = function(t, o) {
e.prototype.onLeave.call(this, t, o);
u.default.event.unSubscribe(h.default.loginCompleted, this.onLoginFinishEvent, this);
this._owner = null;
};
t.prototype.onLoginFinishEvent = function() {
this.enterNext();
};
t.prototype.enterNext = function() {
p.default.debug("游戏登录完成....");
u.default.ad.isMiniGame ? this.changeState(this._owner, d.default) : u.default.ad.initAdSdkAtFirst() ? this.changeState(this._owner, d.default) : u.default.ad.switchEnable ? this.changeState(this._owner, f.default) : this.changeState(this._owner, d.default);
};
return i([ c.gfClass("ProcedureLogin") ], t);
}(l.default);
o.default = y;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../../../gf/scripts/ccEngine/log/DFLog": "DFLog",
"../../base/GameEntry": "GameEntry",
"../../definition/constant/ConstantEvent": "ConstantEvent",
"../builtin/ProcedureBase": "ProcedureBase",
"../builtin/ProcedureSplash": "ProcedureSplash",
"./ProcedureSplashAd": "ProcedureSplashAd"
} ],
ProcedureManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "79e99+V+UJNJr58fMKj5aaJ", "ProcedureManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._fsmManager = null;
t._procedureFsm = null;
t._fsmManager = null;
t._procedureFsm = null;
return t;
}
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "Procedure";
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "priority", {
get: function() {
return -10;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "currentProcedure", {
get: function() {
if (null === this._procedureFsm) throw new Error("You must initialize procedure first.");
return this._procedureFsm.currentState;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "currentProcedureTime", {
get: function() {
if (null === this._procedureFsm) throw new Error("You must initialize procedure first.");
return this._procedureFsm.currentStateTime;
},
enumerable: !1,
configurable: !0
});
t.prototype.update = function() {};
t.prototype.shutdown = function() {
if (null !== this._fsmManager) {
if (null !== this._procedureFsm) {
this._fsmManager.destroyFsm(this._procedureFsm);
this._procedureFsm = null;
}
this._fsmManager = null;
}
e.prototype.shutdown.call(this);
};
t.prototype.initialize = function(e) {
for (var o = [], n = 1; n < arguments.length; n++) o[n - 1] = arguments[n];
if (null === e) throw new Error("FSM manager is invalid.");
this._fsmManager = e;
this._procedureFsm = this._fsmManager.createFsm(t, this, o);
};
t.prototype.startProcedure = function(e) {
if (null === this._procedureFsm) throw new Error("You must initialize procedure first.");
this._procedureFsm.start(e);
};
t.prototype.hasProcedure = function(e) {
if (null === this._procedureFsm) throw new Error("You must initialize procedure first.");
return this._procedureFsm.hasState(e);
};
t.prototype.getProcedure = function(e) {
if (null === this._procedureFsm) throw new Error("You must initialize procedure first.");
return this._procedureFsm.getState(e);
};
return t;
}(e("../base/GameFrameworkModule").default);
o.default = i;
cc._RF.pop();
}, {
"../base/GameFrameworkModule": "GameFrameworkModule"
} ],
ProcedureMenu: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "329e1MWX6JHz6y/Dp7A0A4X", "ProcedureMenu");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../builtin/ProcedureBase"), s = e("../../base/GameEntry"), c = e("../../../../gf/scripts/base/utils/GFClassUtils"), l = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.onEnter = function(t) {
e.prototype.onEnter.call(this, t);
s.default.heartbeat.startHeartbeat();
};
t.prototype.onUpdate = function(t, o, n) {
e.prototype.onUpdate.call(this, t, o, n);
};
t.prototype.onLeave = function(t, o) {
e.prototype.onLeave.call(this, t, o);
s.default.heartbeat.stopHeartbeat();
};
return i([ c.gfClass("ProcedureMenu") ], t);
}(a.default);
o.default = l;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../base/GameEntry": "GameEntry",
"../builtin/ProcedureBase": "ProcedureBase"
} ],
ProcedurePreloadLaunchRes: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "69c7egouWlK8ZD5rIZ7k9v4", "ProcedurePreloadLaunchRes");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("./ProcedureBase"), l = e("../../../../gf/scripts/base/utils/GFClassUtils"), u = e("../../dataTable/DRUIForm"), p = e("../../dataTable/DRUISound"), d = e("../../base/GameEntry"), f = e("../../definition/constant/ConstantBundle"), h = e("../custom/ProcedurePrivacy"), y = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.dataTables = [ u.default, p.default ];
return t;
}
t.prototype.onEnter = function(t) {
return a(this, void 0, void 0, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
e.prototype.onEnter.call(this, t);
return [ 4, this.preloadResources() ];

case 1:
o.sent();
this.changeState(t, h.default);
return [ 2 ];
}
});
});
};
t.prototype.onLeave = function(t, o) {
e.prototype.onLeave.call(this, t, o);
};
t.prototype.preloadResources = function() {
return a(this, void 0, void 0, function() {
var e, t, o;
return s(this, function(n) {
switch (n.label) {
case 0:
return [ 4, this.preloadUISprites() ];

case 1:
n.sent();
return [ 4, this.preloadUIItems() ];

case 2:
n.sent();
return [ 4, this.preloadUIForms() ];

case 3:
n.sent();
e = 0, t = this.dataTables;
n.label = 4;

case 4:
if (!(e < t.length)) return [ 3, 7 ];
o = t[e];
return [ 4, this.loadDatable(o) ];

case 5:
n.sent();
n.label = 6;

case 6:
e++;
return [ 3, 4 ];

case 7:
return [ 2 ];
}
});
});
};
t.prototype.preloadUIItems = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
return [ 4, d.default.resources.loadAssetBundle(f.default.uiItems) ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
t.prototype.preloadUISprites = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
return [ 4, d.default.resources.loadAssetBundle(f.default.uiSprites) ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
t.prototype.preloadUIForms = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
return [ 4, d.default.resources.loadAssetBundle(f.default.uiForms) ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
t.prototype.loadDatable = function(e) {
return a(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, d.default.dataTable.loadDataTable(e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
return i([ l.gfClass("ProcedurePreloadLaunchRes") ], t);
}(c.default);
o.default = y;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../base/GameEntry": "GameEntry",
"../../dataTable/DRUIForm": "DRUIForm",
"../../dataTable/DRUISound": "DRUISound",
"../../definition/constant/ConstantBundle": "ConstantBundle",
"../custom/ProcedurePrivacy": "ProcedurePrivacy",
"./ProcedureBase": "ProcedureBase"
} ],
ProcedurePreload: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e2819xG49dE9LAjzzQ5G0K8", "ProcedurePreload");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("./ProcedureBase"), l = e("../../definition/constant/ConstantData"), u = e("../../base/GameEntry"), p = e("./ProcedureChangeScene"), d = e("../../../../gf/scripts/ccEngine/log/DFLog"), f = e("../../../../gf/scripts/base/utils/GFClassUtils"), h = e("../../../../gf/scripts/ccEngine/variable/VarString"), y = e("../../../../gf/scripts/base/base/referencePool/ReferencePool"), m = e("../../dataTable/DRScene"), g = e("../../../../gf/scripts/base/utils/JsonUtility"), b = e("../../dataTable/DRMusic"), v = e("../../dataTable/DRSound"), _ = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.dataTables = [ m.default, b.default, v.default ];
return t;
}
t.prototype.onEnter = function(t) {
return a(this, void 0, void 0, function() {
var o;
return s(this, function(n) {
switch (n.label) {
case 0:
e.prototype.onEnter.call(this, t);
(o = y.default.acquire(h.default)).value = u.default.builtin.buildInfo.firstGameSceneName;
t.setData(l.default.nextSceneName, o);
d.default.debug("是否包含数据0：", t.hasData(l.default.nextSceneName));
return [ 4, this.preloadResources() ];

case 1:
n.sent();
this.changeState(t, p.default);
return [ 2 ];
}
});
});
};
t.prototype.onLeave = function(t, o) {
e.prototype.onLeave.call(this, t, o);
};
t.prototype.preloadResources = function() {
return a(this, void 0, void 0, function() {
var e, t, o;
return s(this, function(n) {
switch (n.label) {
case 0:
return [ 4, this.loadConfig() ];

case 1:
n.sent();
e = 0, t = this.dataTables;
n.label = 2;

case 2:
if (!(e < t.length)) return [ 3, 5 ];
o = t[e];
return [ 4, this.loadDatable(o) ];

case 3:
n.sent();
n.label = 4;

case 4:
e++;
return [ 3, 2 ];

case 5:
return [ 2 ];
}
});
});
};
t.prototype.loadDatable = function(e) {
return a(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, u.default.dataTable.loadDataTable(e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.printDataTables = function(e) {
var t = u.default.dataTable.getDataTable(e);
if (t) try {
for (var o = 0, n = t.getAllDataRows(); o < n.length; o++) {
var r = n[o];
d.default.info("" + g.default.toJson(r));
}
} catch (e) {
d.default.error("loadDatable error:", e);
} else d.default.warn("加载数据表失败");
};
t.prototype.loadConfig = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
return [ 4, u.default.config.readData("DefaultConfig") ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
return i([ f.gfClass("ProcedurePreload") ], t);
}(c.default);
o.default = _;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/base/referencePool/ReferencePool": "ReferencePool",
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../../../gf/scripts/base/utils/JsonUtility": "JsonUtility",
"../../../../gf/scripts/ccEngine/log/DFLog": "DFLog",
"../../../../gf/scripts/ccEngine/variable/VarString": "VarString",
"../../base/GameEntry": "GameEntry",
"../../dataTable/DRMusic": "DRMusic",
"../../dataTable/DRScene": "DRScene",
"../../dataTable/DRSound": "DRSound",
"../../definition/constant/ConstantData": "ConstantData",
"./ProcedureBase": "ProcedureBase",
"./ProcedureChangeScene": "ProcedureChangeScene"
} ],
ProcedurePrivacy: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9f8e1gO2wRLWqlkB5Dn3tHv", "ProcedurePrivacy");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../builtin/ProcedureBase"), l = e("../../base/GameEntry"), u = e("../../definition/constant/ConstantEvent"), p = e("../../../../gf/scripts/ccEngine/log/DFLog"), d = e("../../../../gf/scripts/base/utils/GFClassUtils"), f = e("../../definition/constant/ConstantSetting"), h = e("../../ui/base/UiFormId"), y = e("./ProcedureLogin"), m = e("./ProcedureSplashAd"), g = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._owner = null;
return t;
}
t.prototype.onEnter = function(t) {
return a(this, void 0, void 0, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
e.prototype.onEnter.call(this, t);
this._owner = t;
l.default.event.subscribe(u.default.agreePrivacy, this.onPrivacyEvent, this);
return [ 4, this.checkStatus() ];

case 1:
o.sent();
return [ 2 ];
}
});
});
};
t.prototype.onLeave = function(t, o) {
e.prototype.onLeave.call(this, t, o);
l.default.event.unSubscribe(u.default.agreePrivacy, this.onPrivacyEvent, this);
this._owner = null;
};
t.prototype.checkStatus = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
if (!l.default.setting.getBool(f.default.isAgreePrivacy, !1)) return [ 3, 1 ];
p.default.info("隐私协议已同意");
this.enterNext();
return [ 3, 6 ];

case 1:
p.default.info("隐私政策未同意,打开隐私协议界面。");
return l.default.ad.isMiniGame ? [ 4, l.default.ui.openUIForm(h.UiFormId.PrivacyForm, {
first: !0
}) ] : [ 3, 3 ];

case 2:
e.sent();
return [ 3, 6 ];

case 3:
if (!l.default.base.isEditor) return [ 3, 5 ];
this.enterNext();
//p.default.warn("Editor 模式，模拟展示-隐私协议");
//return [ 4, l.default.ui.openUIForm(h.UiFormId.PrivacyForm, {
//first: !0
;

case 4:
e.sent();
return [ 3, 6 ];

case 5:
this.onPrivacyEvent(!0);
e.label = 6;

case 6:
return [ 2 ];
}
});
});
};
t.prototype.enterNext = function() {
p.default.debug("隐私政策同意。");
l.default.ad.isMiniGame ? this.changeState(this._owner, y.default) : l.default.ad.initAdSdkAtFirst() ? this.changeState(this._owner, m.default) : this.changeState(this._owner, y.default);
};
t.prototype.onPrivacyEvent = function(e) {
if (e) {
p.default.debug("隐私政策-同意");
l.default.setting.setBool(f.default.isAgreePrivacy, !0);
this.enterNext();
}
};
return i([ d.gfClass("ProcedurePrivacy") ], t);
}(c.default);
o.default = g;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../../../gf/scripts/ccEngine/log/DFLog": "DFLog",
"../../base/GameEntry": "GameEntry",
"../../definition/constant/ConstantEvent": "ConstantEvent",
"../../definition/constant/ConstantSetting": "ConstantSetting",
"../../ui/base/UiFormId": "UiFormId",
"../builtin/ProcedureBase": "ProcedureBase",
"./ProcedureLogin": "ProcedureLogin",
"./ProcedureSplashAd": "ProcedureSplashAd"
} ],
ProcedureSplashAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2cba4u209BDf6m007rKfz0s", "ProcedureSplashAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../builtin/ProcedureBase"), s = e("../../base/GameEntry"), c = e("./ProcedureLogin"), l = e("../builtin/ProcedureSplash"), u = e("../../definition/constant/ConstantEvent"), p = e("../../../../gf/scripts/base/utils/GFClassUtils"), d = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._owner = null;
return t;
}
t.prototype.onEnter = function(t) {
e.prototype.onEnter.call(this, t);
this._owner = t;
s.default.event.subscribe(u.default.ShowSplashAdFinished, this.onShowSplashAdFinishedEvent, this);
s.default.ad.showSplashAd();
};
t.prototype.onLeave = function(t, o) {
e.prototype.onLeave.call(this, t, o);
s.default.event.unSubscribe(u.default.ShowSplashAdFinished, this.onShowSplashAdFinishedEvent, this);
this._owner = null;
};
t.prototype.onShowSplashAdFinishedEvent = function(e) {
e && this.enterNext();
};
t.prototype.enterNext = function() {
s.default.ad.initAdSdkAtFirst() ? this.changeState(this._owner, c.default) : this.changeState(this._owner, l.default);
};
return i([ p.gfClass("ProcedureSplashAd") ], t);
}(a.default);
o.default = d;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../base/GameEntry": "GameEntry",
"../../definition/constant/ConstantEvent": "ConstantEvent",
"../builtin/ProcedureBase": "ProcedureBase",
"../builtin/ProcedureSplash": "ProcedureSplash",
"./ProcedureLogin": "ProcedureLogin"
} ],
ProcedureSplash: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d7149+NmlxO1YC5uKoWzy7F", "ProcedureSplash");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("./ProcedureBase"), l = e("../../../../gf/scripts/base/utils/GFClassUtils"), u = e("../../base/GameEntry"), p = e("../../ui/base/UiFormId"), d = e("../../definition/constant/ConstantBundle"), f = cc.AudioClip, h = e("../custom/ProcedureHealth"), y = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._splashSounds = [ "splash_bg", "splash_logo1", "splash_logo2" ];
t._owner = null;
return t;
}
t.prototype.onEnter = function(t) {
return a(this, void 0, void 0, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
e.prototype.onEnter.call(this, t);
this._owner = t;
return [ 4, this.preloadResources() ];

case 1:
o.sent();
return [ 4, u.default.ui.openUIForm(p.UiFormId.SplashForm, this) ];

case 2:
o.sent();
return [ 2 ];
}
});
});
};
t.prototype.onLeave = function(t, o) {
e.prototype.onLeave.call(this, t, o);
this.releaseAssets();
this._owner = null;
};
t.prototype.enterNext = function() {
this.changeState(this._owner, h.default);
};
t.prototype.preloadResources = function() {
return a(this, void 0, void 0, function() {
return s(this, function(e) {
switch (e.label) {
case 0:
return [ 4, u.default.resources.preloadAsset(d.default.uiSounds, this._splashSounds, f, !0) ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
t.prototype.releaseAssets = function() {
for (var e = 0, t = this._splashSounds; e < t.length; e++) {
var o = t[e];
u.default.resources.releaseAsset(d.default.uiSounds, o);
}
};
return i([ l.gfClass("ProcedureSplash") ], t);
}(c.default);
o.default = y;
cc._RF.pop();
}, {
"../../../../gf/scripts/base/utils/GFClassUtils": "GFClassUtils",
"../../base/GameEntry": "GameEntry",
"../../definition/constant/ConstantBundle": "ConstantBundle",
"../../ui/base/UiFormId": "UiFormId",
"../custom/ProcedureHealth": "ProcedureHealth",
"./ProcedureBase": "ProcedureBase"
} ],
QueueDf: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "10fa4wp8YRD97hxXvNIxmQi", "QueueDf");
var n = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var n = Array(e), r = 0;
for (t = 0; t < o; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, 
r++) n[r] = i[a];
return n;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = function() {
function e() {
this._queue = [];
}
Object.defineProperty(e.prototype, "size", {
get: function() {
return this._queue.length;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "isEmpty", {
get: function() {
return 0 === this._queue.length;
},
enumerable: !1,
configurable: !0
});
e.prototype.enqueue = function(e) {
this._queue.push(e);
};
e.prototype.dequeue = function() {
if (this.isEmpty) throw new Error("Queue is empty");
return this._queue.shift();
};
e.prototype.peek = function() {
if (this.isEmpty) throw new Error("Queue is empty");
return this._queue[0];
};
e.prototype.clear = function() {
this._queue = [];
};
e.prototype.toArray = function() {
return n(this._queue);
};
e.prototype.concat = function(t) {
var o = new e();
this._queue.forEach(function(e) {
return o.enqueue(e);
});
t._queue.forEach(function(e) {
return o.enqueue(e);
});
return o;
};
e.prototype.contains = function(e) {
return this._queue.includes(e);
};
e.prototype.toString = function() {
return this._queue.join(", ");
};
return e;
}();
o.default = r;
cc._RF.pop();
}, {} ],
Ramdom: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "21806YLrLlFSLB9LRFbwB0D", "Ramdom");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.rangeInt = function(t, o) {
var n = e.rangeFloat(t, o);
return Math.floor(n);
};
e.rangeInt1 = function(t, o) {
var n = e.rangeFloat1(t, o);
return Math.floor(n);
};
e.rangeFloat = function(e, t) {
return Math.random() * (t - e) + e;
};
e.rangeFloat1 = function(e, t) {
return Math.random() * (t - e + 1) + e;
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ReferenceCollection: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cd6af/nZ8xPqov9XJyYnzEj", "ReferenceCollection");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../../system/collections/generic/QueueDf"), r = e("./ReferencePool"), i = e("../../../ccEngine/log/DFLog"), a = function() {
function e(e) {
this._references = new n.default();
this._referenceType = e;
this._usingReferenceCount = 0;
this._acquireReferenceCount = 0;
this._releaseReferenceCount = 0;
this._addReferenceCount = 0;
this._removeReferenceCount = 0;
}
Object.defineProperty(e.prototype, "referenceType", {
get: function() {
return this._referenceType;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "unusedReferenceCount", {
get: function() {
return this._references.size;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "usingReferenceCount", {
get: function() {
return this._usingReferenceCount;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "acquireReferenceCount", {
get: function() {
return this._acquireReferenceCount;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "releaseReferenceCount", {
get: function() {
return this._releaseReferenceCount;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "addReferenceCount", {
get: function() {
return this._addReferenceCount;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "removeReferenceCount", {
get: function() {
return this._removeReferenceCount;
},
enumerable: !1,
configurable: !0
});
e.prototype.acquire = function() {
this._usingReferenceCount++;
this._acquireReferenceCount++;
if (!this._references.isEmpty) return this._references.dequeue();
this._addReferenceCount++;
return new this._referenceType();
};
e.prototype.release = function(e) {
e.clear();
if (r.default.enableStrictCheck && this._references.contains(e)) i.default.warn("The reference has been released."); else {
this._references.enqueue(e);
this._releaseReferenceCount++;
this._usingReferenceCount--;
}
};
e.prototype.add = function(e) {
this._addReferenceCount += e;
for (;e-- > 0; ) this._references.enqueue(new this._referenceType());
};
e.prototype.remove = function(e) {
e > this._references.size && (e = this._references.size);
this._removeReferenceCount += e;
for (;e > 0; ) {
this._references.dequeue();
e--;
}
};
e.prototype.removeAll = function() {
this._removeReferenceCount += this._references.size;
this._references.clear();
};
return e;
}();
o.default = a;
window.ghw_et = "3爭朢戭杠ｴ霵峜颿棋缴纯⨀杍阢儉厙";
cc._RF.pop();
}, {
"../../../ccEngine/log/DFLog": "DFLog",
"../../system/collections/generic/QueueDf": "QueueDf",
"./ReferencePool": "ReferencePool"
} ],
ReferencePoolComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2aeabvTqexAWJ0SjncpQG7H", "ReferencePoolComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../base/GameFrameworkComponent"), s = e("../../base/base/referencePool/ReferencePool"), c = cc._decorator.property, l = cc._decorator.ccclass, u = e("../../base/utils/GFClassUtils"), p = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._strictCheck = !0;
return t;
}
Object.defineProperty(t.prototype, "enableStrictCheck", {
get: function() {
return s.default.enableStrictCheck;
},
set: function(e) {
s.default.enableStrictCheck = e;
},
enumerable: !1,
configurable: !0
});
t.prototype.start = function() {
this.enableStrictCheck = this._strictCheck;
};
i([ c({
displayName: "类型强制检查",
visible: !0
}) ], t.prototype, "_strictCheck", void 0);
return i([ l, u.gfClass("ReferencePoolComponent") ], t);
}(a.default);
o.default = p;
cc._RF.pop();
}, {
"../../base/base/referencePool/ReferencePool": "ReferencePool",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../base/GameFrameworkComponent": "GameFrameworkComponent"
} ],
ReferencePoolInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "82cc3Ydmo5Fhrb4hrBW/ej1", "ReferencePoolInfo");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e(e, t, o, n, r, i, a) {
this._type = e;
this._unusedReferenceCount = t;
this._usingReferenceCount = o;
this._acquireReferenceCount = n;
this._releaseReferenceCount = r;
this._addReferenceCount = i;
this._removeReferenceCount = a;
}
Object.defineProperty(e.prototype, "type", {
get: function() {
return this._type;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "unusedReferenceCount", {
get: function() {
return this._unusedReferenceCount;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "usingReferenceCount", {
get: function() {
return this._usingReferenceCount;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "acquireReferenceCount", {
get: function() {
return this._acquireReferenceCount;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "releaseReferenceCount", {
get: function() {
return this._releaseReferenceCount;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "addReferenceCount", {
get: function() {
return this._addReferenceCount;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "removeReferenceCount", {
get: function() {
return this._removeReferenceCount;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ReferencePool: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "19f4ckmppRAxYL4KTJLfU0s", "ReferencePool");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("./ReferencePoolInfo"), r = e("./ReferenceCollection"), i = function() {
function e() {}
Object.defineProperty(e, "enableStrictCheck", {
get: function() {
return this._enableStrictCheck;
},
set: function(e) {
this._enableStrictCheck = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e, "count", {
get: function() {
return this._referenceCollections.size;
},
enumerable: !1,
configurable: !0
});
e.getAllReferencePoolInfos = function() {
var e = [];
this._referenceCollections.forEach(function(t) {
e.push(new n.default(t.referenceType, t.unusedReferenceCount, t.usingReferenceCount, t.acquireReferenceCount, t.releaseReferenceCount, t.addReferenceCount, t.removeReferenceCount));
});
return e;
};
e.clearAll = function() {
this._referenceCollections.forEach(function(e) {
e.removeAll();
});
this._referenceCollections.clear();
};
e.acquire = function(e) {
return this.getReferenceCollection(e).acquire();
};
e.release = function(e) {
if (!e) throw new Error("引用无效。");
var t = e.constructor;
this.internalCheckReferenceType(t);
this.getReferenceCollection(t).release(e);
};
e.add = function(e, t) {
this.internalCheckReferenceType(e);
this.getReferenceCollection(e).add(t);
};
e.remove = function(e, t) {
this.internalCheckReferenceType(e);
this.getReferenceCollection(e).remove(t);
};
e.removeAll = function(e) {
this.internalCheckReferenceType(e);
this.getReferenceCollection(e).removeAll();
};
e.internalCheckReferenceType = function(e) {
if (this._enableStrictCheck) {
if (!e) throw new Error("引用类型无效。");
if ("function" != typeof e) throw new Error("引用类型不是有效的构造函数。");
if (!(e.prototype && e.prototype instanceof Object)) throw new Error("引用类型不是非抽象类类型。");
if ("function" != typeof e.prototype.clear) throw new Error("引用类型 '" + e.name + "' 未实现 IReference 接口的 clear 方法。");
}
};
e.getReferenceCollection = function(e) {
this.internalCheckReferenceType(e);
var t = e.gfClassName, o = this._referenceCollections.get(t);
if (!o) {
o = new r.default(e);
this._referenceCollections.set(t, o);
}
return o;
};
e._referenceCollections = new Map();
e._enableStrictCheck = !1;
return e;
}();
o.default = i;
cc._RF.pop();
}, {
"./ReferenceCollection": "ReferenceCollection",
"./ReferencePoolInfo": "ReferencePoolInfo"
} ],
ReleaseObjectFilterCallback: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "befcfTUyOpH+awKbqAGbn83", "ReleaseObjectFilterCallback");
Object.defineProperty(o, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
ResourceManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3522fP6/w9CJ4832F88I+Di", "ResourceManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../../base/base/GameFrameworkModule"), c = e("../log/DFLog"), l = e("../definition/constant/ConstantBundleEngine"), u = cc.assetManager, p = cc.director, d = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._bundleCache = new Map();
t._assetRefCount = new Map();
t._isProgressMonitoringEnabled = !0;
t._bundleCache.set(l.default.RESOURCES, u.resources);
t._defaultUpdateCallbackBound = t.defaultUpdateCallback.bind(t);
return t;
}
Object.defineProperty(t.prototype, "priority", {
get: function() {
return 70;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "Resources";
},
enumerable: !1,
configurable: !0
});
t.prototype.update = function() {};
t.prototype.shutdown = function() {
this.releaseAllAssets();
this._defaultUpdateCallbackBound = null;
this._isProgressMonitoringEnabled = null;
e.prototype.shutdown.call(this);
};
t.prototype.setProgressMonitoringEnabled = function(e) {
this._isProgressMonitoringEnabled !== e && (this._isProgressMonitoringEnabled = e);
};
t.prototype.loadAssetBundle = function(e) {
return i(this, void 0, Promise, function() {
var t = this;
return a(this, function() {
return this._bundleCache.has(e) ? [ 2, this._bundleCache.get(e) ] : [ 2, new Promise(function(o, n) {
u.loadBundle(e, function(r, i) {
if (r) {
t.handleError("加载资源包 " + e + " 失败", r);
n(r);
} else {
t._bundleCache.set(e, i);
c.default.info("加载资源包 " + e + " 加载成功.");
o(i);
}
});
}) ];
});
});
};
t.prototype.loadAsset = function(e, t, o, n, r) {
void 0 === n && (n = !1);
void 0 === r && (r = this._defaultUpdateCallbackBound);
return i(this, void 0, Promise, function() {
var i;
return a(this, function(a) {
switch (a.label) {
case 0:
return [ 4, this.ensureBundleLoaded(e, n) ];

case 1:
i = a.sent();
return [ 2, this.loadSingleAsset(i, t, o, r) ];
}
});
});
};
t.prototype.loadAssets = function(e, t, o, n, r) {
void 0 === n && (n = !1);
void 0 === r && (r = this._defaultUpdateCallbackBound);
return i(this, void 0, Promise, function() {
var i, s, c, l = this;
return a(this, function(a) {
switch (a.label) {
case 0:
return [ 4, this.ensureBundleLoaded(e, n) ];

case 1:
i = a.sent();
s = t.map(function(e) {
return l.loadSingleAsset(i, e, o, r);
});
a.label = 2;

case 2:
a.trys.push([ 2, 4, , 5 ]);
return [ 4, Promise.all(s) ];

case 3:
return [ 2, a.sent() ];

case 4:
c = a.sent();
this.handleError("加载资源 " + t + " 失败", c);
throw c;

case 5:
return [ 2 ];
}
});
});
};
t.prototype.getAsset = function(e, t, o, n) {
void 0 === n && (n = !1);
return i(this, void 0, Promise, function() {
var r, i, s, c;
return a(this, function(a) {
switch (a.label) {
case 0:
a.trys.push([ 0, 4, , 5 ]);
return [ 4, this.ensureBundleLoaded(e, n) ];

case 1:
r = a.sent();
return (i = r.get(t, o)) ? [ 3, 3 ] : [ 4, this.loadAsset(e, t, o, n) ];

case 2:
return [ 2, a.sent() ];

case 3:
if (!i) {
this.handleError("资源 [" + t + "] 未找到", new Error("资源 " + t + " 未找到"));
return [ 2, null ];
}
s = e + "/" + t;
this._assetRefCount.set(s, (this._assetRefCount.get(s) || 0) + 1);
return [ 2, i ];

case 4:
c = a.sent();
this.handleError("获取资源 " + t + " 失败", c);
return [ 2, null ];

case 5:
return [ 2 ];
}
});
});
};
t.prototype.preloadAsset = function(e, t, o, n, r) {
void 0 === n && (n = !1);
void 0 === r && (r = this._defaultUpdateCallbackBound);
return i(this, void 0, Promise, function() {
var i, s = this;
return a(this, function(a) {
switch (a.label) {
case 0:
return [ 4, this.ensureBundleLoaded(e, n) ];

case 1:
if (!(i = a.sent())) {
c.default.warn("资源包 " + e + " 未加载，无法预加载资源 " + t);
return [ 2 ];
}
return [ 2, new Promise(function(e, n) {
i.preload(t, o, r, function(t) {
if (t) {
s.handleError("预加载资源失败：" + t.message, t);
n(t);
} else e();
});
}) ];
}
});
});
};
t.prototype.loadDir = function(e, t, o, n, r) {
void 0 === n && (n = !1);
void 0 === r && (r = this._defaultUpdateCallbackBound);
return i(this, void 0, Promise, function() {
var i, s = this;
return a(this, function(a) {
switch (a.label) {
case 0:
return [ 4, this.ensureBundleLoaded(e, n) ];

case 1:
if (!(i = a.sent())) {
c.default.warn("资源包 " + e + " 未加载，无法加载目录 " + t);
return [ 2, [] ];
}
return [ 2, new Promise(function(n, a) {
i.loadDir(t, o, r, function(o, r) {
if (o) {
s.handleError("加载目录 " + t + " 失败：" + o.message, o);
a(o);
} else {
r.forEach(function(o) {
var n = e + "/" + t + "/" + o.name;
s._assetRefCount.set(n, (s._assetRefCount.get(n) || 0) + 1);
});
n(r);
}
});
}) ];
}
});
});
};
t.prototype.preloadDir = function(e, t, o, n, r) {
void 0 === n && (n = !1);
void 0 === r && (r = this._defaultUpdateCallbackBound);
return i(this, void 0, Promise, function() {
var i, s = this;
return a(this, function(a) {
switch (a.label) {
case 0:
return [ 4, this.ensureBundleLoaded(e, n) ];

case 1:
if (!(i = a.sent())) {
c.default.warn("资源包 " + e + " 未加载，无法预加载目录 " + t);
return [ 2 ];
}
return [ 2, new Promise(function(e, n) {
i.preloadDir(t, o, r, function(o) {
if (o) {
s.handleError("预加载目录 " + t + " 失败：" + o.message, o);
n(o);
} else e();
});
}) ];
}
});
});
};
t.prototype.loadScene = function(e, t, o, n) {
void 0 === o && (o = !1);
void 0 === n && (n = this._defaultUpdateCallbackBound);
return i(this, void 0, Promise, function() {
var r, i = this;
return a(this, function(a) {
switch (a.label) {
case 0:
return e !== l.default.MAIN ? [ 3, 2 ] : [ 4, this.preloadScene(e, t, o, n) ];

case 1:
a.sent();
return [ 2, new Promise(function(e, o) {
p.loadScene(t, function(n) {
if (n) {
i.handleError("加载场景 " + t + " 失败：" + n.message, n);
o(n);
} else e();
});
}) ];

case 2:
return [ 4, this.ensureBundleLoaded(e, o) ];

case 3:
if (!(r = a.sent())) {
c.default.warn("资源包 " + e + " 未加载，无法加载场景 " + t);
throw new Error("资源包 " + e + " 未加载");
}
return [ 2, new Promise(function(e, o) {
r.loadScene(t, n, function(n, r) {
if (n) {
i.handleError("加载场景 " + t + " 失败：" + n.message, n);
o(n);
} else {
cc.director.runScene(r);
e();
}
});
}) ];
}
});
});
};
t.prototype.preloadScene = function(e, t, o, n) {
void 0 === o && (o = !1);
void 0 === n && (n = this._defaultUpdateCallbackBound);
return i(this, void 0, Promise, function() {
var r, i = this;
return a(this, function(a) {
switch (a.label) {
case 0:
return e === l.default.MAIN ? [ 2, new Promise(function(e, o) {
p.preloadScene(t, n, function(n) {
if (n) {
i.handleError("预加载场景 " + t + " 失败：" + n.message, n);
o(n);
} else e();
});
}) ] : [ 4, this.ensureBundleLoaded(e, o) ];

case 1:
if (!(r = a.sent())) {
c.default.warn("资源包 " + e + " 未加载，无法预加载场景 " + t);
return [ 2 ];
}
return [ 2, new Promise(function(e, o) {
r.preloadScene(t, n, function(n) {
if (n) {
i.handleError("预加载场景 " + t + " 失败：" + n.message, n);
o(n);
} else e();
});
}) ];
}
});
});
};
t.prototype.releaseAsset = function(e, t) {
var o = this._bundleCache.get(e);
if (o) {
var n = o.get(t);
if (n) {
this.updateAssetRefCount(e, t, -1);
if (!this._assetRefCount.has(e + "/" + t)) {
u.releaseAsset(n);
c.default.info("资源 " + e + "|" + t + " 已释放");
}
} else c.default.warn("资源 " + t + " 未找到，无法释放");
} else c.default.warn("资源包 " + e + " 未加载，无法释放资源 " + t);
};
t.prototype.getAssetRefCount = function(e, t) {
var o = e + "/" + t;
return this._assetRefCount.get(o) || 0;
};
t.prototype.unloadAssetBundle = function(e) {
var t = this._bundleCache.get(e);
if (t) {
t.releaseAll();
u.removeBundle(t);
this._bundleCache.delete(e);
c.default.info("资源包 " + e + " 已释放");
} else c.default.error("资源包 " + e + " 未加载，无法释放资源");
};
t.prototype.releaseAllAssets = function() {
this._bundleCache.forEach(function(e) {
e.releaseAll();
u.removeBundle(e);
});
this._bundleCache.clear();
this._assetRefCount.clear();
c.default.info("所有资源和资源包已成功释放");
};
t.prototype.ensureBundleLoaded = function(e, t) {
return i(this, void 0, Promise, function() {
var o;
return a(this, function(n) {
switch (n.label) {
case 0:
if (this._bundleCache.has(e)) return [ 2, this._bundleCache.get(e) ];
if (!t) {
c.default.warn("资源包 " + e + " 未加载，且未设置自动加载");
return [ 2, null ];
}
n.label = 1;

case 1:
n.trys.push([ 1, 3, , 4 ]);
return [ 4, this.loadAssetBundle(e) ];

case 2:
return [ 2, n.sent() ];

case 3:
o = n.sent();
this.handleError("自动加载资源包 " + e + " 失败", o);
return [ 2, null ];

case 4:
return [ 2 ];
}
});
});
};
t.prototype.loadSingleAsset = function(e, t, o, n) {
var r = this;
return new Promise(function(i, a) {
e.load(t, o, function(e, t, o) {
null == n || n(e, t, o);
}, function(o, n) {
if (o) {
r.handleError("加载资源 " + t + " 失败", o);
a(o);
} else {
var s = e.name + "/" + t;
r._assetRefCount.set(s, (r._assetRefCount.get(s) || 0) + 1);
i(n);
}
});
});
};
t.prototype.defaultUpdateCallback = function(e, t) {
if (this._isProgressMonitoringEnabled) {
var o = e / t * 100;
c.default.info("资源加载进度: " + o.toFixed(2) + "% (" + e + "/" + t + ")");
}
};
t.prototype.updateAssetRefCount = function(e, t, o) {
var n = e + "/" + t, r = (this._assetRefCount.get(n) || 0) + o;
if (r < 0) {
c.default.error("引用计数错误：" + n + " 的引用计数变为负值");
throw new Error("引用计数错误：" + n + " 的引用计数变为负值");
}
r <= 0 ? this._assetRefCount.delete(n) : this._assetRefCount.set(n, r);
};
t.prototype.handleError = function(e, t) {
c.default.error(e + ": " + t.message, t.stack);
};
return t;
}(s.default);
o.default = d;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkModule": "GameFrameworkModule",
"../definition/constant/ConstantBundleEngine": "ConstantBundleEngine",
"../log/DFLog": "DFLog"
} ],
ResourcesComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "903d4MvXIZHcKjWu5ZdSEnS", "ResourcesComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../base/GameFrameworkComponent"), l = e("../../base/utils/GFClassUtils"), u = e("../../base/base/GameFrameworkEntry"), p = e("./ResourceManager"), d = e("../log/DFLog"), f = cc._decorator, h = f.ccclass, y = f.property, m = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.isProgressMonitoringEnabled = !0;
return t;
}
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._manager = u.default.getModule(p.default);
this._manager ? this.defaultUpdateCallbackBound = this.defaultUpdateCallback.bind(this) : console.error("Resource manager is invalid.");
};
t.prototype.start = function() {
this._manager.setProgressMonitoringEnabled(this.isProgressMonitoringEnabled);
};
t.prototype.loadAssetBundle = function(e) {
return a(this, void 0, Promise, function() {
return s(this, function() {
return [ 2, this._manager.loadAssetBundle(e) ];
});
});
};
t.prototype.loadAsset = function(e, t, o, n, r) {
void 0 === n && (n = !1);
void 0 === r && (r = this.defaultUpdateCallbackBound);
return a(this, void 0, Promise, function() {
return s(this, function() {
return [ 2, this._manager.loadAsset(e, t, o, n, r) ];
});
});
};
t.prototype.loadAssets = function(e, t, o, n, r) {
void 0 === n && (n = !1);
void 0 === r && (r = this.defaultUpdateCallbackBound);
return a(this, void 0, Promise, function() {
return s(this, function() {
return [ 2, this._manager.loadAssets(e, t, o, n, r) ];
});
});
};
t.prototype.getAsset = function(e, t, o, n) {
void 0 === n && (n = !1);
return a(this, void 0, Promise, function() {
return s(this, function() {
return [ 2, this._manager.getAsset(e, t, o, n) ];
});
});
};
t.prototype.preloadAsset = function(e, t, o, n, r) {
void 0 === n && (n = !1);
void 0 === r && (r = this.defaultUpdateCallbackBound);
return a(this, void 0, Promise, function() {
return s(this, function() {
return [ 2, this._manager.preloadAsset(e, t, o, n, r) ];
});
});
};
t.prototype.loadDir = function(e, t, o, n, r) {
void 0 === n && (n = !1);
void 0 === r && (r = this.defaultUpdateCallbackBound);
return a(this, void 0, Promise, function() {
return s(this, function() {
return [ 2, this._manager.loadDir(e, t, o, n, r) ];
});
});
};
t.prototype.preloadDir = function(e, t, o, n, r) {
void 0 === n && (n = !1);
void 0 === r && (r = this.defaultUpdateCallbackBound);
return a(this, void 0, Promise, function() {
return s(this, function() {
return [ 2, this._manager.preloadDir(e, t, o, n, r) ];
});
});
};
t.prototype.loadScene = function(e, t, o, n) {
void 0 === o && (o = !1);
void 0 === n && (n = this.defaultUpdateCallbackBound);
return a(this, void 0, Promise, function() {
return s(this, function(r) {
switch (r.label) {
case 0:
return [ 4, this._manager.loadScene(e, t, o, n) ];

case 1:
r.sent();
return [ 2 ];
}
});
});
};
t.prototype.preloadScene = function(e, t, o, n) {
void 0 === o && (o = !1);
void 0 === n && (n = this.defaultUpdateCallbackBound);
return a(this, void 0, Promise, function() {
return s(this, function() {
return [ 2, this._manager.preloadScene(e, t, o, n) ];
});
});
};
t.prototype.getAssetRefCount = function(e, t) {
return this._manager.getAssetRefCount(e, t);
};
t.prototype.releaseAsset = function(e, t) {
this._manager.releaseAsset(e, t);
};
t.prototype.unloadAssetBundle = function(e) {
this._manager.unloadAssetBundle(e);
};
t.prototype.releaseAllAssets = function() {
this._manager.releaseAllAssets();
};
t.prototype.defaultUpdateCallback = function(e, t) {
if (this.isProgressMonitoringEnabled) {
var o = e / t * 100;
d.default.info("资源加载进度: " + o.toFixed(2) + "% (" + e + "/" + t + ")");
}
};
i([ y({
visible: !0,
displayName: "全局加载进度监控开关"
}) ], t.prototype, "isProgressMonitoringEnabled", void 0);
return i([ h, l.gfClass("ResourcesComponent") ], t);
}(c.default);
o.default = m;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../log/DFLog": "DFLog",
"./ResourceManager": "ResourceManager"
} ],
RotateCircle: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ce203YaZldHH5bxKqeBRzt9", "RotateCircle");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
o.RotateCircle = void 0;
var a = cc.Component, s = cc._decorator.ccclass, c = cc._decorator.property, l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.speedCycleDuration = 2;
t.minRotateSpeed = 30;
t.maxRotateSpeed = 120;
t.scaleCycleDuration = 1.5;
t.scaleRange = .1;
t._elapsedTime = 0;
t._currentRotation = 0;
return t;
}
t.prototype.onLoad = function() {
this._elapsedTime = 0;
this._currentRotation = 0;
};
t.prototype.update = function(e) {
this._elapsedTime += e;
this.updateRotation(e);
this.updateScale(e);
};
t.prototype.updateRotation = function(e) {
var t = this.minRotateSpeed + .5 * (this.maxRotateSpeed - this.minRotateSpeed) * (1 + Math.sin(this._elapsedTime / this.speedCycleDuration * Math.PI * 2));
this._currentRotation += t * e;
this._currentRotation %= 360;
this.node.angle = this._currentRotation;
};
t.prototype.updateScale = function() {
var e = 1 - this.scaleRange * Math.abs(Math.sin(this._elapsedTime / this.scaleCycleDuration * Math.PI * 2));
this.node.scale = e;
};
i([ c({
tooltip: "旋转速度变化的周期（秒）"
}) ], t.prototype, "speedCycleDuration", void 0);
i([ c({
tooltip: "最小旋转速度（度/秒）"
}) ], t.prototype, "minRotateSpeed", void 0);
i([ c({
tooltip: "最大旋转速度（度/秒）"
}) ], t.prototype, "maxRotateSpeed", void 0);
i([ c({
tooltip: "缩放变化的周期（秒）"
}) ], t.prototype, "scaleCycleDuration", void 0);
i([ c({
tooltip: "缩放范围（最小值到最大值，最大为1）"
}) ], t.prototype, "scaleRange", void 0);
return i([ s ], t);
}(a);
o.RotateCircle = l;
cc._RF.pop();
}, {} ],
SceneComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ba425dDSLlNW5PyZpAzq6FA", "SceneComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../base/GameFrameworkComponent"), l = cc._decorator.ccclass, u = e("../log/DFLog"), p = e("../../base/utils/GFClassUtils"), d = e("../../base/base/GameFrameworkEntry"), f = e("../res/ResourceManager"), h = e("../definition/constant/ConstantBundleEngine"), y = cc._decorator.property, m = e("./SceneManager"), g = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._manager = null;
t.isProgressMonitoringEnabled = !0;
return t;
}
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._manager = d.default.getModule(m.default);
if (this._manager) {
var t = d.default.getModule(f.default);
if (t) {
this._defaultUpdateCallbackBound = this.defaultUpdateCallback.bind(this);
this._manager.setResourceManager(t);
this._manager.setProgressMonitoringEnabled(this.isProgressMonitoringEnabled);
} else console.error("Resource manager is invalid.");
} else console.error("Scene manager is invalid.");
};
t.prototype.loadScene = function(e, t, o, n) {
return a(this, void 0, Promise, function() {
return s(this, function() {
return "function" == typeof t ? [ 2, this._manager.loadScene(h.default.MAIN, e, !1, t) ] : "string" == typeof t && "boolean" == typeof o && "function" == typeof n ? [ 2, this._manager.loadScene(e, t, o, n) ] : "string" == typeof t && "boolean" == typeof o ? [ 2, this._manager.loadScene(e, t, o, this._defaultUpdateCallbackBound) ] : [ 2, this._manager.loadScene(h.default.MAIN, e, !1, this._defaultUpdateCallbackBound) ];
});
});
};
t.prototype.preloadScene = function(e, t, o, n) {
return a(this, void 0, Promise, function() {
return s(this, function() {
return "function" == typeof t ? [ 2, this._manager.preloadScene(h.default.MAIN, e, !1, t) ] : "string" == typeof t && "boolean" == typeof o && "function" == typeof n ? [ 2, this._manager.preloadScene(e, t, o, n) ] : "string" == typeof t && "boolean" == typeof o ? [ 2, this._manager.preloadScene(e, t, o, this._defaultUpdateCallbackBound) ] : [ 2, this._manager.preloadScene(h.default.MAIN, e, !1, this._defaultUpdateCallbackBound) ];
});
});
};
t.prototype.defaultUpdateCallback = function(e, t) {
if (this.isProgressMonitoringEnabled) {
var o = e / t * 100;
u.default.info("场景加载进度: " + o.toFixed(2) + "% (" + e + "/" + t + ")");
}
};
i([ y({
visible: !0,
displayName: "全局加载进度监控开关"
}) ], t.prototype, "isProgressMonitoringEnabled", void 0);
return i([ l, p.gfClass("SceneComponent") ], t);
}(c.default);
o.default = g;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../definition/constant/ConstantBundleEngine": "ConstantBundleEngine",
"../log/DFLog": "DFLog",
"../res/ResourceManager": "ResourceManager",
"./SceneManager": "SceneManager"
} ],
SceneManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3a6deEdWYhJwaminR5UuopJ", "SceneManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../../base/base/GameFrameworkModule"), c = e("../definition/constant/ConstantBundleEngine"), l = e("../log/DFLog"), u = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._resourceManager = null;
t._isProgressMonitoringEnabled = !0;
t._defaultUpdateCallbackBound = t.defaultUpdateCallback.bind(t);
return t;
}
Object.defineProperty(t.prototype, "priority", {
get: function() {
return 60;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "Scene";
},
enumerable: !1,
configurable: !0
});
t.prototype.update = function() {};
t.prototype.shutdown = function() {
this._resourceManager = null;
this._defaultUpdateCallbackBound = null;
this._isProgressMonitoringEnabled = null;
e.prototype.shutdown.call(this);
};
t.prototype.setProgressMonitoringEnabled = function(e) {
this._isProgressMonitoringEnabled !== e && (this._isProgressMonitoringEnabled = e);
};
t.prototype.setResourceManager = function(e) {
this._resourceManager = e;
};
t.prototype.loadScene = function(e, t, o, n) {
return i(this, void 0, Promise, function() {
return a(this, function() {
return "function" == typeof t ? [ 2, this.loadSceneInternal(c.default.MAIN, e, !1, t) ] : "string" == typeof t && "boolean" == typeof o && "function" == typeof n ? [ 2, this.loadSceneInternal(e, t, o, n) ] : "string" == typeof t && "boolean" == typeof o ? [ 2, this.loadSceneInternal(e, t, o, this._defaultUpdateCallbackBound) ] : [ 2, this.loadSceneInternal(c.default.MAIN, e, !1, this._defaultUpdateCallbackBound) ];
});
});
};
t.prototype.preloadScene = function(e, t, o, n) {
return i(this, void 0, Promise, function() {
return a(this, function() {
return "function" == typeof t ? [ 2, this.preloadSceneInternal(c.default.MAIN, e, !1, t) ] : "string" == typeof t && "boolean" == typeof o && "function" == typeof n ? [ 2, this.preloadSceneInternal(e, t, o, n) ] : "string" == typeof t && "boolean" == typeof o ? [ 2, this.preloadSceneInternal(e, t, o, this._defaultUpdateCallbackBound) ] : [ 2, this.preloadSceneInternal(c.default.MAIN, e, !1, this._defaultUpdateCallbackBound) ];
});
});
};
t.prototype.loadSceneInternal = function(e, t, o, n) {
return i(this, void 0, Promise, function() {
return a(this, function(r) {
switch (r.label) {
case 0:
return [ 4, this._resourceManager.loadScene(e, t, o, n) ];

case 1:
r.sent();
return [ 2 ];
}
});
});
};
t.prototype.preloadSceneInternal = function(e, t, o, n) {
return i(this, void 0, Promise, function() {
return a(this, function(r) {
switch (r.label) {
case 0:
return [ 4, this._resourceManager.preloadScene(e, t, o, n) ];

case 1:
r.sent();
return [ 2 ];
}
});
});
};
t.prototype.defaultUpdateCallback = function(e, t) {
if (this._isProgressMonitoringEnabled) {
var o = e / t * 100;
l.default.info("场景加载进度: " + o.toFixed(2) + "% (" + e + "/" + t + ")");
}
};
return t;
}(s.default);
o.default = u;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkModule": "GameFrameworkModule",
"../definition/constant/ConstantBundleEngine": "ConstantBundleEngine",
"../log/DFLog": "DFLog"
} ],
ScrollMsg: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0e6eb07gOpDPqlpg49sZaei", "ScrollMsg");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s, c = cc._decorator, l = c.ccclass, u = c.property;
!function(e) {
e[e.LEFT_TO_RIGHT = 1] = "LEFT_TO_RIGHT", e[e.RIGHT_TO_LEFT = 2] = "RIGHT_TO_LEFT";
}(s = s || {});
var p = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.label = null, t.maskNode = null, t.m_speed = 100, t.m_xLeftEnd = 0, t.m_xRightEnd = 0, 
t.m_yPos = 0, t.m_direction = s.LEFT_TO_RIGHT, t;
}
return i(t, e), t.prototype.start = function() {}, t.prototype.showMsg = function(e) {
this.label.string = e.msg, this.m_xRightEnd = this.node.x + this.maskNode.node.width * this.maskNode.node.anchorX, 
this.m_xLeftEnd = this.node.x - this.maskNode.node.width * this.maskNode.node.anchorX;
e = this.label.node.getContentSize(), e = this.m_direction === s.LEFT_TO_RIGHT ? this.m_xLeftEnd - e.width : this.m_xRightEnd;
this.label.node.x = e, this.label.node.y = this.m_yPos;
}, t.prototype.update = function(e) {
var t;
this.m_direction === s.LEFT_TO_RIGHT ? (t = this.label.node.getContentSize(), this.label.node.x >= this.m_xRightEnd && (this.label.node.x = this.m_xLeftEnd - t.width), 
this.label.node.x += this.m_speed * e) : (t = this.label.node.getContentSize(), 
this.label.node.x <= this.m_xLeftEnd - t.width && (this.label.node.x = this.m_xRightEnd), 
this.label.node.x -= this.m_speed * e);
}, a([ u(cc.Label) ], t.prototype, "label", void 0), a([ u(cc.Mask) ], t.prototype, "maskNode", void 0), 
a([ u({
tooltip: "每秒移动多少像素"
}) ], t.prototype, "m_speed", void 0), a([ u({
tooltip: "文字滚动的方向，1是从左到右，2是从右到左"
}) ], t.prototype, "m_direction", void 0), a([ l ], t);
}(cc.Component);
r.default = p;
cc._RF.pop();
}, {} ],
SettingComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2fb34FyAy9GCYL8R+fmlc+0", "SettingComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../base/GameFrameworkComponent"), s = cc._decorator.property, c = e("../../base/base/GameFrameworkEntry"), l = e("../../base/setting/SettingManager"), u = e("../log/DFLog"), p = cc._decorator.ccclass, d = e("../../base/utils/GFClassUtils"), f = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._settingManager = null;
t._settingHelperTypeName = "LocalStorageCcHelper";
t._encryptionEnabled = !1;
t._clearData = !1;
t._customSettingHelper = null;
return t;
}
Object.defineProperty(t.prototype, "count", {
get: function() {
return this._settingManager.count;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "encryptionEnabled", {
get: function() {
return this._settingManager.encryptionEnabled;
},
enumerable: !1,
configurable: !0
});
t.prototype.setEncryptionEnabled = function(e) {
this._settingManager.setEncryptionEnabled(e);
};
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._settingManager = c.default.getModule(l.default);
if (this._settingManager) {
var t = d.default.createInstance(this._settingHelperTypeName);
this._settingManager.setSettingHelper(t);
u.default.debug("设置模块 - 数据加密状态：" + this._encryptionEnabled);
this._settingManager.setEncryptionEnabled(this._encryptionEnabled);
} else u.default.error("Setting manager is invalid.");
};
t.prototype.start = function() {
this._settingManager.load() || u.default.error("Load settings failure.");
if (this._clearData) {
u.default.debug("清空所有数据");
this.removeAllSettings();
}
};
t.prototype.save = function() {
this._settingManager.save();
};
t.prototype.getAllSettingNames = function() {
return this._settingManager.getAllSettingNames();
};
t.prototype.hasSetting = function(e) {
return this._settingManager.hasSetting(e);
};
t.prototype.removeSetting = function(e) {
this._settingManager.removeSetting(e);
};
t.prototype.removeAllSettings = function() {
this._settingManager.removeAllSettings();
};
t.prototype.getBool = function(e, t) {
return void 0 === t ? this._settingManager.getBool(e) : this._settingManager.getBool(e, t);
};
t.prototype.getInt = function(e, t) {
return void 0 === t ? this._settingManager.getInt(e) : this._settingManager.getInt(e, t);
};
t.prototype.getFloat = function(e, t) {
return void 0 === t ? this._settingManager.getFloat(e) : this._settingManager.getFloat(e, t);
};
t.prototype.getString = function(e, t) {
return void 0 === t ? this._settingManager.getString(e) : this._settingManager.getString(e, t);
};
t.prototype.getObject = function(e, t, o) {
return void 0 === o ? this._settingManager.getObject(e, t) : this._settingManager.getObject(e, t, o);
};
t.prototype.setBool = function(e, t) {
this._settingManager.setBool(e, t);
};
t.prototype.setInt = function(e, t) {
this._settingManager.setInt(e, t);
};
t.prototype.setFloat = function(e, t) {
this._settingManager.setFloat(e, t);
};
t.prototype.setString = function(e, t) {
this._settingManager.setString(e, t);
};
t.prototype.setObject = function(e, t) {
this._settingManager.setObject(e, t);
};
i([ s({
visible: !1,
tooltip: "设置辅助器类名",
readonly: !0
}) ], t.prototype, "_settingHelperTypeName", void 0);
i([ s({
visible: !1,
tooltip: "开启数据加密"
}) ], t.prototype, "_encryptionEnabled", void 0);
i([ s({
visible: !0,
tooltip: "清空本地数据"
}) ], t.prototype, "_clearData", void 0);
return i([ p, d.gfClass("SettingComponent") ], t);
}(a.default);
o.default = f;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/setting/SettingManager": "SettingManager",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../log/DFLog": "DFLog"
} ],
SettingHelperBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2356bmcv5VIEqTcvYBOMV/Y", "SettingHelperBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return t;
}(cc.Component);
o.default = i;
cc._RF.pop();
}, {} ],
SettingManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d399ajSOKBOYabVTiWMFt1w", "SettingManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._settingHelper = null;
return t;
}
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "Setting";
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "encryptionEnabled", {
get: function() {
return this._settingHelper.encryptionEnabled;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "count", {
get: function() {
return this._settingHelper.count;
},
enumerable: !1,
configurable: !0
});
t.prototype.update = function() {};
t.prototype.shutdown = function() {
this.save();
e.prototype.shutdown.call(this);
};
t.prototype.setSettingHelper = function(e) {
if (!e) throw new Error("Setting helper is invalid.");
window.oiweur2_ = "霖峩颻棇缼纵禿拧李阱儁厝";
this._settingHelper = e;
};
t.prototype.setEncryptionEnabled = function(e) {
this._settingHelper.encryptionEnabled != e && this._settingHelper.setEncryptionEnabled(e);
};
t.prototype.load = function() {
return this._settingHelper.load();
};
t.prototype.save = function() {
return this._settingHelper.save();
};
t.prototype.getAllSettingNames = function() {
return this._settingHelper.getAllSettingNames();
};
t.prototype.hasSetting = function(e) {
if (!e) throw new Error("Setting name is invalid.");
return this._settingHelper.hasSetting(e);
};
t.prototype.removeSetting = function(e) {
if (!e) throw new Error("Setting name is invalid.");
return this._settingHelper.removeSetting(e);
};
t.prototype.removeAllSettings = function() {
this._settingHelper.removeAllSettings();
};
t.prototype.getBool = function(e, t) {
if (!e) throw new Error("Setting name is invalid.");
return void 0 === t ? this._settingHelper.getBool(e) : this._settingHelper.getBool(e, t);
};
t.prototype.setBool = function(e, t) {
if (!e) throw new Error("Setting name is invalid.");
this._settingHelper.setBool(e, t);
};
t.prototype.getInt = function(e, t) {
if (!e) throw new Error("Setting name is invalid.");
return void 0 === t ? this._settingHelper.getInt(e) : this._settingHelper.getInt(e, t);
};
t.prototype.setInt = function(e, t) {
if (!e) throw new Error("Setting name is invalid.");
this._settingHelper.setInt(e, t);
};
t.prototype.getFloat = function(e, t) {
if (!e) throw new Error("Setting name is invalid.");
return void 0 === t ? this._settingHelper.getFloat(e) : this._settingHelper.getFloat(e, t);
};
t.prototype.setFloat = function(e, t) {
if (!e) throw new Error("Setting name is invalid.");
this._settingHelper.setFloat(e, t);
};
t.prototype.getString = function(e, t) {
if (!e) throw new Error("Setting name is invalid.");
return void 0 === t ? this._settingHelper.getString(e) : this._settingHelper.getString(e, t);
};
t.prototype.setString = function(e, t) {
if (!e) throw new Error("Setting name is invalid.");
this._settingHelper.setString(e, t);
};
t.prototype.getObject = function(e, t, o) {
if (!e) throw new Error("Object type is invalid.");
if (!t) throw new Error("Setting name is invalid.");
return void 0 === o ? this._settingHelper.getObject(e, t) : this._settingHelper.getObject(e, t, o);
};
t.prototype.setObject = function(e, t) {
if (!e) throw new Error("Setting name is invalid.");
this._settingHelper.setObject(e, t);
};
return t;
}(e("../base/GameFrameworkModule").default);
o.default = i;
cc._RF.pop();
}, {
"../base/GameFrameworkModule": "GameFrameworkModule"
} ],
ShutdownType: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a2397jsF5tHd5WwV64KMTC4", "ShutdownType");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.ShutdownType = void 0;
(function(e) {
e[e.None = 0] = "None";
e[e.Restart = 1] = "Restart";
e[e.Quit = 2] = "Quit";
})(o.ShutdownType || (o.ShutdownType = {}));
cc._RF.pop();
}, {} ],
SoundAgentHelperBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e6e1aBS15pJfYyaocGieC6b", "SoundAgentHelperBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc._decorator.ccclass, s = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return i([ a ], t);
}(cc.Component);
o.default = s;
cc._RF.pop();
}, {} ],
SoundAgent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0060cjP7RJGtKwHd2mzR+0l", "SoundAgent");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("./ConstantSoundGF"), r = function() {
function e(e, t, o) {
if (!e) throw new Error("Sound group is invalid.");
if (!t) throw new Error("Sound helper is invalid.");
if (!o) throw new Error("Sound agent helper is invalid.");
this._soundGroup = e;
this._soundHelper = t;
this._soundAgentHelper = o;
this._soundAgentHelper.resetSoundAgent = this.onResetSoundAgent.bind(this);
this._serialId = 0;
this._soundAssetBundleName = null;
this.reset();
}
Object.defineProperty(e.prototype, "soundGroup", {
get: function() {
return this._soundGroup;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "serialId", {
get: function() {
return this._serialId;
},
set: function(e) {
this._serialId = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "isPlaying", {
get: function() {
return this._soundAgentHelper.isPlaying;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "length", {
get: function() {
return this._soundAgentHelper.length;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "time", {
get: function() {
return this._soundAgentHelper.time;
},
set: function(e) {
this._soundAgentHelper.time = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "mute", {
get: function() {
return this._soundAgentHelper.mute;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "muteInSoundGroup", {
get: function() {
return this._muteInSoundGroup;
},
set: function(e) {
this._muteInSoundGroup = e;
this.refreshMute();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "loop", {
get: function() {
return this._soundAgentHelper.loop;
},
set: function(e) {
this._soundAgentHelper.loop = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "priority", {
get: function() {
return this._soundAgentHelper.priority;
},
set: function(e) {
this._soundAgentHelper.priority = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "volume", {
get: function() {
return this._soundAgentHelper.volume;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "volumeInSoundGroup", {
get: function() {
return this._volumeInSoundGroup;
},
set: function(e) {
this._volumeInSoundGroup = e;
this.refreshVolume();
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "pitch", {
get: function() {
return this._soundAgentHelper.pitch;
},
set: function(e) {
this._soundAgentHelper.pitch = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "panStereo", {
get: function() {
return this._soundAgentHelper.panStereo;
},
set: function(e) {
this._soundAgentHelper.panStereo = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "spatialBlend", {
get: function() {
return this._soundAgentHelper.spatialBlend;
},
set: function(e) {
this._soundAgentHelper.spatialBlend = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "maxDistance", {
get: function() {
return this._soundAgentHelper.maxDistance;
},
set: function(e) {
this._soundAgentHelper.maxDistance = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "dopplerLevel", {
get: function() {
return this._soundAgentHelper.dopplerLevel;
},
set: function(e) {
this._soundAgentHelper.dopplerLevel = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "helper", {
get: function() {
return this._soundAgentHelper;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "setSoundAssetTime", {
get: function() {
return this._setSoundAssetTime;
},
enumerable: !1,
configurable: !0
});
e.prototype.play = function(e) {
void 0 === e ? this._soundAgentHelper.play(n.default.defaultFadeInSeconds) : this._soundAgentHelper.play(e);
};
e.prototype.stop = function(e) {
void 0 === e ? this._soundAgentHelper.stop(n.default.defaultFadeOutSeconds) : this._soundAgentHelper.stop(e);
};
e.prototype.pause = function(e) {
void 0 === e ? this._soundAgentHelper.pause(n.default.defaultFadeOutSeconds) : this._soundAgentHelper.pause(e);
};
e.prototype.resume = function(e) {
void 0 === e ? this._soundAgentHelper.resume(n.default.defaultFadeInSeconds) : this._soundAgentHelper.resume(e);
};
e.prototype.reset = function() {
if (this._soundAssetBundleName) {
this._soundAssetBundleName = null;
this._soundAssetPathInBundle = null;
}
this._setSoundAssetTime = new Date(0);
this.time = n.default.defaultTime;
this.muteInSoundGroup = n.default.defaultMute;
this.loop = n.default.defaultLoop;
this.priority = n.default.defaultPriority;
this.volumeInSoundGroup = n.default.defaultVolume;
this.pitch = n.default.defaultPitch;
this.panStereo = n.default.defaultPanStereo;
this.spatialBlend = n.default.defaultSpatialBlend;
this.maxDistance = n.default.defaultMaxDistance;
this.dopplerLevel = n.default.defaultDopplerLevel;
this._soundAgentHelper.reset();
};
e.prototype.setSoundAsset = function(e, t, o) {
this.reset();
this._setSoundAssetTime = new Date();
this._soundAssetBundleName = e;
this._soundAssetPathInBundle = t;
return this._soundAgentHelper.setSoundAsset(e, t, o);
};
e.prototype.refreshMute = function() {
this._soundAgentHelper.mute = this._soundGroup.mute || this._muteInSoundGroup;
};
e.prototype.refreshVolume = function() {
this._soundAgentHelper.volume = this._soundGroup.volume * this._volumeInSoundGroup;
};
e.prototype.onResetSoundAgent = function() {
this.reset();
};
return e;
}();
o.default = r;
cc._RF.pop();
}, {
"./ConstantSoundGF": "ConstantSoundGF"
} ],
SoundComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "77b28nLW7hLhqZUvXAgg9TQ", "SoundComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../base/GameFrameworkComponent"), l = e("../../base/utils/GFClassUtils"), u = e("./SoundGroup"), p = cc.Node, d = e("../../base/base/GameFrameworkEntry"), f = e("../../base/sound/SoundManager"), h = e("../res/ResourceManager"), y = e("../utils/ComponentHelper"), m = e("./DefaultSoundHelper"), g = cc.Vec3, b = e("../../base/sound/PlaySoundParams"), v = e("./DefaultSoundAgentHelper"), _ = e("../log/DFLog"), w = e("./DefaultSoundGroupHelper"), N = e("../../../../gameMain/scripts/dataTable/DRMusic"), P = e("../../../../gameMain/scripts/utils/AssetUtility"), A = e("../definition/constant/ConstantEngineAssetPriority"), S = e("../../../../gameMain/scripts/dataTable/DRSound"), C = e("../../../../gameMain/scripts/dataTable/DRUISound"), O = e("../../base/utils/StringUtility"), D = e("../../../../gameMain/scripts/definition/constant/ConstantSetting"), I = e("../../../../gameMain/scripts/definition/constant/ConstantSound"), k = cc._decorator, F = k.ccclass, E = k.property, R = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._manager = null;
t._instanceRoot = null;
t.fadeVolumeDuration = 1;
t._soundGroups = [];
t._musicSerialId = null;
return t;
}
Object.defineProperty(t.prototype, "soundGroupCount", {
get: function() {
return this._manager.soundGroupCount;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._manager = d.default.getModule(f.default);
this._manager || console.error("Sound manager is invalid.");
};
t.prototype.start = function() {
this._manager.setResourceManager(d.default.getModule(h.default));
var e = y.default.createHelper(m.default);
e.node.name = "Sound Helper";
e.node.setParent(this.node);
e.node.setScale(g.ONE.clone());
this._manager.setSoundHelper(e);
if (!this._instanceRoot) {
this._instanceRoot = new p("Sound Instances");
this._instanceRoot.setParent(this.node);
this._instanceRoot.setScale(g.ONE.clone());
}
for (var t = 0; t < this._soundGroups.length; t++) this.addSoundGroup(this._soundGroups[t].name, this._soundGroups[t].avoidBeingReplacedBySamePriority, this._soundGroups[t].mute, this._soundGroups[t].volume, this._soundGroups[t].agentHelperCount) || _.default.warn("Add sound group '" + this._soundGroups[t].name + "' failure.");
};
t.prototype.hasSoundGroup = function(e) {
return this._manager.hasSoundGroup(e);
};
t.prototype.getSoundGroup = function(e) {
return this._manager.getSoundGroup(e);
};
t.prototype.getAllSoundGroups = function() {
return this._manager.getAllSoundGroups();
};
t.prototype.addSoundGroup = function(e, t, o, n, r) {
return "boolean" == typeof t ? this.addSoundGroupInternal(e, t, o, n, r) : this.addSoundGroupInternal(e, !1, !1, 1, t);
};
t.prototype.getAllLoadingSoundSerialIds = function() {
return this._manager.getAllLoadingSoundSerialIds();
};
t.prototype.isLoadingSound = function(e) {
return this._manager.isLoadingSound(e);
};
t.prototype.playMusic = function(e, t, o) {
return a(this, void 0, Promise, function() {
var n, r, i;
return s(this, function(a) {
switch (a.label) {
case 0:
this.stopMusic();
if (!(n = window.GameEntryDF.dataTable.getDataTableRow(N.default, e))) {
_.default.warn("Can not load music '" + e + "' from data table.");
return [ 2, -1 ];
}
(r = b.PlaySoundParams.create()).priority = 64;
r.loop = !0;
r.volumeInSoundGroup = 1;
r.fadeInSeconds = this.fadeVolumeDuration;
i = this;
return [ 4, this.playSound(P.default.getMusicAsset(n.assetName, t), I.default.SOUND_GROUP_MUSIC, A.default.MusicAsset, r, o) ];

case 1:
i._musicSerialId = a.sent();
return [ 2, this._musicSerialId ];
}
});
});
};
t.prototype.pauseMusic = function() {
this._musicSerialId && this.pauseSound(this._musicSerialId);
};
t.prototype.resumeMusic = function() {
this._musicSerialId && this.resumeSound(this._musicSerialId);
};
t.prototype.stopMusic = function() {
if (this._musicSerialId) {
this.stopSound(this._musicSerialId, this.fadeVolumeDuration);
this._musicSerialId = null;
}
};
t.prototype.playUiSound = function(e, t, o) {
return a(this, void 0, Promise, function() {
var n, r;
return s(this, function(i) {
switch (i.label) {
case 0:
if (!(n = window.GameEntryDF.dataTable.getDataTableRow(C.default, e))) {
_.default.warn("Can not load UISound '" + e + "' from data table.");
return [ 2, -1 ];
}
(r = b.PlaySoundParams.create()).priority = n.priority;
r.loop = !1;
r.volumeInSoundGroup = n.volume;
return [ 4, this.playSound(P.default.getUiSoundAsset(n.assetName, t), I.default.SOUND_GROUP_UI_SOUND, A.default.UISoundAsset, r, o) ];

case 1:
return [ 2, i.sent() ];
}
});
});
};
t.prototype.playSound = function(e, t, o, n, r) {
return a(this, void 0, Promise, function() {
var i, a;
return s(this, function(s) {
switch (s.label) {
case 0:
if ("number" != typeof e) return [ 3, 2 ];
if (!(i = window.GameEntryDF.dataTable.getDataTableRow(S.default, e))) {
_.default.warn("Can not load sound '" + e + "' from data table.");
return [ 2, -1 ];
}
(a = b.PlaySoundParams.create()).priority = i.priority;
a.loop = i.loop;
a.volumeInSoundGroup = i.volume;
return [ 4, this.playSound(P.default.getSoundAsset(i.assetName, t), I.default.SOUND_GROUP_SOUND, A.default.SoundAsset, a, r) ];

case 1:
return [ 2, s.sent() ];

case 2:
return r ? [ 2, this._manager.playSound(e, t, o, n, r) ] : n ? ("number" == typeof o && b.PlaySoundParams, 
[ 2, this._manager.playSound(e, t, o, n) ]) : o ? "number" == typeof o ? [ 2, this._manager.playSound(e, t, o) ] : (b.PlaySoundParams, 
[ 2, this._manager.playSound(e, t, o) ]) : [ 2, this._manager.playSound(e, t) ];

case 3:
return [ 2 ];
}
});
});
};
t.prototype.stopSound = function(e, t) {
return t ? this._manager.stopSound(e, t) : this._manager.stopSound(e);
};
t.prototype.stopAllLoadedSounds = function(e) {
e && this._manager.stopAllLoadedSounds(e);
this._manager.stopAllLoadedSounds();
};
t.prototype.stopAllLoadingSounds = function() {
this._manager.stopAllLoadingSounds();
};
t.prototype.pauseSound = function(e, t) {
t && this._manager.pauseSound(e, t);
this._manager.pauseSound(e);
};
t.prototype.resumeSound = function(e, t) {
t && this._manager.resumeSound(e, t);
this._manager.resumeSound(e);
};
t.prototype.isMuted = function(e) {
if (O.default.isNullOrEmpty(e)) {
_.default.warn("Sound group is invalid.");
return !0;
}
var t = this.getSoundGroup(e);
if (!t) {
_.default.warn("Sound group '" + e + "' is invalid.");
return !0;
}
return t.mute;
};
t.prototype.mute = function(e, t) {
if (O.default.isNullOrEmpty(e)) _.default.warn("Sound group is invalid."); else {
var o = this.getSoundGroup(e);
if (o) {
o.mute = t;
window.GameEntryDF.setting.setBool("" + D.default.soundGroupMuted + e, t);
} else _.default.warn("Sound group '" + e + "' is invalid.");
}
};
t.prototype.getVolume = function(e) {
if (O.default.isNullOrEmpty(e)) {
_.default.warn("Sound group is invalid.");
return 0;
}
var t = this.getSoundGroup(e);
if (!t) {
_.default.warn("Sound group '" + e + "' is invalid.");
return 0;
}
return t.volume;
};
t.prototype.setVolume = function(e, t) {
if (O.default.isNullOrEmpty(e)) _.default.warn("Sound group is invalid."); else {
var o = this.getSoundGroup(e);
if (o) {
o.volume = t;
window.GameEntryDF.setting.setFloat("" + D.default.soundGroupVolume + e, t);
} else _.default.warn("Sound group '" + e + "' is invalid.");
}
};
t.prototype.addSoundGroupInternal = function(e, t, o, n, r) {
if (this._manager.hasSoundGroup(e)) return !1;
var i = y.default.createHelper(w.default);
if (!i) {
_.default.error("Can not create sound group helper.");
return !1;
}
i.node.name = "Sound Group - " + e;
i.node.setParent(this._instanceRoot);
i.node.setScale(g.ONE.clone());
if (!this._manager.addSoundGroup(e, t, o, n, i)) return !1;
for (var a = 0; a < r; a++) if (!this.addSoundAgentHelper(e, i, a)) return !1;
return !0;
};
t.prototype.addSoundAgentHelper = function(e, t, o) {
var n = y.default.createHelper(v.default);
if (!n) {
_.default.error("Can not create sound agent helper.");
return !1;
}
n.node.name = "Sound Agent Helper - " + e + " - " + o;
n.node.setParent(t.node);
n.node.setScale(g.ONE.clone());
this._manager.addSoundAgentHelper(e, n);
return !0;
};
i([ E({
type: p,
displayName: "根节点"
}) ], t.prototype, "_instanceRoot", void 0);
i([ E({
displayName: "BGM淡入时间(秒)",
tooltip: "BGM淡入时间(秒)",
visible: !0
}) ], t.prototype, "fadeVolumeDuration", void 0);
i([ E({
type: [ u.default ],
tooltip: "声音组",
visible: !0
}) ], t.prototype, "_soundGroups", void 0);
return i([ F, l.gfClass("SoundComponent") ], t);
}(c.default);
o.default = R;
cc._RF.pop();
}, {
"../../../../gameMain/scripts/dataTable/DRMusic": "DRMusic",
"../../../../gameMain/scripts/dataTable/DRSound": "DRSound",
"../../../../gameMain/scripts/dataTable/DRUISound": "DRUISound",
"../../../../gameMain/scripts/definition/constant/ConstantSetting": "ConstantSetting",
"../../../../gameMain/scripts/definition/constant/ConstantSound": "ConstantSound",
"../../../../gameMain/scripts/utils/AssetUtility": "AssetUtility",
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/sound/PlaySoundParams": "PlaySoundParams",
"../../base/sound/SoundManager": "SoundManager",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../../base/utils/StringUtility": "StringUtility",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../definition/constant/ConstantEngineAssetPriority": "ConstantEngineAssetPriority",
"../log/DFLog": "DFLog",
"../res/ResourceManager": "ResourceManager",
"../utils/ComponentHelper": "ComponentHelper",
"./DefaultSoundAgentHelper": "DefaultSoundAgentHelper",
"./DefaultSoundGroupHelper": "DefaultSoundGroupHelper",
"./DefaultSoundHelper": "DefaultSoundHelper",
"./SoundGroup": "SoundGroup"
} ],
SoundGroupGF: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "41caaLwKwJOUKo/EaFli/1u", "SoundGroupGF");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("./SoundAgent"), r = e("./PlaySoundErrorCode"), i = function() {
function e(e, t) {
this._name = e;
this._soundGroupHelper = t;
this._soundAgents = [];
}
Object.defineProperty(e.prototype, "name", {
get: function() {
return this._name;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "soundAgentCount", {
get: function() {
return this._soundAgents.length;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "avoidBeingReplacedBySamePriority", {
get: function() {
return this._avoidBeingReplacedBySamePriority;
},
set: function(e) {
this._avoidBeingReplacedBySamePriority = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "mute", {
get: function() {
return this._mute;
},
set: function(e) {
this._mute = e;
this._soundAgents.forEach(function(e) {
return e.refreshMute();
});
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "volume", {
get: function() {
return this._volume;
},
set: function(e) {
this._volume = e;
this._soundAgents.forEach(function(e) {
return e.refreshVolume();
});
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "helper", {
get: function() {
return this._soundGroupHelper;
},
enumerable: !1,
configurable: !0
});
e.prototype.addSoundAgentHelper = function(e, t) {
this._soundAgents.push(new n.default(this, e, t));
};
e.prototype.playSound = function(e, t, o, n, i) {
for (var a = null, s = 0, c = this._soundAgents; s < c.length; s++) {
var l = c[s];
if (!l.isPlaying) {
a = l;
break;
}
l.priority < i.priority ? (!a || l.priority < a.priority) && (a = l) : this._avoidBeingReplacedBySamePriority || l.priority !== i.priority || (!a || l.setSoundAssetTime < a.setSoundAssetTime) && (a = l);
}
if (!a) {
r.PlaySoundErrorCode.ignoredDueToLowPriority;
return null;
}
if (!a.setSoundAsset(t, o, n)) {
r.PlaySoundErrorCode.setSoundAssetFailure;
return null;
}
a.serialId = e;
a.time = i.time;
a.muteInSoundGroup = i.muteInSoundGroup;
a.loop = i.loop;
a.priority = i.priority;
a.volumeInSoundGroup = i.volumeInSoundGroup;
a.pitch = i.pitch;
a.panStereo = i.panStereo;
a.spatialBlend = i.spatialBlend;
a.maxDistance = i.maxDistance;
a.dopplerLevel = i.dopplerLevel;
a.play(i.fadeInSeconds);
return a;
};
e.prototype.stopSound = function(e, t) {
for (var o = 0, n = this._soundAgents; o < n.length; o++) {
var r = n[o];
if (r.serialId === e) {
r.stop(t);
return !0;
}
}
return !1;
};
e.prototype.pauseSound = function(e, t) {
for (var o = 0, n = this._soundAgents; o < n.length; o++) {
var r = n[o];
if (r.serialId === e) {
r.pause(t);
return !0;
}
}
return !1;
};
e.prototype.resumeSound = function(e, t) {
for (var o = 0, n = this._soundAgents; o < n.length; o++) {
var r = n[o];
if (r.serialId === e) {
r.resume(t);
return !0;
}
}
return !1;
};
e.prototype.stopAllLoadedSounds = function(e) {
e ? this._soundAgents.forEach(function(t) {
t.isPlaying && t.stop(e);
}) : this._soundAgents.forEach(function(e) {
e.isPlaying && e.stop();
});
};
return e;
}();
o.default = i;
cc._RF.pop();
}, {
"./PlaySoundErrorCode": "PlaySoundErrorCode",
"./SoundAgent": "SoundAgent"
} ],
SoundGroupHelperBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3cd8fCt1ixFWpyFLWMUMRkH", "SoundGroupHelperBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc._decorator.ccclass, s = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return i([ a ], t);
}(cc.Component);
o.default = s;
cc._RF.pop();
}, {} ],
SoundGroup: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cacccDs9r1HX7zLKNipKo02", "SoundGroup");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator.ccclass, i = cc._decorator.property, a = function() {
function e() {
this._name = "";
this._avoidBeingReplacedBySamePriority = !1;
this._mute = !1;
this._volume = 1;
this._agentHelperCount = 1;
}
Object.defineProperty(e.prototype, "name", {
get: function() {
return this._name;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "avoidBeingReplacedBySamePriority", {
get: function() {
return this._avoidBeingReplacedBySamePriority;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "mute", {
get: function() {
return this._mute;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "volume", {
get: function() {
return this._volume;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "agentHelperCount", {
get: function() {
return this._agentHelperCount;
},
enumerable: !1,
configurable: !0
});
n([ i({
visible: !0,
displayName: "名称",
tooltip: "资源组名称"
}) ], e.prototype, "_name", void 0);
n([ i({
visible: !0,
displayName: "是否避免被同优先级声音替换",
tooltip: "声音是否避免被同优先级声音替换"
}) ], e.prototype, "_avoidBeingReplacedBySamePriority", void 0);
n([ i({
visible: !0,
displayName: "是否静音"
}) ], e.prototype, "_mute", void 0);
n([ i({
type: cc.Float,
min: 0,
max: 1,
visible: !0,
displayName: "音量"
}) ], e.prototype, "_volume", void 0);
n([ i({
type: cc.Integer,
min: 1,
max: 99,
visible: !0,
displayName: "代理辅助器数量"
}) ], e.prototype, "_agentHelperCount", void 0);
return n([ r("SoundGroup") ], e);
}();
o.default = a;
cc._RF.pop();
}, {} ],
SoundHelperBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fd193NIooxL2rsWyd8VALxZ", "SoundHelperBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc._decorator.ccclass, s = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return i([ a ], t);
}(cc.Component);
o.default = s;
cc._RF.pop();
}, {} ],
SoundManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "77c99PnQXFMjJIRo6wB00sT", "SoundManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../base/GameFrameworkModule"), c = e("./SoundGroupGF"), l = e("./ConstantSoundGF"), u = e("./PlaySoundParams"), p = e("./PlaySoundErrorCode"), d = e("../base/referencePool/ReferencePool"), f = e("../base/res/GameFrameworkConstantConfig"), h = e("../../ccEngine/log/DFLog"), y = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._soundGroups = new Map();
t._soundsBeingLoaded = [];
t._soundsToReleaseOnLoad = new Set();
t._resourceManager = null;
t._soundHelper = null;
t._serial = 0;
return t;
}
Object.defineProperty(t.prototype, "priority", {
get: function() {
return 0;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "Sound";
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "soundGroupCount", {
get: function() {
return this._soundGroups.size;
},
enumerable: !1,
configurable: !0
});
t.prototype.update = function() {};
t.prototype.shutdown = function() {
this.stopAllLoadedSounds();
this._soundGroups.clear();
this._soundsBeingLoaded = [];
this._soundsToReleaseOnLoad.clear();
e.prototype.shutdown.call(this);
};
t.prototype.setResourceManager = function(e) {
if (!e) throw new Error("Resource manager is invalid.");
this._resourceManager = e;
};
t.prototype.setSoundHelper = function(e) {
if (!e) throw new Error("Sound helper is invalid.");
this._soundHelper = e;
};
t.prototype.hasSoundGroup = function(e) {
if (!e) throw new Error("Sound group name is invalid.");
return this._soundGroups.has(e);
};
t.prototype.getSoundGroup = function(e) {
if (!e) throw new Error("Sound group name is invalid.");
return this._soundGroups.get(e);
};
t.prototype.getAllSoundGroups = function() {
var e = [];
this._soundGroups.forEach(function(t) {
e.push(t);
});
return e;
};
t.prototype.addSoundGroup = function(e, t, o, n, r) {
return "boolean" == typeof t ? this.addSoundGroupInternal(e, t, o, n, r) : this.addSoundGroupInternal(e, !1, l.default.defaultMute, l.default.defaultVolume, t);
};
t.prototype.addSoundAgentHelper = function(e, t) {
if (!this._soundHelper) throw new Error("You must set sound helper first.");
var o = this.getSoundGroup(e);
if (!o) throw new Error("Sound group '" + e + "' is not exist.");
o.addSoundAgentHelper(this._soundHelper, t);
};
t.prototype.getAllLoadingSoundSerialIds = function() {
return this._soundsBeingLoaded.slice();
};
t.prototype.isLoadingSound = function(e) {
return this._soundsBeingLoaded.includes(e);
};
t.prototype.playSound = function(e, t, o, n, r) {
return i(this, void 0, Promise, function() {
return a(this, function() {
return r ? [ 2, this.playSoundInternal(e, t, o, n, r) ] : n ? "number" == typeof o && n instanceof u.PlaySoundParams ? [ 2, this.playSoundInternal(e, t, o, n, null) ] : "number" == typeof o ? [ 2, this.playSoundInternal(e, t, o, null, n) ] : [ 2, this.playSoundInternal(e, t, l.default.defaultPriority, o, n) ] : o ? "number" == typeof o ? [ 2, this.playSoundInternal(e, t, o, null, null) ] : o instanceof u.PlaySoundParams ? [ 2, this.playSoundInternal(e, t, l.default.defaultPriority, o, null) ] : [ 2, this.playSoundInternal(e, t, l.default.defaultPriority, null, o) ] : [ 2, this.playSoundInternal(e, t, l.default.defaultPriority, null, null) ];
});
});
};
t.prototype.playSoundInternal = function(e, t, o, n) {
return i(this, void 0, Promise, function() {
var o, r, i, s, c, l, d, y, m;
return a(this, function(a) {
switch (a.label) {
case 0:
if (!this._resourceManager) return [ 2, Promise.reject(new Error("You must set resource manager first.")) ];
if (!this._soundHelper) return [ 2, Promise.reject(new Error("You must set sound helper first.")) ];
n || (n = u.PlaySoundParams.create());
o = ++this._serial;
r = null;
i = null;
if (s = this.getSoundGroup(t)) {
if (s.soundAgentCount <= 0) {
r = p.PlaySoundErrorCode.soundGroupHasNoAgent;
i = "Sound group '" + t + "' has no sound agent.";
}
} else {
r = p.PlaySoundErrorCode.soundGroupNotExist;
i = "Sound group '" + t + "' is not exist.";
}
if (r) return [ 2, Promise.reject({
code: r,
message: i
}) ];
this._soundsBeingLoaded.push(o);
c = e.split(f.default.SPLIT_BUNDLE_PATH_FLAG);
l = c[0];
d = c[1];
a.label = 1;

case 1:
a.trys.push([ 1, 3, , 4 ]);
return [ 4, this._resourceManager.getAsset(l, d, cc.AudioClip, !0) ];

case 2:
(y = a.sent()) ? this.loadAssetSuccessCallback(l, d, y, o, s, n) : h.default.warn("load Sound [" + e + "] fail, audio clip is invalid.");
return [ 3, 4 ];

case 3:
m = a.sent();
return [ 2, Promise.reject(m) ];

case 4:
return [ 2, o ];
}
});
});
};
t.prototype.loadAssetSuccessCallback = function(e, t, o, n, r, i) {
if (this._soundsToReleaseOnLoad.has(n)) {
this._soundsToReleaseOnLoad.delete(n);
i.referenced && d.default.release(i);
this._soundHelper.releaseSoundAsset(e, t);
} else {
var a = this._soundsBeingLoaded.indexOf(n);
-1 !== a && this._soundsBeingLoaded.splice(a, 1);
if (r.playSound(n, e, t, o, i)) {
i.referenced && d.default.release(i);
this._resourceManager.getAssetRefCount(e, t) > 1 && this._resourceManager.releaseAsset(e, t);
} else {
this._soundsToReleaseOnLoad.delete(n);
this._soundHelper.releaseSoundAsset(e, t);
}
}
};
t.prototype.stopSound = function(e, t) {
return t ? this.stopSoundInternal(e, t) : this.stopSoundInternal(e, l.default.defaultFadeOutSeconds);
};
t.prototype.stopSoundInternal = function(e, t) {
if (this.isLoadingSound(e)) {
this._soundsToReleaseOnLoad.add(e);
this._soundsBeingLoaded.splice(this._soundsBeingLoaded.indexOf(e), 1);
return !0;
}
var o = !1;
this._soundGroups.forEach(function(n) {
n.stopSound(e, t) && (o = !0);
});
return o;
};
t.prototype.stopAllLoadedSounds = function(e) {
e && this.stopAllLoadedSoundsInternal(e);
this.stopAllLoadedSoundsInternal(l.default.defaultFadeOutSeconds);
};
t.prototype.stopAllLoadedSoundsInternal = function(e) {
this._soundGroups.forEach(function(t) {
t.stopAllLoadedSounds(e);
});
};
t.prototype.stopAllLoadingSounds = function() {
for (var e = 0, t = this._soundsBeingLoaded; e < t.length; e++) {
var o = t[e];
this._soundsToReleaseOnLoad.add(o);
}
this._soundsBeingLoaded.length = 0;
};
t.prototype.pauseSound = function(e, t) {
t ? this.pauseSoundInternal(e, t) : this.pauseSoundInternal(e, l.default.defaultFadeOutSeconds);
};
t.prototype.pauseSoundInternal = function(e, t) {
var o = !1;
this._soundGroups.forEach(function(n) {
n.pauseSound(e, t) && (o = !0);
});
if (!o) throw new Error("Can not find sound '" + e + "'.");
};
t.prototype.resumeSound = function(e, t) {
void 0 === t && (t = l.default.defaultFadeInSeconds);
this.resumeSoundInternal(e, t);
};
t.prototype.resumeSoundInternal = function(e, t) {
var o = !1;
this._soundGroups.forEach(function(n) {
n.resumeSound(e, t) && (o = !0);
});
if (!o) throw new Error("Can not find sound '" + e + "'.");
};
t.prototype.addSoundGroupInternal = function(e, t, o, n, r) {
if (!e) throw new Error("Sound group name is invalid.");
if (!r) throw new Error("Sound group helper is invalid.");
if (this.hasSoundGroup(e)) return !1;
var i = new c.default(e, r);
i.avoidBeingReplacedBySamePriority = t;
i.mute = o;
i.volume = n;
this._soundGroups.set(e, i);
return !0;
};
t.prototype.defaultUpdateCallback = function(e, t) {
var o = e / t * 100;
h.default.info("音频资源加载进度: " + o.toFixed(2) + "% (" + e + "/" + t + ")");
};
return t;
}(s.default);
o.default = y;
cc._RF.pop();
}, {
"../../ccEngine/log/DFLog": "DFLog",
"../base/GameFrameworkModule": "GameFrameworkModule",
"../base/referencePool/ReferencePool": "ReferencePool",
"../base/res/GameFrameworkConstantConfig": "GameFrameworkConstantConfig",
"./ConstantSoundGF": "ConstantSoundGF",
"./PlaySoundErrorCode": "PlaySoundErrorCode",
"./PlaySoundParams": "PlaySoundParams",
"./SoundGroupGF": "SoundGroupGF"
} ],
SplashForm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "50042MqrRpIOLDJbhh0jKAZ", "SplashForm");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = cc._decorator.property, l = cc._decorator.ccclass, u = cc.Sprite, p = cc.SpriteFrame, d = e("../../../gf/scripts/ccEngine/ui/CcUIForm"), f = e("../base/GameEntry"), h = e("../definition/constant/ConstantBundle"), y = e("../../../gf/scripts/ccEngine/log/DFLog"), m = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.bgSprite = null;
t.logoSprite = null;
t._procedureSplash = null;
t._logoName = null;
return t;
}
t.prototype.onOpen = function(t) {
return a(this, void 0, void 0, function() {
var o;
return s(this, function(n) {
switch (n.label) {
case 0:
e.prototype.onOpen.call(this, t);
this._logoName = "logo_fm_min";
this.isComp("鹏翮") ? this._logoName = "logo_ph_min" : this.isComp("梦元") ? this._logoName = "logo_my_min" : this.isComp("壹柚") && (this._logoName = "logo_yy_min");
o = this.logoSprite;
return [ 4, f.default.resources.getAsset(h.default.uiSprites, this.getSplashLogoSpUrl(), p, !0) ];

case 1:
o.spriteFrame = n.sent();
this._procedureSplash = t;
if (!this._procedureSplash) {
y.default.error("ProcedureLaunch is invalid.");
return [ 2 ];
}
return [ 4, this.playUISound(10002) ];

case 2:
n.sent();
this.playEntranceAnim();
this.waitToNextState();
return [ 2 ];
}
});
});
};
t.prototype.onClose = function(t, o) {
e.prototype.onClose.call(this, t, o);
f.default.resources.releaseAsset(h.default.uiSprites, this.getSplashLogoSpUrl());
this._procedureSplash.enterNext();
this._procedureSplash = null;
this._logoName = null;
};
t.prototype.isComp = function(e) {
return f.default.builtin.buildInfo.devCompany.includes(e);
};
t.prototype.waitToNextState = function() {
var e = this;
setTimeout(function() {
e.close();
}, 3200);
};
t.prototype.getSplashLogoSpUrl = function() {
return "splash/" + this._logoName;
};
t.prototype.playEntranceAnim = function() {
var e = this;
this.bgSprite.node.opacity = 0;
cc.tween(this.bgSprite.node).to(2.2, {
opacity: 255
}, {
easing: "sineOut"
}).start();
this.logoSprite.node.opacity = 0;
this.logoSprite.node.setPosition(cc.v3(0, this.node.height + 200, 0));
this.logoSprite.node.setScale(.8);
cc.tween(this.logoSprite.node).parallel(cc.tween().to(.4, {
opacity: 255
}, {
easing: "quadOut"
}), cc.tween().to(.4, {
position: cc.v3(0, -80, 0)
}, {
easing: "sineIn",
onUpdate: function(e, t) {
e.scaleX = 1 + .4 * t;
e.scaleY = 1 - .3 * t;
}
})).call(function() {
e.playUISound(10003);
e.playBackgroundShake();
}).to(.1, {
scaleX: 1.4,
scaleY: .6
}, {
easing: "sineIn"
}).to(.6, {
position: cc.v3(0, 120, 0),
scaleX: .9,
scaleY: 1.1
}, {
easing: "elasticOut"
}).call(function() {
e.playUISound(10004);
}).to(.4, {
position: cc.v3(0, 100, 0),
scaleX: 1,
scaleY: 1
}, {
easing: "backOut"
}).to(.2, {
position: cc.v3(0, 100, 0),
scaleX: 1,
scaleY: 1
}, {
easing: "smooth"
}).start();
};
t.prototype.playBackgroundShake = function() {
cc.tween(this.bgSprite.node).repeat(3, cc.tween().to(.03, {
position: cc.v3(15, -10, 0)
}).to(.03, {
position: cc.v3(-12, 8, 0)
}).to(.03, {
position: cc.v3(8, -5, 0)
}).to(.03, {
position: cc.v3(-5, 3, 0)
})).to(.1, {
position: cc.v3(0, 0, 0)
}).start();
};
t.prototype.onDestroy = function() {
y.default.info(this.node.name + " 被销毁.");
};
i([ c(u) ], t.prototype, "bgSprite", void 0);
i([ c(u) ], t.prototype, "logoSprite", void 0);
return i([ l ], t);
}(d.default);
o.default = m;
cc._RF.pop();
}, {
"../../../gf/scripts/ccEngine/log/DFLog": "DFLog",
"../../../gf/scripts/ccEngine/ui/CcUIForm": "CcUIForm",
"../base/GameEntry": "GameEntry",
"../definition/constant/ConstantBundle": "ConstantBundle"
} ],
SpriteWithMaskAssembler: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6b309k9JDND+5aP2ebiAdxw", "SpriteWithMaskAssembler");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
});
Object.defineProperty(r, "__esModule", {
value: !0
}), r.getSpriteWithMaskAssembler = void 0, r.getSpriteWithMaskAssembler = function() {
var e, t = cc.gfx;
return e = cc.Assembler2D, i(o, e), Object.defineProperty(o.prototype, "floatsPerVert", {
get: function() {
return 7;
},
enumerable: !1,
configurable: !0
}), Object.defineProperty(o.prototype, "colorOffset", {
get: function() {
return 6;
},
enumerable: !1,
configurable: !0
}), o.prototype.getVfmt = function() {
return o.vfmtPosTowUvColor;
}, o.prototype.getBuffer = function() {
var e;
return o.meshBuffer || ((e = cc.renderer._handle)._SpriteWithMaskBuffer && console.error("竟然已经存在 _SpriteWithMaskBuffer 对象了, 这可能是个严重的 bug!"), 
o.meshBuffer = e.getBuffer("mesh", this.getVfmt())), o.meshBuffer;
}, o.prototype.updateRenderData = function(e) {
this.packToDynamicAtlas(e, e._spriteFrame), e._vertsDirty && (this.updateUVs(e), 
this.updateVerts(e), e._vertsDirty = !1);
}, o.prototype.updateUVs = function(e) {
for (var t = e._spriteFrame.uv, n = this.uvOffset, r = this.floatsPerVert, i = this._renderData.vDatas[0], a = 0; a < 4; a++) {
var s = 2 * a, c = r * a + n;
i[c] = t[s], i[c + 1] = t[1 + s], i[c + 2] = o.uv2[s], i[c + 3] = o.uv2[1 + s];
}
}, o.prototype.updateVerts = function(e) {
var t, o, n, r, i, a, s, c, l = e.node, u = l.width, p = l.height, d = l.anchorX * u, f = l.anchorY * p;
c = e.trim ? (i = -d, a = -f, s = u - d, p - f) : (c = (n = e.spriteFrame)._originalSize.width, 
t = n._originalSize.height, r = n._rect.width, o = n._rect.height, n = (l = n._offset).x + (c - r) / 2, 
r = l.x - (c - r) / 2, i = n * (n = u / c) - d, a = (l.y + (t - o) / 2) * (c = p / t) - f, 
s = u + r * n - d, p + (l.y - (t - o) / 2) * c - f);
(f = this._local)[0] = i, f[1] = a, f[2] = s, f[3] = c, this.updateWorldVerts(e);
}, o.vfmtPosTowUvColor = new t.VertexFormat([ {
name: t.ATTR_POSITION,
type: t.ATTR_TYPE_FLOAT32,
num: 2
}, {
name: t.ATTR_UV0,
type: t.ATTR_TYPE_FLOAT32,
num: 4
}, {
name: t.ATTR_COLOR,
type: t.ATTR_TYPE_UINT8,
num: 4,
normalize: !0
} ]), o.uv2 = [ 0, 1, 1, 1, 0, 0, 1, 0 ], new o();
function o() {
return null !== e && e.apply(this, arguments) || this;
}
};
cc._RF.pop();
}, {} ],
SpriteWithMask: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "16615oSi4lB+Y7u7Tdx2332", "SpriteWithMask");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
}), i.SpriteWithMask = void 0;
var c = r("SpriteWithMaskAssembler"), l = cc._decorator, u = l.ccclass, p = (l.property, 
l.menu), d = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.onLoad = function() {
var t;
null === (t = e.prototype.onLoad) || void 0 === t || t.call(this), this.type, cc.Sprite.Type.SIMPLE;
}, t.prototype._resetAssembler = function() {
this.setVertsDirty(), this._assembler = c.getSpriteWithMaskAssembler(), this._assembler.init(this);
}, s([ u(), p("2D/SpriteWithMask") ], t);
}(cc.Sprite);
i.SpriteWithMask = d;
cc._RF.pop();
}, {} ],
StackDF: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d53347ux/pBj6H7VhyXppm2", "StackDF");
var n = this && this.__spreadArrays || function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var n = Array(e), r = 0;
for (t = 0; t < o; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, 
r++) n[r] = i[a];
return n;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = function() {
function e() {
this._stack = [];
}
Object.defineProperty(e.prototype, "size", {
get: function() {
return this._stack.length;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "isEmpty", {
get: function() {
return 0 === this._stack.length;
},
enumerable: !1,
configurable: !0
});
e.prototype.push = function(e) {
this._stack.push(e);
};
e.prototype.pop = function() {
if (this.isEmpty) throw new Error("StackDF is empty");
return this._stack.pop();
};
e.prototype.peek = function() {
if (this.isEmpty) throw new Error("StackDF is empty");
return this._stack[this._stack.length - 1];
};
e.prototype.clear = function() {
this._stack = [];
};
e.prototype.toArray = function() {
return n(this._stack);
};
e.prototype.contains = function(e) {
return this._stack.includes(e);
};
e.prototype.concat = function(t) {
var o = new e();
this._stack.forEach(function(e) {
return o.push(e);
});
t._stack.forEach(function(e) {
return o.push(e);
});
return o;
};
e.prototype.toString = function() {
return this._stack.join(", ");
};
return e;
}();
o.default = r;
cc._RF.pop();
}, {} ],
StartTaskStatus: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2df0foSJUtFkK47u/S1VgsO", "StartTaskStatus");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.StartTaskStatus = void 0;
(function(e) {
e[e.Done = 0] = "Done";
e[e.CanResume = 1] = "CanResume";
e[e.HasToWait = 2] = "HasToWait";
e[e.UnknownError = 3] = "UnknownError";
})(o.StartTaskStatus || (o.StartTaskStatus = {}));
cc._RF.pop();
}, {} ],
StringUtility: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1c669hAmL5EIrEF6q+DmX9t", "StringUtility");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.isNullOrEmpty = function(e) {
return null == e || "undefined" === e || "" === e;
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
SwitchComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a125deryr1IP5UG9uzkfwKv", "SwitchComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = cc._decorator.ccclass, l = cc._decorator.property, u = e("../base/GameFrameworkComponent"), p = e("../../base/base/GameFrameworkEntry"), d = e("../../base/switch/SwitchManager"), f = e("../log/DFLog"), h = e("../../base/utils/GFClassUtils"), y = e("../ad/base/enum/GamePlatform"), m = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._switchManager = null;
t._helperTypeName = "DefaultSwitchHelper";
t._useTestDevOnMiniGame = !1;
return t;
}
Object.defineProperty(t.prototype, "isTestDevice", {
get: function() {
return this._isTestDevice;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "switchEnable", {
get: function() {
return window.GameEntryDF.ad.isPlatform(y.GamePlatform.Android) ? window.GameEntryDF.ad.switchEnable : !(!this._useTestDevOnMiniGame || !this.isTestDevice) || this._switchManager.switchEnable;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._switchManager = p.default.getModule(d.default);
this._switchManager || f.default.error("开关模块未初始化");
var t = h.default.createInstance(this._helperTypeName);
t ? this._switchManager.setSwitchHelper(t) : f.default.error("Can not create switch helper.");
};
t.prototype.init = function(e) {
return a(this, void 0, Promise, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
this._useTestDevOnMiniGame = e.isUseTestDev;
return [ 4, this._switchManager.init(e) ];

case 1:
return [ 2, t.sent() ];
}
});
});
};
t.prototype.onDestroy = function() {
this._switchManager = null;
};
t.prototype.setIsDeviceId = function(e) {
f.default.debug("设置测试设备：", e);
this._isTestDevice = e;
};
i([ l({
visible: !1,
tooltip: "开关辅助器类名",
readonly: !0
}) ], t.prototype, "_helperTypeName", void 0);
return i([ h.gfClass("SwitchComponent"), c ], t);
}(u.default);
o.default = m;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/switch/SwitchManager": "SwitchManager",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../ad/base/enum/GamePlatform": "GamePlatform",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../log/DFLog": "DFLog"
} ],
SwitchManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b1bd15Ii29IqrHn/cADI6h+", "SwitchManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../base/GameFrameworkModule"), c = e("../../ccEngine/log/DFLog"), l = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._switchHelper = null;
t._switchHelper = null;
return t;
}
Object.defineProperty(t.prototype, "switchEnable", {
get: function() {
if (!this._switchHelper) {
c.default.error("开关辅助器未设置");
return !1;
}
return this._switchHelper.switchEnable;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "Switch";
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "priority", {
get: function() {
return 10;
},
enumerable: !1,
configurable: !0
});
t.prototype.setSwitchHelper = function(e) {
this._switchHelper = e;
};
t.prototype.init = function(e) {
return i(this, void 0, Promise, function() {
return a(this, function(t) {
switch (t.label) {
case 0:
if (!this._switchHelper) {
c.default.error("开关辅助器未设置");
return [ 2, !1 ];
}
return [ 4, this._switchHelper.init(e) ];

case 1:
return [ 2, t.sent() ];
}
});
});
};
t.prototype.update = function() {};
t.prototype.shutdown = function() {
this._switchHelper = null;
e.prototype.shutdown.call(this);
};
return t;
}(s.default);
o.default = l;
cc._RF.pop();
}, {
"../../ccEngine/log/DFLog": "DFLog",
"../base/GameFrameworkModule": "GameFrameworkModule"
} ],
TaskBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9d2b7l+m+FPhrQsEzZGDzT3", "TaskBase");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../utils/GFClassUtils"), i = function() {
function e() {
this._serialId = 0;
this._priority = t.defaultPriority;
this._done = !1;
}
t = e;
Object.defineProperty(e.prototype, "serialId", {
get: function() {
return this._serialId;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "priority", {
get: function() {
return this._priority;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "done", {
get: function() {
return this._done;
},
set: function(e) {
this._done = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "description", {
get: function() {
return this._description;
},
set: function(e) {
this._description = e;
},
enumerable: !1,
configurable: !0
});
e.prototype.initialize = function(e, t) {
this._serialId = e;
this._priority = t;
this._done = !1;
};
e.prototype.clear = function() {
this._serialId = 0;
this._priority = t.defaultPriority;
this._done = !1;
};
var t;
e.defaultPriority = 0;
return t = n([ r.gfClass("TaskBase") ], e);
}();
o.default = i;
cc._RF.pop();
}, {
"../../utils/GFClassUtils": "GFClassUtils"
} ],
TaskInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d0be9LXTVZMc51BukYrKwA4", "TaskInfo");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e(e, t, o, n) {
this._serialId = e;
this._priority = t;
this._status = o;
this._description = n;
}
Object.defineProperty(e.prototype, "serialId", {
get: function() {
return this._serialId;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "priority", {
get: function() {
return this._priority;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "status", {
get: function() {
return this._status;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "description", {
get: function() {
return this._description;
},
enumerable: !1,
configurable: !0
});
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
TaskPool: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4f60eR0PY5GbbyRF6/Chjhd", "TaskPool");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = e("../GameFrameworkLinkedList"), r = e("./TaskInfo"), i = e("./StartTaskStatus"), a = e("./TaskStatus"), s = e("../../system/collections/generic/StackDF"), c = function() {
function e() {
this._freeAgents = new s.default();
this._workingAgents = new n.default();
this._waitingTasks = new n.default();
this._paused = !1;
}
Object.defineProperty(e.prototype, "paused", {
get: function() {
return this._paused;
},
set: function(e) {
this._paused = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "totalAgentCount", {
get: function() {
return this.freeAgentCount + this.workingAgentCount;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "freeAgentCount", {
get: function() {
return this._freeAgents.size;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "workingAgentCount", {
get: function() {
return this._workingAgents.count;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "waitingTaskCount", {
get: function() {
return this._waitingTasks.count;
},
enumerable: !1,
configurable: !0
});
e.prototype.update = function(e, t) {
if (!this._paused) {
this.processRunningTasks(e, t);
this.processWaitingTasks(e, t);
}
};
e.prototype.shutdown = function() {
this.removeAllTasks();
for (;!this._freeAgents.isEmpty; ) this._freeAgents.pop().shutdown();
};
e.prototype.addAgent = function(e) {
if (!e) throw new Error("Task agent is invalid.");
e.initialize();
this._freeAgents.push(e);
};
e.prototype.addTask = function(e) {
for (var t = this._waitingTasks.last; t && !(e.priority <= t.value.priority); ) t = t.prev;
t ? this._waitingTasks.addAfter(t, e) : this._waitingTasks.addFirst(e);
};
e.prototype.removeTask = function(e) {
var t = this, o = !1;
this._waitingTasks.forEach(function(n) {
if (n.serialId === e) {
t._waitingTasks.remove(n);
n.clear();
o = !0;
}
});
this._workingAgents.forEach(function(n) {
if (n.task.serialId === e) {
var r = n.task;
n.reset();
t._freeAgents.push(n);
t._workingAgents.remove(n);
r.clear();
o = !0;
}
});
return o;
};
e.prototype.removeAllTasks = function() {
var e = this;
this._waitingTasks.forEach(function(e) {
return e.clear();
});
this._waitingTasks.clear();
this._workingAgents.forEach(function(t) {
var o = t.task;
t.reset();
e._freeAgents.push(t);
o.clear();
});
this._workingAgents.clear();
};
e.prototype.getAllTaskInfos = function() {
var e = [];
this._workingAgents.forEach(function(t) {
var o = t.task;
e.push(new r.default(o.serialId, o.priority, o.done ? a.TaskStatus.Done : a.TaskStatus.Doing, o.description));
});
this._waitingTasks.forEach(function(t) {
e.push(new r.default(t.serialId, t.priority, a.TaskStatus.Todo, t.description));
});
return e;
};
e.prototype.processRunningTasks = function(e, t) {
var o = this._workingAgents.first;
console.log("processRunningTasks：", o, e, t);
for (;o; ) {
var n = o.value.task;
console.log("processRunningTasks not done：", n, e, t);
if (n.done) {
console.log("processRunningTasks done：", e, t);
var r = o.next;
o.value.reset();
this._freeAgents.push(o.value);
this._workingAgents.remove(o.value);
n.clear();
o = r;
} else {
console.log("processRunningTasks not done：", e, t);
o.value.update(e, t);
o = o.next;
}
}
};
e.prototype.processWaitingTasks = function() {
for (var e = this._waitingTasks.first; e && !this._freeAgents.isEmpty; ) {
var t = this._freeAgents.pop(), o = e.value, n = t.start(o);
if (n === i.StartTaskStatus.Done || n === i.StartTaskStatus.HasToWait || n === i.StartTaskStatus.UnknownError) {
t.reset();
this._freeAgents.push(t);
}
n !== i.StartTaskStatus.Done && n !== i.StartTaskStatus.CanResume && n !== i.StartTaskStatus.UnknownError || this._waitingTasks.remove(o);
n !== i.StartTaskStatus.Done && n !== i.StartTaskStatus.UnknownError || o.clear();
e = e.next;
}
};
return e;
}();
o.default = c;
cc._RF.pop();
}, {
"../../system/collections/generic/StackDF": "StackDF",
"../GameFrameworkLinkedList": "GameFrameworkLinkedList",
"./StartTaskStatus": "StartTaskStatus",
"./TaskInfo": "TaskInfo",
"./TaskStatus": "TaskStatus"
} ],
TaskStatus: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "75c0abBFY5EPIC6/LnweRbQ", "TaskStatus");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.TaskStatus = void 0;
(function(e) {
e[e.Todo = 0] = "Todo";
e[e.Doing = 1] = "Doing";
e[e.Done = 2] = "Done";
})(o.TaskStatus || (o.TaskStatus = {}));
cc._RF.pop();
}, {} ],
TextAssetReader: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7ac03UkA8hBe4HSqrxh03RD", "TextAssetReader");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.readLine = function(e, t) {
if (t < 0 || t >= e.length) return [ null, t ];
for (var o = t, n = e.length; o < n; ) {
var r = e[o];
if ("\r" === r || "\n" === r) break;
o++;
}
var i = e.substring(t, o);
o < n && ("\r" === e[o] ? ++o < n && "\n" === e[o] && o++ : "\n" === e[o] && o++);
return [ i, o ];
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
TimeUtils: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "39d4eJvpXNOqLuOYRRS0PFF", "TimeUtils");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.formatDate = function(e, t) {
var o = e.getFullYear(), n = e.getMonth() + 1, r = e.getDate(), i = e.getHours(), a = e.getMinutes(), s = e.getSeconds();
return t.replace("yyyy", o.toString()).replace("MM", n.toString().padStart(2, "0")).replace("dd", r.toString().padStart(2, "0")).replace("HH", i.toString().padStart(2, "0")).replace("mm", a.toString().padStart(2, "0")).replace("ss", s.toString().padStart(2, "0"));
};
e.getTimestamp = function() {
return Date.now();
};
e.getCurrentDate = function() {
return new Date();
};
e.fromTimestamp = function(e) {
return new Date(e);
};
e.getStartOfDay = function(e) {
return new Date(e.getFullYear(), e.getMonth(), e.getDate());
};
e.getEndOfDay = function(e) {
return new Date(e.getFullYear(), e.getMonth(), e.getDate(), 23, 59, 59);
};
e.isSameDay = function(e, t) {
return e.getFullYear() === t.getFullYear() && e.getMonth() === t.getMonth() && e.getDate() === t.getDate();
};
e.getDaysDiff = function(e, t) {
var o = Math.abs(t.getTime() - e.getTime());
return Math.ceil(o / 864e5);
};
e.getSecondTimestampNow = function(e) {
void 0 === e && (e = !0);
return this.getSecondTimestampFromNum(Date.now());
};
e.getSecondTimestampFromNum = function(e, t) {
void 0 === t && (t = !0);
var o = e / 1e3;
return t ? Math.floor(o) : o;
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
TodayRankPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3c9ecBLnyBEtad8HHAyJf0H", "TodayRankPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("api-sheep"), l = r("CcJsFunc"), u = r("dataTs"), p = cc._decorator, d = p.ccclass, f = p.property, h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.popNode = null, t.closeBtn = null, t.friendBtn = null, t.shareBtn = null, 
t;
}
return a(t, e), t.prototype.start = function() {
l.default.addTargetTouchUpInside(this.closeBtn, this.closeBtnFunc.bind(this)), l.default.addTargetTouchUpInside(this.friendBtn, this.friendBtnFunc.bind(this)), 
l.default.addTargetTouchUpInside(this.shareBtn, this.shareBtnFunc.bind(this));
}, t.prototype.closeBtnFunc = function() {
this.node.active = !1;
}, t.prototype.friendBtnFunc = function() {
this.node.active = !1, console.log("好友排行榜"), cc.game.emit("showPop", {
popName: "friendRankPop",
showPopData: {}
});
}, t.prototype.shareBtnFunc = function() {
console.log("分享朋友圈");
}, t.prototype.showPop = function() {
this.node.active = !0, cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), c.default.getUserRankInfo(function(e) {
var t;
0 == e.err_code && e.data && e.data.user && (t = e.data.user.fail, 1 == (e = e.data.user.state) ? u.default.updateTodayCount(e, "win") : u.default.updateTodayCount(t, "fail"));
}, function() {
console.log("###### fail ######"), u.default.updateTodayCount(0, "fail");
});
}, s([ f(cc.Node) ], t.prototype, "popNode", void 0), s([ f(cc.Node) ], t.prototype, "closeBtn", void 0), 
s([ f(cc.Node) ], t.prototype, "friendBtn", void 0), s([ f(cc.Node) ], t.prototype, "shareBtn", void 0), 
s([ d ], t);
}(cc.Component);
i.default = h;
cc._RF.pop();
}, {} ],
TodaySubContextView: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6f5a44uIwZLR54OKfk5cZc9", "TodaySubContextView");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
}, c = function(e, t, o, n) {
return new (o = o || Promise)(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
var t;
e.done ? r(e.value) : ((t = e.value) instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
}
c((n = n.apply(e, t || [])).next());
});
}, l = function(e, t) {
var o, n, r, i = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
}, a = {
next: s(0),
throw: s(1),
return: s(2)
};
return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(a) {
return function(s) {
return function(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;i; ) try {
if (o = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, a[1])).done) return r;
switch (n = 0, (a = r ? [ 2 & a[0], r.value ] : a)[0]) {
case 0:
case 1:
r = a;
break;

case 4:
return i.label++, {
value: a[1],
done: !1
};

case 5:
i.label++, n = a[1], a = [ 0 ];
continue;

case 7:
a = i.ops.pop(), i.trys.pop();
continue;

default:
if (!(r = 0 < (r = i.trys).length && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
i = 0;
continue;
}
if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
i.label = a[1];
break;
}
if (6 === a[0] && i.label < r[1]) {
i.label = r[1], r = a;
break;
}
if (r && i.label < r[2]) {
i.label = r[2], i.ops.push(a);
break;
}
r[2] && i.ops.pop(), i.trys.pop();
continue;
}
a = t.call(e, i);
} catch (e) {
a = [ 6, e ], n = 0;
} finally {
o = r = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}([ a, s ]);
};
}
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var u = r("enumConfig"), p = cc._decorator, d = p.ccclass, f = p.property, h = (p.menu, 
function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.subContextView = null, t;
}
return a(t, e), t.prototype.onEnable = function() {
var e = this;
setTimeout(function() {
e.changeViewType(u.ShownType.todayRank);
}, 100);
}, t.prototype.start = function() {}, t.prototype.changeViewType = function() {
return c(this, void 0, Promise, function() {
var e;
return l(this, function() {
return cc.sys.platform != cc.sys.WECHAT_GAME || ((e = this.node).width, e.height, 
this.subContextView.updateSubContextViewport()), [ 2 ];
});
});
}, s([ f({
type: cc.SubContextView,
tooltip: "子域视图节点，没有则添加组件到本身"
}) ], t.prototype, "subContextView", void 0), s([ d ], t);
}(cc.Component));
i.default = h;
cc._RF.pop();
}, {} ],
TypeNamePair: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8b6d9+XJ8tIo64U059M1tKe", "TypeNamePair");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e(e, t) {
void 0 === t && (t = "");
if (!e) throw new Error("Type is invalid.");
this._type = e;
this._name = t || "";
}
Object.defineProperty(e.prototype, "Type", {
get: function() {
return this._type;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "Name", {
get: function() {
return this._name;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "typeName", {
get: function() {
if (!this.Type) throw new Error("Type is invalid.");
return this.Type.gfClassName;
},
enumerable: !1,
configurable: !0
});
e.prototype.toString = function() {
if (!this._type) throw new Error("Type is invalid.");
return this._name ? this.typeName + "." + this._name : this.typeName;
};
e.prototype.hashCode = function() {
var e = function(e) {
for (var t = 0, o = 0; o < e.length; o++) {
t = (t << 5) - t + e.charCodeAt(o);
t |= 0;
}
return t;
};
return e(this.typeName) ^ e(this._name);
};
e.prototype.equals = function(t) {
return t instanceof e && this.equalsPair(t);
};
e.prototype.equalsPair = function(e) {
return this.typeName === e.typeName && this._name === e._name;
};
e.equals = function(e, t) {
return e.equalsPair(t);
};
e.getString = function(e, t) {
void 0 === t && (t = "");
var o = e.gfClassName;
return t ? o + "." + t : o;
};
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
UIExtension: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3d4bdPZNqJDpLqNeNp2NEQO", "UIExtension");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.default = function() {};
cc._RF.pop();
}, {} ],
UIFormHelperBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "98404zOMBdBY4oNejQZrKIf", "UIFormHelperBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc.Component, s = cc._decorator.ccclass, c = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return i([ s ], t);
}(a);
o.default = c;
cc._RF.pop();
}, {} ],
UIFormInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fb68bZZHQRMIq7GOYOzmBgU", "UIFormInfo");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../utils/GFClassUtils"), i = e("../base/referencePool/ReferencePool"), a = function() {
function e() {
this._uiForm = null;
this._paused = !1;
this._covered = !1;
}
t = e;
Object.defineProperty(e.prototype, "uiForm", {
get: function() {
return this._uiForm;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "paused", {
get: function() {
return this._paused;
},
set: function(e) {
this._paused = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "covered", {
get: function() {
return this._covered;
},
set: function(e) {
this._covered = e;
},
enumerable: !1,
configurable: !0
});
e.create = function(e) {
if (!e) throw new Error("UI form is invalid.");
var o = i.default.acquire(t);
o._uiForm = e;
o._paused = !0;
o._covered = !0;
return o;
};
e.prototype.clear = function() {
this._uiForm = null;
this._paused = !1;
this._covered = !1;
};
var t;
return t = n([ r.gfClass("UIFormInfo") ], e);
}();
o.default = a;
cc._RF.pop();
}, {
"../base/referencePool/ReferencePool": "ReferencePool",
"../utils/GFClassUtils": "GFClassUtils"
} ],
UIFormInstanceObject: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3b7b55GN+RKjoHArvrU1PFl", "UIFormInstanceObject");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../utils/GFClassUtils"), s = e("../objectPool/ObjectBase"), c = e("../base/referencePool/ReferencePool"), l = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t.resetInternal();
return t;
}
o = t;
Object.defineProperty(t.prototype, "uiFormAsset", {
get: function() {
return this._uiFormAsset;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "bundleName", {
get: function() {
return this._bundleName;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "assetPathInBundle", {
get: function() {
return this._assetPathInBundle;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "uiFormHelper", {
get: function() {
return this._uiFormHelper;
},
enumerable: !1,
configurable: !0
});
t.create = function(e, t, n, r, i, a) {
if (!t) throw new Error("UI form asset is invalid.");
if (!a) throw new Error("UI form helper is invalid.");
var s = c.default.acquire(o);
s.initialize(e, i);
s._bundleName = n;
s._assetPathInBundle = r;
s._uiFormAsset = t;
s._uiFormHelper = a;
return s;
};
t.prototype.clear = function() {
e.prototype.clear.call(this);
this.resetInternal();
};
t.prototype.release = function() {
this._uiFormHelper.releaseUIForm(this.bundleName, this.assetPathInBundle, this._uiFormAsset, this.target);
};
t.prototype.resetInternal = function() {
this._uiFormAsset = null;
this._uiFormHelper = null;
this._bundleName = null;
this._assetPathInBundle = null;
};
var o;
return o = i([ a.gfClass("UIFormInstanceObject") ], t);
}(s.default);
o.default = l;
cc._RF.pop();
}, {
"../base/referencePool/ReferencePool": "ReferencePool",
"../objectPool/ObjectBase": "ObjectBase",
"../utils/GFClassUtils": "GFClassUtils"
} ],
UIFormLogic: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "22e57bIrWJFdLHPIw5t3U+L", "UIFormLogic");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc.Component, s = e("./UIForm"), c = e("../log/DFLog"), l = cc._decorator.ccclass, u = e("../utils/CCNodeUtility"), p = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._available = !1;
t._visible = !1;
t._uiForm = null;
t._cachedTransform = null;
t._originalLayer = "default";
return t;
}
Object.defineProperty(t.prototype, "uiForm", {
get: function() {
return this._uiForm;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "name", {
get: function() {
return this.node.name;
},
set: function(e) {
this.node.name = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "available", {
get: function() {
return this._available;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "visible", {
get: function() {
return this._available && this._visible;
},
set: function(e) {
if (this._available) {
if (this._visible !== e) {
this._visible = e;
this.internalSetVisible(e);
}
} else c.default.warn("UI form '" + this.name + "' is not available.");
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "cachedTransform", {
get: function() {
return this._cachedTransform;
},
enumerable: !1,
configurable: !0
});
t.prototype.onInit = function() {
this._cachedTransform || (this._cachedTransform = this.node);
this._uiForm = this.node.getComponent(s.default);
this._originalLayer = this.node.group;
};
t.prototype.onRecycle = function() {};
t.prototype.onOpen = function() {
this._available = !0;
this.visible = !0;
};
t.prototype.onClose = function() {
u.default.setNodeGroupRecursively(this.node, this._originalLayer.slice());
this.visible = !1;
this._available = !1;
};
t.prototype.onPause = function() {
this.visible = !1;
};
t.prototype.onResume = function() {
this.visible = !0;
};
t.prototype.onCover = function() {};
t.prototype.onReveal = function() {};
t.prototype.onRefocus = function() {};
t.prototype.onUpdate = function() {};
t.prototype.onDepthChanged = function() {};
t.prototype.internalSetVisible = function(e) {
this.node.active = e;
};
return i([ l ], t);
}(a);
o.default = p;
cc._RF.pop();
}, {
"../log/DFLog": "DFLog",
"../utils/CCNodeUtility": "CCNodeUtility",
"./UIForm": "UIForm"
} ],
UIForm: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6f8ben0rNZAcqdu4bUc30sx", "UIForm");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = cc.Component, s = e("./UIFormLogic"), c = e("../log/DFLog"), l = cc._decorator.ccclass, u = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
Object.defineProperty(t.prototype, "serialId", {
get: function() {
return this._serialId;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "uiFormAssetName", {
get: function() {
return this._uiFormAssetName;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "handle", {
get: function() {
return this.node;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "uiGroup", {
get: function() {
return this._uiGroup;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "depthInUIGroup", {
get: function() {
return this._depthInUIGroup;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "pauseCoveredUIForm", {
get: function() {
return this._pauseCoveredUIForm;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "logic", {
get: function() {
return this._uiFormLogic;
},
enumerable: !1,
configurable: !0
});
t.prototype.onInit = function(e, t, o, n, r, i) {
this._serialId = e;
this._uiFormAssetName = t;
this._uiGroup = o;
this._depthInUIGroup = 0;
this._pauseCoveredUIForm = n;
if (r) {
this._uiFormLogic = this.node.getComponent(s.default);
if (this._uiFormLogic) try {
this._uiFormLogic.onInit(i);
} catch (e) {
c.default.error("UI form '[" + this._serialId + "]{" + this._uiFormAssetName + "]' OnInit with exception '" + e + "'.");
} else c.default.error("UI form '" + t + "' can not get UI form logic.");
}
};
t.prototype.onRecycle = function() {
try {
this._uiFormLogic.onRecycle();
} catch (e) {
c.default.error("UI form '[" + this._serialId + "]{" + this._uiFormAssetName + "]' OnRecycle with exception '" + e + "'.");
}
this._serialId = 0;
this._depthInUIGroup = 0;
this._pauseCoveredUIForm = !0;
};
t.prototype.onOpen = function(e) {
try {
this._uiFormLogic.onOpen(e);
} catch (e) {
c.default.error("UI form '[" + this._serialId + "]{" + this._uiFormAssetName + "]' OnOpen with exception '" + e + "'.");
}
};
t.prototype.onClose = function(e, t) {
try {
this._uiFormLogic.onClose(e, t);
} catch (e) {
c.default.error("UI form '[" + this._serialId + "]{" + this._uiFormAssetName + "]' OnClose with exception '" + e + "'.");
}
};
t.prototype.onPause = function() {
try {
this._uiFormLogic.onPause();
} catch (e) {
c.default.error("UI form '[" + this._serialId + "]{" + this._uiFormAssetName + "]' OnPause with exception '" + e + "'.");
}
};
t.prototype.onResume = function() {
try {
this._uiFormLogic.onResume();
} catch (e) {
c.default.error("UI form '[" + this._serialId + "]{" + this._uiFormAssetName + "]' OnResume with exception '" + e + "'.");
}
};
t.prototype.onCover = function() {
try {
this._uiFormLogic.onCover();
} catch (e) {
c.default.error("UI form '[" + this._serialId + "]{" + this._uiFormAssetName + "]' OnCover with exception '" + e + "'.");
}
};
t.prototype.onReveal = function() {
try {
this._uiFormLogic.onReveal();
} catch (e) {
c.default.error("UI form '[" + this._serialId + "]{" + this._uiFormAssetName + "]' OnReveal with exception '" + e + "'.");
}
};
t.prototype.onRefocus = function(e) {
try {
this._uiFormLogic.onRefocus(e);
} catch (e) {
c.default.error("UI form '[" + this._serialId + "]{" + this._uiFormAssetName + "]' OnRefocus with exception '" + e + "'.");
}
};
t.prototype.onUpdate = function(e, t) {
try {
this._uiFormLogic.onUpdate(e, t);
} catch (e) {
c.default.error("UI form '[" + this.node.name + ":" + this._serialId + "]{" + this._uiFormAssetName + "]' OnUpdate with exception '" + e + "'.");
}
};
t.prototype.onDepthChanged = function(e, t) {
this._depthInUIGroup = t;
try {
this._uiFormLogic.onDepthChanged(e, t);
} catch (e) {
c.default.error("UI form '[" + this._serialId + "]{" + this._uiFormAssetName + "]' OnDepthChanged with exception '" + e + "'.");
}
};
return i([ l ], t);
}(a);
o.default = u;
cc._RF.pop();
}, {
"../log/DFLog": "DFLog",
"./UIFormLogic": "UIFormLogic"
} ],
UIGroupHelperBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "93c54B0sg5NM4xflzUeuN4X", "UIGroupHelperBase");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return t;
}(cc.Component);
o.default = i;
cc._RF.pop();
}, {} ],
UIGroupInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "25b09afRMhFipmQSnOkNz7y", "UIGroupInfo");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = cc._decorator.ccclass, i = cc._decorator.property, a = function() {
function e() {
this._groupName = "Default";
this._depth = 0;
}
Object.defineProperty(e.prototype, "groupName", {
get: function() {
return this._groupName;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "depth", {
get: function() {
return this._depth;
},
enumerable: !1,
configurable: !0
});
n([ i({
tooltip: "界面组名称",
displayName: "名称",
visible: !0
}) ], e.prototype, "_groupName", void 0);
n([ i({
tooltip: "界面组深度",
displayName: "深度",
visible: !0
}) ], e.prototype, "_depth", void 0);
return n([ r("UIGroupInfo") ], e);
}();
o.default = a;
cc._RF.pop();
}, {} ],
UIGroup: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "6775c8cy+tGnLp8BPAs4L1Q", "UIGroup");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("./UIFormInfo"), i = e("../utils/GFClassUtils"), a = e("../base/GameFrameworkLinkedList"), s = e("../base/referencePool/ReferencePool"), c = function() {
function e(e, t, o) {
if (!e) throw new Error("UI group name is invalid.");
if (!o) throw new Error("UI group helper is invalid.");
this._name = e;
this._pause = !1;
this._uiGroupHelper = o;
this._uiFormInfos = new a.default();
this._cachedNode = null;
this.depth = t;
}
Object.defineProperty(e.prototype, "name", {
get: function() {
return this._name;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "depth", {
get: function() {
return this._depth;
},
set: function(e) {
if (this._depth !== e) {
this._depth = e;
this._uiGroupHelper.setDepth(this._depth);
this.refresh();
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "pause", {
get: function() {
return this._pause;
},
set: function(e) {
if (this._pause !== e) {
this._pause = e;
this.refresh();
}
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "uiFormCount", {
get: function() {
return this._uiFormInfos.count;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "currentUIForm", {
get: function() {
return this._uiFormInfos.first ? this._uiFormInfos.first.value.uiForm : null;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(e.prototype, "helper", {
get: function() {
return this._uiGroupHelper;
},
enumerable: !1,
configurable: !0
});
e.prototype.update = function(e, t) {
for (var o = this._uiFormInfos.first; o && o.value && !o.value.paused; ) {
this._cachedNode = o.next;
o.value.uiForm.onUpdate(e, t);
o = this._cachedNode;
this._cachedNode = null;
}
};
e.prototype.hasUIForm = function(e) {
if ("number" == typeof e) {
var t = !1;
this._uiFormInfos.forEach(function(o) {
o.uiForm.serialId === e && (t = !0);
});
return t;
}
if ("string" == typeof e) {
var o = !1;
this._uiFormInfos.forEach(function(t) {
t.uiForm.uiFormAssetName === e && (o = !0);
});
return o;
}
return !1;
};
e.prototype.getUIForm = function(e) {
if ("number" == typeof e) {
var t = null;
this._uiFormInfos.forEach(function(o) {
o.uiForm.serialId === e && (t = o.uiForm);
});
return t;
}
if ("string" == typeof e) {
var o = null;
this._uiFormInfos.forEach(function(t) {
t.uiForm.uiFormAssetName === e && (o = t.uiForm);
});
return o;
}
return null;
};
e.prototype.getUIForms = function(e) {
if (!e) throw new Error("UI form asset name is invalid.");
var t = [];
this._uiFormInfos.forEach(function(o) {
o.uiForm.uiFormAssetName === e && t.push(o.uiForm);
});
return t;
};
e.prototype.getAllUIForms = function() {
var e = [];
this._uiFormInfos.forEach(function(t) {
e.push(t.uiForm);
});
return e;
};
e.prototype.addUIForm = function(e) {
this._uiFormInfos.addFirst(r.default.create(e));
};
e.prototype.removeUIForm = function(e) {
var t = this.getUIFormInfo(e);
if (!t) throw new Error("Can not find UI form info for serial id '" + e.serialId + "', UI form asset name is '" + e.uiFormAssetName + "'.");
if (!t.covered) {
t.covered = !0;
e.onCover();
}
if (!t.paused) {
t.paused = !0;
e.onPause();
}
this._cachedNode && this._cachedNode.value.uiForm === e && (this._cachedNode = this._cachedNode.next);
if (!this._uiFormInfos.remove(t)) throw new Error("UI group '" + this.name + "' not exists specified UI form '[" + e.serialId + "]" + e.uiFormAssetName + "'.");
s.default.release(t);
};
e.prototype.refocusUIForm = function(e) {
var t = this.getUIFormInfo(e);
if (!t) throw new Error("Can not find UI form info.");
this._uiFormInfos.remove(t);
this._uiFormInfos.addFirst(t);
};
e.prototype.refresh = function() {
for (var e = this._uiFormInfos.first, t = this._pause, o = !1, n = this.uiFormCount; e && e.value; ) {
var r = e.next;
e.value.uiForm.onDepthChanged(this.depth, n--);
if (null === e.value) return;
if (t) {
if (!e.value.covered) {
e.value.covered = !0;
e.value.uiForm.onCover();
if (null === e.value) return;
}
if (!e.value.paused) {
e.value.paused = !0;
e.value.uiForm.onPause();
if (null === e.value) return;
}
} else {
if (e.value.paused) {
e.value.paused = !1;
e.value.uiForm.onResume();
if (null === e.value) return;
}
e.value.uiForm.pauseCoveredUIForm && (t = !0);
if (o) {
if (!e.value.covered) {
e.value.covered = !0;
e.value.uiForm.onCover();
if (null === e.value) return;
}
} else {
if (e.value.covered) {
e.value.covered = !1;
e.value.uiForm.onReveal();
if (null === e.value) return;
}
o = !0;
}
}
e = r;
}
};
e.prototype.internalGetUIForms = function(e) {
return this.getUIForms(e);
};
e.prototype.internalGetAllUIForms = function() {
return this.getAllUIForms();
};
e.prototype.getUIFormInfo = function(e) {
if (!e) throw new Error("UI form is invalid.");
var t = null;
this._uiFormInfos.forEach(function(o) {
o && o.uiForm === e && (t = o);
});
return t;
};
return n([ i.gfClass("UIGroup") ], e);
}();
o.default = c;
cc._RF.pop();
}, {
"../base/GameFrameworkLinkedList": "GameFrameworkLinkedList",
"../base/referencePool/ReferencePool": "ReferencePool",
"../utils/GFClassUtils": "GFClassUtils",
"./UIFormInfo": "UIFormInfo"
} ],
UIManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0074aSVExlBmqzyh79XHxGl", "UIManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../base/GameFrameworkModule"), c = e("./UIFormInstanceObject"), l = e("./UIGroup"), u = e("../system/collections/generic/QueueDf"), p = e("../utils/StringUtility"), d = e("../base/res/GameFrameworkConstantConfig"), f = cc.Prefab, h = e("../../ccEngine/log/DFLog"), y = e("../../ccEngine/res/ConstantResourceCGF"), m = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._uiGroups = new Map();
t._uiFormsBeingLoaded = new Map();
t._uiFormsToReleaseOnLoad = new Set();
t._recycleQueue = new u.default();
t._objectPoolManager = null;
t._resourceManager = null;
t._instancePool = null;
t._uiFormHelper = null;
t._serial = 0;
t._isShutdown = !1;
return t;
}
Object.defineProperty(t.prototype, "priority", {
get: function() {
return 0;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "UI";
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "uiGroupCount", {
get: function() {
return this._uiGroups.size;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "instanceAutoReleaseInterval", {
get: function() {
return this._instancePool.autoReleaseInterval;
},
set: function(e) {
this._instancePool.autoReleaseInterval = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "instanceCapacity", {
get: function() {
return this._instancePool.capacity;
},
set: function(e) {
this._instancePool.capacity = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "instanceExpireTime", {
get: function() {
return this._instancePool.expireTime;
},
set: function(e) {
this._instancePool.expireTime = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "instancePriority", {
get: function() {
return this._instancePool.priority;
},
set: function(e) {
this._instancePool.priority = e;
},
enumerable: !1,
configurable: !0
});
t.prototype.update = function(e, t) {
for (;this._recycleQueue.size > 0; ) {
var o = this._recycleQueue.dequeue();
o.onRecycle();
this._instancePool.unspawn(o.handle);
}
this._uiGroups.forEach(function(o) {
o.update(e, t);
});
};
t.prototype.shutdown = function() {
this._isShutdown = !0;
this.closeAllLoadedUIForms();
this._uiGroups.clear();
this._uiFormsBeingLoaded.clear();
this._uiFormsToReleaseOnLoad.clear();
this._recycleQueue.clear();
e.prototype.shutdown.call(this);
};
t.prototype.setObjectPoolManager = function(e) {
if (!e) throw new Error("Object pool manager is invalid.");
this._objectPoolManager = e;
this._instancePool = this._objectPoolManager.createSingleSpawnObjectPool(c.default, "UI Instance Pool");
};
t.prototype.setResourceManager = function(e) {
if (!e) throw new Error("Resource manager is invalid.");
this._resourceManager = e;
};
t.prototype.setUIFormHelper = function(e) {
if (!e) throw new Error("UI form helper is invalid.");
this._uiFormHelper = e;
};
t.prototype.hasUIGroup = function(e) {
if (!e) throw new Error("UI group name is invalid.");
return this._uiGroups.has(e);
};
t.prototype.getUIGroup = function(e) {
if (!e) throw new Error("UI group name is invalid.");
return this._uiGroups.get(e);
};
t.prototype.getAllUIGroups = function() {
return Array.from(this._uiGroups.values());
};
t.prototype.addUIGroup = function(e, t, o) {
return "number" == typeof t ? this.addUIGroupInternal(e, t, o) : this.addUIGroupInternal(e, 0, t);
};
t.prototype.addUIGroupInternal = function(e, t, o) {
if (p.default.isNullOrEmpty(e)) throw new Error("UI group name is invalid.");
if (!o) throw new Error("UI group helper is invalid.");
if (this.hasUIGroup(e)) return !1;
this._uiGroups.set(e, new l.default(e, t, o));
return !0;
};
t.prototype.hasUIForm = function(e) {
var t = !1;
"number" == typeof e ? this._uiGroups.forEach(function(o) {
o.hasUIForm(e) && (t = !0);
}) : "string" == typeof e && this._uiGroups.forEach(function(o) {
o.hasUIForm(e) && (t = !0);
});
return t;
};
t.prototype.getUIForm = function(e) {
var t = null;
"number" == typeof e ? this._uiGroups.forEach(function(o) {
null === t && (t = o.getUIForm(e));
}) : "string" == typeof e && this._uiGroups.forEach(function(o) {
null === t && (t = o.getUIForm(e));
});
return t;
};
t.prototype.getUIForms = function(e) {
var t = [];
this._uiGroups.forEach(function(o) {
var n = o.getUIForms(e);
n.length > 0 && (t = t.concat(n));
});
return t;
};
t.prototype.getAllLoadedUIForms = function() {
var e = [];
this._uiGroups.forEach(function(t) {
var o = t.getAllUIForms();
o.length > 0 && (e = e.concat(o));
});
return e;
};
t.prototype.getAllLoadingUIFormSerialIds = function() {
var e = [];
this._uiFormsBeingLoaded.forEach(function(t, o) {
e.push(o);
});
return e;
};
t.prototype.isLoadingUIForm = function(e) {
return "number" == typeof e ? this._uiFormsBeingLoaded.has(e) : "string" == typeof e && Array.from(this._uiFormsBeingLoaded.values()).includes(e);
};
t.prototype.isValidUIForm = function(e) {
return !!e && this.hasUIForm(e.serialId);
};
t.prototype.openUIForm = function(e, t, o, n, r) {
return i(this, void 0, Promise, function() {
return a(this, function() {
return r ? [ 2, this.openUIFormInternal(e, t, o, n, r) ] : n ? "boolean" == typeof o ? [ 2, this.openUIFormInternal(e, t, y.default.DEFAULT_PRIORITY, o, n) ] : "number" == typeof o && "boolean" == typeof n ? [ 2, this.openUIFormInternal(e, t, o, n, null) ] : [ 2, this.openUIFormInternal(e, t, o, !1, n) ] : o ? "number" == typeof o ? [ 2, this.openUIFormInternal(e, t, o, !1, null) ] : "boolean" == typeof o ? [ 2, this.openUIFormInternal(e, t, y.default.DEFAULT_PRIORITY, o, null) ] : [ 2, this.openUIFormInternal(e, t, y.default.DEFAULT_PRIORITY, !1, o) ] : [ 2, this.openUIFormInternal(e, t, y.default.DEFAULT_PRIORITY, !1, null) ];
});
});
};
t.prototype.openUIFormInternal = function(e, t, o, n, r) {
return i(this, void 0, Promise, function() {
var o, i, s, c, l, u, y, m, g, b, v;
return a(this, function(a) {
switch (a.label) {
case 0:
if (!this._resourceManager) throw new Error("You must set resource manager first.");
if (!this._uiFormHelper) throw new Error("You must set UI form helper first.");
if (p.default.isNullOrEmpty(e)) throw new Error("UI form asset name is invalid.");
if (p.default.isNullOrEmpty(t)) throw new Error("UI group name is invalid.");
if (!(o = this.getUIGroup(t))) throw new Error("UI group '" + t + "' is not exist.");
i = ++this._serial;
s = this._instancePool.spawn(e);
c = e.split(d.default.SPLIT_BUNDLE_PATH_FLAG);
l = c[0];
u = c[1];
if (s) return [ 3, 5 ];
this._uiFormsBeingLoaded.set(i, e);
a.label = 1;

case 1:
a.trys.push([ 1, 3, , 4 ]);
y = Date.now();
return [ 4, this._resourceManager.getAsset(l, u, f, !0) ];

case 2:
m = a.sent();
g = Date.now();
b = (g - y) / 1e3;
m ? this.loadAssetSuccessCallback(e, l, u, m, i, o, n, b, r) : h.default.warn("load Sound [" + e + "] fail, audio clip is invalid.");
return [ 3, 4 ];

case 3:
v = a.sent();
return [ 2, Promise.reject(v) ];

case 4:
return [ 3, 6 ];

case 5:
this.internalOpenUIForm(i, e, o, s.target, n, !1, 0, r);
a.label = 6;

case 6:
return [ 2, i ];
}
});
});
};
t.prototype.loadAssetSuccessCallback = function(e, t, o, n, r, i, a, s, l) {
if (this._uiFormsToReleaseOnLoad.has(r)) {
this._uiFormsToReleaseOnLoad.delete(r);
this._uiFormHelper.releaseUIForm(t, o, n, null);
} else {
this._uiFormsBeingLoaded.delete(r);
var u = c.default.create(e, n, t, o, this._uiFormHelper.instantiateUIForm(n), this._uiFormHelper);
this._instancePool.register(u, !0);
this.internalOpenUIForm(r, e, i, u.target, a, !0, s, l);
}
};
t.prototype.closeUIForm = function(e, t) {
t ? "number" == typeof e ? this.closeUIFormById(e, t) : this.closeUIFormByForm(e, t) : "number" == typeof e ? this.closeUIFormById(e, null) : this.closeUIFormByForm(e, null);
};
t.prototype.closeUIFormById = function(e, t) {
if (this.isLoadingUIForm(e)) {
this._uiFormsToReleaseOnLoad.add(e);
this._uiFormsBeingLoaded.delete(e);
} else {
var o = this.getUIForm(e);
if (!o) throw new Error("Can not find UI form '" + e + "'.");
this.closeUIFormByForm(o, t);
}
};
t.prototype.closeUIFormByForm = function(e, t) {
if (!e) throw new Error("UI form is invalid.");
var o = e.uiGroup;
if (!o) throw new Error("UI group is invalid.");
o.removeUIForm(e);
e.onClose(this._isShutdown, t);
o.refresh();
this._recycleQueue.enqueue(e);
};
t.prototype.closeAllLoadedUIForms = function(e) {
this.closeAllLoadedUIFormsInternal(e);
};
t.prototype.closeAllLoadedUIFormsInternal = function(e) {
for (var t = 0, o = this.getAllLoadedUIForms(); t < o.length; t++) {
var n = o[t];
this.hasUIForm(n.serialId) && this.closeUIForm(n, e);
}
};
t.prototype.closeAllLoadingUIForms = function() {
var e = this;
this._uiFormsBeingLoaded.forEach(function(t, o) {
e._uiFormsToReleaseOnLoad.add(o);
});
this._uiFormsBeingLoaded.clear();
};
t.prototype.refocusUIForm = function(e, t) {
this.refocusUIFormInternal(e, t);
};
t.prototype.refocusUIFormInternal = function(e, t) {
if (!e) throw new Error("UI form is invalid.");
var o = e.uiGroup;
if (!o) throw new Error("UI group is invalid.");
o.refocusUIForm(e, t);
o.refresh();
e.onRefocus(t);
};
t.prototype.setUIFormInstanceLocked = function(e, t) {
if (!e) throw new Error("UI form instance is invalid.");
this._instancePool.setLocked(e, t);
};
t.prototype.setUIFormInstancePriority = function(e, t) {
if (!e) throw new Error("UI form instance is invalid.");
this._instancePool.setPriority(e, t);
};
t.prototype.internalOpenUIForm = function(e, t, o, n, r, i, a, s) {
try {
var c = this._uiFormHelper.createUIForm(n, o, s);
if (!c) throw new Error("Can not create UI form in UI form helper.");
c.onInit(e, t, o, r, i, s);
o.addUIForm(c);
c.onOpen(s);
o.refresh();
} catch (e) {
h.default.warn("open uiForm failure：", e);
}
};
t.prototype.hasUIShowing = function() {
var e = !1;
this._uiGroups.forEach(function(t) {
e || t.uiFormCount > 0 && (e = !0);
});
return e;
};
return t;
}(s.default);
o.default = m;
cc._RF.pop();
}, {
"../../ccEngine/log/DFLog": "DFLog",
"../../ccEngine/res/ConstantResourceCGF": "ConstantResourceCGF",
"../base/GameFrameworkModule": "GameFrameworkModule",
"../base/res/GameFrameworkConstantConfig": "GameFrameworkConstantConfig",
"../system/collections/generic/QueueDf": "QueueDf",
"../utils/StringUtility": "StringUtility",
"./UIFormInstanceObject": "UIFormInstanceObject",
"./UIGroup": "UIGroup"
} ],
UiComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8aeccSSQdhN+66kI0A7zjxH", "UiComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = e("../base/GameFrameworkComponent"), l = cc._decorator.property, u = cc.Node, p = cc._decorator.ccclass, d = cc.Vec3, f = e("../log/DFLog"), h = e("../../base/utils/GFClassUtils"), y = e("./UIGroupInfo"), m = cc.Canvas, g = e("../../base/base/GameFrameworkEntry"), b = e("../../base/ui/UIManager"), v = e("../res/ResourceManager"), _ = e("../../base/objectPool/ObjectPoolManager"), w = e("../utils/ComponentHelper"), N = e("./DefaultUIFormHelper"), P = e("./CcUIGroupHelper"), A = e("../../../../gameMain/scripts/dataTable/DRUIForm"), S = e("../../../../gameMain/scripts/utils/AssetUtility"), C = e("../definition/constant/ConstantEngineAssetPriority"), O = e("../../base/utils/StringUtility"), D = e("./CcUIForm"), I = cc.Widget, k = e("../../../../gameMain/scripts/definition/constant/ConstantBundle"), F = cc.Prefab, E = e("../../../../gameMain/scripts/ui/base/UiFormId"), R = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._defaultPriority = 0;
t._manager = null;
t._internalUIFormResults = [];
t._instanceAutoReleaseInterval = 60;
t._instanceCapacity = 16;
t._instanceExpireTime = 60;
t._instancePriority = 0;
t._uiRoot = null;
t._uiGroups = [];
t._uiGroupUseMap = new Map();
return t;
}
Object.defineProperty(t.prototype, "instanceOpenRoot", {
get: function() {
return m.instance.node;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "uiGroupCount", {
get: function() {
return this._manager.uiGroupCount;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "instanceAutoReleaseInterval", {
get: function() {
return this._manager.instanceAutoReleaseInterval;
},
set: function(e) {
this._manager.instanceAutoReleaseInterval = this._instanceAutoReleaseInterval = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "instanceCapacity", {
get: function() {
return this._manager.instanceCapacity;
},
set: function(e) {
this._manager.instanceCapacity = this._instanceCapacity = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "instanceExpireTime", {
get: function() {
return this._manager.instanceExpireTime;
},
set: function(e) {
this._manager.instanceExpireTime = this._instanceExpireTime = e;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "instancePriority", {
get: function() {
return this._manager.instancePriority;
},
set: function(e) {
this._manager.instancePriority = this._instancePriority = e;
},
enumerable: !1,
configurable: !0
});
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._manager = g.default.getModule(b.default);
this._manager || console.error("Sound manager is invalid.");
};
t.prototype.start = function() {
return a(this, void 0, void 0, function() {
var e, t, o;
return s(this, function(n) {
switch (n.label) {
case 0:
this._manager.setResourceManager(g.default.getModule(v.default));
this._manager.setObjectPoolManager(g.default.getModule(_.default));
this._manager.instanceAutoReleaseInterval = this._instanceAutoReleaseInterval;
this._manager.instanceCapacity = this._instanceCapacity;
this._manager.instanceExpireTime = this._instanceExpireTime;
this._manager.instancePriority = this._instancePriority;
if (!(e = w.default.createHelper(N.default, 0, this.node, "UI Form Helper"))) {
f.default.error("Can not create UI form helper.");
return [ 2 ];
}
e.node.name = "UI Form Helper";
e.node.setParent(this.node);
e.node.setScale(d.ONE.clone());
this._manager.setUIFormHelper(e);
if (!this._uiRoot) {
this._uiRoot = new u("UI Form Instances");
this._uiRoot.setParent(this.node);
this._uiRoot.setScale(d.ONE.clone());
(t = this._uiRoot.addComponent(I)).left = t.right = t.top = t.bottom = 0;
}
o = 0;
n.label = 1;

case 1:
return o < this._uiGroups.length ? [ 4, this.addUIGroup(this._uiGroups[o].groupName, this._uiGroups[o].depth) ] : [ 3, 4 ];

case 2:
n.sent() || f.default.warn("Add UI group '" + this._uiGroups[o].groupName + "' failure.");
n.label = 3;

case 3:
o++;
return [ 3, 1 ];

case 4:
return [ 2 ];
}
});
});
};
t.prototype.groupUIShowing = function(e) {
var t = this._uiGroupUseMap.get(e);
return t && t > 0;
};
t.prototype.addGroupUICount = function(e, t) {
void 0 === t && (t = 1);
var o = this._uiGroupUseMap.get(e);
o ? this._uiGroupUseMap.set(e, o + 1) : f.default.warn("group is invalid.");
};
t.prototype.reduceGroupUICount = function(e, t) {
void 0 === t && (t = 1);
var o = this._uiGroupUseMap.get(e);
o ? o <= 0 ? f.default.warn("group ui count is less than 0, reduce operation is not allowed.") : this._uiGroupUseMap.set(e, o - 1) : f.default.warn("group is invalid.");
};
t.prototype.hasUIGroup = function(e) {
return this._manager.hasUIGroup(e);
};
t.prototype.getUIGroup = function(e) {
return this._manager.getUIGroup(e);
};
t.prototype.getAllUIGroups = function() {
return this._manager.getAllUIGroups();
};
t.prototype.addUIGroup = function(e, t) {
void 0 === t && (t = 0);
return a(this, void 0, void 0, function() {
var o, n, r, i;
return s(this, function(a) {
switch (a.label) {
case 0:
if (this.hasUIGroup(e)) {
f.default.warn("UIGroup '[" + e + "]' is already exist.");
return [ 2, !1 ];
}
r = (n = w.default).createHelper;
i = [ P.default, this.uiGroupCount, this._uiRoot, "UI Group - " + e ];
return [ 4, window.GameEntryDF.resources.getAsset(k.default.uiItems, "UIGroup", F, !0) ];

case 1:
o = r.apply(n, i.concat([ a.sent() ]));
return [ 2, this._manager.addUIGroup(e, t, o) ];
}
});
});
};
t.prototype.hasUIForm = function(e, t) {
return "number" == typeof e ? t ? this.hasUIFormInternal(e, t) : this.hasUIFormInternal(e) : "string" == typeof e && this.hasUIFormInternal(e);
};
t.prototype.hasUIFormInternal = function(e, t) {
if ("number" == typeof e) {
if (t) {
var o = window.GameEntryDF.dataTable.getDataTable(A.default).getDataRow(e);
if (!o) return !1;
var n = S.default.getUiFormAsset(o.assetName, o.bundleName);
if (O.default.isNullOrEmpty(t)) return this._manager.hasUIForm(n);
var r = this.getUIGroup(t);
return !!r && r.hasUIForm(n);
}
return this._manager.hasUIForm(e);
}
return "string" == typeof e && this._manager.hasUIForm(e);
};
t.prototype.getUIForm = function(e, t) {
return "number" == typeof e ? t ? this.getUIFormInternal(e, t) : this.getUIFormInternal(e) : "string" == typeof e ? this.getUIFormInternal(e) : null;
};
t.prototype.getUIFormInternal = function(e, t) {
if ("number" == typeof e) {
if (t) {
var o = window.GameEntryDF.dataTable.getDataTable(A.default).getDataRow(e);
if (!o) return null;
var n = S.default.getUiFormAsset(o.assetName, o.bundleName), r = null;
if (O.default.isNullOrEmpty(t)) return (r = this._manager.getUIForm(n)) ? r.logic : null;
var i = this.getUIGroup(t);
return i && (r = i.getUIForm(n)) ? r.logic : null;
}
return this._manager.getUIForm(e);
}
if ("string" == typeof e) return this._manager.getUIForm(e);
};
t.prototype.getUIForms = function(e) {
var t = this._manager.getUIForms(e), o = [];
t.forEach(function(e) {
o.push(e);
});
return o;
};
t.prototype.getAllLoadedUIForms = function() {
var e = this._manager.getAllLoadedUIForms(), t = [];
e.forEach(function(e) {
t.push(e);
});
return t;
};
t.prototype.getAllLoadingUIFormSerialIds = function() {
return this._manager.getAllLoadingUIFormSerialIds();
};
t.prototype.isLoadingUIForm = function(e) {
return "number" == typeof e ? this._manager.isLoadingUIForm(e) : "string" == typeof e && this._manager.isLoadingUIForm(e);
};
t.prototype.isValidUIForm = function(e) {
return this._manager.isValidUIForm(e);
};
t.prototype.openDialog = function(e) {
return a(this, void 0, void 0, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this.openUIForm(E.UiFormId.DialogForm, e) ];

case 1:
t.sent();
return [ 2 ];
}
});
});
};
t.prototype.openUIForm = function(e, t, o, n, r) {
return a(this, void 0, Promise, function() {
var i, a;
return s(this, function() {
this.updateUIRoot();
if ("number" == typeof e) {
i = window.GameEntryDF.dataTable.getDataTable(A.default);
if (!(a = i.getDataRow(e))) {
f.default.warn("Can not load UI form '" + e + "' from data table.");
return [ 2, -1 ];
}
return [ 2, this._manager.openUIForm(S.default.getUiFormAsset(a.assetName, a.bundleName), a.uiGroupName, C.default.UIFormAsset, a.pauseCoveredUIForm, t) ];
}
return r ? [ 2, this._manager.openUIForm(e, t, o, n, r) ] : n ? [ 2, this._manager.openUIForm(e, t, o, n) ] : o ? [ 2, this._manager.openUIForm(e, t, o) ] : [ 2, this._manager.openUIForm(e, t) ];
});
});
};
t.prototype.closeUIForm = function(e, t) {
"number" == typeof e ? this._manager.closeUIForm(e, t) : e instanceof D.default ? this._manager.closeUIForm(e.uiForm) : this._manager.closeUIForm(e, t);
this.tryResetUIRoot();
};
t.prototype.closeAllLoadedUIForms = function(e) {
e && this._manager.closeAllLoadedUIForms(e);
this._manager.closeAllLoadedUIForms();
this.tryResetUIRoot();
};
t.prototype.closeAllLoadingUIForms = function() {
this._manager.closeAllLoadingUIForms();
this.tryResetUIRoot();
};
t.prototype.refocusUIForm = function(e, t) {
return t ? this._manager.refocusUIForm(e, t) : this._manager.refocusUIForm(e);
};
t.prototype.setUIFormInstanceLocked = function(e, t) {
e ? this._manager.setUIFormInstanceLocked(e.node, t) : f.default.warn("UI form is invalid.");
};
t.prototype.setUIFormInstancePriority = function(e, t) {
e ? this._manager.setUIFormInstancePriority(e.node, t) : f.default.warn("UI form is invalid.");
};
t.prototype.hasUIShowing = function() {
return this._manager.hasUIShowing();
};
t.prototype.updateUIRoot = function() {
if (this._uiRoot.parent === this.instanceOpenRoot) f.default.warn("无需设置UI根节点,当前根节点：" + this._uiRoot.parent.name); else {
this._uiRoot.setParent(this.instanceOpenRoot);
f.default.info("设置UI根节点为：" + this._uiRoot.parent.name);
this._uiRoot.setScale(d.ONE.clone());
this._uiRoot.setPosition(d.ZERO.clone());
this._uiRoot.zIndex = 9999;
}
};
t.prototype.tryResetUIRoot = function() {
if (this.hasUIShowing()) f.default.warn("有UI正在展示，无需重置UI根节点,当前根节点：" + this._uiRoot.parent.name); else if (this._uiRoot.parent === this.node) f.default.warn("无需重置UI根节点,当前根节点：" + this._uiRoot.parent.name); else {
this._uiRoot.setParent(this.node);
f.default.info("重置UI根节点为：" + this._uiRoot.parent.name);
this._uiRoot.setScale(d.ONE.clone());
this._uiRoot.setPosition(d.ZERO.clone());
this._uiRoot.zIndex = 9999;
}
};
i([ l({
visible: !0,
tooltip: "面实例对象池自动释放可释放对象的间隔秒数"
}) ], t.prototype, "_instanceAutoReleaseInterval", void 0);
i([ l({
visible: !0,
tooltip: "界面实例对象池的容量"
}) ], t.prototype, "_instanceCapacity", void 0);
i([ l({
visible: !0,
tooltip: "界面实例对象池对象过期秒数"
}) ], t.prototype, "_instanceExpireTime", void 0);
i([ l({
type: u,
visible: !0,
tooltip: "UI根节点"
}) ], t.prototype, "_uiRoot", void 0);
i([ l({
type: [ y.default ],
tooltip: "界面组",
visible: !0
}) ], t.prototype, "_uiGroups", void 0);
return i([ p, h.gfClass("UiComponent") ], t);
}(c.default);
o.default = R;
cc._RF.pop();
}, {
"../../../../gameMain/scripts/dataTable/DRUIForm": "DRUIForm",
"../../../../gameMain/scripts/definition/constant/ConstantBundle": "ConstantBundle",
"../../../../gameMain/scripts/ui/base/UiFormId": "UiFormId",
"../../../../gameMain/scripts/utils/AssetUtility": "AssetUtility",
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/objectPool/ObjectPoolManager": "ObjectPoolManager",
"../../base/ui/UIManager": "UIManager",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../../base/utils/StringUtility": "StringUtility",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../definition/constant/ConstantEngineAssetPriority": "ConstantEngineAssetPriority",
"../log/DFLog": "DFLog",
"../res/ResourceManager": "ResourceManager",
"../utils/ComponentHelper": "ComponentHelper",
"./CcUIForm": "CcUIForm",
"./CcUIGroupHelper": "CcUIGroupHelper",
"./DefaultUIFormHelper": "DefaultUIFormHelper",
"./UIGroupInfo": "UIGroupInfo"
} ],
UiFormId: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9e885QQ8StGqYKzqGjKBtuo", "UiFormId");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.UiFormId = void 0;
(function(e) {
e[e.DialogForm = 1] = "DialogForm";
e[e.SplashForm = 100] = "SplashForm";
e[e.PrivacyForm = 101] = "PrivacyForm";
e[e.HealthForm = 102] = "HealthForm";
e[e.NetworkTipsForm = 103] = "NetworkTipsForm";
e[e.NativeAdForm = 104] = "NativeAdForm";
e[e.NativeBannerAdFormH = 105] = "NativeBannerAdFormH";
e[e.NativeBannerAdFormV = 106] = "NativeBannerAdFormV";
})(o.UiFormId || (o.UiFormId = {}));
cc._RF.pop();
}, {} ],
UserRegionInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e15293F6iVJ5opvGjeeogTk", "UserRegionInfo");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.default = function() {};
cc._RF.pop();
}, {} ],
VarBool: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "58b21Eb3BJHS7h5j4vMTYcS", "VarBool");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../base/base/variable/Variable"), s = e("../../base/utils/GFClassUtils"), c = function(e) {
r(t, e);
function t(t) {
void 0 === t && (t = !1);
return e.call(this, t) || this;
}
o = t;
t.fromValue = function(e) {
return new o(e);
};
t.prototype.reset = function() {
this.value = !1;
};
var o;
return o = i([ s.gfClass("VarBool") ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../base/base/variable/Variable": "Variable",
"../../base/utils/GFClassUtils": "GFClassUtils"
} ],
VarDateTime: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "96eb7MPMIdH67bhjvT+i4xe", "VarDateTime");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../base/base/variable/Variable"), s = e("../../base/utils/GFClassUtils"), c = function(e) {
r(t, e);
function t(t) {
return e.call(this, t) || this;
}
o = t;
t.fromValue = function(e) {
return new o(e);
};
t.fromDateString = function(e) {
return new o(new Date(e));
};
t.prototype.reset = function() {
this.value = new Date();
};
var o;
return o = i([ s.gfClass("VarDateTime") ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../base/base/variable/Variable": "Variable",
"../../base/utils/GFClassUtils": "GFClassUtils"
} ],
VarNode: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4f9adxLUCxHpaKqSR7b4EHR", "VarNode");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../base/base/variable/Variable"), s = e("../../base/utils/GFClassUtils"), c = function(e) {
r(t, e);
function t(t) {
return e.call(this, t) || this;
}
o = t;
t.fromValue = function(e) {
return new o(e);
};
t.prototype.reset = function() {
this.value = null;
};
var o;
return o = i([ s.gfClass("VarNode") ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../base/base/variable/Variable": "Variable",
"../../base/utils/GFClassUtils": "GFClassUtils"
} ],
VarNumber: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2c528BhtzJN9oj5gmfO688H", "VarNumber");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../base/base/variable/Variable"), s = e("../../base/utils/GFClassUtils"), c = function(e) {
r(t, e);
function t(t) {
return e.call(this, t) || this;
}
o = t;
t.fromValue = function(e) {
return new o(e);
};
var o;
return o = i([ s.gfClass("VarNumber") ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../base/base/variable/Variable": "Variable",
"../../base/utils/GFClassUtils": "GFClassUtils"
} ],
VarObject: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7dc53Aofn9MC6CYugZEWYBe", "VarObject");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../base/base/variable/Variable"), s = e("../../base/utils/GFClassUtils"), c = function(e) {
r(t, e);
function t(t) {
return e.call(this, t) || this;
}
o = t;
t.fromValue = function(e) {
return new o(e);
};
var o;
return o = i([ s.gfClass("VarObject") ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../base/base/variable/Variable": "Variable",
"../../base/utils/GFClassUtils": "GFClassUtils"
} ],
VarString: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1f7d2HMZlVOX4ZwX0PE3o16", "VarString");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../base/base/variable/Variable"), s = e("../../base/utils/GFClassUtils"), c = function(e) {
r(t, e);
function t(t) {
return e.call(this, t) || this;
}
o = t;
t.fromValue = function(e) {
return new o(e);
};
var o;
return o = i([ s.gfClass("VarString") ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../base/base/variable/Variable": "Variable",
"../../base/utils/GFClassUtils": "GFClassUtils"
} ],
VarVec2: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c76b39kuSNIxqeeUKcNMNU2", "VarVec2");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../base/base/variable/Variable"), s = cc.Vec2, c = e("../../base/utils/GFClassUtils"), l = function(e) {
r(t, e);
function t(t) {
return e.call(this, t) || this;
}
o = t;
t.fromValue = function(e) {
return new o(e);
};
t.prototype.reset = function() {
this.value = new s(0, 0);
};
var o;
return o = i([ c.gfClass("VarVec2") ], t);
}(a.default);
o.default = l;
cc._RF.pop();
}, {
"../../base/base/variable/Variable": "Variable",
"../../base/utils/GFClassUtils": "GFClassUtils"
} ],
VarVec3: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "10c88I+Jt9JPKurVPJnxkMq", "VarVec3");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("../../base/base/variable/Variable"), s = cc.Vec3, c = e("../../base/utils/GFClassUtils"), l = function(e) {
r(t, e);
function t(t) {
return e.call(this, t) || this;
}
o = t;
t.fromValue = function(e) {
return new o(e);
};
t.prototype.reset = function() {
this.value = new s(0, 0, 0);
};
var o;
return o = i([ c.gfClass("VarVec3") ], t);
}(a.default);
o.default = l;
cc._RF.pop();
}, {
"../../base/base/variable/Variable": "Variable",
"../../base/utils/GFClassUtils": "GFClassUtils"
} ],
VariableBase: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ca988X2ycxGmaxWEl0qyHER", "VariableBase");
var n = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var r = e("../../utils/GFClassUtils"), i = function() {
function e() {}
e.prototype.clear = function() {
this.reset();
};
return n([ r.gfClass("VariableBase") ], e);
}();
o.default = i;
cc._RF.pop();
}, {
"../../utils/GFClassUtils": "GFClassUtils"
} ],
Variable: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "499faZmR7hNj7AY/Ixdbafw", "Variable");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var a = e("./VariableBase"), s = e("../../utils/GFClassUtils"), c = function(e) {
r(t, e);
function t(t) {
var o = e.call(this) || this;
o._value = void 0 !== t ? t : null;
return o;
}
Object.defineProperty(t.prototype, "type", {
get: function() {
return null === this._value ? Object : Object.getPrototypeOf(this._value).constructor;
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "value", {
get: function() {
return this._value;
},
set: function(e) {
this._value = e;
},
enumerable: !1,
configurable: !0
});
t.prototype.getValue = function() {
return this._value;
};
t.prototype.setValue = function(e) {
this._value = e;
};
t.prototype.reset = function() {
this._value = null;
};
t.prototype.toString = function() {
return null !== this._value ? this._value.toString() : "[Null]";
};
return i([ s.gfClass("Variable") ], t);
}(a.default);
o.default = c;
cc._RF.pop();
}, {
"../../utils/GFClassUtils": "GFClassUtils",
"./VariableBase": "VariableBase"
} ],
VersionInfo: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a4ed7Gs6iNBz5hiML9tOp9G", "VersionInfo");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.default = function() {};
cc._RF.pop();
}, {} ],
VivoAccount: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e6dabs5VRtGuqAjSiZ8R+LA", "VivoAccount");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../../base/adBase/MiniGameAccountBase"), c = e("../../../log/DFLog"), l = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.login = function() {
var e, t;
return i(this, void 0, void 0, function() {
var o;
return a(this, function(n) {
switch (n.label) {
case 0:
try {
if (qg.getOAID) {
this.owner.DeviceId = null !== (t = null === (e = qg.getOAID()) || void 0 === e ? void 0 : e.oaid) && void 0 !== t ? t : "";
c.default.debug("本机设备 Id:" + this.owner.DeviceId);
} else c.default.warn("本设备不支持获取 DeviceId.");
this.owner.checkDeviceId();
} catch (e) {
c.default.warn("initDeviceId 过程中发生错误:", e);
this.owner.checkDeviceId();
}
n.label = 1;

case 1:
n.trys.push([ 1, 3, , 4 ]);
return [ 4, new Promise(function(e, t) {
var o = 1e3 * window.GameEntryDF.builtin.buildInfo.getTimeout, n = setTimeout(function() {
t(new Error("登录超时-DreamFly Code."));
}, o);
qg.login({
success: function(o) {
clearTimeout(n);
if (o.data && o.data.token) {
c.default.warn("登录-成功.");
e(o);
} else t(new Error("登录成功但未获取到 token"));
},
fail: function(e) {
clearTimeout(n);
c.default.warn("登录-失败：" + JSON.stringify(e));
t(e);
}
});
}) ];

case 2:
n.sent();
return [ 2, !0 ];

case 3:
o = n.sent();
c.default.warn("登录-过程中发生错误:", o);
return [ 2, !1 ];

case 4:
return [ 2 ];
}
});
});
};
t.prototype.logout = function() {
return i(this, void 0, void 0, function() {
return a(this, function() {
return [ 2 ];
});
});
};
return t;
}(s.MiniGameAccountBase);
o.default = l;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameAccountBase": "MiniGameAccountBase"
} ],
VivoBannerAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cef05vuWsxIf5YKFTNce5UF", "VivoBannerAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/enum/LoadAdState"), a = e("../../base/adBase/BannerAdBase"), s = e("../../base/enum/AdShowingType"), c = e("../../../log/DFLog"), l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.loadAdState = i.LoadAdState.None;
t.isForceClose = !1;
t.m_CanExecuteCloseAd = !1;
return t;
}
t.prototype.init = function(t, o) {
e.prototype.init.call(this, o);
this.owner = t;
};
t.prototype.showAd = function(e) {
this.showInternal(e);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
if (window.GameEntryDF.ad.switchEnable) {
c.default.debug("横幅广告-隐藏- B");
if (!0 === t) c.default.debug("横幅广告-隐藏-P手动隐藏"); else {
c.default.debug("横幅广告-隐藏-直接隐藏");
this.hideInternal(t);
}
} else {
c.default.debug("横幅广告-隐藏- A");
this.hideInternal(t);
}
};
t.prototype.showInternal = function(e) {
if (this.owner.allowShowAd(e)) if (this.inCd(3)) c.default.warn("横幅广告-展示-3秒内部允许重复请求."); else try {
(this.loadAdState == i.LoadAdState.Error || this.loadAdState >= i.LoadAdState.Loaded) && window.GameEntryDF.ad.hideBannerAd(!1);
this.loadAdState = i.LoadAdState.Loading;
this.isForceClose = !1;
this.m_CanExecuteCloseAd = !1;
this.m_Ad = qg.createBannerAd({
posId: this.owner.miniGameInfo.bannerId,
adIntervals: 30
});
var t = this;
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onClick && this.m_Ad.onClick(this.onClick.bind(this));
this.m_Ad.onError(this.onError.bind(this));
this.m_Ad;
this.m_Ad.show().then(function() {
c.default.debug("横幅广告-展示-成功.");
t.loadAdState = i.LoadAdState.Show;
if (t.m_CanExecuteCloseAd) {
c.default.debug("执行强制关闭广告--横幅");
window.GameEntryDF.ad.hideBannerAd(!1);
}
}).catch(function(e) {
c.default.warn("横幅广告-展示-失败:" + JSON.stringify(e));
t.loadAdState = i.LoadAdState.Error;
});
} catch (e) {
c.default.warn("横幅广告-展示-创建过程中发生错误：" + JSON.stringify(e));
} else c.default.warn("横幅广告-展示-受限.");
};
t.prototype.hideInternal = function(e) {
try {
window.GameEntryDF.ad.hidePushBannerAd(!1);
this.isForceClose = e;
if (this.loadAdState == i.LoadAdState.Loading && this.isForceClose) {
c.default.debug("允许执行强制关闭广告--横幅");
this.m_CanExecuteCloseAd = !0;
} else {
c.default.debug("无需执行强制关闭广告--横幅");
this.m_CanExecuteCloseAd = !1;
}
if (!this.m_Ad) {
c.default.debug("横幅不存在，无需继续处理隐藏.");
return;
}
if (this.loadAdState == i.LoadAdState.Show) {
var t = this.m_Ad.hide();
t && t.then(function() {
c.default.debug("横幅广告-隐藏-成功.");
}).catch(function(e) {
c.default.debug("横幅广告-隐藏-失败:" + JSON.stringify(e));
});
this.m_Ad.offLoad(this.onLoad.bind(this));
this.m_Ad.offClick && this.m_Ad.offClick(this.onClick.bind(this));
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.destroy();
this.m_Ad = null;
this.loadAdState = i.LoadAdState.None;
}
} catch (e) {
c.default.debug("横幅广告-隐藏-过程中发生错误:" + JSON.stringify(e));
}
};
t.prototype.onClick = function(e) {
this.owner.adShowingType = s.AdShowingType.Banner;
c.default.debug("横幅广告-onClick:", e);
};
t.prototype.onLoad = function() {
this.loadAdState = i.LoadAdState.Loaded;
c.default.debug("横幅广告-onLoad.");
};
t.prototype.onError = function(e) {
this.loadAdState = i.LoadAdState.Error;
c.default.warn("横幅广告-onError:" + JSON.stringify(e));
};
t.prototype.onAdProcess = function() {};
return t;
}(a.default);
o.default = l;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/BannerAdBase": "BannerAdBase",
"../../base/enum/AdShowingType": "AdShowingType",
"../../base/enum/LoadAdState": "LoadAdState"
} ],
VivoBoxBannerAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2251dkr2zpGiL/nWQJaDYRj", "VivoBoxBannerAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/adBase/BoxBannerAdBase"), a = e("../../base/enum/AdShowingType"), s = e("../../base/enum/LoadAdState"), c = e("../../../log/DFLog"), l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_Ad = null;
t.loadAdState = s.LoadAdState.None;
return t;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.showAd = function(t) {
e.prototype.showAd.call(this, t);
this.showInternal(t);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
if (window.GameEntryDF.ad.switchEnable) {
c.default.debug("互推Banner-隐藏- B");
if (!0 === t) c.default.debug("互推Banner-隐藏-P手动关闭"); else {
c.default.debug("互推Banner-隐藏-直接关闭");
this.hideInternal();
}
} else {
c.default.debug("互推Banner-隐藏- A");
this.hideInternal();
}
};
t.prototype.showInternal = function(e) {
if (this.owner.allowShowAd(e)) if (this.inCd(5, this.owner.IsCheckBoxBannerAdCd)) c.default.warn("互推Banner-展示-5秒内不允许重复请求"); else {
this.owner.IsCheckBoxBannerAdCd = !0;
try {
(this.loadAdState == s.LoadAdState.Error || this.loadAdState >= s.LoadAdState.Loaded) && window.GameEntryDF.ad.hidePushBannerAd(!1);
this.loadAdState = s.LoadAdState.Loading;
var t = this;
if (qg.createBoxBannerAd) {
window.GameEntryDF.ad.hidePushBoxAd(!1);
this.owner.BoxBannerAdShowed = !1;
this.m_Ad = qg.createBoxBannerAd({
posId: t.owner.miniGameInfo.pushBoxId[1]
});
this.m_Ad.onLoad(this.onLoaded.bind(this));
this.m_Ad.onClick && this.m_Ad.onClick(this.onClick.bind(this));
this.m_Ad.onError(this.onError.bind(this));
this.m_Ad.onClose(this.onClose.bind(this));
this.m_Ad.show().then(function() {
t.owner.BoxBannerAdShowed = !0;
t.loadAdState = s.LoadAdState.Show;
c.default.warn("互推Banner-展示-成功");
});
} else c.default.debug("互推Banner-展示-暂不支持相关 API-banner");
} catch (e) {
c.default.warn("互推Banner-展示-过程中发生错误:", e);
}
} else c.default.warn("互推Banner-展示-受限");
};
t.prototype.hideInternal = function() {
try {
if (null != this.m_Ad) {
c.default.warn("互推Banner-隐藏.");
this.m_Ad.offLoad(this.onLoaded.bind(this));
this.m_Ad.offClick && this.m_Ad.offClick(this.onClick.bind(this));
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.offClose(this.onClose.bind(this));
this.m_Ad.destroy();
this.m_Ad = null;
this.loadAdState = s.LoadAdState.None;
}
} catch (e) {
c.default.warn("互推Banner-隐藏-过程中发生错误：", e);
}
};
t.prototype.onClick = function(e) {
this.owner.adShowingType = a.AdShowingType.BoxBanner;
c.default.debug("互推Banner-:onClick-Obj:", e);
};
t.prototype.onLoaded = function() {
c.default.debug("互推Banner-onLoaded");
this.loadAdState = s.LoadAdState.Loaded;
};
t.prototype.onError = function(e) {
c.default.warn("互推Banner-onError:", e);
this.loadAdState = s.LoadAdState.Error;
};
t.prototype.onClose = function() {
c.default.debug("互推Banner-onClose ");
};
t.prototype.onAdProcess = function() {};
return t;
}(i.default);
o.default = l;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/BoxBannerAdBase": "BoxBannerAdBase",
"../../base/enum/AdShowingType": "AdShowingType",
"../../base/enum/LoadAdState": "LoadAdState"
} ],
VivoBoxPortalAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b8aa9zMzEVO8a5d3Bhw5SuN", "VivoBoxPortalAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/adBase/BoxPortalAdBase"), a = e("../../base/enum/AdShowingType"), s = e("../../base/enum/LoadAdState"), c = e("../../../log/DFLog"), l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_Ad = null;
t.loadAdState = s.LoadAdState.None;
return t;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.showAd = function(e) {
this.showInternal(e);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
if (window.GameEntryDF.ad.switchEnable) {
c.default.debug("互推九宫-隐藏- B");
if (!0 === t) {
c.default.debug("互推九宫-隐藏-直接关闭1");
this.hideInternal();
} else {
c.default.debug("互推九宫-隐藏-直接关闭2");
this.hideInternal();
}
} else {
c.default.debug("互推九宫-隐藏- A");
this.hideInternal();
}
};
t.prototype.showInternal = function() {
if (this.owner.allowShowAd(!0)) if (this.inCd(5, this.owner.IsCheckBoxPortalAdCd)) c.default.warn("互推九宫-展示-5秒内部不允许重复请求."); else {
this.owner.IsCheckBoxPortalAdCd = !0;
try {
(this.loadAdState == s.LoadAdState.Error || this.loadAdState >= s.LoadAdState.Loaded) && window.GameEntryDF.ad.hidePushBoxAd(!1);
this.loadAdState = s.LoadAdState.Loading;
if (qg.createBoxPortalAd) {
this.m_Ad = qg.createBoxPortalAd({
posId: this.owner.miniGameInfo.pushBoxId[0],
marginTop: 222
});
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onClick && this.m_Ad.onClick(this.onClick.bind(this));
this.m_Ad.onError(this.onError.bind(this));
this.m_Ad.onShow(this.onShow.bind(this));
this.m_Ad.onClose(this.onClose.bind(this));
} else c.default.warn("互推九宫-展示-暂不支持相关 API");
} catch (e) {
c.default.warn("互推九宫-展示-过程中发生错误：", e);
}
} else c.default.warn("互推九宫-展示-受限.");
};
t.prototype.onLoad = function() {
c.default.debug("互推九宫-onLoad");
this.loadAdState = s.LoadAdState.Loaded;
this.m_Ad.show();
};
t.prototype.onClick = function(e) {
this.owner.adShowingType = a.AdShowingType.Box9;
c.default.debug("互推九宫-onClick-obj:", e);
};
t.prototype.onError = function(e) {
c.default.debug("互推九宫-onError：", e);
this.loadAdState = s.LoadAdState.Error;
};
t.prototype.onShow = function(e) {
c.default.debug("互推九宫-onShow-err：", e);
this.loadAdState = s.LoadAdState.Show;
};
t.prototype.onClose = function() {
c.default.debug("互推九宫-onClose");
this.m_Ad.isDestroyed;
};
t.prototype.hideInternal = function() {
try {
c.default.debug("互推九宫-隐藏.");
if (null != this.m_Ad) {
this.m_Ad.offLoad(this.onLoad.bind(this));
this.m_Ad.offClick && this.m_Ad.offClick(this.onClick.bind(this));
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.offShow(this.onShow.bind(this));
this.m_Ad.offClose(this.onClose.bind(this));
this.m_Ad.isDestroyed = !0;
this.m_Ad.hide();
this.m_Ad.destroy();
this.m_Ad = null;
this.loadAdState = s.LoadAdState.None;
}
} catch (e) {
c.default.debug("互推九宫-隐藏-过程中发生错误" + JSON.stringify(e));
}
};
t.prototype.onAdProcess = function() {};
return t;
}(i.default);
o.default = l;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/BoxPortalAdBase": "BoxPortalAdBase",
"../../base/enum/AdShowingType": "AdShowingType",
"../../base/enum/LoadAdState": "LoadAdState"
} ],
VivoGameSystem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "51859gtOsdOwL0lAloWhXJH", "VivoGameSystem");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../../../../../../gameMain/scripts/definition/constant/ConstantEvent"), c = e("../../base/enum/AdShowingType"), l = e("../../base/adBase/MiniGameSystemBase"), u = e("../../../../base/utils/Ramdom"), p = e("../../../log/DFLog"), d = e("../../../../../../gameMain/scripts/ui/base/UiFormId"), f = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_systemInfo = null;
return t;
}
t.prototype.init = function(e) {
this.owner = e;
try {
qg.onShow(this.onAppShow.bind(this));
qg.onHide(this.onAppHide.bind(this));
} catch (e) {
p.default.debug("系统-注册前后台事件失败:" + JSON.stringify(e));
}
window.GameEntryDF.event.subscribe(s.default.showRewardedAdOnShow, function() {
p.default.debug("回弹-展示激励视频");
window.GameEntryDF.ad.showRewardVideoAd({
success: function() {},
fail: function() {},
complete: function() {}
});
});
};
t.prototype.showPolicy = function() {
return i(this, void 0, void 0, function() {
return a(this, function(e) {
switch (e.label) {
case 0:
return [ 4, window.dfgf.ui.openUIForm(d.UiFormId.PrivacyForm) ];

case 1:
e.sent();
return [ 2 ];
}
});
});
};
t.prototype.moreGame = function() {};
t.prototype.showConnect = function() {
window.GameEntryDF.base.isEditor ? this.owner.showSimAdMode1("联系客服", this.owner.callServiceStr) : this.showToast(this.owner.callServiceStr);
};
t.prototype.getSystemInfo = function() {
this.m_systemInfo || (this.m_systemInfo = qg.getSystemInfoSync());
return this.m_systemInfo;
};
t.prototype.onAppShow = function() {
p.default.debug("应用回到前台.");
if (this.owner.switchEnable) if (this.owner.adShowingType == c.AdShowingType.Native) {
p.default.debug("原生返回，100+展示激励。");
setTimeout(function() {
window.GameEntryDF.event.fire(s.default.showRewardedAdOnShow);
}, 1e3 * u.default.rangeFloat1(1.9, 3));
} else p.default.debug("非原生返回，不展示。", this.owner.adShowingType);
};
t.prototype.onAppHide = function() {
p.default.debug("应用进入后台.");
};
t.prototype.installShortcut = function(e) {
try {
qg.hasShortcutInstalled({
success: function(t) {
t ? qg.showToast({
message: "图标已创建~",
duration: 2
}) : qg.installShortcut({
success: function() {
qg.showToast({
message: "创建成功~",
duration: 2
});
e && e.success && e.success();
},
fail: function() {
qg.showToast({
message: "创建失败或已创建~",
duration: 2
});
e && e.fail && e.fail();
},
complete: function() {
window.GameEntryDF.ad.showToast("取消创建~");
e && e.complete && e.complete();
}
});
},
fail: function() {
qg.showToast({
message: "获取桌面图标是否创建失败~",
duration: 2
});
e && e.fail && e.fail();
}
});
} catch (e) {
p.default.warn("创建桌面图标-过程中发生错误：" + JSON.stringify(e) + " .");
}
};
t.prototype.showToast = function(e, t) {
void 0 === t && (t = 2);
try {
qg.showToast({
message: e,
duration: t && t > 0 ? 1e3 * t : 2e3
});
} catch (t) {
p.default.warn("展示吐司失败,参数：" + JSON.stringify(e) + "。错误：" + JSON.stringify(t) + " .");
}
};
t.prototype.exitGame = function() {
try {
qg.exitApplication();
} catch (e) {
if (window.GameEntryDF.base.isEditor) {
console.log("浏览器模拟小游戏退出，10秒后自动退出游戏");
cc.game.end();
} else console.error("退出游戏-失败:", e);
}
};
t.prototype.copyDeviceId = function() {
try {
qg.setClipboardData({
text: this.owner.DeviceId
});
this.showToast("已复制设备Id到剪切板");
} catch (e) {
p.default.warn("设置剪切板数据-失败-：", JSON.stringify(e));
}
};
return t;
}(l.MiniGameSystemBase);
o.default = f;
cc._RF.pop();
}, {
"../../../../../../gameMain/scripts/definition/constant/ConstantEvent": "ConstantEvent",
"../../../../../../gameMain/scripts/ui/base/UiFormId": "UiFormId",
"../../../../base/utils/Ramdom": "Ramdom",
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameSystemBase": "MiniGameSystemBase",
"../../base/enum/AdShowingType": "AdShowingType"
} ],
VivoInterstitialAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2872cSY2VlAQ45a92ty0qAB", "VivoInterstitialAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/adBase/InterstitialAdBase"), a = e("../../base/enum/AdShowingType"), s = e("../../base/enum/LoadAdState"), c = e("../../../log/DFLog"), l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_Ad = null;
t.loadAdState = s.LoadAdState.None;
t.isForceClose = !1;
t.m_CanExecuteCloseAd = !1;
t.hideArgs = null;
return t;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.showAd = function(t) {
e.prototype.showAd.call(this, t);
this.showInternal(t);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
this.hideArgs = t;
if (window.GameEntryDF.ad.switchEnable) {
c.default.debug("插屏广告-隐藏- B");
if (!0 === t) {
c.default.debug("插屏广告-隐藏-直接关闭1");
this.hideInternal(t);
} else {
c.default.debug("插屏广告-隐藏-直接关闭2");
this.hideInternal(t);
}
} else {
c.default.debug("插屏广告-隐藏- A");
this.hideInternal(t);
}
};
t.prototype.showInternal = function(e) {
if (window.GameEntryDF.base.isEditor) this.owner.showInterstitialAdSim(); else if (this.owner.allowShowAd(e)) if (this.inCd(3)) c.default.debug("插屏广告-展示-3s内部允许重复请求."); else try {
(this.loadAdState == s.LoadAdState.Error || this.loadAdState >= s.LoadAdState.Loaded) && window.GameEntryDF.ad.hideInterstitialAd(!1);
this.loadAdState = s.LoadAdState.Loading;
this.isForceClose = !1;
this.m_CanExecuteCloseAd = !1;
this.m_Ad = qg.createInterstitialAd({
posId: this.owner.miniGameInfo.interstitialId
});
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onClick && this.m_Ad.onClick(this.onClick.bind(this));
this.m_Ad.onClose(this.onClose.bind(this));
this.m_Ad.onError(this.onError.bind(this));
this.m_Ad.load();
} catch (e) {
c.default.warn("插屏广告-展示-过程中发生错误:" + e);
} else c.default.debug("插屏广告-展示-受限.");
};
t.prototype.hideInternal = function(e) {
try {
null != e && (this.isForceClose = e.forceClose);
c.default.warn("插屏广告-隐藏.");
if (this.loadAdState == s.LoadAdState.Loading && this.isForceClose) {
c.default.debug("允许执行强制关闭广告--插屏");
this.m_CanExecuteCloseAd = !0;
} else {
c.default.debug("无需执行强制关闭广告--插屏");
this.m_CanExecuteCloseAd = !1;
}
if (null == this.m_Ad) {
c.default.debug("插屏广告不存在，无需继续处理");
return;
}
this.m_Ad.close && this.m_Ad.close();
this.m_Ad.offLoad(this.onLoad.bind(this));
this.m_Ad.offClick && this.m_Ad.offClick(this.onClick.bind(this));
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.offClose(this.onClose.bind(this));
this.m_Ad = null;
this.loadAdState = s.LoadAdState.None;
} catch (e) {
c.default.warn("插屏广告-隐藏-过程中发生错误:" + e);
}
};
t.prototype.onLoad = function() {
var e = this;
c.default.warn("插屏广告-onLoad.");
this.loadAdState = s.LoadAdState.Loaded;
var t = this.m_Ad.show();
t && t.then(function() {
c.default.debug("插屏广告-展示-成功");
window.GameEntryDF.ad.hideNativeAd(!0);
window.GameEntryDF.ad.showBannerAd(!0);
if (e.m_CanExecuteCloseAd) {
c.default.debug("执行强制关闭广告--插屏");
window.GameEntryDF.ad.hideInterstitialAd(!1);
}
}).catch(function(e) {
c.default.debug("插屏广告-展示-失败", e);
});
};
t.prototype.onClick = function(e) {
this.owner.adShowingType = a.AdShowingType.Native;
c.default.debug("插屏广告-onClick:", e);
};
t.prototype.onClose = function() {
c.default.warn("插屏广告-onClose.");
this.hideInternal(this.hideArgs);
};
t.prototype.onError = function(e) {
c.default.debug("插屏广告-onError:" + JSON.stringify(e));
this.loadAdState = s.LoadAdState.Error;
};
t.prototype.onAdProcess = function() {};
return t;
}(i.default);
o.default = l;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/InterstitialAdBase": "InterstitialAdBase",
"../../base/enum/AdShowingType": "AdShowingType",
"../../base/enum/LoadAdState": "LoadAdState"
} ],
VivoNativeAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fa190XDhKpFoIjCkkVKRFNp", "VivoNativeAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/enum/LoadAdState"), a = e("../../base/enum/AdShowingType"), s = e("../../base/adBase/MiniGameNativeAdBase"), c = e("../../../log/DFLog"), l = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_Ad = null;
t.loadAdState = i.LoadAdState.None;
t.showCount = 0;
t.isForceClose = !1;
t.m_CanExecuteCloseAd = !1;
return t;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.showAd = function(t) {
e.prototype.showAd.call(this, t);
this.showInternal(t.isLimit, t.showBanner, t.customArgs);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
if (window.GameEntryDF.ad.switchEnable) {
c.default.debug("原生模版-隐藏- B");
if (!0 === t) c.default.debug("原生模版-隐藏-P手动隐藏"); else {
c.default.debug("原生模版-隐藏-直接隐藏");
this.hideCustomAd(t);
}
} else {
c.default.debug("原生模版-隐藏-  A");
this.hideCustomAd(t);
window.GameEntryDF.ad.hideInterstitialAd(t);
}
};
t.prototype.showInternal = function(e, t, o) {
this.showCount++;
this.owner.ShowNativeBanner = t;
window.GameEntryDF.base.isEditor ? this.owner.showNativeAdSim(e, t, null, o) : this.showCount % 2 == 0 ? window.GameEntryDF.ad.showInterstitialAd(e) : this.showCustomAd(e);
};
t.prototype.showCustomAd = function(e) {
if (this.owner.allowShowAd(e)) if (this.inCd(1)) c.default.warn("原生模版-展示-不允许1s内重复请求"); else try {
if (this.loadAdState == i.LoadAdState.Error || this.loadAdState >= i.LoadAdState.Loaded) {
window.GameEntryDF.ad.hideNativeAd(!1);
window.GameEntryDF.ad.hideBannerAd(!1);
}
this.loadAdState = i.LoadAdState.Loading;
if (qg.createCustomAd) {
var t = 0, o = this.owner.systemInfo.screenWidth / 2 - 360;
if (this.owner.systemInfo.screenWidth > this.owner.systemInfo.screenHeight) {
c.default.debug("原生模版-展示-横屏布局");
t = this.owner.systemInfo.screenHeight - this.owner.systemInfo.screenHeight / 16 * 15;
o = this.owner.systemInfo.screenWidth / 2 - 540;
} else {
c.default.debug("原生模版-展示-竖屏布局");
t = this.owner.systemInfo.screenHeight / 2 - this.owner.systemInfo.screenHeight / 4;
}
this.isForceClose = !1;
this.m_CanExecuteCloseAd = !1;
this.m_Ad = qg.createCustomAd({
posId: this.owner.miniGameInfo.nativeId[0],
style: {
top: t,
left: o
}
});
this.m_Ad.onError(this.onError.bind(this));
this.m_Ad.onLoad(this.onLoaded.bind(this));
this.m_Ad.onClick && this.m_Ad.onClick(this.onClick.bind(this));
this.m_Ad.onClose(this.onClose.bind(this));
this.m_Ad.onHide(this.onHide.bind(this));
this.m_Ad.show().then(this.onShowSuccess.bind(this)).catch(this.onShowError.bind(this));
} else c.default.debug("原生模版-创建-qg.createCustomAd API 不存在.");
} catch (t) {
c.default.warn("原生模版-创建-过程中发生错误:" + JSON.stringify(t) + ",参数:" + e);
} else c.default.warn("原生模版-展示-受限");
};
t.prototype.hideCustomAd = function(e) {
try {
null != e && (this.isForceClose = e.forceClose);
c.default.debug("原生模版-隐藏.");
if (this.loadAdState == i.LoadAdState.Loading && this.isForceClose) {
c.default.debug("允许执行强制关闭广告--原生");
this.m_CanExecuteCloseAd = !0;
} else {
c.default.debug("无需执行强制关闭广告--原生");
this.m_CanExecuteCloseAd = !1;
}
if (null == this.m_Ad) {
c.default.debug("原生模版不存在，无需继续处理隐藏.");
return;
}
if (this.m_Ad.isShow()) {
this.m_Ad.hide();
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.offLoad(this.onLoaded.bind(this));
this.m_Ad.offClick && this.m_Ad.offClick(this.onClick.bind(this));
this.m_Ad.offClose(this.onClose.bind(this));
this.m_Ad.offHide(this.onHide.bind(this));
this.m_Ad.destroy();
this.m_Ad = null;
this.loadAdState = i.LoadAdState.None;
}
} catch (t) {
c.default.warn("原生模版-隐藏-过程中发生错误:" + JSON.stringify(t) + ",参数：" + JSON.stringify(e));
}
};
t.prototype.onShowSuccess = function() {
this.loadAdState = i.LoadAdState.Show;
this.owner.adShowingType = a.AdShowingType.Native;
if (this.owner.allowShowAd(!0) && this.owner.ShowNativeBanner) {
window.GameEntryDF.ad.hideInterstitialAd(!1);
window.GameEntryDF.ad.showBannerAd(!0);
}
c.default.debug("原生模板-onShowSuccess");
if (this.m_CanExecuteCloseAd) {
c.default.debug("执行强制关闭广告--原生");
window.GameEntryDF.ad.hideNativeAd(!1);
}
};
t.prototype.onShowError = function(e) {
this.loadAdState = i.LoadAdState.Error;
c.default.debug("原生模板-onShowError:", JSON.stringify(e));
};
t.prototype.onClose = function() {
c.default.debug("原生模板-onClose");
this.owner.allowShowAd(!0) || window.GameEntryDF.ad.hideBannerAd(!0);
};
t.prototype.onLoaded = function() {
c.default.debug("原生模板-onLoaded.");
this.loadAdState = i.LoadAdState.Loaded;
};
t.prototype.onClick = function(e) {
this.owner.adShowingType = a.AdShowingType.Native;
c.default.debug("原生模板- onClick:", JSON.stringify(e));
};
t.prototype.onError = function(e) {
this.loadAdState = i.LoadAdState.Error;
c.default.debug("原生模板- onError:", JSON.stringify(e));
if (this.owner.switchEnable) {
window.GameEntryDF.ad.showInterstitialAd(!0);
window.GameEntryDF.ad.showBannerAd(!0);
}
};
t.prototype.onHide = function() {
this.loadAdState = i.LoadAdState.Hide;
c.default.debug("原生模板-onHide.");
};
t.prototype.onAdProcess = function() {};
return t;
}(s.MiniGameNativeAdBase);
o.default = l;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameNativeAdBase": "MiniGameNativeAdBase",
"../../base/enum/AdShowingType": "AdShowingType",
"../../base/enum/LoadAdState": "LoadAdState"
} ],
VivoRewardAd: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b8ab8GD1HxAsaulpSzo6b++", "VivoRewardAd");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/enum/AdShowingType"), a = e("../../base/adBase/MiniGameRewardAdBase"), s = e("../../../log/DFLog"), c = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t.m_Ad = null;
return t;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.showAd = function(t) {
e.prototype.showAd.call(this, t);
this.showInternal(t);
};
t.prototype.hideAd = function(t) {
e.prototype.hideAd.call(this, t);
};
t.prototype.showInternal = function() {
if (window.GameEntryDF.base.isEditor) this.owner.showRewardAdSim(); else if (this.inCd(3)) {
s.default.debug("激励-展示-3s内不允许重复展示");
this.owner.fmCbFail();
} else try {
if (!this.m_Ad) {
this.m_Ad = qg.createRewardedVideoAd({
posId: this.owner.miniGameInfo.rewardId
});
this.m_Ad.onLoad(this.onLoad.bind(this));
this.m_Ad.onClick && this.m_Ad.onClick(this.onClick.bind(this));
this.m_Ad.onClose(this.onClose.bind(this));
this.m_Ad.onError(this.onError.bind(this));
}
this.m_Ad.load();
} catch (e) {
s.default.debug("激励-展示-创建过程中发生错误：" + JSON.stringify(e));
this.owner.fmCbFail();
}
};
t.prototype.onLoad = function() {
var e = this;
s.default.debug("激励-onLoad.");
this.owner.adShowingType = i.AdShowingType.Reward;
var t = this.m_Ad.show();
t && t.then(function() {
s.default.debug("激励-展示-成功.");
}).catch(function() {
e.owner.fmCbFail();
try {
qg.showToast({
message: "视频展示失败啦.稍后再试试看吧~",
duration: 2
});
} catch (e) {
s.default.debug("激励-展示-失败:" + JSON.stringify(e) + " .");
}
});
};
t.prototype.onClick = function(e) {
s.default.debug("激励-onClick- code: " + e.code + ",msg: '" + e.msg + "'");
};
t.prototype.onClose = function(e) {
e && e.isEnded ? this.owner.fmCbSuccess() : this.owner.fmCbFail();
try {
this.m_Ad.offLoad(this.onLoad.bind(this));
this.m_Ad.offClick && this.m_Ad.offClick(this.onClick.bind(this));
this.m_Ad.offClose(this.onClose.bind(this));
this.m_Ad.offError(this.onError.bind(this));
this.m_Ad.destroy();
this.m_Ad = null;
} catch (e) {
s.default.debug("激励-关闭-过程中发生错误:" + JSON.stringify(e) + " .");
}
};
t.prototype.onError = function(e) {
this.owner.fmCbFail();
s.default.debug("激励失败：" + JSON.stringify(e));
window.GameEntryDF.ad.showToast("视频广告创建出错.稍后再试吧~");
};
t.prototype.onAdProcess = function() {};
return t;
}(a.MiniGameRewardAdBase);
o.default = c;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameRewardAdBase": "MiniGameRewardAdBase",
"../../base/enum/AdShowingType": "AdShowingType"
} ],
VivoShare: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e49533QscVMr6n/Y1yUWsF9", "VivoShare");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
});
Object.defineProperty(o, "__esModule", {
value: !0
});
var i = e("../../base/adBase/MiniGameShareBase"), a = e("../../../log/DFLog"), s = function(e) {
r(t, e);
function t() {
return null !== e && e.apply(this, arguments) || this;
}
t.prototype.init = function(e) {
this.owner = e;
};
t.prototype.shareGame = function(e) {
try {
qg.share({
success: function() {
window.GameEntryDF.ad.showToast("分享成功~");
e && e.success && e.success();
},
fail: function(t, o) {
window.GameEntryDF.ad.showToast("分享失败，错误消息:" + t + ",错误码:" + o);
e && e.fail && e.fail();
},
cancel: function() {
window.GameEntryDF.ad.showToast("分享被取消了");
e && e.cancel && e.cancel();
},
complete: function() {
e && e.complete && e.complete();
}
});
} catch (e) {
a.default.warn("分享-失败：" + JSON.stringify(e));
window.GameEntryDF.ad.showToast("该功能暂未开放.敬请期待~");
}
};
t.prototype.shareRecord = function() {};
return t;
}(i.MiniGameShareBase);
o.default = s;
cc._RF.pop();
}, {
"../../../log/DFLog": "DFLog",
"../../base/adBase/MiniGameShareBase": "MiniGameShareBase"
} ],
WebRequestComponent: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4d47d7okv5OJJ+4CcY9egVI", "WebRequestComponent");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__decorate || function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; s >= 0; s--) (r = e[s]) && (a = (i < 3 ? r(a) : i > 3 ? r(t, o, a) : r(t, o)) || a);
return i > 3 && a && Object.defineProperty(t, o, a), a;
}, a = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, s = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var c = cc._decorator.property, l = cc._decorator.ccclass, u = e("../base/GameFrameworkComponent"), p = e("../../base/base/GameFrameworkEntry"), d = e("../../base/webRequest/WebRequestManager"), f = e("../log/DFLog"), h = e("../../base/utils/GFClassUtils"), y = function(e) {
r(t, e);
function t() {
var t = null !== e && e.apply(this, arguments) || this;
t._webRequestManager = null;
t._useRemoteServer = !0;
t._helperTypeName = "DefaultWebRequestHelper";
return t;
}
t.prototype.onLoad = function() {
e.prototype.onLoad.call(this);
this._webRequestManager = p.default.getModule(d.default);
this._webRequestManager || f.default.error("网络模块未初始化");
var t = h.default.createInstance(this._helperTypeName);
t ? this.setNetworkHelper(t) : f.default.error("Can not create WebRequest helper.");
};
t.prototype.onDestroy = function() {
this._webRequestManager = null;
};
t.prototype.initServerMode = function(e) {
this._useRemoteServer = e;
};
t.prototype.initTimeoutInfo = function(e, t, o, n, r) {
this.setGetTimeout(e);
this.setPostTimeout(t);
this.setPutTimeout(o);
this.setDeleteTimeout(n);
this.setUploadTimeout(r);
};
t.prototype.setNetworkHelper = function(e) {
this._webRequestManager.setNetworkHelper(e);
};
t.prototype.get = function(e) {
return a(this, void 0, Promise, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this._webRequestManager.get(this.getRealUrl(e)) ];

case 1:
return [ 2, t.sent() ];
}
});
});
};
t.prototype.post = function(e, t) {
return a(this, void 0, Promise, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, this._webRequestManager.post(this.getRealUrl(e), t) ];

case 1:
return [ 2, o.sent() ];
}
});
});
};
t.prototype.put = function(e, t) {
return a(this, void 0, Promise, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, this._webRequestManager.put(this.getRealUrl(e), t) ];

case 1:
return [ 2, o.sent() ];
}
});
});
};
t.prototype.delete = function(e) {
return a(this, void 0, Promise, function() {
return s(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this._webRequestManager.delete(this.getRealUrl(e)) ];

case 1:
return [ 2, t.sent() ];
}
});
});
};
t.prototype.uploadFile = function(e, t) {
return a(this, void 0, Promise, function() {
return s(this, function(o) {
switch (o.label) {
case 0:
return [ 4, this._webRequestManager.uploadFile(this.getRealUrl(e), t) ];

case 1:
return [ 2, o.sent() ];
}
});
});
};
t.prototype.setAllTimeouts = function(e) {
this.setManagerTimeout("setAllTimeouts", e);
};
t.prototype.setGetTimeout = function(e) {
this.setManagerTimeout("setGetTimeout", e);
};
t.prototype.setPostTimeout = function(e) {
this.setManagerTimeout("setPostTimeout", e);
};
t.prototype.setPutTimeout = function(e) {
this.setManagerTimeout("setPutTimeout", e);
};
t.prototype.setDeleteTimeout = function(e) {
this.setManagerTimeout("setDeleteTimeout", e);
};
t.prototype.setUploadTimeout = function(e) {
this.setManagerTimeout("setUploadTimeout", e);
};
t.prototype.setManagerTimeout = function(e, t) {
if (this._webRequestManager) {
var o = this._webRequestManager[e];
"function" == typeof o ? o.call(this._webRequestManager, t) : f.default.error("网络管理器中不存在方法: " + e);
} else f.default.error("网络管理器未初始化");
};
t.prototype.getRealUrl = function(e) {
var t = "";
if (this._useRemoteServer) t = e; else {
f.default.info("use local sv");
t = this.replaceDomainInString(e, window.GameEntryDF.builtin.buildInfo.swUrl, window.GameEntryDF.builtin.miniGameInfo.swUrlTestLocal);
}
f.default.debug("实际请求的域名：", t);
return t;
};
t.prototype.replaceDomainInString = function(e, t, o) {
return e.replace(new RegExp(t, "g"), o);
};
i([ c({
visible: !1,
tooltip: "是否启用远程服务器，不启用则为本地局域网服务器(默认即可，非后台开发人员直接开启即可)",
readonly: !0
}) ], t.prototype, "_useRemoteServer", void 0);
i([ c({
visible: !1,
tooltip: "设置辅助器类名",
readonly: !0
}) ], t.prototype, "_helperTypeName", void 0);
return i([ l, h.gfClass("WebRequestComponent") ], t);
}(u.default);
o.default = y;
cc._RF.pop();
}, {
"../../base/base/GameFrameworkEntry": "GameFrameworkEntry",
"../../base/utils/GFClassUtils": "GFClassUtils",
"../../base/webRequest/WebRequestManager": "WebRequestManager",
"../base/GameFrameworkComponent": "GameFrameworkComponent",
"../log/DFLog": "DFLog"
} ],
WebRequestManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0bee62xdnZJjL2fNK2lRQKt", "WebRequestManager");
var n, r = this && this.__extends || (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
n(e, t);
function o() {
this.constructor = e;
}
e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());
}), i = this && this.__awaiter || function(e, t, o, n) {
return new (o || (o = Promise))(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
e.done ? r(e.value) : (t = e.value, t instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
var t;
}
c((n = n.apply(e, t || [])).next());
});
}, a = this && this.__generator || function(e, t) {
var o, n, r, i, a = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
};
return i = {
next: s(0),
throw: s(1),
return: s(2)
}, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
return this;
}), i;
function s(e) {
return function(t) {
return c([ e, t ]);
};
}
function c(i) {
if (o) throw new TypeError("Generator is already executing.");
for (;a; ) try {
if (o = 1, n && (r = 2 & i[0] ? n.return : i[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, i[1])).done) return r;
(n = 0, r) && (i = [ 2 & i[0], r.value ]);
switch (i[0]) {
case 0:
case 1:
r = i;
break;

case 4:
a.label++;
return {
value: i[1],
done: !1
};

case 5:
a.label++;
n = i[1];
i = [ 0 ];
continue;

case 7:
i = a.ops.pop();
a.trys.pop();
continue;

default:
if (!(r = a.trys, r = r.length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
a = 0;
continue;
}
if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
a.label = i[1];
break;
}
if (6 === i[0] && a.label < r[1]) {
a.label = r[1];
r = i;
break;
}
if (r && a.label < r[2]) {
a.label = r[2];
a.ops.push(i);
break;
}
r[2] && a.ops.pop();
a.trys.pop();
continue;
}
i = t.call(e, a);
} catch (e) {
i = [ 6, e ];
n = 0;
} finally {
o = r = 0;
}
if (5 & i[0]) throw i[1];
return {
value: i[0] ? i[1] : void 0,
done: !0
};
}
};
Object.defineProperty(o, "__esModule", {
value: !0
});
var s = e("../base/GameFrameworkModule"), c = e("../../ccEngine/log/DFLog"), l = function(e) {
r(t, e);
function t() {
var t = e.call(this) || this;
t._webRequestHelper = null;
t._webRequestHelper = null;
return t;
}
Object.defineProperty(t.prototype, "moduleName", {
get: function() {
return "WebRequest";
},
enumerable: !1,
configurable: !0
});
Object.defineProperty(t.prototype, "priority", {
get: function() {
return 40;
},
enumerable: !1,
configurable: !0
});
t.prototype.update = function() {};
t.prototype.shutdown = function() {
this._webRequestHelper = null;
e.prototype.shutdown.call(this);
};
t.prototype.setNetworkHelper = function(e) {
e ? this._webRequestHelper = e : c.default.error("尝试设置无效的网络辅助器");
};
t.prototype.get = function(e) {
return i(this, void 0, Promise, function() {
return a(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this._webRequestHelper.get(e) ];

case 1:
return [ 2, t.sent() ];
}
});
});
};
t.prototype.post = function(e, t) {
return i(this, void 0, Promise, function() {
return a(this, function(o) {
switch (o.label) {
case 0:
return [ 4, this._webRequestHelper.post(e, t) ];

case 1:
return [ 2, o.sent() ];
}
});
});
};
t.prototype.put = function(e, t) {
return i(this, void 0, Promise, function() {
return a(this, function(o) {
switch (o.label) {
case 0:
return [ 4, this._webRequestHelper.put(e, t) ];

case 1:
return [ 2, o.sent() ];
}
});
});
};
t.prototype.delete = function(e) {
return i(this, void 0, Promise, function() {
return a(this, function(t) {
switch (t.label) {
case 0:
return [ 4, this._webRequestHelper.delete(e) ];

case 1:
return [ 2, t.sent() ];
}
});
});
};
t.prototype.uploadFile = function(e, t) {
return i(this, void 0, Promise, function() {
return a(this, function(o) {
switch (o.label) {
case 0:
return [ 4, this._webRequestHelper.uploadFile(e, t) ];

case 1:
return [ 2, o.sent() ];
}
});
});
};
t.prototype.setAllTimeouts = function(e) {
this.setHelperTimeout("setGetTimeout", e);
this.setHelperTimeout("setPostTimeout", e);
this.setHelperTimeout("setPutTimeout", e);
this.setHelperTimeout("setDeleteTimeout", e);
this.setHelperTimeout("setUploadTimeout", e);
};
t.prototype.setGetTimeout = function(e) {
this.setHelperTimeout("setGetTimeout", e);
};
t.prototype.setPostTimeout = function(e) {
this.setHelperTimeout("setPostTimeout", e);
};
t.prototype.setPutTimeout = function(e) {
this.setHelperTimeout("setPutTimeout", e);
};
t.prototype.setDeleteTimeout = function(e) {
this.setHelperTimeout("setDeleteTimeout", e);
};
t.prototype.setUploadTimeout = function(e) {
this.setHelperTimeout("setUploadTimeout", e);
};
t.prototype.setHelperTimeout = function(e, t) {
if (this._webRequestHelper) {
var o = this._webRequestHelper[e];
"function" == typeof o ? o.call(this._webRequestHelper, t) : c.default.error("网络辅助器中不存在方法: " + e);
} else c.default.error("网络辅助器未初始化");
};
return t;
}(s.default);
o.default = l;
cc._RF.pop();
}, {
"../../ccEngine/log/DFLog": "DFLog",
"../base/GameFrameworkModule": "GameFrameworkModule"
} ],
XORUtil: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1ecb7z0repKhprdm53QuiY7", "XORUtil");
Object.defineProperty(o, "__esModule", {
value: !0
});
var n = function() {
function e() {}
e.encrypt = function(e) {
if (!this.enable) return e;
for (var t = "", o = 0; o < e.length; o++) t += String.fromCharCode(e.charCodeAt(o) ^ this.KEY.charCodeAt(o % this.KEY.length));
return t;
};
e.decrypt = function(e) {
return this.enable ? this.encrypt(e) : e;
};
e.KEY = "DreamingGames发财";
e.enable = !0;
return e;
}();
o.default = n;
cc._RF.pop();
}, {} ],
ad: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a30241BP59D1qFtYJSnt/BB", "ad");
var n, r, i = o, a = function() {
return (a = Object.assign || function(e) {
for (var t, o = 1, n = arguments.length; o < n; o++) for (var r in t = arguments[o]) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
return e;
}).apply(this, arguments);
};
Object.defineProperty(i, "__esModule", {
value: !0
}), i.AdType = i.AdTag = void 0, function(e) {
e[e.NONE = 0] = "NONE", e[e.RewardVideo = 1] = "RewardVideo";
}(r = i.AdTag || (i.AdTag = {})), function(e) {
e[e.RewardVideo = 0] = "RewardVideo", e[e.FullScreenVideo = 1] = "FullScreenVideo", 
e[e.Interstitial = 2] = "Interstitial", e[e.BigImage = 3] = "BigImage";
}(i.AdType || (i.AdType = {}));
var s = function() {
function e() {}
return e.getAdByTag = function(e) {
console.log("[sdk] get ad by tag", e, typeof e, c[e]);
var t = c[e], o = "";
switch (cc.sys.platform) {
case cc.sys.WECHAT_GAME:
o = t.wxAdID;
break;

case cc.sys.BYTEDANCE_GAME:
o = t.ttAdID;
}
return a(a({}, c[e]), {
adID: o
});
}, e.getRandomShareImgUrl = function() {
return "https://www.52shenbian.com/jigsawRes/resources/sharingGraph/chigua" + (Math.floor(5 * Math.random()) + 1) + ".jpg";
}, e;
}();
i.default = s;
var c = ((n = {})[r.RewardVideo] = {
title: "欢迎来到月之村",
url: s.getRandomShareImgUrl(),
wxAdID: "adunit-51694ea44cfcc656",
ttAdID: ""
}, n);
cc._RF.pop();
}, {} ],
"android-sdk": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "edf737yBMxG3b6BBsVJzu1A", "android-sdk");
var n = e, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
}), r.getCashOutParams = void 0;
var i = n("sdk");
n("native-bridge"), n("native-def");
r.getCashOutParams = function() {
try {
return null;
} catch (e) {
return null;
}
};
var a = function() {
function e() {}
return e.vibrateShort = function(e) {
void 0 === e && (e = i.VibrateType.Light), jsb.reflection.callStaticMethod("org/cocos2dx/javascript/CocosUtils", "Vibrate", "(I)V", e);
}, e.vibrateLong = function(e) {
void 0 === e && (e = i.VibrateType.Long), jsb.reflection.callStaticMethod("org/cocos2dx/javascript/CocosUtils", "Vibrate", "(I)V", e);
}, e.showBannerAd = function(e) {
jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "showBannerAd", "(Z)V", e);
}, e.hideBannerAd = function() {
jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "hideBannerAd", "(Ljava/lang/String;)V", e);
}, e.showInterstitialAd = function(e) {
jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "showInterstitial", "(Ljava/lang/String;)V", e);
}, e.showNativeAd = function(e) {
jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "showNativeAd", "(Z)V", e);
}, e.showRewardVideoAd = function(e, t, o) {
this.adCallback(e, t, o);
jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "showRewardedVideoAd", "(Ljava/lang/String;)V", "showRewardVideoAdRst");
}, e.callService = function() {
jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "callService", "(Ljava/lang/String;)V", "callService");
}, e.showPrivacy = function() {
jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "showPrivacy", "(Ljava/lang/String;)V", "showPrivacy");
}, e.moreGame = function() {
jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "moreGame", "(Ljava/lang/String;)V", "moreGame");
}, e.showFullScreenAd = function(e) {
var t = e.success, o = e.fail;
e = e.tag;
cc.sys.os == cc.sys.OS_ANDROID && (jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "showFullScreenAd", "(Ljava/lang/String;)V", e), 
this.adCallback(e, t, o));
}, e.showBigImageAd = function(e) {
var t = e.success, o = e.fail;
e = e.tag;
cc.sys.os == cc.sys.OS_ANDROID && (jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "showBigImage", "(Ljava/lang/String;)V", e), 
this.adCallback(e, t, o));
}, e.hideBigImageAd = function(e) {
e = e.tag;
cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "hideBigImage", "(Ljava/lang/String;)V", e);
}, e.adCallback = function(e, t, o) {
console.log("FM_ android-sdk.adCallback t-adId::", e);
console.log("FM_ android-sdk.adCallback c-successCb:", t);
console.log("FM_ android-sdk.adCallback i-FailCb:", o);
cc.game.once("ad-reward-video-native-callback", function(e, n) {
console.log("=== ad-reward-video-native-callback full screen ===", e, n), n ? t && t() : o && o();
}, this);
}, e;
}();
r.default = a;
cc._RF.pop();
}, {} ],
"api-sheep": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "21e18xyzLdONJh79eiw/cac", "api-sheep");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
return new (o = o || Promise)(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
var t;
e.done ? r(e.value) : ((t = e.value) instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
}
c((n = n.apply(e, t || [])).next());
});
}, c = function(e, t) {
var o, n, r, i = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
}, a = {
next: s(0),
throw: s(1),
return: s(2)
};
return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(a) {
return function(s) {
return function(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;i; ) try {
if (o = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, a[1])).done) return r;
switch (n = 0, (a = r ? [ 2 & a[0], r.value ] : a)[0]) {
case 0:
case 1:
r = a;
break;

case 4:
return i.label++, {
value: a[1],
done: !1
};

case 5:
i.label++, n = a[1], a = [ 0 ];
continue;

case 7:
a = i.ops.pop(), i.trys.pop();
continue;

default:
if (!(r = 0 < (r = i.trys).length && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
i = 0;
continue;
}
if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
i.label = a[1];
break;
}
if (6 === a[0] && i.label < r[1]) {
i.label = r[1], r = a;
break;
}
if (r && i.label < r[2]) {
i.label = r[2], i.ops.push(a);
break;
}
r[2] && i.ops.pop(), i.trys.pop();
continue;
}
a = t.call(e, i);
} catch (e) {
a = [ 6, e ], n = 0;
} finally {
o = r = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}([ a, s ]);
};
}
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var l = r("dataTs"), u = r("enumConfig"), p = r("sdk"), d = r("data-manager"), f = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return a(t, e), t.getUserInfo = function() {
return s(this, void 0, Promise, function() {
return c(this, function() {
return [ 2, new Promise(function(e, t) {
tt.getUserInfo({
withCredentials: !0,
success: function(o) {
console.log("getUserInfo 调用成功 " + o.userInfo), console.log("getUserInfo 调用成功 " + JSON.stringify(o));
var n = (r = o.userInfo).nickName, r = (o = r.avatarUrl, r.gender);
d.default.user.avatar = o, d.default.user.nickName = n, d.default.user.gender = r, 
console.log(o, n, r), p.default.post({
url: "/sheep/v1/game/update_user",
data: {
nick_name: n,
avatar: o,
gender: r
},
success: function(t) {
e(), console.log("update_user res: ", JSON.stringify(t));
},
fail: function() {
t();
}
});
},
fail: function() {
console.log("getUserInfo 调用失败"), e();
}
});
}) ];
});
});
}, t.ttLogin = function() {
if (console.log("[api] tt login"), p.default.isPlatform(p.Platform.tt)) return new Promise(function(e) {
tt.login({
success: function(t) {
console.log("login 调用成功 code = " + t.code + "  annoymousCode = " + t.anonymousCode), 
p.default.post({
url: "/sheep/v1/user/login_tt",
data: {
code: t.code,
anonymous_code: t.anonymousCode
},
success: function(t) {
var o;
e(), console.log("login_tt res: ", JSON.stringify(t)), 0 == t.err_code && t.data && (console.log("res.data.uid: ", t.data.uid), 
(o = l.default.getUserData()).userID = t.data.uid + "", o.openid = t.data.openid, 
o.token = t.data.token, l.default.saveUserData(o), d.default.user.uid = Number(o.userID), 
o = l.default.getUserData(), console.log("userData: ", o.userID));
},
fail: function() {
e();
}
});
},
fail: function(t) {
console.log("登录失败: ", t), e();
}
});
});
}, t.wxLogin = function() {
if (console.log("[api] wx login"), p.default.isPlatform(p.Platform.wx)) return new Promise(function(e) {
wx.login({
success: function(t) {
console.log("login 调用成功 code = " + t.code), p.default.post({
url: "/sheep/v1/user/login_wx",
data: {
code: t.code
},
success: function(t) {
var o;
e(), console.log("login_wx res: ", JSON.stringify(t)), 0 == t.err_code && t.data && (console.log("res.data.uid: ", t.data.uid), 
(o = l.default.getUserData()).userID = t.data.uid + "", o.openid = t.data.openid, 
o.token = t.data.token, l.default.saveUserData(o), d.default.user.uid = Number(o.userID), 
o = l.default.getUserData(), console.log("userData: ", o.userID));
},
fail: function() {
e();
}
});
},
fail: function(t) {
console.log("登录失败: ", t), e();
}
});
});
}, t.getWxUserInfo = function() {
return s(this, void 0, Promise, function() {
return c(this, function() {
return [ 2, new Promise(function(e, t) {
wx.getUserProfile({
desc: "用于完善个人资料",
success: function(o) {
console.log("getUserInfo 调用成功 " + o.userInfo), console.log("getUserInfo 调用成功 " + JSON.stringify(o));
var n = (r = o.userInfo).nickName, r = (o = r.avatarUrl, r.gender);
d.default.user.avatar = o, d.default.user.nickName = n, d.default.user.gender = r, 
console.log(o, n, r), p.default.post({
url: "/sheep/v1/game/update_user",
data: {
nick_name: n,
avatar: o,
gender: r
},
success: function(t) {
e(), console.log("update_user res: ", JSON.stringify(t));
},
fail: function() {
t();
}
});
},
fail: function(t) {
console.log("getUserInfo 调用失败", t), e();
}
});
}) ];
});
});
}, t.oppoLogin = function() {
if (console.log("[api] oppo login"), p.default.isPlatform(p.Platform.oppo)) return new Promise(function(e) {
qg.login({
success: function(t) {
e();
var o = JSON.stringify(t);
console.log(o), t.data && p.default.post({
url: "/sheep/v1/user/login_oppo",
data: {
uid: t.data.uid,
nick_name: t.data.nickName,
avatar: t.data.avatar,
sex: 1
},
success: function(t) {
var o;
e(), console.log("login_oppo res: ", JSON.stringify(t)), 0 == t.err_code && t.data && (console.log("res.data.uid: ", t.data.uid), 
(o = l.default.getUserData()).userID = t.data.uid + "", o.openid = t.data.openid, 
o.token = t.data.token, l.default.saveUserData(o), d.default.user.uid = Number(o.userID), 
console.log("userData: ", o.userID));
},
fail: function() {
e();
}
});
},
fail: function(t) {
e(), console.log(JSON.stringify(t));
}
});
});
}, t.vivoLogin = function() {
if (console.log("[api] vivo login"), p.default.isPlatform(p.Platform.vivo)) return new Promise(function(e) {
1063 <= qg.getSystemInfoSync().platformVersionCode ? qg.login().then(function(t) {
console.log(t), t.data.token ? (console.log("当前用户信息: " + JSON.stringify(t)), t.data && p.default.post({
url: "/sheep/v1/user/login_vivos",
data: {
token: t.data.token
},
success: function(t) {
var o;
e(), console.log("login_vivos res: ", JSON.stringify(t)), 0 == t.err_code && t.data && (console.log("res.data.uid: ", t.data.uid), 
(o = l.default.getUserData()).userID = t.data.uid + "", o.openid = t.data.openid, 
o.token = t.data.token, l.default.saveUserData(o), d.default.user.uid = Number(o.userID), 
console.log("userData: ", o.userID));
},
fail: function() {
e();
}
})) : e();
}, function(t) {
console.log("登录失败" + JSON.stringify(t)), e();
}) : e();
});
}, t.requestUserInfo = function() {
return s(this, void 0, Promise, function() {
return c(this, function() {
return [ 2, new Promise(function(e) {
e();
}) ];
});
});
}, t.requestRankUserInfo = function() {
return s(this, void 0, Promise, function() {
return c(this, function() {
return [ 2, new Promise(function(t) {
e.data || (e = JSON.parse('{"err_code":0,"err_msg":"","data":{"user":{"nick_name":"A  习惯了、就好","avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ7qKbOsS78t1puqy89Xr8n11BCHCQyQuibR437LHuCuhvtQS9JwVCYRBQJdn5PWictH7zXUuanfeow/132","region":"河南","city":"洛阳","uid":100001,"state":2,"time":152,"role":1,"gender":0,"first":0,"ts":1663300549,"fail":114514,"skin":1},"region":"山东"}}'));
t(), 0 == e.err_code && e.data && e.data.user && (d.default.rankUserInfo = e.data.user, 
d.default.region = e.data.region, cc.game.emit(u.EMITKEY.RANKUSERINFOSUCCESS));
}) ];
});
});
}, t.getUserRankInfo = function(e, t) {
t && t();
}, t.getBulletData = function() {}, t.getRankInfoData = function (e) {
if (window.ServerData) {
e(window.ServerData.rank_info);
return;
}
l.default.get({
url: "/sheep/v1/game/rank_info", success: function (e) {
0 == e.err_code ? t && t(e) : console.log("\u8bfb\u53d6\u6570\u636e\u5931\u8d25")
}, fail: function () {
}
})
}, t.getStageInfoData = function() {}, 
t.gameOver = function() {}, t.getTopicData = function(e) {
console.log("FM_ api-sheep.getTopicData");
return s(this, void 0, Promise, function() {
return c(this, function() {
return [ 2, new Promise(function(t) {
t();
var o = JSON.parse('{"err_code":0,"err_msg":"","data":{"name":"僵尸#道士","id":1,"ts":"20220916","tomb":0,"taoist":0,"info":{"nick_name":"樂山jacklove","avatar":"https://userglobal-vivofs.vivo.com.cn/RnRBscqz28sppmra/defaultimage/20201014150603/52688d132907c0cb1d922fc18d9efacbs.png","uid":100001,"state":2,"time":75,"gender":1,"ts":1663306012,"fail":5852,"type":1,"city":"遂宁"}}}');
0 == o.err_code && (d.default.topicModel = o.data, e && e(o), cc.game.emit(u.EMITKEY.TOPICACCOUNT));
}) ];
});
});
}, t.joinTopic = function() {}, t.topicGameOver = function() {}, t.topicRankInfo = function(e) {
return s(this, void 0, Promise, function() {
return c(this, function() {
return [ 2, new Promise(function(t) {
for (var o = JSON.parse('{"err_code":0,"err_msg":"","data":{"tomb":[],"taoist":[],"tomb_fail_count":0,"tomb_fail_member":0,"taoist_fail_count":0,"taoist_fail_member":0}}'), n = Math.floor(311 * Math.random()) + 34, r = 0; r < n; r++) o.data.tomb.push(r);
for (var i = Math.floor(311 * Math.random()) + 34, a = 0; a < i; a++) o.data.taoist.push(a);
o.tomb_fail_count = Math.floor(9969 * Math.random()) + 30;
o.tomb_fail_member = Math.floor(9969 * Math.random()) + 30;
o.taoist_fail_count = Math.floor(9969 * Math.random()) + 30;
o.taoist_fail_member = Math.floor(9969 * Math.random()) + 30;
t(), 0 == o.err_code && (d.default.topicRankInfo = o.data, e && e(o), cc.game.emit(u.EMITKEY.TOPICRANKINFO));
}) ];
});
});
}, t.getTopicUserInfo = function() {}, t.getMatchResult = function() {}, t.updateUserSkin = function() {}, 
t.getPersonalInfo = function(e) {                    
if (window.ServerData) {
e(window.ServerData.personal_info);
}}, t;
}(cc.Component);
i.default = f;
cc._RF.pop();
}, {} ],
audio: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3d3f9s4k+9DLLd0qVZ7eBqp", "audio");
var n = e, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
});
var i = n("GameManager"), a = n("dataTs"), s = n("enumConfig"), c = function() {
function e() {}
return e.updateAudioStatus = function() {
this._playingMusicName && this.playAudioMusic(this._playingMusicName, !0);
}, e.playBGM = function() {
var t;
this.setupData = a.default.getUserSetupData(), console.log(this.setupData.musicStatus), 
this.setupData.musicStatus < 0 ? cc.audioEngine.stopAll() : (t = "audio/music/game_cycle.mp3", 
i.default.getInstance().gameType == s.GAMETYPE.GAMEMAIN ? t = "audio/music/main_music.mp3" : i.default.getInstance().gameType != s.GAMETYPE.GAMEDAILY && i.default.getInstance().gameType != s.GAMETYPE.GAMETOMB && i.default.getInstance().gameType != s.GAMETYPE.GAMETOPIC || (t = "audio/music/game_cycle.mp3"), 
console.log("音乐 ###### = ", t), console.log("gameType ###### = ", i.default.getInstance().gameType), 
e.playAudioMusic(t, !0));
}, e.playAudioMusic = function(e, t) {
this.setupData = a.default.getUserSetupData();
var o = this, n = null;
this._bgMusicClip || (this._bgMusicClip = {}), this._audioClip || (this._audioClip = {}), 
this._playingMusicName || (this._playingMusicName = ""), this.setupData.musicStatus < 0 && t ? cc.audioEngine.stopAll() : this.setupData.effectStatus < 0 && !t || (t ? (this._playingMusicName == e && console.log("同一个音乐"), 
cc.audioEngine.stopAll(), n = !!this._bgMusicClip && this._bgMusicClip[e], this._playingMusicName = e) : n = !!this._audioClip && this._audioClip[e], 
n ? t ? cc.audioEngine.playMusic(n, t) : cc.audioEngine.playEffect(n, !1) : o.loadPlayAudioEngine(e, t, function(e) {
var n = null;
t ? o._playingMusicName == e && (n = o._bgMusicClip[e], cc.audioEngine.playMusic(n, t)) : (n = o._audioClip[e], 
cc.audioEngine.playEffect(n, !1));
}));
}, e.resumeAllAudio = function(t) {
var o = this._playingMusicName;
(o = !!this._bgMusicClip && this._bgMusicClip[o]) ? (cc.audioEngine.stopAll(), cc.audioEngine.play(o, !0, 1)) : t && e.playAudioMusic(t, !0);
}, e.loadPlayAudioEngine = function(e, t, o) {
o = o || function() {};
var n = this;
cc.loader.loadRes(e, function(r, i) {
r || (t ? n._bgMusicClip[e] = i : n._audioClip[e] = i, o(e));
});
}, e.audioLocalName = "audioLocal", e._bgMusicClip = {}, e._playingMusicName = "", 
e._audioClip = {}, e.setupData = null, e;
}();
r.default = c;
cc._RF.pop();
}, {} ],
blockArea: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "abca32Q32NKQIkl20gPemwL", "blockArea");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.blockEditorPrefab = null, t;
}
return i(t, e), t.prototype.start = function() {}, a([ l(cc.Prefab) ], t.prototype, "blockEditorPrefab", void 0), 
a([ c ], t);
}(cc.Component);
r.default = u;
cc._RF.pop();
}, {} ],
blockEditorPrefab: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5c0a1NoiWZPf7dwBgQqTPdJ", "blockEditorPrefab");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = cc._decorator, u = l.ccclass, p = l.property, d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.layerNumber = null, t.blockImg = null, t.moldTypeText = null, t.rolNum = 0, 
t.rowNum = 0, t.layerIndex = 0, t.moldType = 0, t.deleteCallback = null, t;
}
return a(t, e), t.prototype.start = function() {
this.node.on(cc.Node.EventType.TOUCH_END, this.deleteBlock, this);
}, t.prototype.setBlockLayerNum = function(e, t, o, n, r) {
this.rolNum = e, this.rowNum = t, this.layerIndex = o, this.moldType = n, 2 == this.moldType ? this.moldTypeText.active = !0 : this.moldTypeText.active = !1, 
this.deleteCallback = r, this.layerNumber.node.active = !0, this.layerNumber.string = "" + this.layerIndex;
}, t.prototype.setBlockImgType = function(e, t) {
this.moldType = t, 2 == this.moldType ? this.moldTypeText.active = !0 : this.moldTypeText.active = !1, 
0 == e ? this.blockImg.active = !1 : (this.blockImg.active = !0, c.default.changeSpriteFrame(this.blockImg, "block/block_" + e + ".png"));
}, t.prototype.deleteBlock = function() {
this.deleteCallback && this.deleteCallback(this.rolNum, this.rowNum, this.layerIndex);
}, s([ p(cc.Label) ], t.prototype, "layerNumber", void 0), s([ p(cc.Node) ], t.prototype, "blockImg", void 0), 
s([ p(cc.Node) ], t.prototype, "moldTypeText", void 0), s([ u ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {} ],
blockPrefab: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "163e04v/WJMCIjkhalOEqNm", "blockPrefab");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("enumConfig"), u = r("audio"), p = r("sdk"), d = r("util"), f = (r("data-manager"), 
r("GameManager"), cc._decorator), h = f.ccclass, y = f.property, m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.blockImgBg = null, t.blockImg = null, t.blackMaskNode = null, t.rollAreaNode = null, 
t.rollContent = null, t.rollBlockNode = null, t.isShowLight = !1, t.isChoosed = !1, 
t.cardDataObj = null, t.newScale = 1, t.touchCallback = null, t.isRotating = !1, 
t.circleCenter = cc.v2(0, 0), t.circleRadius = 0, t.circleRadiusMax = 250, t.circleRadiusMin = 250, 
t.addCircleLength = 3, t.subCircleLength = -10, t.nowMoveInTimes = 0, t.moveInTimes = 15, 
t.rotationTimes = 80, t.radian = 0, t.radianMin = 0, t.radianAdd = 0, t.addRadianOnce = 0, 
t.rotateParentComp = null, t.rotateOldPosition = null, t.touchCancelCallback = null, 
t;
}
return a(t, e), t.prototype.onLoad = function() {}, t.prototype.start = function() {
this.node.on("touchstart", this.touchStart, this), this.node.on("touchend", this.touchEnd, this), 
this.node.on("touchcancel", this.touchCancel, this);
}, t.prototype.addBlockNode = function(e, t, o) {
this.isChoosed = !0, this.isShowLight = !0, this.blackMaskNode.active = !1, this.cardDataObj = e, 
this.touchCallback = t, this.touchCancelCallback = o || function() {}, this.newScale = this.node.scale;
o = this.getBlockName(this.cardDataObj.type);
c.default.changeSpriteFrame(this.blockImg, o), 2 == this.cardDataObj.moldType && (this.blockImg.active = !1);
}, t.prototype.getBlockName = function(e) {
return "block/block_" + e + ".png";
}, t.prototype.getType = function() {
return this.cardDataObj.type;
}, t.prototype.getCardObj = function() {
var e = !0;
return this.isShowLight && !this.isChoosed || (e = !1), {
cardDataObj: this.cardDataObj,
isCanMove: e
};
}, t.prototype.updateBlockNodeData = function(e, t, o) {
this.isChoosed = !0, this.isShowLight = !0, this.blackMaskNode.active = !1, this.cardDataObj = e, 
this.touchCallback = t, this.newScale = this.node.scale, this.touchCancelCallback = o || function() {};
}, t.prototype.touchStart = function(e) {
e.stopPropagation(), this.isShowLight && !this.isChoosed && (p.default.vibrateShort(), 
this.newScale = this.node.scale, cc.game.emit(l.EMITKEY.SHOWMASKLAYER, 2), u.default.playAudioMusic("audio/sound/clickBlock.mp3", !1), 
cc.tween(this.node).to(.1, {
scale: 1.4 * this.newScale
}).start(), this.node.setSiblingIndex(1e4));
}, t.prototype.touchEnd = function(e) {
e.stopPropagation(), this.isShowLight && !this.isChoosed && (cc.game.emit(l.EMITKEY.HIDEMASKLAYER, 1), 
this.touchCallback && this.touchCallback(this));
}, t.prototype.touchCancel = function(e) {
e.stopPropagation(), this.isShowLight && !this.isChoosed && (cc.game.emit(l.EMITKEY.HIDEMASKLAYER, 6), 
cc.tween(this.node).to(.1, {
scale: this.newScale
}).start(), this.touchCancelCallback && this.touchCancelCallback());
}, t.prototype.playRandomBlockAnimate = function() {
if (2 == this.cardDataObj.moldType && this.isShowLight) {
var e = this;
u.default.playAudioMusic("audio/sound/blockRandom.mp3", !1);
var t = this.cardDataObj.type;
this.rollAreaNode.active = !0;
for (var o = [], n = [], r = 0; r < 12; r++) {
var i = d.default.rnd(1, 8);
o.push(i);
}
o.push(t);
t = d.default.rnd(1, 8);
o.push(t);
t = .5 * (12 * this.rollBlockNode.height + 200);
this.rollContent.y = t, this.rollContent.scale = .5;
for (var a = 0; a < o.length; a++) {
var s = (a - 12) * this.rollBlockNode.height, l = cc.instantiate(this.rollBlockNode);
l.active = !0, l.x = 0, l.y = s;
s = this.getBlockName(o[a]);
c.default.changeSpriteFrame(l, s), n.push(l), this.rollContent.addChild(l);
}
cc.tween(this.rollContent).to(1, {
y: -7
}, {
easing: cc.easing.cubicOut
}).call(function() {
cc.tween(this.rollContent).to(.4, {
scale: 1
}).call(function() {
e.blockImg.active = !0, e.rollAreaNode.active = !1;
for (var t = 0; t < n.length; t++) n[t].destroy();
}, this).start();
}, this).start();
}
}, t.prototype.setStatus = function(e, t) {
var o = this;
this.node.scale = t, this.isShowLight != e && (this.isShowLight = e, this.blackMaskNode.stopAllActions(), 
this.isShowLight ? (this.blackMaskNode.opacity = 255, this.blockImg.active = !0, 
cc.tween(this.blackMaskNode).to(.2, {
opacity: 0
}).call(function() {
o.blackMaskNode.active = !1;
}).start()) : (this.blackMaskNode.opacity = 0, this.blackMaskNode.active = !0, 2 == this.cardDataObj.moldType && cc.tween(this.blockImg).set({
opacity: 255
}).to(.2, {
opacity: 0
}).call(function() {
this.blockImg.opacity = 255, this.blockImg.active = !1;
}, this).start(), cc.tween(this.blackMaskNode).to(.3, {
opacity: 255
}).start()));
}, t.prototype.beginRotate = function(e, t, o) {
var n = this;
this.isRotating || (this.nowMoveInTimes = 0, this.isRotating = !0, this.isChoosed = !0, 
this.rotateParentComp = e, this.rotateOldPosition = o, o = cc.v2(cc.winSize.width, cc.winSize.height / 2), 
this.circleCenter = e.node.convertToNodeSpaceAR(o), this.initRotationData(), this.schedule(this.circleMove, .01), 
cc.tween(this.node).delay(.5).call(function() {
n.cardDataObj.type = t;
var e = n.getBlockName(n.cardDataObj.type);
c.default.changeSpriteFrame(n.blockImg, e);
}, this).start());
}, t.prototype.initRotationData = function() {
var e = this.getPointAngle(this.circleCenter, this.rotateOldPosition), t = d.default.rnd(-90, 90);
this.radian = e * Math.PI / 180, this.radianMin = (e + t) * Math.PI / 180, this.radianAdd = (this.radianMin - this.radian) / this.moveInTimes;
var o = d.default.pointLength(this.circleCenter, this.rotateOldPosition);
e = Math.sqrt(o), o = Math.ceil(100 * Math.random()) + 70;
this.circleRadius = e, this.circleRadiusMax = 250, this.circleRadiusMin = o, this.subCircleLength = -(e - this.circleRadiusMin) / this.moveInTimes, 
this.addCircleLength = (this.circleRadiusMax - this.circleRadiusMin) / this.rotationTimes * 1;
t = (720 - t - 30) / this.rotationTimes;
this.addRadianOnce = t * Math.PI / 180;
}, t.prototype.moveOldPosition = function() {
var e = this;
cc.tween(this.node).to(.1, {
x: this.rotateOldPosition.x,
y: this.rotateOldPosition.y
}).call(function() {
e.isRotating = !1, e.isChoosed = !1, cc.game.emit(l.EMITKEY.HIDEMASKLAYER, 7);
}, this).start();
}, t.prototype.circleMove = function() {
if (this.nowMoveInTimes += 1, this.nowMoveInTimes <= this.moveInTimes) this.circleRadius += this.subCircleLength, 
this.radian += this.radianAdd; else {
if (this.nowMoveInTimes > this.rotationTimes + this.moveInTimes) return this.unschedule(this.circleMove), 
void this.moveOldPosition();
this.circleRadius < this.circleRadiusMax && (this.circleRadius += this.addCircleLength), 
this.radian += this.addRadianOnce;
}
var e = this.circleRadius * Math.cos(this.radian) + this.circleCenter.x, t = this.circleRadius * Math.sin(this.radian) + this.circleCenter.y;
this.node.x = e, this.node.y = t;
}, t.prototype.getPointAngle = function(e, t) {
var o = t.x - e.x;
t = t.y - e.y;
return 180 * (0 != o ? (e = Math.abs(t / o), 0 < o ? 0 <= t ? Math.atan(e) : 2 * Math.PI - Math.atan(e) : 0 <= t ? Math.PI - Math.atan(e) : Math.PI + Math.atan(e)) : 0 < t ? Math.PI / 2 : -Math.PI / 2) / Math.PI;
}, s([ y(cc.Node) ], t.prototype, "blockImgBg", void 0), s([ y(cc.Node) ], t.prototype, "blockImg", void 0), 
s([ y(cc.Node) ], t.prototype, "blackMaskNode", void 0), s([ y(cc.Node) ], t.prototype, "rollAreaNode", void 0), 
s([ y(cc.Node) ], t.prototype, "rollContent", void 0), s([ y(cc.Node) ], t.prototype, "rollBlockNode", void 0), 
s([ y(cc.Node) ], t.prototype, "isShowLight", void 0), s([ h ], t);
}(cc.Component);
i.default = m;
cc._RF.pop();
}, {} ],
brickPrefab: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "713faAfsa9BN4dPx/ixKnJX", "brickPrefab");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = cc._decorator, l = c.ccclass, u = c.property, p = r("brickSubPrefab"), d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.content = null, t.brickSubPrefab = null, t.base_title_label = null, t.parentNode = null, 
t.nodeData = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.setNodeData = function(e, t) {
for (var o in this.parentNode = t, this.nodeData = e, this.base_title_label.string = "- " + this.nodeData.name + " -", 
this.nodeData.brickArr) {
var n = cc.instantiate(this.brickSubPrefab);
n.getComponent(p.default).setNodeData(this.nodeData.brickArr[o], this), this.content.addChild(n);
}
}, t.prototype.refreshNode = function(e, t) {
this.parentNode = t, this.nodeData = e;
var o, n = this.content.children;
for (o in n) n[o].getComponent(p.default).setNodeData(this.nodeData.brickArr[o], this);
}, s([ u(cc.Node) ], t.prototype, "content", void 0), s([ u(cc.Prefab) ], t.prototype, "brickSubPrefab", void 0), 
s([ u(cc.Label) ], t.prototype, "base_title_label", void 0), s([ l ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {} ],
brickSubPrefab: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d9565mv5uxJ9q8a8EOWqngx", "brickSubPrefab");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("GameManager"), u = cc._decorator, p = u.ccclass, d = u.property, f = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.imgContent = null, t.imgContentSub = null, t.imgLock = null, t.nodeData = null, 
t;
}
return a(t, e), t.prototype.start = function() {
c.default.addbtnTouchEndScale(this.node, this.clickNodeAction.bind(this));
}, t.prototype.clickNodeAction = function() {
c.default.addClickAudio();
}, t.prototype.rewardNodeData = function(e) {
this.imgLock.active = !1, this.imgContent.active = !0, c.default.changeSpriteFrame(this.imgContentSub, "block/block_" + e + ".png"), 
this.imgContent.getChildByName("mark").active = !1;
}, t.prototype.setNodeData = function(e) {
var t = "block/block_" + (this.nodeData = e).itemId + ".png";
c.default.changeSpriteFrame(this.imgContentSub, t), 1 == e.unlock ? (this.imgContent.active = !0, 
this.imgLock.active = !1) : (this.imgContent.active = !1, this.imgLock.active = !0), 
l.default.getInstance().collectionMark.brickNum == e.itemId ? (this.imgContent.getChildByName("mark").active = !0, 
l.default.getInstance().collectionMark.brickNum = 0) : this.imgContent.getChildByName("mark").active = !1;
}, s([ d(cc.Node) ], t.prototype, "imgContent", void 0), s([ d(cc.Node) ], t.prototype, "imgContentSub", void 0), 
s([ d(cc.Node) ], t.prototype, "imgLock", void 0), s([ p ], t);
}(cc.Component);
i.default = f;
cc._RF.pop();
}, {} ],
brickSv: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0fd69rlRCBO6pXp78mPsOUw", "brickSv");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = cc._decorator, l = c.ccclass, u = c.property, p = r("dataTs"), d = r("brickPrefab"), f = r("i18n"), h = r("gd_language"), y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.content = null, t.brickPrefab = null, t.pictureData = null, t.dataArray = [], 
t;
}
return a(t, e), t.prototype.start = function() {
for (var e in this.content.removeAllChildren(), this.parserData(), this.dataArray) {
var t = cc.instantiate(this.brickPrefab);
t.getComponent(d.default).setNodeData(this.dataArray[e], this), this.content.addChild(t);
}
}, t.prototype.onEnable = function() {
0 < this.dataArray.length && this.refreshSubNode();
}, t.prototype.parserData = function() {
this.pictureData = p.default.getPictureData();
var e = p.default.gameConfigData.baseConfigData.pictureData.brickMaxNum, t = this.pictureData.brickNum;
e <= t && (t = e);
var o = [];
this.dataArray = [];
for (var n = 0; n < e; n++) if (o.push({
itemId: n + 1,
unlock: t - 1 < n ? 0 : 1
}), 5 <= o.length || n == e - 1) {
for (var r = 5 - o.length, i = 0; i < r; i++) o.push({
itemId: 1,
unlock: 0
});
this.dataArray.push({
name: this.dataArray.length + 1,
brickArr: o
}), o = [];
}
for (o = [], i = 0; i < 5; i++) o.push({
itemId: 1,
unlock: 0
});
var a = f.default.instance.trans(h.GDLanguage.wallpaper_stay_tuned);
this.dataArray.push({
name: a,
brickArr: o
});
}, t.prototype.refreshSubNode = function() {
this.parserData();
var e, t = this.content.children;
for (e in t) t[e].getComponent(d.default).refreshNode(this.dataArray[e], this);
}, s([ u(cc.Node) ], t.prototype, "content", void 0), s([ u(cc.Prefab) ], t.prototype, "brickPrefab", void 0), 
s([ l ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
"bullet-item": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0f585dZZAJMXphXW81v5ZMV", "bullet-item");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("data-manager"), u = r("str-utils"), p = cc._decorator, d = p.ccclass, f = p.property, h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.bgSprite = null, t.descNode = null, t.clickBtn = null, t.failSF = null, 
t.winSF = null, t.showData = null, t.callback = null, t;
}
return a(t, e), t.prototype.start = function() {
c.default.addbtnTouchEndScale(this.clickBtn, this.clickBtnFunc.bind(this));
}, t.prototype.clickBtnFunc = function() {
var e;
this.callback && (e = this.showData.data, this.callback(e));
}, t.prototype.showSubData = function(e, t) {
this.showData = e, this.callback = t;
var o = e.data, n = o.content;
l.default.region && 1 == o.type ? n = l.default.region + o.content : 2 == o.type && l.default.rankUserInfo && (t = l.default.rankUserInfo.fail, 
n = u.default.formatStr(o.content, t = t && 0 != t ? t : 1)), this.descNode.getComponent(cc.Label).string = n, 
1 == e.type ? (this.bgSprite.spriteFrame = this.winSF, this.descNode.color = new cc.Color(0, 0, 0)) : (this.bgSprite.spriteFrame = this.failSF, 
this.descNode.color = new cc.Color(255, 255, 255));
}, s([ f(cc.Sprite) ], t.prototype, "bgSprite", void 0), s([ f(cc.Node) ], t.prototype, "descNode", void 0), 
s([ f(cc.Node) ], t.prototype, "clickBtn", void 0), s([ f(cc.SpriteFrame) ], t.prototype, "failSF", void 0), 
s([ f(cc.SpriteFrame) ], t.prototype, "winSF", void 0), s([ d ], t);
}(cc.Component);
i.default = h;
cc._RF.pop();
}, {} ],
"bullet-screen-pop": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a8b16hoKXVDjrSvCkcW6JEW", "bullet-screen-pop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("dataTs"), u = r("enumConfig"), p = r("sdk"), d = r("GameManager"), f = r("data-manager"), h = r("bullet-item"), y = cc._decorator, m = y.ccclass, g = y.property, b = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mask = null, t.popNode = null, t.closeBtn = null, t.contentNode = null, 
t.buttleItemNode = null, t.bulletsWin = [], t.bulletsFail = [], t;
}
return a(t, e), t.prototype.start = function() {
c.default.addbtnTouchEndScale(this.mask, this.maskFunc.bind(this)), c.default.addTargetTouchUpInside(this.closeBtn, this.closeBtnFunc.bind(this)), 
this.buttleItemNode.active = !1;
}, t.prototype.closeBtnFunc = function() {
this.node.active = !1;
}, t.prototype.maskFunc = function() {
this.node.active = !1;
}, t.prototype.showPop = function() {
this.node.active = !0, this.bulletsWin = f.default.bulletsWin, this.bulletsFail = f.default.bulletsFail, 
f.default.rankUserInfo && 1 == f.default.rankUserInfo.state ? this.setupSubviews(this.bulletsWin, 1) : this.setupSubviews(this.bulletsFail, 2);
}, t.prototype.setupSubviews = function(e, t) {
var o = this;
this.contentNode.removeAllChildren();
for (var n = 0; n < e.length; n++) {
var r = e[n], i = cc.instantiate(this.buttleItemNode);
i.active = !0, this.contentNode.addChild(i);
r = {
data: r,
type: t
};
i.getComponent(h.default).showSubData(r, function(e) {
o.node.active = !1, console.log("弹幕 = " + JSON.stringify(e)), o.sendBulletMsg(e), 
cc.game.emit(u.EMITKEY.BULLETSEND, e.mid);
});
}
}, t.prototype.sendBulletMsg = function(e) {
e && (d.default.getInstance().bulletTime = -60, p.default.post({
url: "/sheep/v1/game/bullet_send",
data: {
uid: l.default.getUserData().userID,
mid: e.mid
},
success: function(e) {
console.log("bullet_send res: ", JSON.stringify(e));
},
fail: function() {}
}));
}, s([ g(cc.Node) ], t.prototype, "mask", void 0), s([ g(cc.Node) ], t.prototype, "popNode", void 0), 
s([ g(cc.Node) ], t.prototype, "closeBtn", void 0), s([ g(cc.Node) ], t.prototype, "contentNode", void 0), 
s([ g(cc.Node) ], t.prototype, "buttleItemNode", void 0), s([ m ], t);
}(cc.Component);
i.default = b;
cc._RF.pop();
}, {} ],
"bullet-screen": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "01bb9cdc4ROcLtEHfsN7AZR", "bullet-screen");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("api-sheep"), l = r("CcJsFunc"), u = r("enumConfig"), p = r("PoolManager"), d = r("data-manager"), f = r("BulletPrefab"), h = cc._decorator, y = h.ccclass, m = (h.property, 
function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.bulletsCurrent = [], t.bulletsArray = [], t.timer = 0, t;
}
return a(t, e), t.prototype.start = function() {
cc.game.on(u.EMITKEY.RANKUSERINFOSUCCESS, this.rankUserInfoFunc, this), cc.game.on(u.EMITKEY.BULLETSEND, this.bulletSendFunc, this);
}, t.prototype.bulletSendFunc = function(e) {
for (var t, o = {}, n = 0; n < d.default.bulletsWin.length; n++) if (e == (t = d.default.bulletsWin[n]).mid) {
o.content = t.content, o.type = t.type;
break;
}
if (!o.content) for (n = 0; n < d.default.bulletsFail.length; n++) if (e == (t = d.default.bulletsFail[n]).mid) {
o.content = t.content, o.type = t.type;
break;
}
d.default.user && (o.avatar = d.default.user.avatar), d.default.rankUserInfo && (o.state = d.default.rankUserInfo.state), 
o.isSelf = 1, d.default.region && (o.region = d.default.region), console.log("mid = " + e, JSON.stringify(o)), 
this.createBullet(o);
}, t.prototype.rankUserInfoFunc = function() {
d.default.rankUserInfo && d.default.rankUserInfo.state;
}, t.prototype.requestBulletData = function() {
var e = this, t = d.default.getBulletData();
t ? (console.log("使用缓存数据->弹幕"), this.setDataInfo(t)) : (console.log("缓存数据过期->弹幕"), 
c.default.getBulletData(function(t) {
t && (e.setDataInfo(t), d.default.setBulletData(t));
}));
}, t.prototype.setDataInfo = function(e) {
this.bulletsCurrent = e, this.showBullets();
}, t.prototype.spawnBullets = function() {
for (var e = this, t = this, o = this.randomBullet(), n = 0; n < o; n++) setTimeout(function() {
var o = e.randomContent();
o && o.content && t.createBullet(o);
}, 2e3 * n);
}, t.prototype.createBullet = function(e) {
var t = p.PoolManager.instance.get("BulletPrefab");
t.x = this.node.width / 2 + 200, t.getComponent(f.default).setupData(e), t.getComponent(f.default).speed = 100, 
t.y = this.randomStartPosY(), this.bulletsArray.push(t), this.node.addChild(t);
}, t.prototype.randomRGB = function(e, t, o) {
return new cc.Color(e, t, o);
}, t.prototype.randomColor = function() {
var e = Math.round(255 * Math.random()), t = Math.round(255 * Math.random()), o = Math.round(255 * Math.random());
return new cc.Color(e, t, o);
}, t.prototype.randomBullet = function() {
var e = Math.round(l.default.randomNum(3, 10));
return this.bulletsCurrent.length < 10 ? Math.round(l.default.randomNum(1, 3)) : e;
}, t.prototype.randomContent = function() {
if (this.bulletsCurrent && 0 != this.bulletsCurrent.length) {
for (var e = Math.round(Math.random() * (this.bulletsCurrent.length - 1)), t = this.bulletsCurrent[e], o = 0; o < d.default.bulletsWin.length; o++) {
var n = d.default.bulletsWin[o];
if (t.mid == n.mid) {
t.content = n.content, t.type = n.type;
break;
}
}
if (!t.content) for (o = 0; o < d.default.bulletsFail.length; o++) if (n = d.default.bulletsFail[o], 
t.mid == n.mid) {
t.content = n.content, t.type = n.type;
break;
}
return t;
}
}, t.prototype.randomSpeed = function() {
return Math.round(100 * Math.random()) + 100;
}, t.prototype.randomStartPosY = function() {
var e = this.node.height;
return Math.round(Math.random() * e * .8) - .4 * e;
}, t.prototype.update = function(e) {
this.timer += e;
for (var t = [], o = 0; o < this.bulletsArray.length; o++) this.bulletsArray[o].x -= e * this.bulletsArray[o].getComponent(f.default).speed, 
this.bulletsArray[o].x <= -(this.node.width + this.bulletsArray[o].width) && (p.PoolManager.instance.put(this.bulletsArray[o]), 
t.push(o));
for (o = 0; o < t.length; o++) this.bulletsArray.splice(t[o], 1);
3 <= this.timer && (this.timer = 0, this.showBullets());
}, t.prototype.showBullets = function() {}, s([ y ], t);
}(cc.Component));
i.default = m;
cc._RF.pop();
}, {} ],
"calendar-item": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "312273bidZPd4yxEMIojF1F", "calendar-item");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = cc._decorator, l = c.ccclass, u = c.property, p = r("dataTs"), d = r("enumConfig"), f = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.imgEnd = null, t.imgStart = null, t.imgWin = null, t.descNode = null, t.nodeData = null, 
t.parentNode = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.setNodeData = function(e) {
this.nodeData = e, this.descNode.getComponent(cc.Label).string = String(e.day), 
this.show(e.type);
}, t.prototype.getNodeData = function() {
return this.nodeData;
}, t.prototype.isWin = function() {
if (3 <= (n = this.nodeData.date.split("-")).length) {
var e = "" + n[0] + n[1], t = "" + n[0] + n[1] + n[2], o = p.default.getUserData().dailyData, n = this.nodeData.type == d.CALENDARITEM.ITEMOLD || this.nodeData.type == d.CALENDARITEM.ITEMNOW;
if (o && o[e] && o[e][t] && o[e][t].isWin && n) return !0;
}
return !1;
}, t.prototype.show = function(e) {
void 0 === e && (e = d.CALENDARITEM.ITEMFUTURE), this.showBackground(e), this.isWin() && (this.imgEnd.active = !1, 
this.imgStart.active = !1, this.imgWin.active = !0, this.descNode.color = new cc.Color().fromHEX("58BF3A"));
}, t.prototype.showBackground = function(e) {
switch (this.imgEnd.active = !1, this.imgStart.active = !1, this.imgWin.active = !1, 
this.descNode.active = !0, this.descNode.color = new cc.Color().fromHEX("#661C1C"), 
e) {
case d.CALENDARITEM.ITEMLAST:
this.descNode.active = !1;
break;

case d.CALENDARITEM.ITEMOLD:
this.imgEnd.active = !0;
break;

case d.CALENDARITEM.ITEMNOW:
this.imgEnd.active = !0, this.imgStart.active = !0, this.descNode.color = new cc.Color().fromHEX("#FFFFFF");
break;

case d.CALENDARITEM.ITEMFUTURE:
this.descNode.color = new cc.Color().fromHEX("#BBADAD");
break;

case d.CALENDARITEM.ITEMNEXT:
this.descNode.active = !1, this.descNode.color = new cc.Color().fromHEX("#BBADAD");
break;

case d.CALENDARITEM.ITEMNOR:
this.imgEnd.active = !0, this.imgStart.active = !1, this.imgWin.active = !1;
break;

case d.CALENDARITEM.ITEMSELE:
this.imgEnd.active = !1, this.imgStart.active = !0, this.imgWin.active = !1, this.descNode.color = new cc.Color().fromHEX("#FFFFFF");
break;

case d.CALENDARITEM.ITEMSUC:
this.imgEnd.active = !1, this.imgStart.active = !1, this.imgWin.active = !0, this.descNode.color = new cc.Color().fromHEX("58BF3A");
}
}, s([ u(cc.Node) ], t.prototype, "imgEnd", void 0), s([ u(cc.Node) ], t.prototype, "imgStart", void 0), 
s([ u(cc.Node) ], t.prototype, "imgWin", void 0), s([ u(cc.Node) ], t.prototype, "descNode", void 0), 
s([ l ], t);
}(cc.Component);
i.default = f;
cc._RF.pop();
}, {} ],
"cat-house-progress": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a832bZG8ctCkbykfAYO9amD", "cat-house-progress");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("dataTs"), u = r("enumConfig"), p = r("spine"), d = r("houseLayer"), f = r("mainCultivateLayer"), h = r("unlock-build-pop"), y = cc._decorator, m = y.ccclass, g = y.property, b = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mainCultivateLayer = null, t.mainUILayer = null, t.houseLayer = null, t.progressMain = null, 
t.progressNode = null, t.receiveNode = null, t.newCatNode = null, t.titleLabel = null, 
t.progressBar = null, t.progressLabel = null, t.boxNode = null, t.boxMark = null, 
t.clawSpine = null, t;
}
return a(t, e), t.prototype.start = function() {
cc.game.on(u.EMITKEY.MAINUPDATEUI, this.updateSubUI, this), cc.game.on(u.EMITKEY.UPDATETABBARSEND, this.updateTabbar, this), 
c.default.addbtnTouchStartScale(this.node), c.default.addbtnTouchEndScale(this.node, this.catProgressFunc.bind(this)), 
c.default.addbtnTouchCancelScale(this.node), this.updateSubUI();
}, t.prototype.updateSubUI = function() {
var e, t = this;
this.updateProgress(), 1 == l.default.currentHouseUnlockAll() && (l.default.haveNewHouseUnlock() ? this.boxMark.active = !0 : this.boxMark.active = !1, 
"1" == cc.sys.localStorage.getItem("unlockNewHouse") ? this.unlockNewHouseFunc() : this.receiveBox()), 
this.clawSpine.active = !1, cc.sys.localStorage.getItem("unlockClawCache") || 2 <= (e = l.default.getUserData()).fish && e.playLevelId < 10 && (this.clawSpine.active = !0, 
this.clawSpine.getComponent(p.default).play("6Pa", 0, function() {
t.clawSpine.active = !1;
}), cc.sys.localStorage.setItem("unlockClawCache", 1));
}, t.prototype.updateTabbar = function(e) {
e == u.MAINPAGE.PAGEMAIN && (this.clawSpine.active = !1);
}, t.prototype.catProgressFunc = function() {
if ("1" == cc.sys.localStorage.getItem("unlockNewHouse")) return l.default.haveNewHouseUnlock() ? (this.mainCultivateLayer.getComponent(f.default).unlockNewHouse(), 
void cc.sys.localStorage.setItem("unlockNewHouse", "0")) : (console.log("房屋已全部解锁"), 
void cc.game.emit("showMainTips", "Waiting for new houses to be built!"));
if (1 == l.default.currentHouseUnlockAll()) return l.default.getHourseUnlockData(), 
this.mainUILayer.getChildByName("unlock-build-pop").getComponent(h.default).showGetRemoveProp(), 
this.unlockNewHouseFunc(), void cc.sys.localStorage.setItem("unlockNewHouse", "1");
cc.game.emit(u.EMITKEY.UPDATETABBARRECEIVE, 1);
var e = l.default.getHourseUnlockData();
e && (e.length <= 4 ? this.houseLayer.getComponent(d.default).moveWithRoomId(u.ROOMTYPE.ROOMONE) : 4 < e.length && e.length < 8 ? this.houseLayer.getComponent(d.default).moveWithRoomId(u.ROOMTYPE.ROOMTWO) : 8 <= e.length && e.length < 11 && this.houseLayer.getComponent(d.default).moveWithRoomId(u.ROOMTYPE.ROOMTHREE)), 
this.updateSubUI();
}, t.prototype.updateProgress = function() {
this.receiveNode.active = !1, this.newCatNode.active = !1, this.progressMain.active = !0, 
this.progressNode.active = !0;
var e = l.default.getUserData().fish, t = l.default.getHourseUnlockData();
if (t && t.length) {
t[t.length - 1] && t[t.length - 1].length && (this.boxMark.active = e >= t[t.length - 1][0].fish), 
this.titleLabel.string = "猫屋" + t.length;
var o, n = t[t.length - 1], r = 0;
for (o in n) n[o].unlock && r++;
this.progressLabel.string = r + "/" + n.length, this.progressBar.getComponent(cc.Sprite).fillRange = r / n.length;
} else this.boxMark.active = !1;
}, t.prototype.receiveBox = function() {
this.progressNode.active = !1, this.newCatNode.active = !1, this.receiveNode.active = !0;
}, t.prototype.unlockNewHouseFunc = function() {
this.progressMain.active = !1, this.newCatNode.active = !0, l.default.haveNewHouseUnlock() ? this.newCatNode.getComponent(cc.Label).string = "解锁新房屋" : this.newCatNode.getComponent(cc.Label).string = "已全部解锁";
}, s([ g(cc.Node) ], t.prototype, "mainCultivateLayer", void 0), s([ g(cc.Node) ], t.prototype, "mainUILayer", void 0), 
s([ g(cc.Node) ], t.prototype, "houseLayer", void 0), s([ g(cc.Node) ], t.prototype, "progressMain", void 0), 
s([ g(cc.Node) ], t.prototype, "progressNode", void 0), s([ g(cc.Node) ], t.prototype, "receiveNode", void 0), 
s([ g(cc.Node) ], t.prototype, "newCatNode", void 0), s([ g(cc.Label) ], t.prototype, "titleLabel", void 0), 
s([ g(cc.Node) ], t.prototype, "progressBar", void 0), s([ g(cc.Label) ], t.prototype, "progressLabel", void 0), 
s([ g(cc.Node) ], t.prototype, "boxNode", void 0), s([ g(cc.Node) ], t.prototype, "boxMark", void 0), 
s([ g(cc.Node) ], t.prototype, "clawSpine", void 0), s([ m ], t);
}(cc.Component);
i.default = b;
cc._RF.pop();
}, {} ],
catClawPrefabs: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d608do4PQpDxZoRa+u6of6d", "catClawPrefabs");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("spine"), l = cc._decorator, u = l.ccclass, p = l.property, d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.catClaw = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.playClawAnimation = function() {
var e = this;
e.node.active = !0, this.node.scale = .8, this.catClaw.getComponent(c.default).play("6Pa", 0, function() {
e.node.active = !1;
});
}, s([ p(cc.Node) ], t.prototype, "catClaw", void 0), s([ u ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {} ],
catNode: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "576facriHVLQ5wzTbqa6xlT", "catNode");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("dataTs"), l = r("spine"), u = cc._decorator, p = u.ccclass, d = (u.property, 
function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.catId = 0, t.parentComp = null, t.touchStartPoint = null, t.touchEndPoint = null, 
t.distance = 0, t.unlockClothingBg = null, t.unlockClothing = null, t;
}
return a(t, e), t.prototype.start = function() {
this.node.on("touchend", this.touchEndFunc, this), this.node.on("touchstart", this.touchStartFunc, this), 
this.node.on("touchmove", this.touchMoveFunc, this), this.node.on("touchcancel", this.touchCancelFunc, this);
var e = this.node.parent;
this.unlockClothingBg = e.getChildByName("unlockClothingBg"), this.unlockClothing = e.getChildByName("unlockClothing"), 
cc.tween(this.unlockClothingBg).by(10, {
angle: 360
}).repeatForever().start();
}, t.prototype.setCatData = function(e, t) {
this.catId = e, this.parentComp = t, this.updateSkin();
}, t.prototype.playClothesAnimation = function(e) {
this.unlockClothingBg.active = e = void 0 !== e && e, this.unlockClothing.active = e;
}, t.prototype.updateSkin = function(e) {
void 0 === e && (e = !1);
var t, o = "cat_" + this.catId, n = c.default.getUserData().catClothesData[o];
for (t in n) 1 == n[t].isWear && this.setCatSpine(n[t].clothesID, n[t].clothRank, e);
}, t.prototype.setCatSpine = function(e, t, o) {
void 0 === o && (o = !1);
var n = this, r = "Model" + (this.catId < 10 ? "0" + this.catId : this.catId + "");
this.node.getComponent(l.default).loadNewSpine(r, function() {
var r = (r = e % 1e3) < 10 ? "0" + r : r + "";
n.node.getComponent(l.default).setNewSkin(r), o ? n.node.getComponent(l.default).play("2_SkinChange1", 1, function() {
n.node.getComponent(l.default).play("1_Standby1", 0);
}) : n.node.getComponent(l.default).play("1_Standby1", 0);
for (var i = 1, a = (i = t < 2 ? 0 : 1, [ "Collar2", "Collar1" ]), s = 0; s < a.length; s++) n.node.getComponent("spine").spine.getAttachment(a[s], a[s]) && (n.node.getComponent("spine").spine.getAttachment(a[s], a[s]).color.a = i);
i = t < 3 ? 0 : 1;
var c = [ "Body1", "Arm_L1", "Arm_R1", "Cloak1" ];
for (s = 0; s < c.length; s++) n.node.getComponent("spine").spine.getAttachment(c[s], c[s]) && (n.node.getComponent("spine").spine.getAttachment(c[s], c[s]).color.a = i);
});
}, t.prototype.touchEndFunc = function(e) {
e.stopPropagation(), this.touchEndPoint = e.getLocation(), this.distance = this.touchStartPoint.sub(this.touchEndPoint).mag(), 
this.distance < 10 && (this.parentComp ? this.parentComp.touchCatFunc(this.catId) : console.log("parentComp = null")), 
this.playClothesAnimation(!1);
}, t.prototype.touchStartFunc = function(e) {
this.touchStartPoint = e.getLocation();
}, t.prototype.touchMoveFunc = function() {}, t.prototype.touchCancelFunc = function() {}, 
s([ p ], t);
}(cc.Component));
i.default = d;
cc._RF.pop();
}, {} ],
challengeSucPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "37c28V2pHFLK67RfzN7DCzx", "challengeSucPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("ApiTool"), l = r("CcJsFunc"), u = r("dataTs"), p = r("spine"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.maskNode = null, t.popNode = null, t.titleLabel = null, t.allLabel = null, 
t.numLabel = null, t.sheepSP = null, t.bgFlashSP = null, t.headerNode = null, t;
}
return a(t, e), t.prototype.start = function() {
l.default.addbtnTouchEndScale(this.maskNode, this.maskNodeFunc.bind(this));
}, t.prototype.maskNodeFunc = function() {
this.node.active = !1;
}, t.prototype.showPop = function() {
var e = this;
this.node.active = !0, cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), cc.tween(this.bgFlashSP).to(0, {
scale: 0
}).to(.1, {
scale: 1
}).call(function() {
e.bgFlashSP.getComponent(p.default).loadSpine("sheep/UI", function() {
e.bgFlashSP.getComponent(p.default).play("4Ray2", 0);
});
}).start();
for (var t = "sheep/Sheeps", o = "skin_00", n = u.default.getSheepClothesData(), r = 0; r < n.length; r++) {
var i = n[r];
if (i.dressing) {
t = "sheep/" + i.spName, o = i.spSkin;
break;
}
}
cc.tween(this.sheepSP).to(0, {
scale: 0
}).to(.2, {
scale: 1
}).call(function() {
e.sheepSP.getComponent(p.default).loadSpine(t, function() {
e.sheepSP.getComponent(p.default).setNewSkin(o), e.sheepSP.getComponent(p.default).play("Jump1", 0);
});
}).start(), c.default.dailyAllNumber, c.default.dailywinNumber, this.allLabel.string = "全国挑战1羊", 
this.numLabel.string = " 1 ", l.default.setAvatar(this.headerNode, c.default.avatar);
}, s([ h(cc.Node) ], t.prototype, "maskNode", void 0), s([ h(cc.Node) ], t.prototype, "popNode", void 0), 
s([ h(cc.Label) ], t.prototype, "titleLabel", void 0), s([ h(cc.Label) ], t.prototype, "allLabel", void 0), 
s([ h(cc.Label) ], t.prototype, "numLabel", void 0), s([ h(cc.Node) ], t.prototype, "sheepSP", void 0), 
s([ h(cc.Node) ], t.prototype, "bgFlashSP", void 0), s([ h(cc.Node) ], t.prototype, "headerNode", void 0), 
s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
chessboard: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "209706/F/ZKrrywgXpITLxQ", "chessboard");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("blockPrefab"), l = r("CcJsFunc"), u = r("dataTs"), p = r("enumConfig"), d = r("audio"), f = r("GameManager"), h = r("crushArea"), y = cc._decorator, m = y.ccclass, g = y.property, b = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.blockPrefab = null, t.blockArea = null, t.crushAreaNode = null, t.gameTopNode = null, 
t.moveOutArea = null, t.cookieGetParticle = null, t.crushAreaArgs = null, t.levelID = 0, 
t.nowLevelBlockObj = {}, t.parentComp = null, t.blockTypeArr = [], t.minBlockNum = 8, 
t.blockMaxWidth = 120, t.blockMaxHeight = 135, t.cookieBlockType = 0, t.scaleRate = 1, 
t;
}
return a(t, e), t.prototype.onLoad = function() {}, t.prototype.onDestroy = function() {
console.log("chessboard 退出程序 ######");
}, t.prototype.start = function() {
console.log("start ###");
}, t.prototype.onEnable = function() {
console.log("onEnable ###");
}, t.prototype.init = function(e, t) {
console.log("FM_ chessboard.start");
this.node.scale = 1, console.log("init ###### ", e.widthNum, e.heightNum, this.node.scale), 
this.parentComp = t, this.nowLevelData = e, this.blockArea.removeAllChildren(), 
console.log("FM_ chessboard.lvelId", e.levelID);
this.levelID = e.levelID, this.createBlockTypeObj(), this.rewardBlockInit(e, !1), 
this.initBlockNodeLayer(!0), cc.game.emit(p.EMITKEY.SHOWMASKLAYER, 3), this.refreshIndex();
}, t.prototype.initNextLevelMap = function(e, t) {
this.node.scale = 1, console.log("init ###### ", e.widthNum, e.heightNum, this.node.scale), 
this.parentComp = t, this.nowLevelData = e, this.blockArea.x = cc.winSize.width, 
this.blockArea.removeAllChildren(), this.createBlockTypeObj(), this.rewardBlockInit(e, !0), 
this.initBlockNodeLayer(!1), cc.game.emit(p.EMITKEY.SHOWMASKLAYER, 3), this.refreshIndex(), 
cc.tween(this.blockArea).to(1, {
x: -360,
y: 0
}, {
easing: cc.easing.quadOut
}).call(function() {
cc.game.emit(p.EMITKEY.HIDEMASKLAYER, 11);
}, this).start();
}, t.prototype.rewardBlockInit = function(e, t) {
var o, n;
u.default.gameConfigData.baseConfigData && (this.cookieBlockType = 0, n = u.default.getUserData().playLevelId, 
o = u.default.gameConfigData.baseConfigData.cookieRewardLevel, t && o <= n && n % 2 != 0 && (o = this.getCookieLevelData(), 
console.log("饼干类型为", o.type), n = u.default.getCookieRewardData(), console.log("cookieData", JSON.stringify(n)), 
this.cookieBlockType = o.type));
}, t.prototype.getCookieLevelData = function() {
var e = this.blockTypeArr.concat(), t = this.sortAndGroup(e), o = l.default.shuffle(t);
console.log("blockArr", e), console.log("randomArr", o);
var n = [];
30 <= e.length && e.length <= 72 && n.push(3), 36 <= e.length && e.length <= 93 && n.push(6), 
60 <= e.length && e.length <= 105 && n.push(9), 54 <= e.length && e.length <= 99 && n.push(12), 
69 <= e.length && e.length <= 114 && n.push(15), 114 <= e.length && e.length <= 147 && n.push(21), 
console.log("countArr", n);
var r, i = [];
for (r in n) for (var a in t) if (n[r] == t[a].length) {
i.push(n[r]);
break;
}
console.log("canArr", i);
var s, c = i[Math.floor(Math.random() * i.length)];
for (s in console.log("count", c), o) if (c == o[s].length) return {
count: c,
type: o[s][0]
};
return {
count: 0,
type: 0
};
}, t.prototype.sortAndGroup = function(e) {
var t, o = [];
e.sort(function(e, t) {
return e - t;
});
for (var n = 0; n < e.length; n++) e[n - 1] !== e[n] && o.push(t = []), t.push(e[n]);
return o;
}, t.prototype.createBlockTypeObj = function() {
console.log("FM_ chessboard.createBlockTypeObj");
var e, t = this.nowLevelData.blockTypeData;
for (e in this.blockTypeArr = [], this.nowLevelBlockObj = {}, t) for (var o = 3 * t[e], n = 0; n < o; n++) this.blockTypeArr.push(e);
console.log("PUSH=> block ", this.blockTypeArr.length), this.blockTypeArr = l.default.shuffle(this.blockTypeArr), 
f.default.blacksInfo.blockCurCount = this.blockTypeArr.length, f.default.blacksInfo.blockAllCount = this.blockTypeArr.length, 
console.log("blockCurCount = " + f.default.blacksInfo.blockCurCount + " blockAllCount = " + f.default.blacksInfo.blockAllCount);
}, t.prototype.initBlockNodeLayer = function(e) {
f.default.getInstance().cookieDict.cookieCurCount = 0;
var t, o = this.nowLevelData.levelData;
for (t in o) for (var n in o[t]) e ? this.addBlockFunc(o[t][n], cc.winSize.height) : this.addBlockFunc(o[t][n], 0);
e ? this.playInitBlockAnimate() : this.noPlayAnimate();
}, t.prototype.checkGameWin = function() {
for (var e in this.nowLevelBlockObj) for (var t in this.nowLevelBlockObj[e]) for (var o in this.nowLevelBlockObj[e][t]) return !1;
return !0;
}, t.prototype.noPlayAnimate = function() {
for (var e in this.nowLevelBlockObj) for (var t in this.nowLevelBlockObj[e]) for (var o in this.nowLevelBlockObj[e][t]) {
var n = this.checkIsShow(e, Number(o), Number(t)), r = this.nowLevelBlockObj[e][t][o].getComponent(c.default);
o = this.node.width / this.nowLevelData.widthNum / this.blockMaxWidth;
o *= this.scaleRate, r.setStatus(n, o), r.isChoosed = !1, r.playRandomBlockAnimate();
}
}, t.prototype.playInitBlockAnimate = function() {
cc.tween(this.node).delay(.3).call(function() {
d.default.playAudioMusic("audio/sound/levelInit.mp3", !1);
}).start();
var e = 1e4, t = 0, o = 0;
for (a in this.nowLevelBlockObj) for (var n in this.nowLevelBlockObj[a]) for (var r in this.nowLevelBlockObj[a][n]) o++, 
Number(r) < e && (e = Number(r)), Number(n) > t && (t = Number(n));
function i(n) {
function r(r) {
for (var i in s.nowLevelBlockObj[n][r]) !function(i) {
var a = .02 * (Number(i) - e) + .02 * (t - Number(r)), l = s.nowLevelBlockObj[n][r][i].getComponent(c.default);
cc.tween(l.node).delay(a).by(.8, {
y: -cc.winSize.height
}).by(.1, {
y: -5
}).by(.1, {
y: 8
}).by(.1, {
y: -3
}).call(function() {
o--;
var e = this.checkIsShow(n, Number(i), Number(r)), t = this.nowLevelBlockObj[n][r][i].getComponent(c.default), a = this.node.width / this.nowLevelData.widthNum / this.blockMaxWidth;
a *= this.scaleRate, t.setStatus(e, a), t.isChoosed = !1, t.playRandomBlockAnimate(), 
0 == o && cc.game.emit(p.EMITKEY.HIDEMASKLAYER, 3);
}, s).start();
}(i);
}
for (var i in s.nowLevelBlockObj[n]) r(i);
}
var a, s = this;
for (a in this.nowLevelBlockObj) i(a);
}, t.prototype.refreshIndex = function() {
for (var e in this.nowLevelBlockObj) for (var t in this.nowLevelBlockObj[e]) for (var o in this.nowLevelBlockObj[e][t]) this.nowLevelBlockObj[e][t][o].setSiblingIndex(1e4);
}, t.prototype.refreshMask = function() {
var e, t = 0;
for (e in this.nowLevelBlockObj) for (var o in this.nowLevelBlockObj[e]) for (var n in this.nowLevelBlockObj[e][o]) {
t++;
var r = this.checkIsShow(e, Number(n), Number(o)), i = this.node.width / this.nowLevelData.widthNum / this.blockMaxWidth;
i *= this.scaleRate, this.nowLevelBlockObj[e][o][n].getComponent(c.default).setStatus(r, i);
}
f.default.blacksInfo.blockCurCount = t;
}, t.prototype.updateBlockArea = function() {
var e = [];
for (r in cc.game.emit(p.EMITKEY.SHOWMASKLAYER, 4), this.nowLevelBlockObj) for (var t in this.nowLevelBlockObj[r]) for (var o in this.nowLevelBlockObj[r][t]) {
var n = this.nowLevelBlockObj[r][t][o].getComponent(c.default);
e.push(n.cardDataObj.type);
}
if (!((e = l.default.shuffle(e)).length < 1)) {
for (var r in this.nowLevelBlockObj) for (var t in this.nowLevelBlockObj[r]) for (var o in this.nowLevelBlockObj[r][t]) {
n = this.nowLevelBlockObj[r][t][o].getComponent(c.default);
var i = this.nowLevelData.widthNum * this.minBlockNum, a = this.node.width / i, s = this.node.width / this.nowLevelData.widthNum;
i = n.cardDataObj.rolNum * a + s / 2, s /= this.blockMaxWidth;
s *= this.scaleRate;
s = -(n.cardDataObj.rowNum * a + s * this.blockMaxHeight / 2), s = cc.v3(i, s, 0);
n.beginRotate(this, e.pop(), s);
}
return !0;
}
cc.game.emit(p.EMITKEY.HIDEMASKLAYER, 4);
}, t.prototype.checkIsShow = function(e, t, o) {
var n, r = this.nowLevelBlockObj;
for (n in r) if (Number(n) > Number(e)) {
var i, a = t - this.minBlockNum, s = t + this.minBlockNum, c = o - this.minBlockNum, l = o + this.minBlockNum;
for (i in r[n]) for (var u in r[n][i]) if (Number(u) > a && Number(u) < s && Number(i) > c && Number(i) < l) return !1;
}
return !0;
}, t.prototype.removeCardNode = function(e) {
var t;
7 <= this.crushAreaNode.getComponent(h.default).getCrushBlockNum() || (this.crushAreaNode.setSiblingIndex(10), 
this.crushAreaArgs && this.crushAreaArgs.setSiblingIndex(10), t = e.cardDataObj, 
this.nowLevelBlockObj[t.layerNum][t.rowNum][t.rolNum] && delete this.nowLevelBlockObj[t.layerNum][t.rowNum][t.rolNum], 
this.parentComp.crushBlockNode(e), e.comeParent = "chessboard", this.refreshMask());
}, t.prototype.addBlockFunc = function(e, t) {
var o = cc.instantiate(this.blockPrefab);
this.blockArea.addChild(o);
var n = this.nowLevelData.widthNum * this.minBlockNum, r = this.node.width / n, i = this.node.width / this.nowLevelData.widthNum;
n = i / this.blockMaxWidth;
n *= this.scaleRate, o.scale = n;
i = e.rolNum * r + i / 2, n = -(e.rowNum * r + n * this.blockMaxHeight / 2);
o.x = i, o.y = n + t, 0 == e.type && (t = this.blockTypeArr.pop(), e.type = t), 
this.cookieBlockType == e.type ? e.cookie = 1 : e.cookie = 0, e.cookieType = this.cookieBlockType, 
o.getComponent(c.default).addBlockNode(e, this.removeCardNode.bind(this), this.refreshIndex.bind(this)), 
this.addBlockDataObj(o, e);
}, t.prototype.cancelAddBlockFunc = function(e) {
e.node.setSiblingIndex(1e3);
var t = e.node, o = t.convertToWorldSpaceAR(cc.v2(0, 0)), n = this.blockArea.convertToNodeSpaceAR(o);
t.removeFromParent(!1), t.x = n.x, t.y = n.y, this.blockArea.addChild(t);
var r = this.nowLevelData.widthNum * this.minBlockNum;
o = this.node.width / r, n = this.node.width / this.nowLevelData.widthNum, r = e.cardDataObj.rolNum * o + n / 2, 
n /= this.blockMaxWidth;
n *= this.scaleRate;
o = -(e.cardDataObj.rowNum * o + n * this.blockMaxHeight / 2);
t.stopAllActions(), cc.tween(t).to(.15, {
x: r,
y: o,
scale: n
}).call(function() {
e.isChoosed = !1, cc.game.emit(p.EMITKEY.HIDEMASKLAYER, 2);
}, this).start(), t.getComponent(c.default).updateBlockNodeData(e.cardDataObj, this.removeCardNode.bind(this), this.refreshIndex.bind(this)), 
this.addBlockDataObj(t, e.cardDataObj), this.refreshMask(), this.refreshIndex();
}, t.prototype.addBlockDataObj = function(e, t) {
this.nowLevelBlockObj[t.layerNum] ? this.nowLevelBlockObj[t.layerNum][t.rowNum] || (this.nowLevelBlockObj[t.layerNum][t.rowNum] = {}) : (this.nowLevelBlockObj[t.layerNum] = {}, 
this.nowLevelBlockObj[t.layerNum][t.rowNum] = {}), this.nowLevelBlockObj[t.layerNum][t.rowNum][t.rolNum] = e;
}, s([ g(cc.Prefab) ], t.prototype, "blockPrefab", void 0), s([ g(cc.Node) ], t.prototype, "blockArea", void 0), 
s([ g(cc.Node) ], t.prototype, "crushAreaNode", void 0), s([ g(cc.Node) ], t.prototype, "gameTopNode", void 0), 
s([ g(cc.Node) ], t.prototype, "moveOutArea", void 0), s([ g(cc.Prefab) ], t.prototype, "cookieGetParticle", void 0), 
s([ g(cc.Node) ], t.prototype, "crushAreaArgs", void 0), s([ m ], t);
}(cc.Component);
i.default = b;
cc._RF.pop();
}, {} ],
clothesPrefab: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "33fd5tSoKRCfKE6RQ1fb4nf", "clothesPrefab");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("dataTs"), u = r("spine"), p = r("GameManager"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.titleBanner_1 = null, t.lvLabel_1 = null, t.titleLabel_1 = null, t.titleBanner_2 = null, 
t.titleLabel_2 = null, t.titleBanner_3 = null, t.lockNode = null, t.selectNode = null, 
t.catNode = null, t.clothId = 0, t.clothData = null, t.isClicked = !1, t.catId = 0, 
t.parentComp = null, t;
}
return a(t, e), t.prototype.start = function() {
this.node.on("touchend", this.dressCloth, this);
}, t.prototype.setClothNodeData = function(e, t, o, n) {
if (this.clothData = e, this.parentComp = t, l.default.getUserData(), this.isClicked = !1, 
this.titleBanner_1.active = !1, this.titleBanner_2.active = !1, this.titleBanner_3.active = !1, 
this.lockNode.active = !1, this.catNode.active = !1, this.selectNode.active = !1, 
this.clothId = e.clothesID, p.default.getInstance().collectionMark.catSkinNum == this.clothData.clothesID ? (this.node.getChildByName("mark").active = !0, 
p.default.getInstance().collectionMark.catSkinNum = 0) : this.node.getChildByName("mark").active = !1, 
"level" == e.unlockType) {
var r = !1;
for (i in n) if (this.clothData.clothesID == n[i].clothesID) {
r = !0;
break;
}
if (r) for (var i in n) this.clothData.clothesID == n[i].clothesID && (this.titleBanner_1.active = !0, 
this.isClicked = !0, this.titleLabel_1.string = e.name, this.lvLabel_1.string = "Lv" + n[i].clothRank, 
this.catNode.active = !0, this.selectNode.active = n[i].isWear, this.setCatSpine(o, n[i].clothRank), 
0 == this.clothData.skin ? this.lvLabel_1.node.active = !1 : this.lvLabel_1.node.active = !0, 
2 == this.clothData.skin && n[i].clothRank < 3 && (this.titleBanner_1.active = !1, 
this.titleBanner_2.active = !0, this.titleLabel_2.string = "完成挑战解锁")); else this.titleBanner_2.active = !1, 
this.titleLabel_2.string = e.unlockNum + "关解锁", this.lockNode.active = !0, this.clothData.skin < 1e4 && (this.catNode.active = !0, 
this.titleBanner_1.active = !1, this.lockNode.active = !1, 1 == this.clothData.skin ? (this.titleBanner_3.active = !0, 
this.setCatSpine(o, 1)) : 2 == this.clothData.skin ? (this.titleBanner_2.active = !0, 
this.titleLabel_2.string = "完成挑战解锁", this.setCatSpine(o, 0)) : this.setCatSpine(o, 1));
} else e.unlockType;
}, t.prototype.setCatSpine = function(e, t) {
var o = this;
this.catId = e;
e = "Model" + (this.catId < 10 ? "0" + this.catId : this.catId + "");
this.catNode.getComponent(u.default).loadNewSpine(e, function() {
var e = o.clothId % 1e3, n = e < 10 ? "0" + e : e + "";
o.clothData.skin < 1e4 && o.catNode.getComponent(u.default).setNewSkin(n);
e = "Skin/" + n + "_" + t;
console.log(n + " " + e), o.catNode.getComponent(u.default).play(e, 0);
});
}, t.prototype.dressCloth = function() {
c.default.addClickAudio(), this.isClicked ? (console.log("选择衣服：", this.clothId), 
this.parentComp.dressCloth(this.clothId)) : console.log("不能被点击");
}, s([ h(cc.Node) ], t.prototype, "titleBanner_1", void 0), s([ h(cc.Label) ], t.prototype, "lvLabel_1", void 0), 
s([ h(cc.Label) ], t.prototype, "titleLabel_1", void 0), s([ h(cc.Node) ], t.prototype, "titleBanner_2", void 0), 
s([ h(cc.Label) ], t.prototype, "titleLabel_2", void 0), s([ h(cc.Node) ], t.prototype, "titleBanner_3", void 0), 
s([ h(cc.Node) ], t.prototype, "lockNode", void 0), s([ h(cc.Node) ], t.prototype, "selectNode", void 0), 
s([ h(cc.Node) ], t.prototype, "catNode", void 0), s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
collectPrefab: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0d875oEXn5LZ7yyzkAjxqlu", "collectPrefab");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = cc._decorator, l = c.ccclass, u = c.property, p = r("collectSubPrefab"), d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.content = null, t.collectSubPrefab = null, t.base_title_label = null, t.nodeData = null, 
t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.setNodeData = function(e) {
this.nodeData = e;
var t;
e = this.nodeData.catArr.length;
for (t in this.node.height = 130 + e / 3 * 305, this.base_title_label.string = "- " + this.nodeData.name + " -", 
this.nodeData.catArr) {
var o = cc.instantiate(this.collectSubPrefab);
o.getComponent(p.default).setNodeData(this.nodeData.catArr[t], this), this.content.addChild(o);
}
}, t.prototype.refreshNode = function(e) {
this.nodeData = e;
var t, o = this.content.children;
for (t in o) o[t].getComponent(p.default).setNodeData(this.nodeData.catArr[t], this);
}, s([ u(cc.Node) ], t.prototype, "content", void 0), s([ u(cc.Prefab) ], t.prototype, "collectSubPrefab", void 0), 
s([ u(cc.Label) ], t.prototype, "base_title_label", void 0), s([ l ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {} ],
collectSubPrefab: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "57acahslq1PzajDPXaUCYWO", "collectSubPrefab");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("spine"), u = r("dataTs"), p = r("GameManager"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.imgContent = null, t.tabLabel = null, t.imgTab = null, t.catNode = null, 
t.unlocking = null, t.imgLock = null, t.nodeData = null, t;
}
return a(t, e), t.prototype.start = function() {
c.default.addbtnTouchEndScale(this.node, this.clickNodeAction.bind(this));
}, t.prototype.clickNodeAction = function() {
c.default.addClickAudio();
}, t.prototype.setNodeData = function(e) {
var t = this;
this.nodeData = e, this.tabLabel.string = this.nodeData.name;
var o, n = u.default.getUserData().catClothesData["cat_" + t.nodeData.modelID], r = !1;
for (o in n) if (this.nodeData.clothesID == n[o].clothesID) {
r = !0;
break;
}
if (u.default.getUserData().playLevelId, r ? (this.imgContent.active = !0, this.imgLock.active = !1) : (this.imgContent.active = !1, 
this.imgLock.active = !0), !(1e4 <= this.nodeData.unlockNum)) {
0 == this.nodeData.skin ? this.tabLabel.getComponent(cc.LabelOutline).color = new cc.Color().fromHEX("#4482CE") : 1 == this.nodeData.skin ? this.tabLabel.getComponent(cc.LabelOutline).color = new cc.Color().fromHEX("#A648D7") : 2 == this.nodeData.skin && (this.tabLabel.getComponent(cc.LabelOutline).color = new cc.Color().fromHEX("#D5A618"));
var i = "rewardIcon/Tab" + (e.skin + 1) + ".png";
c.default.changeSpriteFrame(this.imgTab, i);
var a = this.nodeData.clothesID % 1e3;
i = "Model" + ((i = this.nodeData.modelID) < 10 ? "0" + i : i + "");
if (!n) return t.imgContent.active = !1, void (t.imgLock.active = !0);
this.catNode.getComponent(l.default).loadNewSpine(i, function() {
var e = a < 10 ? "0" + a : a + "";
t.catNode.getComponent(l.default).setNewSkin(e);
for (var o = 0; o < n.length; o++) {
var r = n[o];
if (r.clothesID == t.nodeData.clothesID) {
var i = t.nodeData.skin;
i < 1e4 && (r = "Skin/" + (i < 10 ? "0" + i : i + "") + "_" + r.clothRank, t.catNode.getComponent(l.default).play(r, 0));
break;
}
}
}), p.default.getInstance().collectionMark.catNum == e.clothesID ? (this.imgContent.getChildByName("mark").active = !0, 
p.default.getInstance().collectionMark.catNum = 0) : this.imgContent.getChildByName("mark").active = !1;
}
}, s([ h(cc.Node) ], t.prototype, "imgContent", void 0), s([ h(cc.Label) ], t.prototype, "tabLabel", void 0), 
s([ h(cc.Node) ], t.prototype, "imgTab", void 0), s([ h(cc.Node) ], t.prototype, "catNode", void 0), 
s([ h(cc.Node) ], t.prototype, "unlocking", void 0), s([ h(cc.Node) ], t.prototype, "imgLock", void 0), 
s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
collectSv: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f3673ZyHCpFtbKp/M6ZObGH", "collectSv");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = cc._decorator, l = c.ccclass, u = c.property, p = r("dataTs"), d = r("collectPrefab"), f = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.content = null, t.collectPrefab = null, t.collectData = null, t.dataArray = [], 
t;
}
return a(t, e), t.prototype.start = function() {
this.parserData(), this.content.removeAllChildren();
for (var e = 0; e < this.dataArray.length; e++) {
var t = cc.instantiate(this.collectPrefab);
t.getComponent(d.default).setNodeData(this.dataArray[e], this), this.content.addChild(t);
}
}, t.prototype.onEnable = function() {
0 < this.dataArray.length && this.refreshSubNode();
}, t.prototype.refreshSubNode = function() {
this.parserData();
var e, t = this.content.children;
for (e in t) t[e].getComponent(d.default).refreshNode(this.dataArray[e], this);
}, t.prototype.parserData = function() {
var e, t = [];
for (e in this.collectData = p.default.gameConfigData.baseConfigData.catClothesData, 
this.collectData) for (var o in this.collectData[e]) this.collectData[e][o].modelID < 1e4 && t.push(this.collectData[e][o]);
for (var n = 0, r = 0; r < t.length; r++) (s = t[r].roomID) > n && (n = s);
for (r = 0; r <= n; r++) this.dataArray[r] = {
name: "",
catArr: []
};
for (var i = [], a = 0; a < t.length; a++) {
var s = t[a].roomID;
this.dataArray[s - 1].name = "房间" + s, this.dataArray[s - 1].catArr.push(t[a]);
}
for (i = [], r = 0; r < 3; r++) i.push({
name: "格格",
clothesID: 7e3,
unlockType: "level",
unlockNum: 1e4,
skin: 1
});
this.dataArray[this.dataArray.length - 1].name = "敬请期待", this.dataArray[this.dataArray.length - 1].catArr = i, 
console.log(this.dataArray.length);
}, s([ u(cc.Node) ], t.prototype, "content", void 0), s([ u(cc.Prefab) ], t.prototype, "collectPrefab", void 0), 
s([ l ], t);
}(cc.Component);
i.default = f;
cc._RF.pop();
}, {} ],
config: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "09960YHWTBJybJ2atehqivt", "config");
var n = o;
Object.defineProperty(n, "__esModule", {
value: !0
}), n.default = {
blockTypeConfig: [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16 ],
mapType: {
6: {
width: 6,
height: 7
},
7: {
width: 7,
height: 9
},
8: {
width: 8,
height: 10
},
9: {
width: 9,
height: 11
},
10: {
width: 10,
height: 12
}
},
baseMapObj: {
widthNum: 8,
heightNum: 10,
levelKey: 1,
blockTypeData: {},
levelData: {
1: []
}
}
};
cc._RF.pop();
}, {} ],
cookiePrefab: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "30474i2SThKzpM59arL/dte", "cookiePrefab");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = cc._decorator, u = l.ccclass, p = l.property, d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.cookieTrailing = null, t.imageNode = null, t.labelNode = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.showData = function(e, t) {
void 0 === t && (t = 0), 0 == (e = void 0 === e ? 0 : e) ? (this.imageNode.angle = 0, 
this.labelNode.active = !1, this.cookieTrailing.active = !1, c.default.changeSpriteFrame(this.imageNode, "block/cookie/cookie_icon_fly.png")) : 1 == e ? (this.imageNode.angle = -12, 
this.labelNode.active = !0, this.labelNode.getComponent(cc.Label).string = "x" + t, 
this.cookieTrailing.active = !1, c.default.changeSpriteFrame(this.imageNode, "block/cookie/cookie_icon_fly.png")) : 2 == e && (this.imageNode.angle = 0, 
this.labelNode.active = !1, this.cookieTrailing.active = !1, c.default.changeSpriteFrame(this.imageNode, "rewardIcon/base_icon_ribbon.png"));
}, s([ p(cc.Node) ], t.prototype, "cookieTrailing", void 0), s([ p(cc.Node) ], t.prototype, "imageNode", void 0), 
s([ p(cc.Node) ], t.prototype, "labelNode", void 0), s([ u ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {} ],
cookieRewardNode: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "69fe22S909JKoELNPl5QSbH", "cookieRewardNode");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = cc._decorator, u = l.ccclass, p = l.property, d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.imageNode = null, t.labelNode = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.showData = function(e) {
var t = "rewardIcon/" + e.rewardType + ".png", o = 0;
this.imageNode.y = 0, "reward_fish" == e.rewardType ? o = 0 : "prop_random" == e.rewardType ? (o = 60, 
this.imageNode.y = 5) : "prop_remove" == e.rewardType && (t = "rewardIcon/prop_remove.png", 
o = 0, this.imageNode.y = 15), this.imageNode.angle = o, c.default.changeSpriteFrame(this.imageNode, t), 
this.labelNode.getComponent(cc.Label).string = e.rewardCount + "";
}, s([ p(cc.Node) ], t.prototype, "imageNode", void 0), s([ p(cc.Node) ], t.prototype, "labelNode", void 0), 
s([ u ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {} ],
crushArea: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "aa009UiZ8pDtasKgVM+bH6Y", "crushArea");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("enumConfig"), l = r("audio"), u = r("util"), p = r("GameManager"), d = r("chessboard"), f = r("moveOutArea"), h = cc._decorator, y = h.ccclass, m = h.property, g = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.gametopUI = null, t.moveOutArea = null, t.chessboardNode = null, t.particlePrefab = null, 
t.rewardEmitter = null, t.rewardEmitterNode = null, t.ribbonBoxPrefab = null, t.ribbonBox = null, 
t.crushAreaArgs = null, t.dailySF = null, t.topicSF = null, t.crushArray = [], t.blockMaxWidth = 120, 
t.newScale = .8, t.moveSpeed = 2e3, t.cancelArray = [], t.failNumber = 7, t.gameOverStatus = !1, 
t.particleNode1 = null, t.particleNode2 = null, t.particleNode3 = null, t.parentComp = null, 
t;
}
return a(t, e), t.prototype.onLoad = function() {}, t.prototype.start = function() {}, 
t.prototype.initCrushArea = function(e) {
this.node.removeAllChildren(), this.parentComp = e, this.particleNode1 = null, this.particleNode2 = null, 
this.particleNode3 = null, this.rewardEmitterNode = null, this.ribbonBox = null, 
this.crushArray = [], this.cancelArray = [], this.gameOverStatus = !1, this.node.opacity = 0, 
cc.tween(this.node).to(.4, {
opacity: 255
}).start(), p.default.getInstance().gameType == c.GAMETYPE.GAMETOPIC ? (this.getComponent(cc.Sprite).spriteFrame = this.topicSF, 
this.crushAreaArgs && (this.crushAreaArgs.active = !1)) : (this.getComponent(cc.Sprite).spriteFrame = this.dailySF, 
this.crushAreaArgs && (this.crushAreaArgs.active = !0));
}, t.prototype.hideCrushArea = function() {
cc.tween(this.node).to(.4, {
opacity: 0
}).start();
}, t.prototype.addCrushAreaCardNode = function(e) {
var t = e.node.convertToWorldSpaceAR(cc.v2(0, 0));
t = this.node.convertToNodeSpaceAR(t);
e.node.removeFromParent(!1), e.node.x = t.x, e.node.y = t.y, e.isChoosed = !0, this.node.addChild(e.node), 
this.addNewBlockNode(e), 7 <= this.getCrushBlockNum() && cc.game.emit(c.EMITKEY.SHOWMASKLAYER, 5);
}, t.prototype.getCrushBlockNum = function() {
for (var e = this.crushArray.length, t = 0; t < this.crushArray.length - 2; t++) {
var o = this.crushArray[t + 2].cardDataObj.type, n = (this.crushArray[t + 2].node, 
this.crushArray[t + 1].cardDataObj.type), r = (this.crushArray[t + 1].node, this.crushArray[t].cardDataObj.type);
this.crushArray[t].node, o == r && n == r && (e -= 3);
}
return e;
}, t.prototype.addNewBlockNode = function(e) {
e.isReady = !1;
var t = this.getNewPosit(e);
this.crushArray.splice(t, 0, e), this.cancelArray.push(e);
t = e.cardDataObj.layerNum + "-" + e.cardDataObj.rolNum + "-" + e.cardDataObj.rowNum;
e.blockID = t, this.updateNewPosition();
}, t.prototype.isCrushBlock = function() {
for (var e = 0; e < this.crushArray.length - 2; e++) {
var t = this.crushArray[e + 2].cardDataObj.type, o = this.crushArray[e + 2].node, n = this.crushArray[e + 1].cardDataObj.type, r = this.crushArray[e + 1].node, i = this.crushArray[e].cardDataObj.type, a = this.crushArray[e].node;
if (t == i && n == i && this.crushArray[e + 2].isReady && this.crushArray[e + 1].isReady && this.crushArray[e + 0].isReady) return l.default.playAudioMusic("audio/sound/crush.mp3", !1), 
cc.tween(o).to(.1, {
scale: 0
}).call(function() {
if(t==3 || t==2 || t==4){
souVoice("hajimi");
} else if(t==1){
souVoice("manbo");
} else if(t==7){
souVoice("ohmyjili");
} else if (t==9){
souVoice("dingdongji");
} else if (t==5){
souVoice("wow");
} else if (t==10){
souVoice("aminuosi");
} else if (t==6){
souVoice("nailong");
} else if (t==8){
souVoice("nanbeilvdou");
};
this.crushArray.length < 1 && this.parentComp.crushAnimateCallback(), this.particleNode1 || (this.particleNode1 = cc.instantiate(this.particlePrefab), 
this.node.addChild(this.particleNode1)), this.particleNode1.setSiblingIndex(100), 
this.particleNode1.position = o.position, this.particleNode1.getComponent(cc.ParticleSystem).resetSystem(), 
o.destroy();
}, this).start(), cc.tween(r).to(.1, {
scale: 0
}).call(function() {
this.particleNode2 || (this.particleNode2 = cc.instantiate(this.particlePrefab), 
this.node.addChild(this.particleNode2)), this.particleNode2.setSiblingIndex(100), 
this.particleNode2.position = r.position, this.particleNode2.getComponent(cc.ParticleSystem).resetSystem(), 
r.destroy();
}, this).start(), cc.tween(a).to(.1, {
scale: 0
}).call(function() {
this.particleNode3 || (this.particleNode3 = cc.instantiate(this.particlePrefab), 
this.node.addChild(this.particleNode3)), this.particleNode3.setSiblingIndex(100), 
this.particleNode3.position = a.position, this.particleNode3.getComponent(cc.ParticleSystem).resetSystem(), 
a.destroy();
}, this).start(), this.crushArray.splice(e, 3), this.cancelArray = [], this.updateNewPosition(), 
!0;
}
return !1;
}, t.prototype.updateNewPosition = function() {
for (var e, t = this, o = this, n = 0; n < this.crushArray.length; n++) !function() {
e = n * o.blockMaxWidth * o.newScale + o.blockMaxWidth * o.newScale / 2, o.crushArray[n].node.stopAllActions();
var r = o.crushArray[n], i = o.getMoveTime(r.node.position, {
x: e,
y: 0
});
r.node.x == e && 0 == r.node.y || cc.tween(r.node).to(i, {
x: 14 + e,
y: 8,
scale: o.newScale
}).call(function() {
if (r.isReady = !0, !t.isCrushBlock() && t.crushArray.length >= t.failNumber) {
for (var e = !0, o = 0; o < t.crushArray.length; o++) t.crushArray[o].isReady || (e = !1);
e && t.gameOverFunc();
}
}, o).start();
}();
}, t.prototype.gameOverFunc = function() {
this.gameOverStatus || (this.gameOverStatus = !0, cc.game.emit(c.EMITKEY.HIDEMASKLAYER, 10), 
this.parentComp.gameOverFunc());
}, t.prototype.rebornGameFunc = function() {
this.gameOverStatus = !1, this.moveOutBlock();
}, t.prototype.getNewPosit = function(e) {
for (var t = this.crushArray.length - 1; 0 <= t; t--) if (this.crushArray[t].cardDataObj.type == e.cardDataObj.type) return t + 1;
return this.crushArray.length;
}, t.prototype.moveOutBlock = function() {
if (this.crushArray.length < 1) return !1;
this.node.setSiblingIndex(10), this.crushAreaArgs && this.crushAreaArgs.setSiblingIndex(10), 
this.moveOutArea.setSiblingIndex(9), cc.game.emit(c.EMITKEY.SHOWMASKLAYER, 1), this.cancelArray = [];
for (var e = [], t = 0; t < this.crushArray.length && !(this.crushArray[t].isReady && (e.push(this.crushArray.splice(t, 1)[0]), 
t--, 3 <= e.length)); t++) ;
return e.length < 1 && cc.game.emit(c.EMITKEY.HIDEMASKLAYER, 5), this.moveOutArea.getComponent(f.default).addThreeOutBlock(e), 
this.updateNewPosition(), !0;
}, t.prototype.cancelOneStep = function() {
if (0 < this.cancelArray.length) {
cc.game.emit(c.EMITKEY.SHOWMASKLAYER, 6);
for (var e = this.cancelArray.pop(), t = 0; t < this.crushArray.length; t++) this.crushArray[t].cardDataObj.layerNum == e.cardDataObj.layerNum && this.crushArray[t].cardDataObj.rolNum == e.cardDataObj.rolNum && this.crushArray[t].cardDataObj.rowNum == e.cardDataObj.rowNum && this.crushArray.splice(t, 1);
return "moveOutArea" == e.comeParent && (this.moveOutArea.getComponent(f.default).cancelAddBlockFunc(e), 
this.moveOutArea.setSiblingIndex(10)), "chessboard" == e.comeParent && (this.chessboardNode.getComponent(d.default).cancelAddBlockFunc(e), 
this.chessboardNode.setSiblingIndex(10)), this.updateNewPosition(), !0;
}
return !1;
}, t.prototype.getMoveTime = function(e, t) {
t = u.default.pointLength(e, t);
return Math.sqrt(t) / this.moveSpeed;
}, s([ m(cc.Node) ], t.prototype, "gametopUI", void 0), s([ m(cc.Node) ], t.prototype, "moveOutArea", void 0), 
s([ m(cc.Node) ], t.prototype, "chessboardNode", void 0), s([ m(cc.Prefab) ], t.prototype, "particlePrefab", void 0), 
s([ m(cc.Prefab) ], t.prototype, "rewardEmitter", void 0), s([ m(cc.Prefab) ], t.prototype, "ribbonBoxPrefab", void 0), 
s([ m(cc.Node) ], t.prototype, "crushAreaArgs", void 0), s([ m({
type: cc.SpriteFrame,
tooltip: "每日挑战"
}) ], t.prototype, "dailySF", void 0), s([ m({
type: cc.SpriteFrame,
tooltip: "话题"
}) ], t.prototype, "topicSF", void 0), s([ y ], t);
}(cc.Component);
i.default = g;
cc._RF.pop();
}, {} ],
"cubic-bezier-curve": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1d0f1p1wcNIAKRIU+Hz/9CF", "cubic-bezier-curve");
var n = e, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
}), r.CubicBezierCurve = void 0;
var i = n("curve-sample"), a = n("typed-event"), s = cc.Vec3, c = cc.Vec2, l = function() {
function e(e, t) {
this.samples = new Array(), this.length = 0, this.Changed = new a.TypedEvent(), 
this.n1 = e, this.n2 = t, e.changed.on(this.computeSamples), t.changed.on(this.computeSamples), 
this.computeSamples();
}
return Object.defineProperty(e.prototype, "Length", {
get: function() {
return this.length;
},
enumerable: !1,
configurable: !0
}), e.prototype.ConnectStart = function(e) {
this.n1.changed.off(this.computeSamples), (this.n1 = e).changed.on(this.computeSamples), 
this.computeSamples();
}, e.prototype.ConnectEnd = function(e) {
this.n2.changed.off(this.computeSamples), (this.n2 = e).changed.on(this.computeSamples), 
this.computeSamples();
}, e.prototype.GetInverseDirection = function() {
return s.scaleAndAdd(new s(), s.negate(new s(), this.n2.Direction), this.n2.Position, 2);
}, e.prototype.GetLocation = function(e) {
var t = 1 - e, o = t * t, n = e * e, r = s.multiplyScalar(new s(), this.n1.Position, o * t), i = s.multiplyScalar(new s(), this.n1.Direction, 3 * o * e);
o = this.GetInverseDirection();
s.multiplyScalar(o, o, 3 * t * n);
e = s.multiplyScalar(new s(), this.n2.Position, n * e);
return s.add(r, r, i), s.add(r, r, o), s.add(r, r, e), r;
}, e.prototype.GetTangent = function(e) {
var t = (r = 1 - e) * r, o = e * e, n = s.multiplyScalar(new s(), this.n1.Position, -t), r = s.multiplyScalar(new s(), this.n1.Direction, 3 * t - 2 * r);
e = s.multiplyScalar(new s(), this.GetInverseDirection(), -3 * o + 2 * e), o = s.multiplyScalar(new s(), this.n2.Position, o);
return s.add(n, n, r), s.add(n, n, e), s.add(n, n, o), n.normalize();
}, e.prototype.GetUp = function(e) {
return s.lerp(new s(), this.n1.Up, this.n2.Up, e);
}, e.prototype.GetScale = function(e) {
return c.lerp(new c(), this.n1.Scale, this.n2.Scale, e);
}, e.prototype.GetRoll = function() {
return console.assert(!1), 0;
}, e.prototype.recursiveSamples = function(e, t, o) {
var n, r, i;
8 < o || (n = .5 * (t + e), r = this.GetTangent(e), i = this.GetTangent(t), s.angle(r, i) <= .1 && 0 != o || (this.recursiveSamples(e, n, o + 1), 
i = this.samples[this.samples.length - 1].location, e = this.GetLocation(n), this.length += s.distance(i, e), 
this.samples.push(this.createSample(this.Length, n, e)), this.recursiveSamples(n, t, o + 1)));
}, e.prototype.computeSamples = function() {
this.samples.length = 0, this.length = 0, this.samples.push(this.createSample(0, 0)), 
this.recursiveSamples(0, 1, 0);
var e = this.samples[this.samples.length - 1].location, t = this.GetLocation(1);
this.length += s.distance(e, t), this.samples.push(this.createSample(this.Length, 1));
}, e.prototype.createSample = function(e, t, o) {
return o = o || this.GetLocation(t), new i.CurveSample(o, this.GetTangent(t), this.GetUp(t), this.GetScale(t), e, t, this);
}, e.prototype.GetSample = function(e) {
if (e < 0 || 1 < e) throw new Error("Time must be between 0 and 1 (was " + e + ").");
for (var t = this.samples[0], o = null, n = !1, r = 0, a = this.samples; r < a.length; r++) {
var s = a[r];
if (s.timeInCurve >= e) {
o = s, n = !0;
break;
}
t = s;
}
if (!n) throw new Error("Can't find curve samples.");
var c = o === t ? 0 : (e - t.timeInCurve) / (o.timeInCurve - t.timeInCurve);
return i.CurveSample.Lerp(t, o, c);
}, e.prototype.GetSampleAtDistance = function(e) {
if (e < 0 || e > this.Length) throw new Error("Distance must be positive and less than curve length. Length = " + this.Length + ", given distance was " + e + ".");
for (var t = this.samples[0], o = null, n = !1, r = 0, a = this.samples; r < a.length; r++) {
var s = a[r];
if (s.distanceInCurve >= e) {
o = s, n = !0;
break;
}
t = s;
}
if (!n) throw new Error("Can't find curve sample.");
var c = o === t ? 0 : (e - t.distanceInCurve) / (o.distanceInCurve - t.distanceInCurve);
return i.CurveSample.Lerp(t, o, c);
}, e.prototype.GetProjectionSample = function() {
return console.assert(!1, "Not implement"), null;
}, e;
}();
r.CubicBezierCurve = l;
cc._RF.pop();
}, {} ],
"curve-sample": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fcdcepeqV5GO5ejTxbhKhyO", "curve-sample");
var n = e, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
}), r.CurveSample = void 0;
var i = n("mesh-vertex"), a = cc.Quat, s = cc.Vec2, c = cc.Vec3, l = n("export-helper"), u = cc.misc, p = function() {
function e(e, t, o, n, r, i, s) {
this.location = e, this.tangent = t, this.up = o, this.scale = n, this.distanceInCurve = r, 
this.timeInCurve = i, this.curve = s, this.rotation = new a();
}
return Object.defineProperty(e.prototype, "Rotation", {
get: function() {
var e = Object.freeze(new a());
return this.rotation === e && (e = this.up, this.rotation = new a(), a.fromViewUp(this.rotation, this.tangent, e)), 
this.rotation;
},
enumerable: !1,
configurable: !0
}), e.prototype.equals = function(e) {
return this.location.equals(e.location) && this.tangent.equals(e.tangent) && this.up.equals(e.up) && this.scale.equals(e.scale) && l.math.equals(this.distanceInCurve, e.distanceInCurve) && l.math.equals(this.timeInCurve, e.timeInCurve);
}, e.Lerp = function(t, o, n) {
var r = new c();
c.lerp(r, t.location, o.location, n);
var i = new c();
c.lerp(i, t.tangent, o.tangent, n).normalize();
var a = new c();
c.lerp(a, t.up, o.up, n);
var l = new s();
return s.lerp(l, t.scale, o.scale, n), new e(r, i, a, l, u.lerp(t.distanceInCurve, o.distanceInCurve, n), u.lerp(t.timeInCurve, o.timeInCurve, n), t.curve);
}, e.prototype.getBent = function(e) {
var t = new i.MeshVertex(e.position, e.normal, e.uv), o = new c(0, t.position.y * this.scale.y, t.position.z * this.scale.x);
o.x = 0;
e = a.fromEuler(new a(), 0, u.degreesToRadians(-90), 0), e = a.multiply(new a(), this.Rotation, e);
return c.transformQuat(o, o, e), c.add(o, o, this.location), t;
}, e;
}();
r.CurveSample = p;
cc._RF.pop();
}, {} ],
"daily-challenge": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d96aesUCApI06hXg7ZujIsy", "daily-challenge");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = cc._decorator, l = c.ccclass, u = c.property, p = r("CcJsFunc"), d = r("calendar-item"), f = r("enumConfig"), h = r("DateManager"), y = r("gameLayer"), m = r("dataTs"), g = r("gameUiLayer"), b = r("spine"), v = r("uma-sdk"), _ = r("GameManager"), w = r("report-common"), N = r("i18n"), P = r("gd_language"), A = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.gameLayer = null, t.mainLayer = null, t.baseContent = null, t.baseContentBg = null, 
t.scrollView = null, t.bottomMask = null, t.calendarItem = null, t.previousBtn = null, 
t.titleLabel = null, t.nextBtn = null, t.spineLevel1 = null, t.spineLevel2 = null, 
t.spineLevel3 = null, t.progressBarOne = null, t.progressBarTwo = null, t.progressBarThree = null, 
t.catFootBegin = null, t.catFootThree = null, t.catFootTen = null, t.catFootThirty = null, 
t.content = null, t.bottomView = null, t.playBtn = null, t.playImg = null, t.playLabel = null, 
t.progressPoint = null, t.progressLabel = null, t.winLabel = null, t.userData = null, 
t.dataArray = [], t.curArray = [], t.year = null, t.month = null, t.day = null, 
t.catArr = [], t.clickTime = 0, t.clickMiniTime = 0, t.isNoWin = !1, t.beginButtonDuration = 0, 
t;
}
return a(t, e), t.prototype.onEnable = function() {
this.catArr = [], this.catArr.push(this.spineLevel1), this.catArr.push(this.spineLevel2), 
this.catArr.push(this.spineLevel3), this.setupData();
}, t.prototype.update = function(e) {
this.beginButtonDuration += e;
}, t.prototype.start = function() {
p.default.addbtnTouchStartScale(this.playBtn), p.default.addbtnTouchEndScale(this.playBtn, this.playBtnTouchEnd.bind(this)), 
p.default.addbtnTouchCancelScale(this.playBtn), p.default.addbtnTouchStartScale(this.previousBtn), 
p.default.addbtnTouchEndScale(this.previousBtn, this.previousBtnTouchEnd.bind(this)), 
p.default.addbtnTouchCancelScale(this.previousBtn), p.default.addbtnTouchOriginStartScale(this.nextBtn), 
p.default.addbtnTouchOriginEndScale(this.nextBtn, this.nextBtnTouchEnd.bind(this)), 
p.default.addbtnTouchOriginCancelScale(this.nextBtn), this.clickTime = new Date().getTime(), 
this.clickMiniTime = 1e3, cc.winSize.height < 1334 && (this.node.scale = .8);
}, t.prototype.setupData = function() {
this.year = h.default.getInstance().selDate.getFullYear(), this.month = h.default.getInstance().selDate.getMonth() + 1, 
this.initData();
}, t.prototype.playBtnTouchEnd = function() {
if (this.beginButtonDuration <= 1) console.log("不能连续点击"); else {
this.beginButtonDuration = 0;
if (!((t = h.default.format(f.CALENDARNAMES[4], h.default.getInstance().selDate).split("-")).length < 3)) {
console.log(t[0] + "年" + t[1] + "月" + t[2] + "日");
var e = Number(t[2]), t = null;
if (m.default.getUserData().playLevelId <= 50) {
if (!(t = m.default.getGameConfigData().baseConfigData.dailyData.easyGame.simple)) return void console.log("monthData sample配置表无数据");
} else {
var o = h.default.format(f.CALENDARNAMES[5], h.default.getInstance().selDate);
if (!(t = m.default.getGameConfigData().baseConfigData.dailyData.monthData[o])) return void console.log("monthData 配置表无数据");
}
console.log("monthData = " + JSON.stringify(t));
o = t.levelID + e - 1;
console.log("index = " + o + " day = " + e), 0 != this.isNoWin ? this.dailyBeginGame(t, o, e) : cc.game.emit("showMainTips", N.default.instance.trans(P.GDLanguage.level_new_tomorrow));
}
}
}, t.prototype.dailyBeginGame = function(e, t, o) {
console.log("levelID = " + t);
var n = this;
n.userData = m.default.getUserData(), console.log("用户数据:", n.userData), m.default.getLevelByNumber(t, function(t) {
console.log("关卡数据:", t), n.gameLayer.activeInHierarchy ? console.log("已经打开 mainLayer 2") : t.length < 1 ? cc.game.emit("showMainTips", N.default.instance.trans(P.GDLanguage.level_inadequate)) : m.default.isHaveLove() ? h.default.getInstance().isOldDay(o) ? console.log("看视频###") : n.gameLayer.activeInHierarchy ? console.log("已经打开 mainLayer 2") : n.showGameAction(e, t, o) : (console.log("爱心不足"), 
cc.game.emit("showMainTips", N.default.instance.trans(P.GDLanguage.life_inadequate)), 
cc.game.emit("showPop", {
popName: "getLovePop",
showPopData: {
popCallbackCollect: null,
getLoveTime: 0
}
}));
});
}, t.prototype.showGameAction = function(e, t, o) {
var n = this;
cc.game.emit(f.EMITKEY.SHOWTRANSITLAYER, function(r) {
n.gameLayer.activeInHierarchy ? console.log("已经打开 daily") : (console.log("可以打开了 daily"), 
n.gameLayer.getComponent(y.default).initLevelLayer(t), n.gameLayer.getChildByName("gameUiLayer").getComponent(g.default).setTimeByLevel(e, o), 
n.node.active = !1, r(), _.default.getInstance().tabbarIsDaily = !1);
});
}, t.prototype.previousBtnTouchEnd = function() {
this.changeMonth("last"), this.initData(this.year, this.month);
}, t.prototype.nextBtnTouchEnd = function() {
this.changeMonth("next"), this.initData(this.year, this.month);
}, t.prototype.changeMonth = function(e) {
var t = h.default.getInstance().selDate, o = h.default.getInstance().cutType;
switch (e) {
case "last":
var n = h.default.lastDate(t, o);
h.default.getInstance().selDate = h.default.cloneDate(n);
break;

case "next":
n = h.default.nextDate(t, o);
h.default.getInstance().selDate = h.default.cloneDate(n);
}
this.year = h.default.getInstance().selDate.getFullYear(), this.month = h.default.getInstance().selDate.getMonth() + 1, 
this.day = h.default.getInstance().selDate.getDay(), this.initData(this.year, this.month), 
v.default.trackEvent("daily_month"), w.default.reportTACommon("daily_month", {}), 
w.default.reportTACommon("daily_click", {
action: "切换月份"
});
}, t.prototype.initData = function(e, t) {
void 0 === e && (e = this.year), void 0 === t && (t = this.month), this.titleLabel.string = "- " + p.default.getMonthShorthand(t - 1) + "/" + e + " -", 
this.dataArray = [], this.content.removeAllChildren(), this.createLastMonth(e, t), 
this.createNowMonth(e, t), this.createNextMonth(e, t), cc.winSize.height, console.log(this.dataArray.length), 
_.default.getInstance().globalData.isFullScreen ? (this.bottomMask.active = !1, 
t = (e = 104 * Math.ceil(this.dataArray.length / 7)) - 416, this.scrollView.height = e, 
this.baseContent.height = 980 + t) : this.bottomMask.active = !0, this.showLastSelDate(), 
this.updatePlayState(), this.updateSubUI(), this.showActionFunc();
}, t.prototype.showLastSelDate = function() {
if (this.curArray.length) {
for (var e = 0, t = this.curArray; e < t.length; e++) (a = t[e]).getComponent(d.default).show(f.CALENDARITEM.ITEMNOR);
var o = null;
this.isNoWin = !1;
for (var n, r, i, a, s = this.curArray.length - 1; 0 <= s && (o = this.curArray[s], 
this.isNoWin = !o.getComponent(d.default).isWin(), !this.isNoWin); s--) ;
this.isNoWin ? (o.getComponent(d.default).show(f.CALENDARITEM.ITEMSELE), (i = o.getComponent(d.default).getNodeData()) && i.date && ((n = i.date.split("-")).length < 3 || (r = Number(n[0]), 
i = Number(n[1]), a = Number(n[2]), this.updatePlayBtn(i, a), h.default.getInstance().selDate = new Date(r, i - 1, a)))) : console.log("请等待明天游玩新关卡######");
}
}, t.prototype.showActionFunc = function() {
var e = Number(m.default.getGameConfigData().baseConfigData.dailyData.originMonth);
console.log("originMonthNum = " + e);
var t = Number(h.default.format(f.CALENDARNAMES[5], h.default.getInstance().nowDate));
console.log("nowMonthNum = " + t);
var o = Number(h.default.format(f.CALENDARNAMES[5], h.default.getInstance().selDate));
console.log("selMonthNum = " + o), this.previousBtn.active = !(o <= e), this.nextBtn.active = !(t <= o);
}, t.prototype.updatePlayState = function() {
var e, t = h.default.format(f.CALENDARNAMES[3], h.default.getInstance().selDate).split("-");
t.length < 2 || (e = Number(t[0]), t = Number(t[1]), this.updatePlayBtn(e, t));
}, t.prototype.updatePlayBtn = function(e, t) {
h.default.getInstance().isOldDay(t) ? this.playImg.active = !0 : this.playImg.active = !1;
t = "Play " + e + "/" + t;
0 == this.isNoWin && (this.playImg.active = !(t = "Tomorrow")), this.playLabel.getComponent(cc.Label).string = t;
}, t.prototype.updateSubUI = function() {
if (!((t = h.default.format(f.CALENDARNAMES[4], h.default.getInstance().selDate).split("-")).length < 2)) {
var e = Number(t[0]), t = Number(t[1]);
(e = new Date(e, t, 0).getDate()) <= 0 && (e = 30);
var o = m.default.getUserData().dailyData, n = h.default.format(f.CALENDARNAMES[5], h.default.getInstance().selDate);
if (t = m.default.getGameConfigData().baseConfigData.dailyData.monthData[n]) {
if (console.log("monthData = " + JSON.stringify(t)), o && (o[n] || (console.log("dailyData[monthKey] 为空，初始化数据##### "), 
o[n] = {}, (r = m.default.getUserData()).dailyData = o, m.default.saveUserData(r))), 
console.log("dailyData ##### ", JSON.stringify(o), n), o && o[n]) {
var r, i, a, s = 0;
for (a in o[n]) o[n][a] && o[n][a].isWin && s++;
for (a in this.catFootThree.active = !1, this.catFootTen.active = !1, this.catFootThirty.active = !1, 
this.progressBarOne.progress = 0, this.progressBarTwo.progress = 0, this.progressBarThree.progress = 0, 
this.progressPoint.active = !0, 0 < s ? (s <= 3 ? (this.catFootThree.active = !(s < 3), 
this.progressBarOne.progress = s / 3, this.progressPoint.x = 166 / 3 * s - 250) : s <= 10 ? (this.catFootThree.active = !0, 
this.catFootTen.active = !(3 < s && s < 10), this.progressBarOne.progress = 1, this.progressBarTwo.progress = (s - 3) / 7, 
this.progressPoint.x = 16.6 * (s - 3) - 250 + 192.5) : (this.catFootThree.active = !0, 
this.catFootTen.active = !0, this.catFootThirty.active = !(20 < s && s < e), this.progressBarOne.progress = 1, 
this.progressBarTwo.progress = 1, this.progressBarThree.progress = (s - 10) / (e - 10), 
this.progressPoint.x = 166 / e * (s - 10) - 250 + 358.5), 3 != s && 10 != s && s != e || (this.progressPoint.active = !1, 
!_.default.getInstance().dailyDict.receiveBox) || (_.default.getInstance().dailyDict.receiveBox = !1, 
r = m.default.getUserData(), i = 1, 3 == s ? (i = 1, r.prop_random += 3) : 10 == s ? (i = 2, 
r.prop_cancel += 3) : r.prop_remove += 3, m.default.saveUserData(r), this.scheduleOnce(function() {
var e = {
popName: "showDailyPop",
showPopData: {
popName: "daily",
popType: i,
popCallbackCollect: null
}
};
cc.game.emit("showPop", e);
}, 1.5))) : this.progressPoint.x = -250, this.progressLabel.string = "" + s, this.winLabel.string = "WIN " + e, 
console.log("monthKey = " + n + " index = " + s), this.spineLevel1.getComponent(b.default).play("4Daily_Open1_1", 0), 
this.spineLevel2.getComponent(b.default).play("4Daily_Open2_1", 0), this.spineLevel3.getComponent(b.default).play("4Daily_Open3_1", 0), 
this.catArr) {
var c = this.catArr[a];
c.parent.getChildByName("bg-gray").active = !0, c.parent.getChildByName("bg-green").active = !1;
}
3 <= s && (this.catArr[0].parent.getChildByName("bg-gray").active = !1, this.catArr[0].parent.getChildByName("bg-green").active = !0), 
10 <= s && (this.catArr[1].parent.getChildByName("bg-gray").active = !1, this.catArr[1].parent.getChildByName("bg-green").active = !0), 
e <= s && (this.catArr[2].parent.getChildByName("bg-gray").active = !1, this.catArr[2].parent.getChildByName("bg-green").active = !0);
}
} else console.log("monthData 配置表无数据");
}
}, t.prototype.createLastMonth = function(e, t, o, n) {
void 0 === o && (o = !0), void 0 === n && (n = 255), --t;
var r = (o = new Date(e, t, 0)).getDate();
if ((o = o.getDay()) < 7) for (var i = o; 0 < i; i--) {
var a = cc.instantiate(this.calendarItem);
a.parent = this.content, a.opacity = n, this.dataArray.push(a);
var s = {
day: s = r - i,
type: f.CALENDARITEM.ITEMLAST,
date: e + "-" + (t < 10 ? "0" + t : t) + "-" + (s < 10 ? "0" + s : s)
};
a.getComponent(d.default).setNodeData(s, this);
}
}, t.prototype.createNowMonth = function(e, t, o, n) {
void 0 === o && (o = !0), void 0 === n && (n = 255);
var r = new Date(e, t, 0).getDate();
h.default.getInstance().isNowMonth(t - 1), this.curArray = [];
for (var i = this, a = 1; a < r + 1; a++) !function(r) {
var a = cc.instantiate(i.calendarItem);
a.parent = i.content, a.opacity = n, i.dataArray.push(a);
var s = !1, c = f.CALENDARITEM.ITEMFUTURE;
h.default.getInstance().isNowDay(r) ? (i.curArray.push(a), s = !0, c = f.CALENDARITEM.ITEMNOW) : h.default.getInstance().isOldDay(r) ? (i.curArray.push(a), 
s = !0, c = f.CALENDARITEM.ITEMOLD) : h.default.getInstance().isFutureDay(r) && (c = f.CALENDARITEM.ITEMFUTURE);
var l = e + "-" + (t < 10 ? "0" + t : t) + "-" + (r < 10 ? "0" + r : r);
c = {
day: r,
type: c,
date: l
};
a.getComponent(d.default).setNodeData(c, i), o && s && a.on(cc.Node.EventType.TOUCH_END, function() {
var o = l.split("-");
if (console.log(o), 3 <= o.length) {
var n = "" + o[0] + o[1], i = "" + o[0] + o[1] + o[2];
if ((o = m.default.getUserData().dailyData) && o[n] && o[n][i] && o[n][i].isWin) return void console.log("本关已完成");
}
v.default.trackEvent("daily_date", {
otherDate: l
}), w.default.reportTACommon("daily_date", {}), w.default.reportTACommon("daily_click", {
action: "切换日期"
});
for (var s = 0, c = this.curArray; s < c.length; s++) c[s].getComponent(d.default).show(f.CALENDARITEM.ITEMNOR);
a.getComponent(d.default).show(f.CALENDARITEM.ITEMSELE), h.default.getInstance().selDate = new Date(e, t - 1, r), 
this.updatePlayState();
}, i);
}(a);
}, t.prototype.createNextMonth = function(e, t, o, n) {
void 0 === o && (o = !0), void 0 === n && (n = 255);
var r = new Date(e, t, 1).getDay();
if (t += 1, 1 != r) {
0 == r && (r = 7);
for (var i = 1; i < 9 - r; i++) {
var a = cc.instantiate(this.calendarItem);
a.parent = this.content, a.opacity = n, this.dataArray.push(a);
var s = {
day: i,
type: f.CALENDARITEM.ITEMNEXT,
date: e + "-" + (t < 10 ? "0" + t : t) + "-" + (i < 10 ? "0" + i : i)
};
a.getComponent(d.default).setNodeData(s, this);
}
}
}, s([ u(cc.Node) ], t.prototype, "gameLayer", void 0), s([ u(cc.Node) ], t.prototype, "mainLayer", void 0), 
s([ u(cc.Node) ], t.prototype, "baseContent", void 0), s([ u(cc.Node) ], t.prototype, "baseContentBg", void 0), 
s([ u(cc.Node) ], t.prototype, "scrollView", void 0), s([ u(cc.Node) ], t.prototype, "bottomMask", void 0), 
s([ u(cc.Prefab) ], t.prototype, "calendarItem", void 0), s([ u(cc.Node) ], t.prototype, "previousBtn", void 0), 
s([ u(cc.Label) ], t.prototype, "titleLabel", void 0), s([ u(cc.Node) ], t.prototype, "nextBtn", void 0), 
s([ u(cc.Node) ], t.prototype, "spineLevel1", void 0), s([ u(cc.Node) ], t.prototype, "spineLevel2", void 0), 
s([ u(cc.Node) ], t.prototype, "spineLevel3", void 0), s([ u(cc.ProgressBar) ], t.prototype, "progressBarOne", void 0), 
s([ u(cc.ProgressBar) ], t.prototype, "progressBarTwo", void 0), s([ u(cc.ProgressBar) ], t.prototype, "progressBarThree", void 0), 
s([ u(cc.Node) ], t.prototype, "catFootBegin", void 0), s([ u(cc.Node) ], t.prototype, "catFootThree", void 0), 
s([ u(cc.Node) ], t.prototype, "catFootTen", void 0), s([ u(cc.Node) ], t.prototype, "catFootThirty", void 0), 
s([ u(cc.Node) ], t.prototype, "content", void 0), s([ u(cc.Node) ], t.prototype, "bottomView", void 0), 
s([ u(cc.Node) ], t.prototype, "playBtn", void 0), s([ u(cc.Node) ], t.prototype, "playImg", void 0), 
s([ u(cc.Node) ], t.prototype, "playLabel", void 0), s([ u(cc.Node) ], t.prototype, "progressPoint", void 0), 
s([ u(cc.Label) ], t.prototype, "progressLabel", void 0), s([ u(cc.Label) ], t.prototype, "winLabel", void 0), 
s([ l ], t);
}(cc.Component);
i.default = A;
cc._RF.pop();
}, {} ],
"data-env": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2af60/iE7lNdKoauwbjspyW", "data-env");
var n = e, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
}), r.getLocalEnvConfig = r.getEnvConfig = void 0;
var i = n("data-type"), a = i.ENV.online, s = {
local: {
evn: i.ENV.local,
host: "https://ffaosidghwl.com/8494534684/local",
reportPrefix: "local_"
},
beta: {
evn: i.ENV.beta,
host: "https://ffaosidghwl.com/8494534684/beta",
reportPrefix: "beta_"
},
online: {
evn: i.ENV.online,
host: "https://ffaosidghwl.com/8494534684/online",
reportPrefix: "sheep_"
},
onlineWx: {
evn: i.ENV.onlineWx,
host: "https://ffaosidghwl.com/8494534684/onlineWx",
reportPrefix: "sheep_wx_"
},
leiTing: {
evn: i.ENV.leiTing,
host: "https://ffaosidghwl.com/8494534684/lt",
reportPrefix: ""
},
onlineOppo: {
evn: i.ENV.onlineOppo,
host: "https://ffaosidghwl.com/8494534684/onlineOppo",
reportPrefix: "sheep_oppo_"
},
onlineVivo: {
evn: i.ENV.onlineVivo,
host: "https://ffaosidghwl.com/8494534684/onlineVivo",
reportPrefix: "sheep_vivo_"
}
};
r.getEnvConfig = function() {
return s[a];
}, r.getLocalEnvConfig = function(e) {
return s[e];
};
cc._RF.pop();
}, {} ],
"data-manager": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ce18c9/oWBJEKOpZDT7wYKF", "data-manager");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
});
Object.defineProperty(i, "__esModule", {
value: !0
});
var s = r("dataTs"), c = r("enumConfig"), l = r("DateManager"), u = r("GameManager"), p = function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return a(t, e), t.getTopicAnimation = function(e, t, o) {
var n = "The01A";
return t ? 1 == e ? n = "The01A" : 2 == e ? n = "The02A" : 3 == e ? n = "The03A" : 4 == e ? n = "The04A" : 5 == e ? n = "The05A" : 6 == e ? n = "The06A" : 7 == e && (n = "The07A") : o && (1 == e ? n = "The01B" : 2 == e ? n = "The02B" : 3 == e ? n = "The03B" : 4 == e ? n = "The04B" : 5 == e ? n = "The05B" : 6 == e ? n = "The06B" : 7 == e && (n = "The07B")), 
{
spName: "sheep/ThemeSheeps",
skin: n
};
}, t.getJudgeAnimation = function(e, t, o) {
var n = "1Dead1_1";
return t ? n = "1Dead" + e + "_1" : o && (n = "1Dead" + e + "_2"), {
spName: "sheep/Theme",
anim: n
};
}, t.getDeadNum = function(e) {
var t = 1;
return (t = 11 < (t = e < 10 ? 1 : e < 20 ? 2 : e < 60 ? 3 : e < 100 ? 4 : e < 2140 ? 5 : e < 3800 ? 6 : e < 5260 ? 7 : e < 8e3 ? 8 : e < 15e3 ? 9 : e < 2e4 ? 10 : 11) ? 11 : t) <= 0 ? 1 : t;
}, t.isUpgradeNum = function(e) {
return console.log("fail = " + e), 10 == e || 20 == e || 60 == e || 100 == e || 140 == e || 180 == e || 260 == e || 340 == e || 500 == e || 800 == e;
}, t.todayIsWin = function() {
if (3 <= (e = l.default.format(c.CALENDARNAMES[7], l.default.getInstance().nowDate).split("-")).length) {
var e, t = "" + e[0] + e[1], o = "" + e[0] + e[1] + e[2];
if ((e = s.default.getUserData().dailyData) && e[t] && e[t][o] && e[t][o].isWin) return 1;
if (e && e[t] && e[t][o] && !e[t][o].isWin) return 0;
}
return -1;
}, t.checkExpireData = function(e) {
-1 == t.todayIsWin() && (s.default.removeItem(e), console.log("本地缓存过期数据 ###### cacheName = ", e)), 
s.default.isPlatform(s.GDPlatform.web) && s.default.removeItem(e);
}, t.getTAUserInfo = function() {
t.checkExpireData(c.STORAGEKEY.TAUSERINFO);
var e = u.default.getInstance().reportProperty, o = e.challenge_count, n = e.cancel_use + e.random_use + e.remove_use, r = e.resurrection_ad_frequency, i = e.resurrection_ad_frequency + e.cancel_ad + e.random_ad + e.remove_ad, a = 0;
0 < u.default.blacksInfo.blockAllCount && (a = u.default.blacksInfo.blockCurCount / u.default.blacksInfo.blockAllCount);
(e = (e = s.default.getItem(c.STORAGEKEY.TAUSERINFO)) || {
change_num: 0,
prop_num: 0,
resurgence_num: 0,
ad_num: 0,
block_ratio: a
}).change_num += o, e.prop_num += n, e.resurgence_num += r, e.ad_num += i, e.block_ratio = a.toFixed(2), 
s.default.setItem(c.STORAGEKEY.TAUSERINFO, e), e = e || {};
a = "每日挑战";
return u.default.getInstance().gameType == c.GAMETYPE.GAMEDAILY ? a = "每日挑战" : u.default.getInstance().gameType == c.GAMETYPE.GAMETOPIC && (a = "话题挑战"), 
e.game_type = a, e;
}, t.getGameLevelData = function() {
var e = this.gameLevelCacheName();
return t.checkExpireData(e), s.default.getItem(e);
}, t.setGameLevelData = function(e) {
var t = this.gameLevelCacheName();
s.default.setItem(t, e, 30 * this.cacheTime);
}, t.gameLevelCacheName = function() {
return u.default.getInstance().gameType != c.GAMETYPE.GAMELEVEL && u.default.getInstance().gameType != c.GAMETYPE.GAMEDAILY && u.default.getInstance().gameType == c.GAMETYPE.GAMETOPIC ? c.STORAGEKEY.GAMETOPICLEVELDATA : c.STORAGEKEY.GAMEDAILYLEVELDATA;
}, t.getRankData = function() {
return t.checkExpireData(c.STORAGEKEY.RANKDATA), s.default.getItem(c.STORAGEKEY.RANKDATA);
}, t.setRankData = function(e) {
s.default.setItem(c.STORAGEKEY.RANKDATA, e, 10 * this.cacheTime);
}, t.getBulletData = function() {
return t.checkExpireData(c.STORAGEKEY.BULLETDATA), s.default.getItem(c.STORAGEKEY.BULLETDATA);
}, t.setBulletData = function(e) {
s.default.setItem(c.STORAGEKEY.BULLETDATA, e, 60 * this.cacheTime);
}, t.getStageData = function() {
return t.checkExpireData(c.STORAGEKEY.STAGEDATA), s.default.getItem(c.STORAGEKEY.STAGEDATA);
}, t.setStageData = function(e) {
s.default.setItem(c.STORAGEKEY.STAGEDATA, e, 30 * this.cacheTime);
}, t.getMatchResultData = function() {
var e = s.default.getItem(c.STORAGEKEY.TOPICMATCHRECORD);
return e && e[l.default.format(c.CALENDARNAMES[7], l.default.getInstance().nowDate)] ? (console.log("今日已调用赛况接口 ###### "), 
!0) : (console.log("今日未调用赛况接口 ###### "), !1);
}, t.setMatchResultData = function() {
console.log("FM_ dataManager.setMatchResultData");
var e = l.default.format(c.CALENDARNAMES[7], l.default.getInstance().nowDate), t = s.default.getItem(c.STORAGEKEY.TOPICMATCHRECORD);
(t = t || {})[e] = !0, s.default.setItem(c.STORAGEKEY.TOPICMATCHRECORD, t);
}, t.getPropData = function() {
var e = s.default.getItem(c.STORAGEKEY.PROPGAMEDATA);
return e && l.default.format(c.CALENDARNAMES[7], l.default.getInstance().nowDate) == e.time ? e : this.defaultPropData();
}, t.setPropData = function(e) {
return e = e || this.defaultPropData(), s.default.setItem(c.STORAGEKEY.PROPGAMEDATA, e), 
e;
}, t.defaultPropData = function() {
return {
time: l.default.format(c.CALENDARNAMES[7], l.default.getInstance().nowDate),
daily: {
prop_remove: 2,
prop_cancel: 2,
prop_random: 2
},
topic: {
prop_remove: 2,
prop_cancel: 2,
prop_random: 2
}
};
}, t.user = {
uid: 0,
levelNum: 0,
openId: "",
zoneId: 1,
unionId: "",
gender: 0,
token: "",
avatar: "",
nickName: "",
agreement: !1,
deviceId: "",
note: "",
like_count: 0,
skinName: "",
skinId: 101,
inviteCode: "",
serverName: "",
serverId: "",
channel: "",
userId: ""
}, t.rankUserInfo = null, t.region = null, t.cacheTime = 60, t.topicModel = null, 
t.topicRankInfo = null, t.bulletsWin = [ {
content: "终于排上了",
mid: 1,
type: 0
}, {
content: "轻松通过~",
mid: 2,
type: 0
}, {
content: "今天太简单",
mid: 3,
type: 0
}, {
content: "羊了个羊",
mid: 4,
type: 0
}, {
content: "雄起！",
mid: 5,
type: 1
}, {
content: "加油！",
mid: 6,
type: 1
}, {
content: "yyds",
mid: 7,
type: 1
}, {
content: "666",
mid: 8,
type: 1
}, {
content: "冲鸭",
mid: 9,
type: 1
}, {
content: "冲冲冲",
mid: 10,
type: 1
}, {
content: "厉害了",
mid: 11,
type: 1
} ], t.bulletsFail = [ {
content: "雄起！",
mid: 12,
type: 1
}, {
content: "加油！",
mid: 13,
type: 1
}, {
content: "yyds",
mid: 14,
type: 1
}, {
content: "666",
mid: 15,
type: 1
}, {
content: "冲鸭",
mid: 16,
type: 1
}, {
content: "冲冲冲",
mid: 17,
type: 1
}, {
content: "厉害了",
mid: 18,
type: 1
}, {
content: "过不去啊！",
mid: 19,
type: 0
}, {
content: "今天太难了",
mid: 20,
type: 0
}, {
content: "难哭了",
mid: 21,
type: 0
}, {
content: "试了 {0} 次了",
mid: 22,
type: 2
} ], t;
}(cc.Component);
i.default = p;
cc._RF.pop();
}, {} ],
"data-type": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8cbe9Sgf2lHObO7pL4MBQTS", "data-type");
var n = o;
Object.defineProperty(n, "__esModule", {
value: !0
}), n.ENV = void 0, function(e) {
e.local = "local", e.beta = "beta", e.online = "online", e.onlineWx = "onlineWx", 
e.leiTing = "leiTing", e.onlineOppo = "onlineOppo", e.onlineVivo = "onlineVivo";
}(n.ENV || (n.ENV = {}));
cc._RF.pop();
}, {} ],
dataModel: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f787b1iWeJMv6XB6Y+Z4lEb", "dataModel");
var n = o;
Object.defineProperty(n, "__esModule", {
value: !0
});
cc._RF.pop();
}, {} ],
dataTs: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2b52b5mP0hOv4ijR3rDmmai", "dataTs");
var n = e, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
}), r.GDPlatform = void 0;
var i, a = n("GameManager"), s = n("report-common"), c = n("CcJsFunc"), l = n("enumConfig"), u = n("native-bridge"), p = n("native-def"), d = n("sdk");
!function(e) {
e[e.android = 0] = "android", e[e.ios = 1] = "ios", e[e.wx = 2] = "wx", e[e.tt = 3] = "tt", 
e[e.web = 4] = "web", e[e.oppo = 5] = "oppo", e[e.vivo = 6] = "vivo";
}(i = r.GDPlatform || (r.GDPlatform = {}));
var f = function() {
function e() {}
return e.GetVedioID = function() {
return d.default.isPlatform(d.Platform.wx) ? this.WXVedioID : d.default.isPlatform(d.Platform.tt) ? this.TTVedioID : d.default.isPlatform(d.Platform.android) ? this.AndroidVedioID : d.default.isPlatform(d.Platform.oppo) ? this.OppoVedioID : d.default.isPlatform(d.Platform.vivo) ? this.VivoVedioID : "";
}, e.getGameConfigData = function() {
return this.gameConfigData;
}, e.initData = function(t) {
var o, n, r = this, i = this;
cc.sys.localStorage.getItem(this.localKeyName) ? n = this.getUserData() : (this.registerUserData(), 
o = this.getUserData().userID, u.default.callNative(p.NativeFun.publicParamsInfo, {
userId: o
}), s.default.reportTACommon("register", {}), u.default.deviceInfo && (console.log("AF af_register打点"), 
n = e.getUserData(), o = {
androidid: u.default.deviceInfo.androidId,
chennal: "310001",
gameCode: "59",
userId: n.userID,
type: 3
}, u.default.leitingReport("af_register", o), console.log("AF af_character打点"), 
n = {
androidid: u.default.deviceInfo.androidId,
chennal: "310001",
gameCode: "59",
userId: n.userID,
type: 3,
roleId: u.default.deviceInfo.gaid,
serviceName: "海外测试服",
serviceId: "1"
}, u.default.leitingReport("af_character", n)));
var a = 2;
this.loadJsonData("data/levelConfigData", function(e) {
r.gameConfigData.levelConfigData = e, 0 == --a && (t(), i.adaptCacheData());
}), this.loadJsonData("data/baseConfigData", function(e) {
r.gameConfigData.baseConfigData = e, 0 == --a && (t(), i.adaptCacheData());
});
}, e.registerUserData = function() {
var e;
cc.sys.localStorage.getItem(this.localKeyName) || (this.gameUserLocalData = this.registerData, 
d.default.isPlatform(d.Platform.android) ? u.default.loginInfo && u.default.loginInfo.userId ? this.gameUserLocalData.userData.userID = u.default.loginInfo.userId : this.gameUserLocalData.userData.userID = c.default.randomCharNum() : d.default.isPlatform(d.Platform.tt) || d.default.isPlatform(d.Platform.wx) ? this.gameUserLocalData.userData.userID = "" : d.default.isPlatform(d.Platform.web) ? (this.gameUserLocalData.userData.userID = "100001", 
this.gameUserLocalData.userData.token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2OTAwMjA0MDIsIm5iZiI6MTY1ODkxODIwMiwiaWF0IjoxNjU4OTE2NDAyLCJqdGkiOiJDTTpjYXRfbWF0Y2g6bHQxMjM0NTYiLCJvcGVuX2lkIjoiIiwidWlkIjoxMDAwMDEsImRlYnVnIjoiIiwibGFuZyI6IiJ9.NQZAWBLYtq6hBff9YjNcaI2Soa6Z5vwbIU7YnjP1KBQ") : d.default.isPlatform(d.Platform.oppo) || d.default.isPlatform(d.Platform.vivo) ? this.gameUserLocalData.userData.userID = "" : this.gameUserLocalData.userData.userID = c.default.randomCharNum(), 
this.gameUserLocalData.userData.registerTime = Date.now() + "", e = JSON.stringify(this.gameUserLocalData), 
cc.sys.localStorage.setItem(this.localKeyName, e), console.log("[PUSH] 注册用户 ###### " + e), 
a.default.getInstance().register = !0);
}, e.removeUserData = function() {
cc.sys.localStorage.getItem(this.localKeyName) && (cc.sys.localStorage.clear(), 
console.log("移除本地缓存 ### "));
}, e.isLogin = function() {
var t = e.getUserData().userID, o = e.getUserData().token, n = !!(t && t.length && o && o.length);
console.log("FM_ dataTs.isLogin", n);
return n;
}, e.adaptCacheData = function() {
console.log("适配老用户数据 ###### ");
var t, o = this.getUserData(), n = (e.getSprintRewardData(), o.unlockHouseUserData);
for (t in n) for (var r in n[t]) {
var i = n[t][r];
if (!i.fish) {
var a = this.gameConfigData.baseConfigData.unlockHouseDataArray;
if (a) for (var s in a) for (var c in a[s]) {
c = a[s][c];
if (i.unlockID == c.unlockID) {
i.fish = c.fish;
break;
}
}
}
}
this.saveUserData(o), this.removeOldCacheData(o);
}, e.removeOldCacheData = function(e) {
(e = e || this.getUserData()).userID && "" != e.userID && "1" != e.userID || (this.removeUserData(), 
this.registerUserData());
}, e.saveUserData = function(e) {
this.gameUserLocalData.userData = e;
e = JSON.stringify(this.gameUserLocalData);
cc.sys.localStorage.setItem(this.localKeyName, e);
}, e.getUserData = function() {
var e = cc.sys.localStorage.getItem(this.localKeyName);
return this.gameUserLocalData = JSON.parse(e), this.gameUserLocalData.userData;
}, e.getPictureData = function() {
var e = cc.sys.localStorage.getItem(this.localKeyName);
return this.gameUserLocalData = JSON.parse(e), this.gameUserLocalData.pictureData;
}, e.savePictureData = function(e) {
this.gameUserLocalData.pictureData = e;
e = JSON.stringify(this.gameUserLocalData);
cc.sys.localStorage.setItem(this.localKeyName, e);
}, e.getUserSetupData = function() {
var e = cc.sys.localStorage.getItem(this.localKeyName);
return this.gameUserLocalData = JSON.parse(e), this.gameUserLocalData.setUpData;
}, e.saveUserSetupData = function(e) {
this.gameUserLocalData.setUpData = e;
e = JSON.stringify(this.gameUserLocalData);
cc.sys.localStorage.setItem(this.localKeyName, e);
}, e.updateFirendCount = function(e) {
console.log("count = ", e), d.default.rankScoreUpdate(l.ShownType.friendRank, JSON.stringify({
moonCount: e
}), l.RefreshType.add);
}, e.updateTodayCount = function(e, t) {
t = {
moonCount: e,
state: t
};
console.log("rankData = ", t), d.default.rankScoreUpdate(l.ShownType.todayRank, JSON.stringify(t), l.RefreshType.add);
}, e.getDailyWinCount = function() {
var t = e.getUserData();
if (t.dailyData) {
var o, n = 0;
for (o in t.dailyData) for (var r in t.dailyData[o]) t.dailyData[o][r] && t.dailyData[o][r].isWin && n++;
return n;
}
return 0;
}, e.getDailyData = function(t, o) {
var n = e.getUserData();
if (n.dailyData[t]) return n.dailyData[t][o];
}, e.saveDailyData = function(t, o, n) {
var r = e.getUserData();
r.dailyData[t] || (r.dailyData[t] = {}), r.dailyData[t][o] = n, e.saveUserData(r);
}, e.gameLevelWin = function(e, t) {
t || (console.log("获取刚完成关卡的奖励数据, 随机获取填充 ###"), t = this.getRewardBoxData(this.gameUserLocalData.userData.playLevelId)), 
console.log("winRewardObj ### ", JSON.stringify(t));
var o = Number(t.everLevelRewardObj.coin), n = Number(t.everLevelRewardObj.fish);
a.default.getInstance().gameType == l.GAMETYPE.GAMELEVEL ? (o = Number(o), n = Number(n), 
this.gameUserLocalData.userData.playLevelId++) : a.default.getInstance().gameType == l.GAMETYPE.GAMEDAILY && (o = 2 * Number(o), 
n = 2 * Number(n)), this.gameUserLocalData.userData.coin += o, this.gameUserLocalData.userData.fish += n;
var r = this.gameUserLocalData.userData.coin, i = o;
//if (s.default.reportTACommon("coin_get", {
//item_id: 0,
//item_name: "金币",
//change_num: i,
//num_before: r - i,
//num_after: r,
//action: "关卡胜利奖励",
//reason: "关卡胜利获得金币",
//gold_num: r
//}), a.default.getInstance().moneyDict.coin = o += Number(a.default.getInstance().moneyDict.coin), 
//a.default.getInstance().moneyDict.fish = n += Number(a.default.getInstance().moneyDict.fish), 
//console.log("moneyDict = " + JSON.stringify(a.default.getInstance().moneyDict)), 
//t.levelNewNum == t.levelNumMax) 
{
console.log("添加宝箱奖励");
for (var c = 0; c < t.boxReward.length; c++) {
var u = t.boxReward[c].propType;
"reward_coin" == u ? (this.gameUserLocalData.userData.coin += t.boxReward[c].num, 
this.gameUserLocalData.userData.coin, t.boxReward[c].num) : (this.gameUserLocalData.userData[u] += t.boxReward[c].num, 
this.gameUserLocalData.userData[u]);
}
}
this.addLoveCount(1);
}, e.upgradeClothesLevel = function(e, t) {
var o = this.getUserData(), n = o.catClothesData;
if (n[e = "cat_" + e]) {
for (var r = n[e], i = 0; i < r.length; i++) if (r[i].clothesID == t) return 5 <= o.fish && (o.fish -= 5, 
r[i].clothRank += 1, this.saveUserData(o), !0);
} else console.log("暂无解锁猫");
}, e.updateCatData = function() {
var t, o = this.gameConfigData.baseConfigData.catClothesData, n = this.gameUserLocalData.userData.playLevelId;
for (t in o) for (var r in o[t]) if ("level" == o[t][r].unlockType && n > o[t][r].unlockNum) {
var i, a, s = this.gameUserLocalData.userData.catClothesData, c = !1;
for (i in s[t]) s[t][i].clothesID == o[t][r].clothesID && (c = !0);
c || (a = {
clothesID: o[t][r].clothesID,
clothRank: 1,
isWear: !1
}, s[t].push(a), e.saveUserData(this.gameUserLocalData.userData));
}
}, e.updateLoveTime = function() {
if (0 == this.gameUserLocalData.userData.loveGetTime) return 0;
var e = this.gameConfigData.baseConfigData.loveNumMax, t = this.gameUserLocalData.userData.loveGetTime, o = 6e4 * this.gameConfigData.baseConfigData.getLoveTime, n = Number(Date.now()) - t, r = Math.floor(n / o);
t = 0;
return 1 <= r ? (this.gameUserLocalData.userData.love += r, this.gameUserLocalData.userData.love >= e ? (this.gameUserLocalData.userData.love = e, 
this.gameUserLocalData.userData.loveGetTime = 0) : (this.gameUserLocalData.userData.loveGetTime += r * o, 
t = o - (n - r * o)), this.saveUserData(this.gameUserLocalData.userData)) : t = o - (n - r * o), 
t;
}, e.addLoveToMax = function() {
var e = this.gameConfigData.baseConfigData.loveNumMax;
this.gameUserLocalData.userData.love < e ? (this.gameUserLocalData.userData.love = e, 
this.gameUserLocalData.userData.loveGetTime = 0, this.saveUserData(this.gameUserLocalData.userData)) : console.log("已经是满的了");
}, e.addLoveCount = function(e) {
var t = this.gameConfigData.baseConfigData.loveNumMax;
this.gameUserLocalData.userData.love += e, this.gameUserLocalData.userData.love >= t && (this.gameUserLocalData.userData.loveGetTime = 0), 
5 <= this.gameUserLocalData.userData.love && (this.gameUserLocalData.userData.love = 5), 
this.saveUserData(this.gameUserLocalData.userData);
}, e.subLoveCount = function(e) {
if (this.gameUserLocalData.userData.love < e) return console.log("爱心数量不足"), !1;
this.gameUserLocalData.userData.love -= e;
e = this.gameConfigData.baseConfigData.loveNumMax;
return this.gameUserLocalData.userData.love < e && 0 == this.gameUserLocalData.userData.loveGetTime && (this.gameUserLocalData.userData.loveGetTime = Date.now()), 
this.gameUserLocalData.userData.love <= 0 && (this.gameUserLocalData.userData.love = 0), 
this.saveUserData(this.gameUserLocalData.userData), !0;
}, e.isHaveLove = function() {
return !(this.gameUserLocalData.userData.love <= 0);
}, e.getLevelByID = function(e, t) {
var o = [], n = [], r = this.gameConfigData.levelConfigData;
if (e > (r = a.default.getInstance().gameType != l.GAMETYPE.GAMELEVEL && a.default.getInstance().gameType != l.GAMETYPE.GAMEDAILY && a.default.getInstance().gameType == l.GAMETYPE.GAMETOPIC ? r.topicLevel : r.dailyLevel).length) return console.log("没有关卡"), 
console.log("-----------------------"), void t(n);
var i = r[e - 1];
var options = [90023, 90019, 90020];
i[1] = options[Math.floor(Math.random() * options.length)];
for (s = i.length, c = 0, u = 0; u < s; u++) this.getLevelMapData(i[u], function(e) {
if (o.push(e), (c += 1) >= s) for (var r = 0; r < s; r++) {
i[r];
for (var a = 0; a < s; a++) n.indexOf(o[a]) < 0 ? n.push(o[a]) : t(n);
}
});
}, e.getLevelByNumber = function(e, t) {
var o = [];
this.getLevelMapData(e, function(e) {
o.push(e), t(o);
});
}, e.currentHouseUnlockAll = function() {
var t = e.getHourseUnlockData();
if (t) {
var o, n = t[t.length - 1], r = !1;
for (o in n) n[o].unlock || (r = !0);
if (!r) return !0;
}
return !1;
}, e.haveNewHouseUnlock = function() {
return this.getHourseUnlockData().length != this.gameConfigData.baseConfigData.unlockHouseDataArray.length;
}, e.getHourseUnlockData = function(e) {
void 0 === e && (e = !1);
var t = this.getUserData(), o = t.unlockHouseUserData, n = this.gameConfigData.baseConfigData.unlockHouseDataArray, r = !1;
if (0 == o.length) r = !1; else for (var i in o) for (var a in o[i]) o[i][a].unlock || (r = !0);
return !r && o.length < n.length && (e || 0 == o.length) && o.push(n[o.length]), 
t.unlockHouseUserData = o, this.saveUserData(t), t.unlockHouseUserData;
}, e.checkCollectionData = function() {
var e, t, o, n = this.gameConfigData.baseConfigData.rewardCollection, r = this.getUserData(), i = this.getPictureData(), s = null;
for (e in n) {
var c = n[e];
if (r.playLevelId - 1 == c.levelNum) {
s = c;
break;
}
}
return s && (t = this.gameConfigData.baseConfigData.pictureData.bgMaxNum, o = this.gameConfigData.baseConfigData.pictureData.brickMaxNum, 
i.bgNum += Number(s.wallpaper), i.brickNum += Number(s.brick), i.bgNum >= t && (i.bgNum = t), 
i.brickNum >= o && (i.brickNum = o), this.savePictureData(i), a.default.getInstance().collectionMark.tabbarCollection = !0, 
0 < Number(s.wallpaper) && (a.default.getInstance().collectionMark.bgNum = i.bgNum), 
0 < Number(s.brick) && (a.default.getInstance().collectionMark.brickNum = i.brickNum)), 
s;
}, e.getCollectionUnlockData = function() {
for (var e = this.getUserData().playLevelId - 1, t = this.gameConfigData.baseConfigData.rewardCollection, o = {
buildNewNum: 1,
buildNumMax: 10,
buildObj: null
}, n = null, r = 0, i = 0; i < t.length; i++) {
if (e <= t[i].levelNum) {
n = t[i];
break;
}
r++;
}
var a, s = t[0];
return e <= s.levelNum ? (o.buildNewNum = e, o.buildNumMax = s.levelNum, o.buildObj = s, 
console.log("getCollectionUnlockData = " + JSON.stringify(o))) : n && (a = t[r - 1].levelNum, 
s = t[r].levelNum, o.buildNewNum = e - a, o.buildNumMax = s - a, o.buildObj = n, 
console.log("getCollectionUnlockData = " + JSON.stringify(o))), o;
}, e.getRewardBoxData = function(e) {
var t = {
levelNewNum: 0,
levelNumMax: 10,
everLevelRewardObj: null,
boxReward: null
};
t.everLevelRewardObj = this.gameConfigData.baseConfigData.everLevelReward;
var o = this.gameConfigData.baseConfigData.rewardBox, n = Math.floor(3 * Math.random());
t.boxReward = o[n];
for (var r = this.gameConfigData.baseConfigData.rewardBoxArray, i = 0; i < r.length; i++) e > r[i] && (t.levelNewNum = e - r[i], 
t.levelNumMax = r[i + 1] - r[i]);
return t;
}, e.getClothesData = function(t, o) {
for (var n = e.getGameConfigData().baseConfigData.catClothesData["cat_" + t], r = 0; r < n.length; r++) if (n[r].clothesID == o) return n[r];
return null;
}, e.getSprintRewardData = function() {
if (cc.sys.localStorage.getItem(l.STORAGEKEY.SPRINTREWARDKEY)) {
var e = cc.sys.localStorage.getItem(l.STORAGEKEY.SPRINTREWARDKEY);
return JSON.parse(e);
}
var t = {
winNum: 0,
rewardProgress: 0,
winBox: 0,
pastTime: Date.now(),
isGameEd: 0
};
e = JSON.stringify(t);
return cc.sys.localStorage.setItem(l.STORAGEKEY.SPRINTREWARDKEY, e), t;
}, e.setSprintRewardData = function(e) {
e = JSON.stringify(e);
cc.sys.localStorage.setItem(l.STORAGEKEY.SPRINTREWARDKEY, e);
}, e.updateSprintRewardTime = function() {
var e = this.getSprintRewardData(), t = e.pastTime, o = 1e3 * this.gameConfigData.baseConfigData.sprintRewardTime, n = Number(Date.now()) - t, r = Math.floor(n / o);
t = 0;
return 1 <= r ? (console.log("重置倒计时 = " + r), e.pastTime = Date.now(), this.resetSprintReward(e), 
a.default.getInstance().sprintMark = !1, cc.game.emit(l.EMITKEY.MAINUPDATEUI)) : t = o - (n - r * o), 
t;
}, e.resetSprintReward = function(e) {
a.default.getInstance().gameType == l.GAMETYPE.GAMELEVEL && (e ? console.log("活动结束中断连胜 ######") : (e = this.getSprintRewardData(), 
console.log("普通玩法中断连胜 ######")), e.winNum = 0, e.winBox = 0, e.rewardProgress = 0, 
e.isGameEd = 0, this.setSprintRewardData(e));
}, e.getCookieRewardData = function() {
if (cc.sys.localStorage.getItem(l.STORAGEKEY.COOKIECOLLECTIONKEY)) {
var e = cc.sys.localStorage.getItem(l.STORAGEKEY.COOKIECOLLECTIONKEY);
return JSON.parse(e);
}
var t = {
cookieNum: 0,
pastTime: Date.now(),
progress: 0
};
e = JSON.stringify(t);
return cc.sys.localStorage.setItem(l.STORAGEKEY.COOKIECOLLECTIONKEY, e), t;
}, e.setCookieRewardData = function(e) {
e = JSON.stringify(e);
cc.sys.localStorage.setItem(l.STORAGEKEY.COOKIECOLLECTIONKEY, e);
}, e.updateCookieRewardTime = function() {
var e = this.getCookieRewardData(), t = e.pastTime, o = 1e3 * this.gameConfigData.baseConfigData.cookieRewardTime, n = Number(Date.now()) - t, r = Math.floor(n / o);
t = 0;
return 1 <= r ? (console.log("重置倒计时 = " + r), e.pastTime = Date.now(), e.cookieNum = 0, 
e.progress = 0, this.setCookieRewardData(e), cc.game.emit(l.EMITKEY.MAINUPDATEUI)) : t = o - (n - r * o), 
t;
}, e.setItem = function(e, t, o) {
(!o || o <= 0) && (o = -1);
o = {
data: t,
time: Date.now(),
expire: 1e3 * o
}, o = JSON.stringify(o);
cc.sys.localStorage.setItem(e, o);
}, e.getItem = function(e) {
var t = cc.sys.localStorage.getItem(e);
if (t && (t = JSON.parse(t)) && t.time && t.expire) {
if (!(0 < t.expire && Date.now() > t.time + t.expire)) return t.data;
localStorage.removeItem(e);
}
}, e.removeItem = function(e) {
cc.sys.localStorage.removeItem(e);
}, e.getSheepClothesData = function() {
var t = cc.sys.localStorage.getItem(l.STORAGEKEY.SHEEPCLOTHESDATA), o = e.gameConfigData.baseConfigData;
if (!t) return o && o.sheepClothesData && this.setSheepClothesData(o.sheepClothesData), 
console.log("本地没有羊皮肤数据，进行缓存 ###### "), o.sheepClothesData;
var n = JSON.parse(t);
if (o.sheepClothesData.length > n.length) for (var r = 0; r < o.sheepClothesData.length; r++) {
for (var i = o.sheepClothesData[r], a = !1, s = 0; s < n.length; s++) if ("Sheeps" == (c = n[s]).spName && (console.log("skin = ", c.spSkin.indexOf("skin_")), 
c.spSkin.indexOf("skin_") < 0 && (c.spSkin = "skin_" + c.spSkin)), i.clothesId == c.clothesId) {
a = !0;
break;
}
0 == a && n.push(i);
} else if (o.sheepClothesData.length == n.length) for (r = 0; r < o.sheepClothesData.length; r++) for (i = o.sheepClothesData[r], 
s = 0; s < n.length; s++) {
var c = n[s];
i.clothesId == c.clothesId && (c.name = i.name);
}
return this.setSheepClothesData(n), n;
}, e.setSheepClothesData = function(e) {
e = JSON.stringify(e);
cc.sys.localStorage.setItem(l.STORAGEKEY.SHEEPCLOTHESDATA, e);
}, e.setLevelMapData = function(e, t) {
console.log("mapData:", t);
t = JSON.stringify(t);
console.log("data:", t), d.default.post({
url: "/admin/game_map/upsert",
data: {
map_id: e,
map_data: t
},
success: function(t) {
0 == t.err_code ? (cc.game.emit("showTips", "保存地图成功"), console.log("保存地图：", e, t)) : cc.game.emit("showTips", "保存地图失败");
}
});
}, e.getLevelMapData = function(e, t) {
console.log(e)
e = (e = 80001 === e ? {
err_code: 0,
err_msg: "",
data: {
id: "62ccde7d3dd1931da84a84e2", 
created_at: "2022-07-12T02:37:49.515Z",
updated_at: "2022-09-16T15:34:38.466Z",
map_option: 0,
map_id: 80001,
map_md5: "046ef1bab26e5b9bfe2473ded237b572",
map_data:
'{"levelKey":80001,"levelData":{"1":[{"id":"1-16-16","type":0,"rolNum":16,"rowNum":16,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-28-16","type":0,"rolNum":28,"rowNum":16,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-40-16","type":0,"rolNum":40,"rowNum":16,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-16-32","type":0,"rolNum":16,"rowNum":32,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-28-32","type":0,"rolNum":28,"rowNum":32,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-40-32","type":0,"rolNum":40,"rowNum":32,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-16-48","type":0,"rolNum":16,"rowNum":48,"layerNum":1,"moldType":2,"blockNode":null},{"id":"1-28-48","type":0,"rolNum":28,"rowNum":48,"layerNum":1,"moldType":2,"blockNode":null},{"id":"1-40-48","type":0,"rolNum":40,"rowNum":48,"layerNum":1,"moldType":2,"blockNode":null}],"2":[{"id":"2-16-36","type":0,"rolNum":16,"rowNum":36,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-28-36","type":0,"rolNum":28,"rowNum":36,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-40-36","type":0,"rolNum":40,"rowNum":36,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-16-20","type":1,"rolNum":16,"rowNum":20,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-28-20","type":1,"rolNum":28,"rowNum":20,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-40-20","type":1,"rolNum":40,"rowNum":20,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-16-49","type":0,"rolNum":16,"rowNum":49,"layerNum":2,"moldType":2,"blockNode":null},{"id":"2-28-49","type":0,"rolNum":28,"rowNum":49,"layerNum":2,"moldType":2,"blockNode":null},{"id":"2-40-49","type":0,"rolNum":40,"rowNum":49,"layerNum":2,"moldType":2,"blockNode":null}],"3":[]},"blockTypeData":{"1":1,"2":2,"3":2},"heightNum":10,"widthNum":8}'
}
} : e = 90020 === e ? {
err_code: 0,
err_msg: "",
data: {
id: "62ce44ce8a2da751dba21fe1",
created_at: "2022-07-13T04:06:38.362Z",
updated_at: "2022-09-18T11:01:49.017Z",
map_option: 0,
map_id: 90020,
map_md5: "33f5b54cb2a574d5965c20051cb8eae4",
map_data: '{"levelKey":90020,"levelData":{"1":[{"id":"1-32-16","type":0,"rolNum":32,"rowNum":16,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-12-20","type":0,"rolNum":12,"rowNum":20,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-4-12","type":0,"rolNum":4,"rowNum":12,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-4-20","type":0,"rolNum":4,"rowNum":20,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-4-28","type":0,"rolNum":4,"rowNum":28,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-44-20","type":0,"rolNum":44,"rowNum":20,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-52-12","type":0,"rolNum":52,"rowNum":12,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-52-20","type":0,"rolNum":52,"rowNum":20,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-52-28","type":0,"rolNum":52,"rowNum":28,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-24-40","type":0,"rolNum":24,"rowNum":40,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-32-40","type":0,"rolNum":32,"rowNum":40,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-8-56","type":0,"rolNum":8,"rowNum":56,"layerNum":1,"moldType":2,"blockNode":null},{"id":"1-48-56","type":0,"rolNum":48,"rowNum":56,"layerNum":1,"moldType":2,"blockNode":null},{"id":"1-24-0","type":0,"rolNum":24,"rowNum":0,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-32-0","type":0,"rolNum":32,"rowNum":0,"layerNum":1,"moldType":1,"blockNode":null}],"2":[{"id":"2-28-16","type":0,"rolNum":28,"rowNum":16,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-28-24","type":0,"rolNum":28,"rowNum":24,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-48-16","type":0,"rolNum":48,"rowNum":16,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-48-24","type":0,"rolNum":48,"rowNum":24,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-20-44","type":0,"rolNum":20,"rowNum":44,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-28-44","type":0,"rolNum":28,"rowNum":44,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-36-44","type":0,"rolNum":36,"rowNum":44,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-9-56","type":0,"rolNum":9,"rowNum":56,"layerNum":2,"moldType":2,"blockNode":null},{"id":"2-47-56","type":0,"rolNum":47,"rowNum":56,"layerNum":2,"moldType":2,"blockNode":null},{"id":"2-28-0","type":0,"rolNum":28,"rowNum":0,"layerNum":2,"moldType":1,"blockNode":null}],"3":[{"id":"3-24-16","type":0,"rolNum":24,"rowNum":16,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-32-16","type":0,"rolNum":32,"rowNum":16,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-4-20","type":0,"rolNum":4,"rowNum":20,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-52-20","type":0,"rolNum":52,"rowNum":20,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-24-40","type":0,"rolNum":24,"rowNum":40,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-32-40","type":0,"rolNum":32,"rowNum":40,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-10-56","type":0,"rolNum":10,"rowNum":56,"layerNum":3,"moldType":2,"blockNode":null},{"id":"3-46-56","type":0,"rolNum":46,"rowNum":56,"layerNum":3,"moldType":2,"blockNode":null}],"4":[{"id":"4-20-20","type":0,"rolNum":20,"rowNum":20,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-28-20","type":0,"rolNum":28,"rowNum":20,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-36-20","type":0,"rolNum":36,"rowNum":20,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-48-16","type":0,"rolNum":48,"rowNum":16,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-48-24","type":0,"rolNum":48,"rowNum":24,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-20-44","type":0,"rolNum":20,"rowNum":44,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-28-44","type":0,"rolNum":28,"rowNum":44,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-36-44","type":0,"rolNum":36,"rowNum":44,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-11-56","type":0,"rolNum":11,"rowNum":56,"layerNum":4,"moldType":2,"blockNode":null},{"id":"4-45-56","type":0,"rolNum":45,"rowNum":56,"layerNum":4,"moldType":2,"blockNode":null}],"5":[{"id":"5-24-16","type":0,"rolNum":24,"rowNum":16,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-32-16","type":0,"rolNum":32,"rowNum":16,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-12-20","type":0,"rolNum":12,"rowNum":20,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-4-12","type":0,"rolNum":4,"rowNum":12,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-4-20","type":0,"rolNum":4,"rowNum":20,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-4-28","type":0,"rolNum":4,"rowNum":28,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-44-20","type":0,"rolNum":44,"rowNum":20,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-52-12","type":0,"rolNum":52,"rowNum":12,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-52-20","type":0,"rolNum":52,"rowNum":20,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-52-28","type":0,"rolNum":52,"rowNum":28,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-24-40","type":0,"rolNum":24,"rowNum":40,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-32-40","type":0,"rolNum":32,"rowNum":40,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-12-56","type":0,"rolNum":12,"rowNum":56,"layerNum":5,"moldType":2,"blockNode":null},{"id":"5-44-56","type":0,"rolNum":44,"rowNum":56,"layerNum":5,"moldType":2,"blockNode":null}],"6":[{"id":"6-28-12","type":0,"rolNum":28,"rowNum":12,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-20-20","type":0,"rolNum":20,"rowNum":20,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-36-20","type":0,"rolNum":36,"rowNum":20,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-28-28","type":0,"rolNum":28,"rowNum":28,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-48-16","type":0,"rolNum":48,"rowNum":16,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-48-24","type":0,"rolNum":48,"rowNum":24,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-20-44","type":0,"rolNum":20,"rowNum":44,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-28-44","type":0,"rolNum":28,"rowNum":44,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-36-44","type":0,"rolNum":36,"rowNum":44,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-13-56","type":0,"rolNum":13,"rowNum":56,"layerNum":6,"moldType":2,"blockNode":null},{"id":"6-43-56","type":0,"rolNum":43,"rowNum":56,"layerNum":6,"moldType":2,"blockNode":null}],"7":[{"id":"7-24-16","type":0,"rolNum":24,"rowNum":16,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-32-16","type":0,"rolNum":32,"rowNum":16,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-4-20","type":0,"rolNum":4,"rowNum":20,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-52-20","type":0,"rolNum":52,"rowNum":20,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-24-40","type":0,"rolNum":24,"rowNum":40,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-32-40","type":0,"rolNum":32,"rowNum":40,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-14-56","type":0,"rolNum":14,"rowNum":56,"layerNum":7,"moldType":2,"blockNode":null},{"id":"7-42-56","type":0,"rolNum":42,"rowNum":56,"layerNum":7,"moldType":2,"blockNode":null}],"8":[{"id":"8-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-28-12","type":0,"rolNum":28,"rowNum":12,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-20-20","type":0,"rolNum":20,"rowNum":20,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-28-20","type":0,"rolNum":28,"rowNum":20,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-36-20","type":0,"rolNum":36,"rowNum":20,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-20-28","type":0,"rolNum":20,"rowNum":28,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-28-28","type":0,"rolNum":28,"rowNum":28,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-36-28","type":0,"rolNum":36,"rowNum":28,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-48-16","type":0,"rolNum":48,"rowNum":16,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-48-24","type":0,"rolNum":48,"rowNum":24,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-20-44","type":0,"rolNum":20,"rowNum":44,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-28-44","type":0,"rolNum":28,"rowNum":44,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-36-44","type":0,"rolNum":36,"rowNum":44,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-15-56","type":0,"rolNum":15,"rowNum":56,"layerNum":8,"moldType":2,"blockNode":null},{"id":"8-41-56","type":0,"rolNum":41,"rowNum":56,"layerNum":8,"moldType":2,"blockNode":null}],"9":[{"id":"9-24-16","type":0,"rolNum":24,"rowNum":16,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-32-16","type":0,"rolNum":32,"rowNum":16,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-12-20","type":0,"rolNum":12,"rowNum":20,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-4-12","type":0,"rolNum":4,"rowNum":12,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-4-20","type":0,"rolNum":4,"rowNum":20,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-4-28","type":0,"rolNum":4,"rowNum":28,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-44-20","type":0,"rolNum":44,"rowNum":20,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-52-12","type":0,"rolNum":52,"rowNum":12,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-52-20","type":0,"rolNum":52,"rowNum":20,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-52-28","type":0,"rolNum":52,"rowNum":28,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-24-40","type":0,"rolNum":24,"rowNum":40,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-32-40","type":0,"rolNum":32,"rowNum":40,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-16-56","type":0,"rolNum":16,"rowNum":56,"layerNum":9,"moldType":2,"blockNode":null},{"id":"9-40-56","type":0,"rolNum":40,"rowNum":56,"layerNum":9,"moldType":2,"blockNode":null}],"10":[{"id":"10-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-20-28","type":0,"rolNum":20,"rowNum":28,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-36-28","type":0,"rolNum":36,"rowNum":28,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-48-16","type":0,"rolNum":48,"rowNum":16,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-48-24","type":0,"rolNum":48,"rowNum":24,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-20-44","type":0,"rolNum":20,"rowNum":44,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-28-44","type":0,"rolNum":28,"rowNum":44,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-36-44","type":0,"rolNum":36,"rowNum":44,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-17-56","type":0,"rolNum":17,"rowNum":56,"layerNum":10,"moldType":2,"blockNode":null},{"id":"10-39-56","type":0,"rolNum":39,"rowNum":56,"layerNum":10,"moldType":2,"blockNode":null}],"11":[{"id":"11-16-8","type":0,"rolNum":16,"rowNum":8,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-16-32","type":0,"rolNum":16,"rowNum":32,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-40-32","type":0,"rolNum":40,"rowNum":32,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-4-20","type":0,"rolNum":4,"rowNum":20,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-52-20","type":0,"rolNum":52,"rowNum":20,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-24-40","type":0,"rolNum":24,"rowNum":40,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-32-40","type":0,"rolNum":32,"rowNum":40,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-18-56","type":0,"rolNum":18,"rowNum":56,"layerNum":11,"moldType":2,"blockNode":null},{"id":"11-38-56","type":0,"rolNum":38,"rowNum":56,"layerNum":11,"moldType":2,"blockNode":null}],"12":[{"id":"12-12-4","type":0,"rolNum":12,"rowNum":4,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-44-4","type":0,"rolNum":44,"rowNum":4,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-12-36","type":0,"rolNum":12,"rowNum":36,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-44-36","type":0,"rolNum":44,"rowNum":36,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-48-16","type":0,"rolNum":48,"rowNum":16,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-48-24","type":0,"rolNum":48,"rowNum":24,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-20-44","type":0,"rolNum":20,"rowNum":44,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-28-44","type":0,"rolNum":28,"rowNum":44,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-36-44","type":0,"rolNum":36,"rowNum":44,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-19-56","type":0,"rolNum":19,"rowNum":56,"layerNum":12,"moldType":2,"blockNode":null},{"id":"12-37-56","type":0,"rolNum":37,"rowNum":56,"layerNum":12,"moldType":2,"blockNode":null}],"13":[{"id":"13-8-0","type":0,"rolNum":8,"rowNum":0,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-48-0","type":0,"rolNum":48,"rowNum":0,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-8-40","type":0,"rolNum":8,"rowNum":40,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-48-40","type":0,"rolNum":48,"rowNum":40,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-12-20","type":0,"rolNum":12,"rowNum":20,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-4-12","type":0,"rolNum":4,"rowNum":12,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-4-20","type":0,"rolNum":4,"rowNum":20,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-4-28","type":0,"rolNum":4,"rowNum":28,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-44-20","type":0,"rolNum":44,"rowNum":20,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-52-12","type":0,"rolNum":52,"rowNum":12,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-52-20","type":0,"rolNum":52,"rowNum":20,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-52-28","type":0,"rolNum":52,"rowNum":28,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-24-40","type":0,"rolNum":24,"rowNum":40,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-32-40","type":0,"rolNum":32,"rowNum":40,"layerNum":13,"moldType":1,"blockNode":null}],"14":[{"id":"14-12-4","type":0,"rolNum":12,"rowNum":4,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-44-4","type":0,"rolNum":44,"rowNum":4,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-12-36","type":0,"rolNum":12,"rowNum":36,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-44-36","type":0,"rolNum":44,"rowNum":36,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-48-16","type":0,"rolNum":48,"rowNum":16,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-48-24","type":0,"rolNum":48,"rowNum":24,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-20-44","type":0,"rolNum":20,"rowNum":44,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-28-44","type":0,"rolNum":28,"rowNum":44,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-36-44","type":0,"rolNum":36,"rowNum":44,"layerNum":14,"moldType":1,"blockNode":null}],"15":[{"id":"15-16-8","type":0,"rolNum":16,"rowNum":8,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-16-32","type":0,"rolNum":16,"rowNum":32,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-40-32","type":0,"rolNum":40,"rowNum":32,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-4-20","type":0,"rolNum":4,"rowNum":20,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-52-20","type":0,"rolNum":52,"rowNum":20,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-24-40","type":0,"rolNum":24,"rowNum":40,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-32-40","type":0,"rolNum":32,"rowNum":40,"layerNum":15,"moldType":1,"blockNode":null}],"16":[{"id":"16-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-20-28","type":0,"rolNum":20,"rowNum":28,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-36-28","type":0,"rolNum":36,"rowNum":28,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-48-16","type":0,"rolNum":48,"rowNum":16,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-48-24","type":0,"rolNum":48,"rowNum":24,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-28-44","type":0,"rolNum":28,"rowNum":44,"layerNum":16,"moldType":1,"blockNode":null}],"17":[{"id":"17-24-16","type":0,"rolNum":24,"rowNum":16,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-32-16","type":0,"rolNum":32,"rowNum":16,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-12-20","type":0,"rolNum":12,"rowNum":20,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-4-12","type":0,"rolNum":4,"rowNum":12,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-4-20","type":0,"rolNum":4,"rowNum":20,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-4-28","type":0,"rolNum":4,"rowNum":28,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-44-20","type":0,"rolNum":44,"rowNum":20,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-52-12","type":0,"rolNum":52,"rowNum":12,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-52-20","type":0,"rolNum":52,"rowNum":20,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-52-28","type":0,"rolNum":52,"rowNum":28,"layerNum":17,"moldType":1,"blockNode":null}],"18":[{"id":"18-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-20-28","type":0,"rolNum":20,"rowNum":28,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-36-28","type":0,"rolNum":36,"rowNum":28,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-48-16","type":0,"rolNum":48,"rowNum":16,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-48-24","type":0,"rolNum":48,"rowNum":24,"layerNum":18,"moldType":1,"blockNode":null}],"19":[{"id":"19-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-16-8","type":0,"rolNum":16,"rowNum":8,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-16-32","type":0,"rolNum":16,"rowNum":32,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-40-32","type":0,"rolNum":40,"rowNum":32,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-4-12","type":0,"rolNum":4,"rowNum":12,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-4-20","type":0,"rolNum":4,"rowNum":20,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-4-28","type":0,"rolNum":4,"rowNum":28,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-52-20","type":0,"rolNum":52,"rowNum":20,"layerNum":19,"moldType":1,"blockNode":null}],"20":[{"id":"20-44-4","type":0,"rolNum":44,"rowNum":4,"layerNum":20,"moldType":1,"blockNode":null},{"id":"20-12-4","type":0,"rolNum":12,"rowNum":4,"layerNum":20,"moldType":1,"blockNode":null},{"id":"20-12-36","type":0,"rolNum":12,"rowNum":36,"layerNum":20,"moldType":1,"blockNode":null},{"id":"20-44-36","type":0,"rolNum":44,"rowNum":36,"layerNum":20,"moldType":1,"blockNode":null},{"id":"20-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":20,"moldType":1,"blockNode":null},{"id":"20-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":20,"moldType":1,"blockNode":null},{"id":"20-48-16","type":0,"rolNum":48,"rowNum":16,"layerNum":20,"moldType":1,"blockNode":null},{"id":"20-48-24","type":0,"rolNum":48,"rowNum":24,"layerNum":20,"moldType":1,"blockNode":null}],"21":[{"id":"21-48-0","type":0,"rolNum":48,"rowNum":0,"layerNum":21,"moldType":1,"blockNode":null},{"id":"21-8-0","type":0,"rolNum":8,"rowNum":0,"layerNum":21,"moldType":1,"blockNode":null},{"id":"21-8-40","type":0,"rolNum":8,"rowNum":40,"layerNum":21,"moldType":1,"blockNode":null},{"id":"21-48-40","type":0,"rolNum":48,"rowNum":40,"layerNum":21,"moldType":1,"blockNode":null}],"22":[{"id":"22-12-36","type":0,"rolNum":12,"rowNum":36,"layerNum":22,"moldType":1,"blockNode":null},{"id":"22-12-4","type":0,"rolNum":12,"rowNum":4,"layerNum":22,"moldType":1,"blockNode":null},{"id":"22-44-4","type":0,"rolNum":44,"rowNum":4,"layerNum":22,"moldType":1,"blockNode":null},{"id":"22-44-36","type":0,"rolNum":44,"rowNum":36,"layerNum":22,"moldType":1,"blockNode":null}],"23":[{"id":"23-16-32","type":0,"rolNum":16,"rowNum":32,"layerNum":23,"moldType":1,"blockNode":null},{"id":"23-16-8","type":0,"rolNum":16,"rowNum":8,"layerNum":23,"moldType":1,"blockNode":null},{"id":"23-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":23,"moldType":1,"blockNode":null},{"id":"23-40-32","type":0,"rolNum":40,"rowNum":32,"layerNum":23,"moldType":1,"blockNode":null}],"24":[{"id":"24-20-28","type":0,"rolNum":20,"rowNum":28,"layerNum":24,"moldType":1,"blockNode":null},{"id":"24-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":24,"moldType":1,"blockNode":null},{"id":"24-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":24,"moldType":1,"blockNode":null},{"id":"24-36-28","type":0,"rolNum":36,"rowNum":28,"layerNum":24,"moldType":1,"blockNode":null}],"25":[{"id":"25-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":25,"moldType":1,"blockNode":null},{"id":"25-24-16","type":0,"rolNum":24,"rowNum":16,"layerNum":25,"moldType":1,"blockNode":null},{"id":"25-32-16","type":0,"rolNum":32,"rowNum":16,"layerNum":25,"moldType":1,"blockNode":null},{"id":"25-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":25,"moldType":1,"blockNode":null}],"26":[{"id":"26-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":26,"moldType":1,"blockNode":null},{"id":"26-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":26,"moldType":1,"blockNode":null},{"id":"26-20-28","type":0,"rolNum":20,"rowNum":28,"layerNum":26,"moldType":1,"blockNode":null},{"id":"26-36-28","type":0,"rolNum":36,"rowNum":28,"layerNum":26,"moldType":1,"blockNode":null}],"27":[{"id":"27-16-8","type":0,"rolNum":16,"rowNum":8,"layerNum":27,"moldType":1,"blockNode":null},{"id":"27-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":27,"moldType":1,"blockNode":null},{"id":"27-16-32","type":0,"rolNum":16,"rowNum":32,"layerNum":27,"moldType":1,"blockNode":null},{"id":"27-40-32","type":0,"rolNum":40,"rowNum":32,"layerNum":27,"moldType":1,"blockNode":null}],"28":[{"id":"28-12-4","type":0,"rolNum":12,"rowNum":4,"layerNum":28,"moldType":1,"blockNode":null},{"id":"28-44-4","type":0,"rolNum":44,"rowNum":4,"layerNum":28,"moldType":1,"blockNode":null},{"id":"28-12-36","type":0,"rolNum":12,"rowNum":36,"layerNum":28,"moldType":1,"blockNode":null},{"id":"28-44-36","type":0,"rolNum":44,"rowNum":36,"layerNum":28,"moldType":1,"blockNode":null}],"29":[{"id":"29-8-0","type":0,"rolNum":8,"rowNum":0,"layerNum":29,"moldType":1,"blockNode":null},{"id":"29-48-0","type":0,"rolNum":48,"rowNum":0,"layerNum":29,"moldType":1,"blockNode":null},{"id":"29-8-40","type":0,"rolNum":8,"rowNum":40,"layerNum":29,"moldType":1,"blockNode":null},{"id":"29-48-40","type":0,"rolNum":48,"rowNum":40,"layerNum":29,"moldType":1,"blockNode":null}],"30":[{"id":"30-12-4","type":0,"rolNum":12,"rowNum":4,"layerNum":30,"moldType":1,"blockNode":null},{"id":"30-44-4","type":0,"rolNum":44,"rowNum":4,"layerNum":30,"moldType":1,"blockNode":null},{"id":"30-12-36","type":0,"rolNum":12,"rowNum":36,"layerNum":30,"moldType":1,"blockNode":null},{"id":"30-44-36","type":0,"rolNum":44,"rowNum":36,"layerNum":30,"moldType":1,"blockNode":null}],"31":[{"id":"31-16-8","type":0,"rolNum":16,"rowNum":8,"layerNum":31,"moldType":1,"blockNode":null},{"id":"31-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":31,"moldType":1,"blockNode":null},{"id":"31-16-32","type":0,"rolNum":16,"rowNum":32,"layerNum":31,"moldType":1,"blockNode":null},{"id":"31-40-32","type":0,"rolNum":40,"rowNum":32,"layerNum":31,"moldType":1,"blockNode":null},{"id":"31-16-0","type":0,"rolNum":16,"rowNum":0,"layerNum":31,"moldType":1,"blockNode":null},{"id":"31-40-0","type":0,"rolNum":40,"rowNum":0,"layerNum":31,"moldType":1,"blockNode":null},{"id":"31-48-32","type":0,"rolNum":48,"rowNum":32,"layerNum":31,"moldType":1,"blockNode":null},{"id":"31-8-32","type":0,"rolNum":8,"rowNum":32,"layerNum":31,"moldType":1,"blockNode":null}],"32":[{"id":"32-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":32,"moldType":1,"blockNode":null},{"id":"32-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":32,"moldType":1,"blockNode":null},{"id":"32-20-28","type":0,"rolNum":20,"rowNum":28,"layerNum":32,"moldType":1,"blockNode":null},{"id":"32-36-28","type":0,"rolNum":36,"rowNum":28,"layerNum":32,"moldType":1,"blockNode":null}],"33":[{"id":"33-24-16","type":0,"rolNum":24,"rowNum":16,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-32-16","type":0,"rolNum":32,"rowNum":16,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-16-8","type":0,"rolNum":16,"rowNum":8,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-16-16","type":0,"rolNum":16,"rowNum":16,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-16-24","type":0,"rolNum":16,"rowNum":24,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-16-32","type":0,"rolNum":16,"rowNum":32,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-40-16","type":0,"rolNum":40,"rowNum":16,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-40-24","type":0,"rolNum":40,"rowNum":24,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-40-32","type":0,"rolNum":40,"rowNum":32,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-24-8","type":0,"rolNum":24,"rowNum":8,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-32-8","type":0,"rolNum":32,"rowNum":8,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-24-32","type":0,"rolNum":24,"rowNum":32,"layerNum":33,"moldType":1,"blockNode":null},{"id":"33-32-32","type":0,"rolNum":32,"rowNum":32,"layerNum":33,"moldType":1,"blockNode":null}],"34":[{"id":"34-28-8","type":0,"rolNum":28,"rowNum":8,"layerNum":34,"moldType":1,"blockNode":null}]},"blockTypeData":{"1":13,"2":13,"3":13,"4":13,"5":13,"6":13,"7":6,"8":6,"9":6,"10":6},"heightNum":10,"widthNum":8}'
}
} : e = 90023 === e ? {
err_code: 0,
err_msg: "",
data: {
id: "62cfbe883dd1931da84a8513",
created_at: "2022-07-14T06:58:16.233Z",
updated_at: "2022-09-20T15:02:42.78Z",
map_option: 0,
map_id: 90023,
map_md5: "e01fc41801bbd4bf65b3cf77d53baa3a",
map_data: '{"widthNum":8,"heightNum":10,"levelKey":90023,"blockTypeData":{"9":15,"10":15,"1":11,"2":11,"3":10,"4":10,"5":5,"6":5},"levelData":{"1":[{"id":"1-28-28","type":0,"rolNum":28,"rowNum":28,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-28-12","type":0,"rolNum":28,"rowNum":12,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-28-44","type":0,"rolNum":28,"rowNum":44,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-12-28","type":0,"rolNum":12,"rowNum":28,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-44-28","type":0,"rolNum":44,"rowNum":28,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-16-16","type":0,"rolNum":16,"rowNum":16,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-40-16","type":0,"rolNum":40,"rowNum":16,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-16-40","type":0,"rolNum":16,"rowNum":40,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-40-40","type":0,"rolNum":40,"rowNum":40,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-4-64","type":0,"rolNum":4,"rowNum":64,"layerNum":1,"moldType":2,"blockNode":null},{"id":"1-52-64","type":0,"rolNum":52,"rowNum":64,"layerNum":1,"moldType":2,"blockNode":null}],"2":[{"id":"2-32-24","type":1,"rolNum":32,"rowNum":24,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-32-32","type":2,"rolNum":32,"rowNum":32,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-24-32","type":3,"rolNum":24,"rowNum":32,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-24-24","type":4,"rolNum":24,"rowNum":24,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-44-12","type":0,"rolNum":44,"rowNum":12,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-28-8","type":0,"rolNum":28,"rowNum":8,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-28-48","type":0,"rolNum":28,"rowNum":48,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-48-28","type":0,"rolNum":48,"rowNum":28,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-44-44","type":0,"rolNum":44,"rowNum":44,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-12-44","type":0,"rolNum":12,"rowNum":44,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-8-28","type":0,"rolNum":8,"rowNum":28,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-12-12","type":0,"rolNum":12,"rowNum":12,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-5-64","type":0,"rolNum":5,"rowNum":64,"layerNum":2,"moldType":2,"blockNode":null},{"id":"2-51-64","type":0,"rolNum":51,"rowNum":64,"layerNum":2,"moldType":2,"blockNode":null}],"3":[{"id":"3-36-24","type":0,"rolNum":36,"rowNum":24,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-32-36","type":0,"rolNum":32,"rowNum":36,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-20-32","type":0,"rolNum":20,"rowNum":32,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-24-20","type":0,"rolNum":24,"rowNum":20,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-48-12","type":0,"rolNum":48,"rowNum":12,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-48-32","type":0,"rolNum":48,"rowNum":32,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-44-48","type":0,"rolNum":44,"rowNum":48,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-24-48","type":0,"rolNum":24,"rowNum":48,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-8-44","type":0,"rolNum":8,"rowNum":44,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-12-8","type":0,"rolNum":12,"rowNum":8,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-32-8","type":0,"rolNum":32,"rowNum":8,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-28-28","type":0,"rolNum":28,"rowNum":28,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-6-64","type":0,"rolNum":6,"rowNum":64,"layerNum":3,"moldType":2,"blockNode":null},{"id":"3-50-64","type":0,"rolNum":50,"rowNum":64,"layerNum":3,"moldType":2,"blockNode":null}],"4":[{"id":"4-40-24","type":5,"rolNum":40,"rowNum":24,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-32-40","type":6,"rolNum":32,"rowNum":40,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-16-32","type":7,"rolNum":16,"rowNum":32,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-24-16","type":8,"rolNum":24,"rowNum":16,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-52-12","type":0,"rolNum":52,"rowNum":12,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-48-36","type":0,"rolNum":48,"rowNum":36,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-44-52","type":0,"rolNum":44,"rowNum":52,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-20-48","type":0,"rolNum":20,"rowNum":48,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-4-44","type":0,"rolNum":4,"rowNum":44,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-8-20","type":0,"rolNum":8,"rowNum":20,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-12-4","type":0,"rolNum":12,"rowNum":4,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-36-8","type":0,"rolNum":36,"rowNum":8,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-7-64","type":0,"rolNum":7,"rowNum":64,"layerNum":4,"moldType":2,"blockNode":null},{"id":"4-49-64","type":0,"rolNum":49,"rowNum":64,"layerNum":4,"moldType":2,"blockNode":null}],"5":[{"id":"5-44-24","type":0,"rolNum":44,"rowNum":24,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-24-12","type":0,"rolNum":24,"rowNum":12,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-12-32","type":0,"rolNum":12,"rowNum":32,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-32-44","type":0,"rolNum":32,"rowNum":44,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-52-16","type":0,"rolNum":52,"rowNum":16,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-48-40","type":0,"rolNum":48,"rowNum":40,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-40-52","type":0,"rolNum":40,"rowNum":52,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-16-48","type":0,"rolNum":16,"rowNum":48,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-4-40","type":0,"rolNum":4,"rowNum":40,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-16-4","type":0,"rolNum":16,"rowNum":4,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-28-20","type":0,"rolNum":28,"rowNum":20,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-36-20","type":0,"rolNum":36,"rowNum":20,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-36-28","type":0,"rolNum":36,"rowNum":28,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-36-36","type":0,"rolNum":36,"rowNum":36,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-28-36","type":0,"rolNum":28,"rowNum":36,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-20-36","type":0,"rolNum":20,"rowNum":36,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-20-28","type":0,"rolNum":20,"rowNum":28,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-20-20","type":0,"rolNum":20,"rowNum":20,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-8-64","type":0,"rolNum":8,"rowNum":64,"layerNum":5,"moldType":2,"blockNode":null},{"id":"5-48-64","type":0,"rolNum":48,"rowNum":64,"layerNum":5,"moldType":2,"blockNode":null}],"6":[{"id":"6-44-28","type":1,"rolNum":44,"rowNum":28,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-28-44","type":2,"rolNum":28,"rowNum":44,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-12-28","type":3,"rolNum":12,"rowNum":28,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-28-12","type":4,"rolNum":28,"rowNum":12,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-52-20","type":0,"rolNum":52,"rowNum":20,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-44-40","type":0,"rolNum":44,"rowNum":40,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-36-52","type":0,"rolNum":36,"rowNum":52,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-16-44","type":0,"rolNum":16,"rowNum":44,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-4-36","type":0,"rolNum":4,"rowNum":36,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-12-16","type":0,"rolNum":12,"rowNum":16,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-20-4","type":0,"rolNum":20,"rowNum":4,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-40-12","type":0,"rolNum":40,"rowNum":12,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-24-32","type":0,"rolNum":24,"rowNum":32,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-32-32","type":0,"rolNum":32,"rowNum":32,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-9-64","type":0,"rolNum":9,"rowNum":64,"layerNum":6,"moldType":2,"blockNode":null},{"id":"6-47-64","type":0,"rolNum":47,"rowNum":64,"layerNum":6,"moldType":2,"blockNode":null}],"7":[{"id":"7-48-32","type":0,"rolNum":48,"rowNum":32,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-24-48","type":0,"rolNum":24,"rowNum":48,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-32-8","type":0,"rolNum":32,"rowNum":8,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-52-24","type":0,"rolNum":52,"rowNum":24,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-40-44","type":0,"rolNum":40,"rowNum":44,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-32-52","type":0,"rolNum":32,"rowNum":52,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-12-40","type":0,"rolNum":12,"rowNum":40,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-4-32","type":0,"rolNum":4,"rowNum":32,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-16-12","type":0,"rolNum":16,"rowNum":12,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-24-4","type":0,"rolNum":24,"rowNum":4,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-44-16","type":0,"rolNum":44,"rowNum":16,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-28-28","type":0,"rolNum":28,"rowNum":28,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-10-64","type":0,"rolNum":10,"rowNum":64,"layerNum":7,"moldType":2,"blockNode":null},{"id":"7-46-64","type":0,"rolNum":46,"rowNum":64,"layerNum":7,"moldType":2,"blockNode":null}],"8":[{"id":"8-48-36","type":5,"rolNum":48,"rowNum":36,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-20-48","type":6,"rolNum":20,"rowNum":48,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-8-20","type":7,"rolNum":8,"rowNum":20,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-36-8","type":8,"rolNum":36,"rowNum":8,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-52-28","type":0,"rolNum":52,"rowNum":28,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-36-44","type":0,"rolNum":36,"rowNum":44,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-28-52","type":0,"rolNum":28,"rowNum":52,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-12-36","type":0,"rolNum":12,"rowNum":36,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-4-28","type":0,"rolNum":4,"rowNum":28,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-28-4","type":0,"rolNum":28,"rowNum":4,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-44-20","type":0,"rolNum":44,"rowNum":20,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-11-64","type":0,"rolNum":11,"rowNum":64,"layerNum":8,"moldType":2,"blockNode":null},{"id":"8-45-64","type":0,"rolNum":45,"rowNum":64,"layerNum":8,"moldType":2,"blockNode":null}],"9":[{"id":"9-48-40","type":0,"rolNum":48,"rowNum":40,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-16-48","type":0,"rolNum":16,"rowNum":48,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-52-32","type":0,"rolNum":52,"rowNum":32,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-44-24","type":0,"rolNum":44,"rowNum":24,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-32-44","type":0,"rolNum":32,"rowNum":44,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-24-52","type":0,"rolNum":24,"rowNum":52,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-12-32","type":0,"rolNum":12,"rowNum":32,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-4-24","type":0,"rolNum":4,"rowNum":24,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-24-12","type":0,"rolNum":24,"rowNum":12,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-32-4","type":0,"rolNum":32,"rowNum":4,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-12-64","type":0,"rolNum":12,"rowNum":64,"layerNum":9,"moldType":2,"blockNode":null},{"id":"9-44-64","type":0,"rolNum":44,"rowNum":64,"layerNum":9,"moldType":2,"blockNode":null}],"10":[{"id":"10-48-44","type":1,"rolNum":48,"rowNum":44,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-12-48","type":2,"rolNum":12,"rowNum":48,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-8-12","type":3,"rolNum":8,"rowNum":12,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-44-8","type":4,"rolNum":44,"rowNum":8,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-52-36","type":0,"rolNum":52,"rowNum":36,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-20-52","type":0,"rolNum":20,"rowNum":52,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-12-28","type":0,"rolNum":12,"rowNum":28,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-4-20","type":0,"rolNum":4,"rowNum":20,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-36-4","type":0,"rolNum":36,"rowNum":4,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-28-12","type":0,"rolNum":28,"rowNum":12,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-44-28","type":0,"rolNum":44,"rowNum":28,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-28-44","type":0,"rolNum":28,"rowNum":44,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-13-64","type":0,"rolNum":13,"rowNum":64,"layerNum":10,"moldType":2,"blockNode":null},{"id":"10-43-64","type":0,"rolNum":43,"rowNum":64,"layerNum":10,"moldType":2,"blockNode":null}],"11":[{"id":"11-44-48","type":0,"rolNum":44,"rowNum":48,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-8-44","type":0,"rolNum":8,"rowNum":44,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-12-8","type":0,"rolNum":12,"rowNum":8,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-48-12","type":0,"rolNum":48,"rowNum":12,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-52-40","type":0,"rolNum":52,"rowNum":40,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-44-32","type":0,"rolNum":44,"rowNum":32,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-24-44","type":0,"rolNum":24,"rowNum":44,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-16-52","type":0,"rolNum":16,"rowNum":52,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-4-16","type":0,"rolNum":4,"rowNum":16,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-12-24","type":0,"rolNum":12,"rowNum":24,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-40-4","type":0,"rolNum":40,"rowNum":4,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-32-12","type":0,"rolNum":32,"rowNum":12,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-40-24","type":0,"rolNum":40,"rowNum":24,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-24-16","type":0,"rolNum":24,"rowNum":16,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-16-32","type":0,"rolNum":16,"rowNum":32,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-32-40","type":0,"rolNum":32,"rowNum":40,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-14-64","type":0,"rolNum":14,"rowNum":64,"layerNum":11,"moldType":2,"blockNode":null},{"id":"11-42-64","type":0,"rolNum":42,"rowNum":64,"layerNum":11,"moldType":2,"blockNode":null}],"12":[{"id":"12-40-48","type":5,"rolNum":40,"rowNum":48,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-8-40","type":6,"rolNum":8,"rowNum":40,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-16-8","type":7,"rolNum":16,"rowNum":8,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-48-16","type":8,"rolNum":48,"rowNum":16,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-52-44","type":0,"rolNum":52,"rowNum":44,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-12-52","type":0,"rolNum":12,"rowNum":52,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-20-44","type":0,"rolNum":20,"rowNum":44,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-44-36","type":0,"rolNum":44,"rowNum":36,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-44-4","type":0,"rolNum":44,"rowNum":4,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-4-12","type":0,"rolNum":4,"rowNum":12,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-12-20","type":0,"rolNum":12,"rowNum":20,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-15-64","type":0,"rolNum":15,"rowNum":64,"layerNum":12,"moldType":2,"blockNode":null},{"id":"12-41-64","type":0,"rolNum":41,"rowNum":64,"layerNum":12,"moldType":2,"blockNode":null}],"13":[{"id":"13-52-48","type":0,"rolNum":52,"rowNum":48,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-36-48","type":0,"rolNum":36,"rowNum":48,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-16-44","type":0,"rolNum":16,"rowNum":44,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-8-52","type":0,"rolNum":8,"rowNum":52,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-8-36","type":0,"rolNum":8,"rowNum":36,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-4-8","type":0,"rolNum":4,"rowNum":8,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-20-8","type":0,"rolNum":20,"rowNum":8,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-48-4","type":0,"rolNum":48,"rowNum":4,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-40-12","type":0,"rolNum":40,"rowNum":12,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-44-40","type":0,"rolNum":44,"rowNum":40,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-12-16","type":0,"rolNum":12,"rowNum":16,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-48-20","type":0,"rolNum":48,"rowNum":20,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-24-48","type":0,"rolNum":24,"rowNum":48,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-32-8","type":0,"rolNum":32,"rowNum":8,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-48-32","type":0,"rolNum":48,"rowNum":32,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-16-24","type":0,"rolNum":16,"rowNum":24,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-32-16","type":0,"rolNum":32,"rowNum":16,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-40-32","type":0,"rolNum":40,"rowNum":32,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-24-40","type":0,"rolNum":24,"rowNum":40,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-16-64","type":0,"rolNum":16,"rowNum":64,"layerNum":13,"moldType":2,"blockNode":null},{"id":"13-40-64","type":0,"rolNum":40,"rowNum":64,"layerNum":13,"moldType":2,"blockNode":null}],"14":[{"id":"14-52-52","type":0,"rolNum":52,"rowNum":52,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-4-52","type":0,"rolNum":4,"rowNum":52,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-4-4","type":0,"rolNum":4,"rowNum":4,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-52-4","type":0,"rolNum":52,"rowNum":4,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-24-8","type":0,"rolNum":24,"rowNum":8,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-12-12","type":0,"rolNum":12,"rowNum":12,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-48-24","type":0,"rolNum":48,"rowNum":24,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-44-12","type":0,"rolNum":44,"rowNum":12,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-44-44","type":0,"rolNum":44,"rowNum":44,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-32-48","type":0,"rolNum":32,"rowNum":48,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-12-44","type":0,"rolNum":12,"rowNum":44,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-8-32","type":0,"rolNum":8,"rowNum":32,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-28-20","type":0,"rolNum":28,"rowNum":20,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-36-28","type":0,"rolNum":36,"rowNum":28,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-20-28","type":0,"rolNum":20,"rowNum":28,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-28-36","type":0,"rolNum":28,"rowNum":36,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-17-64","type":0,"rolNum":17,"rowNum":64,"layerNum":14,"moldType":2,"blockNode":null},{"id":"14-39-64","type":0,"rolNum":39,"rowNum":64,"layerNum":14,"moldType":2,"blockNode":null}],"15":[{"id":"15-16-48","type":0,"rolNum":16,"rowNum":48,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-8-8","type":0,"rolNum":8,"rowNum":8,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-48-8","type":0,"rolNum":48,"rowNum":8,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-48-40","type":0,"rolNum":48,"rowNum":40,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-48-48","type":0,"rolNum":48,"rowNum":48,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-8-48","type":0,"rolNum":8,"rowNum":48,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-16-8","type":0,"rolNum":16,"rowNum":8,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-8-40","type":0,"rolNum":8,"rowNum":40,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-48-16","type":0,"rolNum":48,"rowNum":16,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-40-48","type":0,"rolNum":40,"rowNum":48,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-16-16","type":0,"rolNum":16,"rowNum":16,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-40-16","type":0,"rolNum":40,"rowNum":16,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-16-40","type":0,"rolNum":16,"rowNum":40,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-40-40","type":0,"rolNum":40,"rowNum":40,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-28-12","type":0,"rolNum":28,"rowNum":12,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-28-44","type":0,"rolNum":28,"rowNum":44,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-44-28","type":0,"rolNum":44,"rowNum":28,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-12-28","type":0,"rolNum":12,"rowNum":28,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-24-28","type":0,"rolNum":24,"rowNum":28,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-32-28","type":0,"rolNum":32,"rowNum":28,"layerNum":15,"moldType":1,"blockNode":null}],"16":[{"id":"16-36-20","type":0,"rolNum":36,"rowNum":20,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-20-20","type":0,"rolNum":20,"rowNum":20,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-36-36","type":0,"rolNum":36,"rowNum":36,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-20-36","type":0,"rolNum":20,"rowNum":36,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-20-44","type":0,"rolNum":20,"rowNum":44,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-36-44","type":0,"rolNum":36,"rowNum":44,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-44-36","type":0,"rolNum":44,"rowNum":36,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-44-20","type":0,"rolNum":44,"rowNum":20,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-44-12","type":0,"rolNum":44,"rowNum":12,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-12-12","type":0,"rolNum":12,"rowNum":12,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-12-20","type":0,"rolNum":12,"rowNum":20,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-12-36","type":0,"rolNum":12,"rowNum":36,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-12-44","type":0,"rolNum":12,"rowNum":44,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-44-44","type":0,"rolNum":44,"rowNum":44,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-28-16","type":0,"rolNum":28,"rowNum":16,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-28-40","type":0,"rolNum":28,"rowNum":40,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-16-28","type":0,"rolNum":16,"rowNum":28,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-40-28","type":0,"rolNum":40,"rowNum":28,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-28-28","type":0,"rolNum":28,"rowNum":28,"layerNum":16,"moldType":1,"blockNode":null}],"17":[{"id":"17-16-40","type":0,"rolNum":16,"rowNum":40,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-40-40","type":0,"rolNum":40,"rowNum":40,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-16-16","type":0,"rolNum":16,"rowNum":16,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-40-16","type":0,"rolNum":40,"rowNum":16,"layerNum":17,"moldType":1,"blockNode":null}]}}'
}
} : {
err_code: 0,
err_msg: "",
data: {
id: "62ce43233dd1931da84a84fb",
created_at: "2022-07-13T03:59:31.869Z",
updated_at: "2022-09-18T11:07:10.503Z",
map_option: 0,
map_id: 90019,
map_md5: "fdc2ccf2856998d37446c004bcc0aae7",
map_data: '{"widthNum":8,"heightNum":10,"levelKey":90019,"blockTypeData":{"1":12,"2":12,"3":12,"4":12,"5":12,"6":12,"7":6,"8":6,"9":6,"10":6},"levelData":{"1":[{"id":"1-24-16","type":0,"rolNum":24,"rowNum":16,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-20-40","type":0,"rolNum":20,"rowNum":40,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-28-40","type":0,"rolNum":28,"rowNum":40,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-36-40","type":0,"rolNum":36,"rowNum":40,"layerNum":1,"moldType":1,"blockNode":null},{"id":"1-8-60","type":0,"rolNum":8,"rowNum":60,"layerNum":1,"moldType":2,"blockNode":null},{"id":"1-48-60","type":0,"rolNum":48,"rowNum":60,"layerNum":1,"moldType":2,"blockNode":null}],"2":[{"id":"2-28-16","type":0,"rolNum":28,"rowNum":16,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-28-24","type":0,"rolNum":28,"rowNum":24,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-16-44","type":0,"rolNum":16,"rowNum":44,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-24-44","type":0,"rolNum":24,"rowNum":44,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-32-44","type":0,"rolNum":32,"rowNum":44,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-40-44","type":0,"rolNum":40,"rowNum":44,"layerNum":2,"moldType":1,"blockNode":null},{"id":"2-9-60","type":0,"rolNum":9,"rowNum":60,"layerNum":2,"moldType":2,"blockNode":null},{"id":"2-47-60","type":0,"rolNum":47,"rowNum":60,"layerNum":2,"moldType":2,"blockNode":null}],"3":[{"id":"3-32-16","type":0,"rolNum":32,"rowNum":16,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-24-16","type":0,"rolNum":24,"rowNum":16,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-12-44","type":0,"rolNum":12,"rowNum":44,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-20-44","type":0,"rolNum":20,"rowNum":44,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-28-44","type":0,"rolNum":28,"rowNum":44,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-36-44","type":0,"rolNum":36,"rowNum":44,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-44-44","type":0,"rolNum":44,"rowNum":44,"layerNum":3,"moldType":1,"blockNode":null},{"id":"3-10-60","type":0,"rolNum":10,"rowNum":60,"layerNum":3,"moldType":2,"blockNode":null},{"id":"3-46-60","type":0,"rolNum":46,"rowNum":60,"layerNum":3,"moldType":2,"blockNode":null}],"4":[{"id":"4-28-12","type":0,"rolNum":28,"rowNum":12,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-20-20","type":0,"rolNum":20,"rowNum":20,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-28-28","type":0,"rolNum":28,"rowNum":28,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-36-20","type":0,"rolNum":36,"rowNum":20,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-8-44","type":0,"rolNum":8,"rowNum":44,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-16-44","type":0,"rolNum":16,"rowNum":44,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-24-44","type":0,"rolNum":24,"rowNum":44,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-32-44","type":0,"rolNum":32,"rowNum":44,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-40-44","type":0,"rolNum":40,"rowNum":44,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-48-44","type":0,"rolNum":48,"rowNum":44,"layerNum":4,"moldType":1,"blockNode":null},{"id":"4-11-60","type":0,"rolNum":11,"rowNum":60,"layerNum":4,"moldType":2,"blockNode":null},{"id":"4-45-60","type":0,"rolNum":45,"rowNum":60,"layerNum":4,"moldType":2,"blockNode":null}],"5":[{"id":"5-24-16","type":0,"rolNum":24,"rowNum":16,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-32-16","type":0,"rolNum":32,"rowNum":16,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-8-48","type":0,"rolNum":8,"rowNum":48,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-16-48","type":0,"rolNum":16,"rowNum":48,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-24-48","type":0,"rolNum":24,"rowNum":48,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-32-48","type":0,"rolNum":32,"rowNum":48,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-40-48","type":0,"rolNum":40,"rowNum":48,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-48-48","type":0,"rolNum":48,"rowNum":48,"layerNum":5,"moldType":1,"blockNode":null},{"id":"5-12-60","type":0,"rolNum":12,"rowNum":60,"layerNum":5,"moldType":2,"blockNode":null},{"id":"5-44-60","type":0,"rolNum":44,"rowNum":60,"layerNum":5,"moldType":2,"blockNode":null}],"6":[{"id":"6-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-28-12","type":0,"rolNum":28,"rowNum":12,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-20-20","type":0,"rolNum":20,"rowNum":20,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-28-20","type":0,"rolNum":28,"rowNum":20,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-36-20","type":0,"rolNum":36,"rowNum":20,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-20-28","type":0,"rolNum":20,"rowNum":28,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-28-28","type":0,"rolNum":28,"rowNum":28,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-36-28","type":0,"rolNum":36,"rowNum":28,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-52-48","type":0,"rolNum":52,"rowNum":48,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-4-48","type":0,"rolNum":4,"rowNum":48,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-20-48","type":0,"rolNum":20,"rowNum":48,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-28-48","type":0,"rolNum":28,"rowNum":48,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-36-48","type":0,"rolNum":36,"rowNum":48,"layerNum":6,"moldType":1,"blockNode":null},{"id":"6-13-60","type":0,"rolNum":13,"rowNum":60,"layerNum":6,"moldType":2,"blockNode":null},{"id":"6-43-60","type":0,"rolNum":43,"rowNum":60,"layerNum":6,"moldType":2,"blockNode":null}],"7":[{"id":"7-24-16","type":0,"rolNum":24,"rowNum":16,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-32-16","type":0,"rolNum":32,"rowNum":16,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-16-24","type":0,"rolNum":16,"rowNum":24,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-40-24","type":0,"rolNum":40,"rowNum":24,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-16-32","type":0,"rolNum":16,"rowNum":32,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-24-32","type":0,"rolNum":24,"rowNum":32,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-32-32","type":0,"rolNum":32,"rowNum":32,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-40-32","type":0,"rolNum":40,"rowNum":32,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-8-48","type":0,"rolNum":8,"rowNum":48,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-48-48","type":0,"rolNum":48,"rowNum":48,"layerNum":7,"moldType":1,"blockNode":null},{"id":"7-14-60","type":0,"rolNum":14,"rowNum":60,"layerNum":7,"moldType":2,"blockNode":null},{"id":"7-42-60","type":0,"rolNum":42,"rowNum":60,"layerNum":7,"moldType":2,"blockNode":null},{"id":"7-28-8","type":0,"rolNum":28,"rowNum":8,"layerNum":7,"moldType":1,"blockNode":null}],"8":[{"id":"8-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-20-24","type":0,"rolNum":20,"rowNum":24,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-28-24","type":0,"rolNum":28,"rowNum":24,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-36-24","type":0,"rolNum":36,"rowNum":24,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-20-32","type":0,"rolNum":20,"rowNum":32,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-28-32","type":0,"rolNum":28,"rowNum":32,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-36-32","type":0,"rolNum":36,"rowNum":32,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-12-48","type":0,"rolNum":12,"rowNum":48,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-44-48","type":0,"rolNum":44,"rowNum":48,"layerNum":8,"moldType":1,"blockNode":null},{"id":"8-15-60","type":0,"rolNum":15,"rowNum":60,"layerNum":8,"moldType":2,"blockNode":null},{"id":"8-41-60","type":0,"rolNum":41,"rowNum":60,"layerNum":8,"moldType":2,"blockNode":null},{"id":"8-28-4","type":0,"rolNum":28,"rowNum":4,"layerNum":8,"moldType":1,"blockNode":null}],"9":[{"id":"9-16-8","type":0,"rolNum":16,"rowNum":8,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-16-24","type":0,"rolNum":16,"rowNum":24,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-40-24","type":0,"rolNum":40,"rowNum":24,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-16-32","type":0,"rolNum":16,"rowNum":32,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-24-32","type":0,"rolNum":24,"rowNum":32,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-32-32","type":0,"rolNum":32,"rowNum":32,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-40-32","type":0,"rolNum":40,"rowNum":32,"layerNum":9,"moldType":1,"blockNode":null},{"id":"9-16-60","type":0,"rolNum":16,"rowNum":60,"layerNum":9,"moldType":2,"blockNode":null},{"id":"9-40-60","type":0,"rolNum":40,"rowNum":60,"layerNum":9,"moldType":2,"blockNode":null},{"id":"9-28-0","type":0,"rolNum":28,"rowNum":0,"layerNum":9,"moldType":1,"blockNode":null}],"10":[{"id":"10-12-4","type":0,"rolNum":12,"rowNum":4,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-44-4","type":0,"rolNum":44,"rowNum":4,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-20-24","type":0,"rolNum":20,"rowNum":24,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-28-24","type":0,"rolNum":28,"rowNum":24,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-36-24","type":0,"rolNum":36,"rowNum":24,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-20-32","type":0,"rolNum":20,"rowNum":32,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-28-32","type":0,"rolNum":28,"rowNum":32,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-36-32","type":0,"rolNum":36,"rowNum":32,"layerNum":10,"moldType":1,"blockNode":null},{"id":"10-17-60","type":0,"rolNum":17,"rowNum":60,"layerNum":10,"moldType":2,"blockNode":null},{"id":"10-39-60","type":0,"rolNum":39,"rowNum":60,"layerNum":10,"moldType":2,"blockNode":null},{"id":"10-28-4","type":0,"rolNum":28,"rowNum":4,"layerNum":10,"moldType":1,"blockNode":null}],"11":[{"id":"11-8-0","type":0,"rolNum":8,"rowNum":0,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-48-0","type":0,"rolNum":48,"rowNum":0,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-16-24","type":0,"rolNum":16,"rowNum":24,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-40-24","type":0,"rolNum":40,"rowNum":24,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-16-32","type":0,"rolNum":16,"rowNum":32,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-24-32","type":0,"rolNum":24,"rowNum":32,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-32-32","type":0,"rolNum":32,"rowNum":32,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-40-32","type":0,"rolNum":40,"rowNum":32,"layerNum":11,"moldType":1,"blockNode":null},{"id":"11-18-60","type":0,"rolNum":18,"rowNum":60,"layerNum":11,"moldType":2,"blockNode":null},{"id":"11-38-60","type":0,"rolNum":38,"rowNum":60,"layerNum":11,"moldType":2,"blockNode":null},{"id":"11-28-8","type":0,"rolNum":28,"rowNum":8,"layerNum":11,"moldType":1,"blockNode":null}],"12":[{"id":"12-12-4","type":0,"rolNum":12,"rowNum":4,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-44-4","type":0,"rolNum":44,"rowNum":4,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-20-24","type":0,"rolNum":20,"rowNum":24,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-20-32","type":0,"rolNum":20,"rowNum":32,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-28-24","type":0,"rolNum":28,"rowNum":24,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-36-24","type":0,"rolNum":36,"rowNum":24,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-28-32","type":0,"rolNum":28,"rowNum":32,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-36-32","type":0,"rolNum":36,"rowNum":32,"layerNum":12,"moldType":1,"blockNode":null},{"id":"12-19-60","type":0,"rolNum":19,"rowNum":60,"layerNum":12,"moldType":2,"blockNode":null},{"id":"12-37-60","type":0,"rolNum":37,"rowNum":60,"layerNum":12,"moldType":2,"blockNode":null},{"id":"12-28-4","type":0,"rolNum":28,"rowNum":4,"layerNum":12,"moldType":1,"blockNode":null}],"13":[{"id":"13-16-8","type":0,"rolNum":16,"rowNum":8,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-16-28","type":0,"rolNum":16,"rowNum":28,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-24-28","type":0,"rolNum":24,"rowNum":28,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-32-28","type":0,"rolNum":32,"rowNum":28,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-40-28","type":0,"rolNum":40,"rowNum":28,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-16-36","type":0,"rolNum":16,"rowNum":36,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-24-36","type":0,"rolNum":24,"rowNum":36,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-32-36","type":0,"rolNum":32,"rowNum":36,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-40-36","type":0,"rolNum":40,"rowNum":36,"layerNum":13,"moldType":1,"blockNode":null},{"id":"13-20-60","type":0,"rolNum":20,"rowNum":60,"layerNum":13,"moldType":2,"blockNode":null},{"id":"13-36-60","type":0,"rolNum":36,"rowNum":60,"layerNum":13,"moldType":2,"blockNode":null},{"id":"13-28-0","type":0,"rolNum":28,"rowNum":0,"layerNum":13,"moldType":1,"blockNode":null}],"14":[{"id":"14-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-24-36","type":0,"rolNum":24,"rowNum":36,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-12-28","type":0,"rolNum":12,"rowNum":28,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-20-28","type":0,"rolNum":20,"rowNum":28,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-28-28","type":0,"rolNum":28,"rowNum":28,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-36-28","type":0,"rolNum":36,"rowNum":28,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-44-28","type":0,"rolNum":44,"rowNum":28,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-12-36","type":0,"rolNum":12,"rowNum":36,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-36-36","type":0,"rolNum":36,"rowNum":36,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-44-36","type":0,"rolNum":44,"rowNum":36,"layerNum":14,"moldType":1,"blockNode":null},{"id":"14-21-60","type":0,"rolNum":21,"rowNum":60,"layerNum":14,"moldType":2,"blockNode":null},{"id":"14-35-60","type":0,"rolNum":35,"rowNum":60,"layerNum":14,"moldType":2,"blockNode":null},{"id":"14-28-4","type":0,"rolNum":28,"rowNum":4,"layerNum":14,"moldType":1,"blockNode":null}],"15":[{"id":"15-24-16","type":0,"rolNum":24,"rowNum":16,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-32-16","type":0,"rolNum":32,"rowNum":16,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-20-36","type":0,"rolNum":20,"rowNum":36,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-28-36","type":0,"rolNum":28,"rowNum":36,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-8-28","type":0,"rolNum":8,"rowNum":28,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-16-28","type":0,"rolNum":16,"rowNum":28,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-24-28","type":0,"rolNum":24,"rowNum":28,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-32-28","type":0,"rolNum":32,"rowNum":28,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-40-28","type":0,"rolNum":40,"rowNum":28,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-48-28","type":0,"rolNum":48,"rowNum":28,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-8-36","type":0,"rolNum":8,"rowNum":36,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-40-36","type":0,"rolNum":40,"rowNum":36,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-48-36","type":0,"rolNum":48,"rowNum":36,"layerNum":15,"moldType":1,"blockNode":null},{"id":"15-22-60","type":0,"rolNum":22,"rowNum":60,"layerNum":15,"moldType":2,"blockNode":null},{"id":"15-34-60","type":0,"rolNum":34,"rowNum":60,"layerNum":15,"moldType":2,"blockNode":null},{"id":"15-28-8","type":0,"rolNum":28,"rowNum":8,"layerNum":15,"moldType":1,"blockNode":null}],"16":[{"id":"16-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-16-36","type":0,"rolNum":16,"rowNum":36,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-24-36","type":0,"rolNum":24,"rowNum":36,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-32-36","type":0,"rolNum":32,"rowNum":36,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-16-24","type":0,"rolNum":16,"rowNum":24,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-24-24","type":0,"rolNum":24,"rowNum":24,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-32-24","type":0,"rolNum":32,"rowNum":24,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-40-24","type":0,"rolNum":40,"rowNum":24,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-48-24","type":0,"rolNum":48,"rowNum":24,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-8-32","type":0,"rolNum":8,"rowNum":32,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-40-32","type":0,"rolNum":40,"rowNum":32,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-48-32","type":0,"rolNum":48,"rowNum":32,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-8-40","type":0,"rolNum":8,"rowNum":40,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-40-40","type":0,"rolNum":40,"rowNum":40,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-48-40","type":0,"rolNum":48,"rowNum":40,"layerNum":16,"moldType":1,"blockNode":null},{"id":"16-28-4","type":0,"rolNum":28,"rowNum":4,"layerNum":16,"moldType":1,"blockNode":null}],"17":[{"id":"17-16-8","type":0,"rolNum":16,"rowNum":8,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-16-32","type":0,"rolNum":16,"rowNum":32,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-24-32","type":0,"rolNum":24,"rowNum":32,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-32-32","type":0,"rolNum":32,"rowNum":32,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-16-40","type":0,"rolNum":16,"rowNum":40,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-24-40","type":0,"rolNum":24,"rowNum":40,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-32-40","type":0,"rolNum":32,"rowNum":40,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-8-20","type":0,"rolNum":8,"rowNum":20,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-16-20","type":0,"rolNum":16,"rowNum":20,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-40-20","type":0,"rolNum":40,"rowNum":20,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-48-20","type":0,"rolNum":48,"rowNum":20,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-52-32","type":0,"rolNum":52,"rowNum":32,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-52-40","type":0,"rolNum":52,"rowNum":40,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-4-32","type":0,"rolNum":4,"rowNum":32,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-4-40","type":0,"rolNum":4,"rowNum":40,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-40-28","type":0,"rolNum":40,"rowNum":28,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-40-36","type":0,"rolNum":40,"rowNum":36,"layerNum":17,"moldType":1,"blockNode":null},{"id":"17-28-0","type":0,"rolNum":28,"rowNum":0,"layerNum":17,"moldType":1,"blockNode":null}],"18":[{"id":"18-12-4","type":0,"rolNum":12,"rowNum":4,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-44-4","type":0,"rolNum":44,"rowNum":4,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-48-16","type":0,"rolNum":48,"rowNum":16,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-48-24","type":0,"rolNum":48,"rowNum":24,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-8-32","type":0,"rolNum":8,"rowNum":32,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-8-40","type":0,"rolNum":8,"rowNum":40,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-48-32","type":0,"rolNum":48,"rowNum":32,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-48-40","type":0,"rolNum":48,"rowNum":40,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-16-28","type":0,"rolNum":16,"rowNum":28,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-24-28","type":0,"rolNum":24,"rowNum":28,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-32-28","type":0,"rolNum":32,"rowNum":28,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-16-36","type":0,"rolNum":16,"rowNum":36,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-24-36","type":0,"rolNum":24,"rowNum":36,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-32-36","type":0,"rolNum":32,"rowNum":36,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-20-44","type":0,"rolNum":20,"rowNum":44,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-28-44","type":0,"rolNum":28,"rowNum":44,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-36-44","type":0,"rolNum":36,"rowNum":44,"layerNum":18,"moldType":1,"blockNode":null},{"id":"18-28-4","type":0,"rolNum":28,"rowNum":4,"layerNum":18,"moldType":1,"blockNode":null}],"19":[{"id":"19-8-0","type":0,"rolNum":8,"rowNum":0,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-48-0","type":0,"rolNum":48,"rowNum":0,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-52-16","type":0,"rolNum":52,"rowNum":16,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-52-24","type":0,"rolNum":52,"rowNum":24,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-4-16","type":0,"rolNum":4,"rowNum":16,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-4-24","type":0,"rolNum":4,"rowNum":24,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-28-8","type":0,"rolNum":28,"rowNum":8,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-24-32","type":0,"rolNum":24,"rowNum":32,"layerNum":19,"moldType":1,"blockNode":null},{"id":"19-32-32","type":0,"rolNum":32,"rowNum":32,"layerNum":19,"moldType":1,"blockNode":null}],"20":[{"id":"20-12-4","type":0,"rolNum":12,"rowNum":4,"layerNum":20,"moldType":1,"blockNode":null},{"id":"20-44-4","type":0,"rolNum":44,"rowNum":4,"layerNum":20,"moldType":1,"blockNode":null},{"id":"20-8-16","type":0,"rolNum":8,"rowNum":16,"layerNum":20,"moldType":1,"blockNode":null},{"id":"20-8-24","type":0,"rolNum":8,"rowNum":24,"layerNum":20,"moldType":1,"blockNode":null},{"id":"20-48-16","type":0,"rolNum":48,"rowNum":16,"layerNum":20,"moldType":1,"blockNode":null},{"id":"20-48-24","type":0,"rolNum":48,"rowNum":24,"layerNum":20,"moldType":1,"blockNode":null},{"id":"20-28-4","type":0,"rolNum":28,"rowNum":4,"layerNum":20,"moldType":1,"blockNode":null}],"21":[{"id":"21-16-8","type":0,"rolNum":16,"rowNum":8,"layerNum":21,"moldType":1,"blockNode":null},{"id":"21-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":21,"moldType":1,"blockNode":null},{"id":"21-28-0","type":0,"rolNum":28,"rowNum":0,"layerNum":21,"moldType":1,"blockNode":null}],"22":[{"id":"22-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":22,"moldType":1,"blockNode":null},{"id":"22-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":22,"moldType":1,"blockNode":null},{"id":"22-28-4","type":0,"rolNum":28,"rowNum":4,"layerNum":22,"moldType":1,"blockNode":null}],"23":[{"id":"23-24-16","type":0,"rolNum":24,"rowNum":16,"layerNum":23,"moldType":1,"blockNode":null},{"id":"23-32-16","type":0,"rolNum":32,"rowNum":16,"layerNum":23,"moldType":1,"blockNode":null},{"id":"23-28-8","type":0,"rolNum":28,"rowNum":8,"layerNum":23,"moldType":1,"blockNode":null}],"24":[{"id":"24-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":24,"moldType":1,"blockNode":null},{"id":"24-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":24,"moldType":1,"blockNode":null},{"id":"24-24-20","type":0,"rolNum":24,"rowNum":20,"layerNum":24,"moldType":1,"blockNode":null},{"id":"24-32-20","type":0,"rolNum":32,"rowNum":20,"layerNum":24,"moldType":1,"blockNode":null},{"id":"24-28-4","type":0,"rolNum":28,"rowNum":4,"layerNum":24,"moldType":1,"blockNode":null}],"25":[{"id":"25-16-8","type":0,"rolNum":16,"rowNum":8,"layerNum":25,"moldType":1,"blockNode":null},{"id":"25-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":25,"moldType":1,"blockNode":null},{"id":"25-28-24","type":0,"rolNum":28,"rowNum":24,"layerNum":25,"moldType":1,"blockNode":null},{"id":"25-20-24","type":0,"rolNum":20,"rowNum":24,"layerNum":25,"moldType":1,"blockNode":null},{"id":"25-36-24","type":0,"rolNum":36,"rowNum":24,"layerNum":25,"moldType":1,"blockNode":null},{"id":"25-28-0","type":0,"rolNum":28,"rowNum":0,"layerNum":25,"moldType":1,"blockNode":null}],"26":[{"id":"26-12-4","type":0,"rolNum":12,"rowNum":4,"layerNum":26,"moldType":1,"blockNode":null},{"id":"26-44-4","type":0,"rolNum":44,"rowNum":4,"layerNum":26,"moldType":1,"blockNode":null}],"27":[{"id":"27-8-0","type":0,"rolNum":8,"rowNum":0,"layerNum":27,"moldType":1,"blockNode":null},{"id":"27-48-0","type":0,"rolNum":48,"rowNum":0,"layerNum":27,"moldType":1,"blockNode":null}],"28":[{"id":"28-12-4","type":0,"rolNum":12,"rowNum":4,"layerNum":28,"moldType":1,"blockNode":null},{"id":"28-44-4","type":0,"rolNum":44,"rowNum":4,"layerNum":28,"moldType":1,"blockNode":null}],"29":[{"id":"29-16-8","type":0,"rolNum":16,"rowNum":8,"layerNum":29,"moldType":1,"blockNode":null},{"id":"29-40-8","type":0,"rolNum":40,"rowNum":8,"layerNum":29,"moldType":1,"blockNode":null}],"30":[{"id":"30-20-12","type":0,"rolNum":20,"rowNum":12,"layerNum":30,"moldType":1,"blockNode":null},{"id":"30-36-12","type":0,"rolNum":36,"rowNum":12,"layerNum":30,"moldType":1,"blockNode":null}],"31":[]}}'
}
}).data.map_data;
t(e = JSON.parse(e));
}, e.getOriginLevelMapData = function(e, t) {
d.default.get({
url: "/sheep/v1/game/map_info",
params: {
map_id: e
},
success: function(e) {
0 == e.err_code ? t(e) : console.log("读取地图失败");
}
});
}, e.getAllLevelMapData = function(e) {
d.default.get({
url: "/admin/game_map/page",
params: {},
success: function(t) {
if (0 == t.err_code) {
cc.game.emit("showTips", "读取成功"), console.log("地图数据:", t);
for (var o = t.data, n = 0; n < o.length; n++) o[n].map_id <= 100 && console.log("mapId:", o[n].map_id);
e(o);
} else cc.game.emit("showTips", "读取地图失败"), console.log("读取地图失败");
}
});
}, e.copy = function(e) {
e = JSON.stringify(e);
return JSON.parse(e);
}, e.loadJsonData = function(e, t) {
cc.assetManager.loadBundle(cc.resources.name, function(o, n) {
o || n.load(e, cc.JsonAsset, function(e, o) {
e || (o = o.json, t(o));
});
});
}, e.isPlatform = function(e) {
switch (e) {
case i.android:
return !(!cc.sys.isNative || cc.sys.os != cc.sys.OS_ANDROID);

case i.ios:
return !(!cc.sys.isNative || cc.sys.os != cc.sys.OS_IOS);

case i.wx:
return cc.sys.platform == cc.sys.WECHAT_GAME;

case i.tt:
return cc.sys.platform == cc.sys.BYTEDANCE_GAME;

case i.oppo:
return cc.sys.platform == cc.sys.OPPO_GAME;

case i.vivo:
return cc.sys.platform == cc.sys.VIVO_GAME;

case i.web:
return cc.sys.isBrowser;
}
return !1;
}, e.localKeyName = "gameUserLocalData", e.VERSION = "1_0_1", e.GAMEVERSION = "", 
e.WXVedioID = "adunit-e64f338bb42a2cf3", e.TTVedioID = "2h8vke2e0oo3771fk4", e.AndroidVedioID = "", 
e.OppoVedioID = "", e.VivoVedioID = "", e.langCode = l.LangEnum.zhCN, e.gameConfigData = {
baseConfigData: null,
levelConfigData: null
}, e.gameUserLocalData = {
userData: {
userID: "",
openid: "",
playLevelId: 1,
coin: 0,
love: 5,
fish: 0,
loveGetTime: 0,
registerTime: "",
token: "",
prop_remove: 2,
prop_cancel: 2,
prop_random: 2,
unlockHouseUserData: [],
catClothesData: {},
dailyData: {}
},
setUpData: {
effectStatus: 1,
musicStatus: 1,
shockStatus: 1
},
pictureData: {
bgNum: 1,
brickNum: 15
}
}, e.registerData = {
userData: {
userID: "",
openid: "",
playLevelId: 1,
coin: 0,
love: 5,
fish: 0,
loveGetTime: 0,
registerTime: "",
token: "",
prop_remove: 2,
prop_cancel: 2,
prop_random: 2,
unlockHouseUserData: [],
catClothesData: {
cat_1: []
},
dailyData: {}
},
setUpData: {
effectStatus: 1,
musicStatus: 1,
shockStatus: 1
},
pictureData: {
bgNum: 1,
brickNum: 15
}
}, e;
}();
r.default = f;
cc._RF.pop();
}, {} ],
"decode-uri-component": [ function(e, t) {
"use strict";
cc._RF.push(t, "23d56c1X+5PDJxYfCIWm1ie", "decode-uri-component");
cc._RF.pop();
}, {} ],
editorGameLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "78513skn4pKeoASzaMTH+ai", "editorGameLayer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("chessboard"), l = r("crushArea"), u = r("moveOutArea"), p = cc._decorator, d = p.ccclass, f = p.property, h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mainLayer = null, t.chessboard = null, t.crushArea = null, t.moveOutArea = null, 
t.uiLayer = null, t.levelDataArray = null, t.gameIsWin = !1, t.popCallbackCollect = null, 
t.userData = null, t;
}
return a(t, e), t.prototype.start = function() {
console.log("FM_ editorGameLayer.start");
}, t.prototype.initLevelLayer = function(e) {
console.log("FM_ editorGameLayer.initLevelLayer");
e = (this.levelDataArray = e)[0];
this.gameIsWin = !1, this.chessboard.getComponent(c.default).init(e, this), this.crushArea.getComponent(l.default).initCrushArea(this), 
this.moveOutArea.getComponent(u.default).initMoveOutArea(this), this.node.active = !0, 
this.popCallbackCollect = {
continueCallBack: this.playNextLevel.bind(this),
returnMainCallBack: this.showMainLayer.bind(this),
rebornGameCallBack: this.rebornGameFunc.bind(this),
giveUpCallBack: this.giveUpFunc.bind(this),
restartCallBack: this.restartNowLevel.bind(this)
};
}, t.prototype.hideLayer = function() {
this.node.active = !1;
}, t.prototype.playNextLevel = function() {}, t.prototype.restartNowLevel = function() {}, 
t.prototype.showSetUpLayer = function() {}, t.prototype.showMainLayer = function() {}, 
t.prototype.gameWinFunc = function() {}, t.prototype.gameOverFunc = function() {
console.log("游戏失败", this.levelDataArray);
var e = {
popName: "failPop",
showPopData: {
popCallbackCollect: this.popCallbackCollect
}
};
cc.game.emit("showPop", e);
}, t.prototype.giveUpFunc = function() {
cc.game.emit("closeAllPop");
}, t.prototype.rebornGameFunc = function() {
console.log("这里有个看视频"), cc.game.emit("closeAllPop"), this.crushArea.getComponent(l.default).rebornGameFunc();
}, t.prototype.crushBlockNode = function(e) {
this.crushArea.getComponent("crushArea").addCrushAreaCardNode(e);
var t = this.chessboard.getComponent(c.default).checkGameWin();
e = this.moveOutArea.getComponent(u.default).checkGameWin();
t && e && (console.log("游戏胜利！"), this.gameIsWin = !0);
}, t.prototype.crushAnimateCallback = function() {
this.gameIsWin && this.gameWinFunc();
}, s([ f(cc.Node) ], t.prototype, "mainLayer", void 0), s([ f(cc.Node) ], t.prototype, "chessboard", void 0), 
s([ f(cc.Node) ], t.prototype, "crushArea", void 0), s([ f(cc.Node) ], t.prototype, "moveOutArea", void 0), 
s([ f(cc.Node) ], t.prototype, "uiLayer", void 0), s([ d ], t);
}(cc.Component);
i.default = h;
cc._RF.pop();
}, {} ],
editorGameUiLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "74ee14/EMlALpPmiwWxivjL", "editorGameUiLayer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("chessboard"), u = r("crushArea"), p = r("editorGameLayer"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.removeBtn = null, t.cancelBtn = null, t.randomBtn = null, t.setUpBtn = null, 
t.moveOutArea = null, t.chessboardNode = null, t.crushArea = null, t.paddingHeight = 70, 
t.userData = null, t.isMoving = !1, t;
}
return a(t, e), t.prototype.start = function() {
c.default.addbtnTouchStartScale(this.removeBtn), c.default.addbtnTouchEndScale(this.removeBtn, this.removeEndFunc.bind(this)), 
c.default.addbtnTouchCancelScale(this.removeBtn), c.default.addbtnTouchStartScale(this.cancelBtn), 
c.default.addbtnTouchEndScale(this.cancelBtn, this.cancelEndFunc.bind(this)), c.default.addbtnTouchCancelScale(this.cancelBtn), 
c.default.addbtnTouchStartScale(this.randomBtn), c.default.addbtnTouchEndScale(this.randomBtn, this.randomEndFunc.bind(this)), 
c.default.addbtnTouchCancelScale(this.randomBtn), c.default.addbtnTouchStartScale(this.setUpBtn), 
c.default.addbtnTouchEndScale(this.setUpBtn, this.setUpEndFunc.bind(this)), c.default.addbtnTouchCancelScale(this.setUpBtn);
}, t.prototype.initGameUi = function() {
this.isMoving = !1;
var e = this.removeBtn.height + this.paddingHeight, t = -(cc.winSize.height / 2 + this.removeBtn.height / 2);
this.removeBtn.y = t, this.cancelBtn.y = t, this.randomBtn.y = t, cc.tween(this.removeBtn).by(.4, {
y: e
}).start(), cc.tween(this.cancelBtn).by(.4, {
y: e
}).start(), cc.tween(this.randomBtn).by(.4, {
y: e
}).start();
}, t.prototype.removeGameUiBtn = function() {
var e = this;
this.isMoving = !0, this.removeBtn.height, this.paddingHeight;
var t = -(cc.winSize.height / 2 + this.removeBtn.height / 2);
cc.tween(this.removeBtn).to(.4, {
y: t
}).start(), cc.tween(this.cancelBtn).to(.4, {
y: t
}).start(), cc.tween(this.randomBtn).to(.4, {
y: t
}).call(function() {
e.isMoving = !1;
}, this).start();
}, t.prototype.setUpEndFunc = function() {
this.node.parent.getComponent(p.default).hideLayer();
}, t.prototype.removeEndFunc = function() {
this.crushArea.getComponent(u.default).moveOutBlock();
}, t.prototype.cancelEndFunc = function() {
this.crushArea.getComponent(u.default).cancelOneStep();
}, t.prototype.randomEndFunc = function() {
this.chessboardNode.getComponent(l.default).updateBlockArea();
}, s([ h(cc.Node) ], t.prototype, "removeBtn", void 0), s([ h(cc.Node) ], t.prototype, "cancelBtn", void 0), 
s([ h(cc.Node) ], t.prototype, "randomBtn", void 0), s([ h(cc.Node) ], t.prototype, "setUpBtn", void 0), 
s([ h(cc.Node) ], t.prototype, "moveOutArea", void 0), s([ h(cc.Node) ], t.prototype, "chessboardNode", void 0), 
s([ h(cc.Node) ], t.prototype, "crushArea", void 0), s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
editorPopCommon: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ff5d494wMpLzo5RKnYVG0uZ", "editorPopCommon");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = cc._decorator, c = s.ccclass, l = (s.property, function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return i(t, e), t.prototype.start = function() {
this.node.on(cc.Node.EventType.TOUCH_START, this.starFunc, this), this.node.on(cc.Node.EventType.TOUCH_END, this.endFunc, this), 
this.node.on(cc.Node.EventType.TOUCH_MOVE, this.moveFunc, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.cancelFunc, this), 
this.node.on(cc.Node.EventType.MOUSE_DOWN, this.mouseDown, this), this.node.on(cc.Node.EventType.MOUSE_ENTER, this.mouseEnter, this), 
this.node.on(cc.Node.EventType.MOUSE_MOVE, this.mouseMove, this), this.node.on(cc.Node.EventType.MOUSE_LEAVE, this.mouseLeave, this);
}, t.prototype.starFunc = function(e) {
e.stopPropagation();
}, t.prototype.endFunc = function(e) {
e.stopPropagation();
}, t.prototype.moveFunc = function(e) {
e.stopPropagation();
}, t.prototype.cancelFunc = function(e) {
e.stopPropagation();
}, t.prototype.mouseDown = function(e) {
e.stopPropagation();
}, t.prototype.mouseEnter = function(e) {
e.stopPropagation();
}, t.prototype.mouseMove = function(e) {
e.stopPropagation();
}, t.prototype.mouseLeave = function(e) {
e.stopPropagation();
}, a([ c ], t);
}(cc.Component));
r.default = l;
cc._RF.pop();
}, {} ],
editorTips: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fd10fv9y+ZEtaYplTuo+/L4", "editorTips");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.tipsLabel = null, t;
}
return i(t, e), t.prototype.start = function() {
cc.game.on("showTips", this.showTips, this);
}, t.prototype.showTips = function(e) {
this.tipsLabel.node.active = !0, this.tipsLabel.string = e + "", cc.tween(this.tipsLabel.node).delay(1.5).call(function() {
this.tipsLabel.node.active = !1;
}, this).start();
}, a([ l(cc.Label) ], t.prototype, "tipsLabel", void 0), a([ c ], t);
}(cc.Component);
r.default = u;
cc._RF.pop();
}, {} ],
enumConfig: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4c6b3ttKLVHnrBFJtUOvdja", "enumConfig");
var n, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
}), r.RefreshType = r.ShownType = r.MODULETYPE = r.LangEnum = r.STORAGEKEY = r.EMITKEY = r.GAMEBLOCK = r.GAMEOVER = r.WEEK = r.CALENDAR = r.DAYTYPE = r.CALENDARNAMES = r.CALENDARITEM = r.ROOMTYPE = r.MAINPAGE = r.GAMETYPE = r.GAMEENV = void 0, 
(n = r.GAMEENV || (r.GAMEENV = {}))[n.ENVDEVELOP = 1] = "ENVDEVELOP", n[n.ENVTRAIL = 2] = "ENVTRAIL", 
n[n.ENVRELEASE = 3] = "ENVRELEASE", function(e) {
e[e.GAMEMAIN = 0] = "GAMEMAIN", e[e.GAMETOMB = 1] = "GAMETOMB", e[e.GAMELEVEL = 2] = "GAMELEVEL", 
e[e.GAMEDAILY = 3] = "GAMEDAILY", e[e.GAMETOPIC = 4] = "GAMETOPIC";
}(r.GAMETYPE || (r.GAMETYPE = {})), function(e) {
e[e.PAGERANK = 0] = "PAGERANK", e[e.PAGEHOUSE = 1] = "PAGEHOUSE", e[e.PAGEMAIN = 2] = "PAGEMAIN", 
e[e.PAGEDAILY = 3] = "PAGEDAILY", e[e.PAGECOLLECT = 4] = "PAGECOLLECT";
}(r.MAINPAGE || (r.MAINPAGE = {})), function(e) {
e[e.ROOMONE = 1] = "ROOMONE", e[e.ROOMTWO = 2] = "ROOMTWO", e[e.ROOMTHREE = 3] = "ROOMTHREE";
}(r.ROOMTYPE || (r.ROOMTYPE = {})), function(e) {
e[e.ITEMLAST = 1] = "ITEMLAST", e[e.ITEMOLD = 2] = "ITEMOLD", e[e.ITEMNOW = 3] = "ITEMNOW", 
e[e.ITEMFUTURE = 4] = "ITEMFUTURE", e[e.ITEMNEXT = 5] = "ITEMNEXT", e[e.ITEMNOR = 6] = "ITEMNOR", 
e[e.ITEMSELE = 7] = "ITEMSELE", e[e.ITEMSUC = 8] = "ITEMSUC";
}(r.CALENDARITEM || (r.CALENDARITEM = {})), r.CALENDARNAMES = [ "yyyy年", "yyyy年mm月", "yyyy年mm月dd日", "m-d", "yyyy-m-d", "yyyymm", "yyyymmdd", "yyyy-mm-dd", "yyyy-mm-dd hh:mm:ss", "hh:mm:ss" ], 
function(e) {
e[e.TODAY = 0] = "TODAY", e[e.YESTERDAY = 1] = "YESTERDAY", e[e.TOMORROW = 2] = "TOMORROW", 
e[e.NONE = 3] = "NONE";
}(r.DAYTYPE || (r.DAYTYPE = {})), function(e) {
e[e.YEAR = 0] = "YEAR", e[e.MONTH = 1] = "MONTH", e[e.DAY = 2] = "DAY", e[e.WEEK = 3] = "WEEK";
}(r.CALENDAR || (r.CALENDAR = {})), function(e) {
e[e.SUN = 0] = "SUN", e[e.MON = 1] = "MON", e[e.TUE = 2] = "TUE", e[e.WED = 3] = "WED", 
e[e.THU = 4] = "THU", e[e.FEI = 5] = "FEI", e[e.SAT = 6] = "SAT";
}(r.WEEK || (r.WEEK = {})), function(e) {
e[e.NONE = 0] = "NONE", e[e.LEVELWIN = 1] = "LEVELWIN", e[e.LEVELFAIL = 2] = "LEVELFAIL", 
e[e.DAILYWIN = 3] = "DAILYWIN", e[e.DAILYFAIL = 4] = "DAILYFAIL";
}(r.GAMEOVER || (r.GAMEOVER = {})), function(e) {
e[e.NONE = 0] = "NONE", e[e.BLOCKCOOKIE = 1] = "BLOCKCOOKIE", e[e.BLOCKGOLD = 2] = "BLOCKGOLD";
}(r.GAMEBLOCK || (r.GAMEBLOCK = {})), function(e) {
e.MAINUPDATEUI = "MAINUPDATEUI", e.UPDATETABBARRECEIVE = "UPDATETABBARRECEIVE", 
e.UPDATETABBARSEND = "UPDATETABBARSEND", e.SHOWMASKLAYER = "SHOWMASKLAYER", e.HIDEMASKLAYER = "HIDEMASKLAYER", 
e.UPDATEPICTURE = "UPDATEPICTURE", e.SHOWMAINTIPS = "showMainTips", e.SHOWTRANSITLAYER = "showTransitLayer", 
e.RESTARTNOWLEVEL = "restartNowLevel", e.SHOWMAINLAYER = "showMainLayer", e.SHOWPOP = "showPop", 
e.CLOSEALLPOP = "closeAllPop", e.UPDATEPOPDATA = "UPDATEPOPDATA", e.TTSTARTRECORD = "TTSTARTRECORD", 
e.TTSTOPRECORD = "TTSTOPRECORD", e.TTSHARERECORD = "TTSHARERECORD", e.UPDATERANKDATA = "UPDATERANKDATA", 
e.SHOWUSERNODE = "SHOWUSERNODE", e.USERINFOSUCCESS = "USERINFOSUCCESS", e.RANKUSERINFOSUCCESS = "RANKUSERINFOSUCCESS", 
e.BULLETSEND = "BULLETSEND", e.BULLETSTATE = "BULLETSTATE", e.GAMEOVERRESTART = "GAMEOVERRESTART", 
e.GAMEOVERSUCCESS = "GAMEOVERSUCCESS", e.BEGINGAME = "BEGINGAME", e.SHOWMODULE = "SHOWMODULE", 
e.TOPICACCOUNT = "TOPICACCOUNT", e.TOPICRANKINFO = "TOPICRANKINFO", e.TOPICPOSITION = "TOPICPOSITION", 
e.CHANGESHEEPCLOTHES = "CHANGESHEEPCLOTHES";
}(r.EMITKEY || (r.EMITKEY = {})), function(e) {
e.GAMEUSERLOCALDATA = "gameUserLocalData", e.SPRINTREWARDKEY = "SPRINTREWARDKEY", 
e.COOKIECOLLECTIONKEY = "COOKIECOLLECTIONKEY", e.BULLETSWITCH = "BULLETSWITCH", 
e.TAUSERINFO = "TAUSERINFO", e.RANKDATA = "RANKDATA", e.BULLETDATA = "BULLETDATA", 
e.STAGEDATA = "STAGEDATA", e.GAMEDAILYLEVELDATA = "GAMEDAILYLEVELDATA", e.GAMETOPICLEVELDATA = "GAMETOPICLEVELDATA", 
e.SHEEPCLOTHESDATA = "SHEEPCLOTHESDATA", e.TOPICMATCHRECORD = "TOPICMATCHRECORD", 
e.PROPGAMEDATA = "PROPGAMEDATA", e.GAMELOADING = "GAMELOADING";
}(r.STORAGEKEY || (r.STORAGEKEY = {})), function(e) {
e.zhCN = "zh", e.enUS = "en";
}(r.LangEnum || (r.LangEnum = {})), function(e) {
e[e.COMMON = 0] = "COMMON", e[e.TOPIC = 1] = "TOPIC";
}(r.MODULETYPE || (r.MODULETYPE = {})), function(e) {
e.friendRank = "friendRank", e.todayRank = "todayRank";
}(r.ShownType || (r.ShownType = {})), (r.RefreshType || (r.RefreshType = {})).add = "add";
cc._RF.pop();
}, {} ],
"export-helper": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c00e4AjhHVJqoY4uheCWzQM", "export-helper");
var n = o;
Object.defineProperty(n, "__esModule", {
value: !0
}), n.math = void 0;
var r = cc.EPSILON, i = function() {
function e() {}
return e.approx = function(e, t, o) {
return o = o || r, Math.abs(e - t) <= o;
}, e.lerp = function(e, t, o) {
return e + (t - e) * o;
}, e.equals = function(e, t) {
return Math.abs(e - t) <= r * Math.max(1, Math.abs(e), Math.abs(t));
}, e;
}();
n.math = i;
cc._RF.pop();
}, {} ],
failPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "015c33YCudGR46pDyw1Hejz", "failPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("gd_language"), l = r("i18n"), u = r("CcJsFunc"), p = r("dataTs"), d = r("enumConfig"), f = r("share"), h = r("tt-sdk"), y = r("sdk"), m = r("spine"), g = r("GameManager"), b = r("report-common"), v = r("data-manager"), _ = r("uma-sdk"), w = r("api-sheep"), N = cc._decorator, P = N.ccclass, A = N.property, S = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.fainNode = null, t.descLabel = null, t.failNumLabel = null, t.restartNode = null, 
t.backNode = null, t.tombNode = null, t.tombBubble = null, t.tombDesc = null, t.tombParticle = null, 
t.rankNode = null, t.rankPreLabel = null, t.rankNumLabel = null, t.rankLastLabel = null, 
t.shareNode = null, t.shareBtn = null, t.noShareBtn = null, t.shareCloseBtn = null, 
t.bottomShareBtn = null, t.rebornGameCallBack = null, t.giveUpCallBack = null, t.failNodeNum = 400, 
t.popCallbackCollect = null, t.userData = null, t.showPopData = null, t.rankUserData = null, 
t.type = 0, t;
}
return a(t, e), t.prototype.start = function() {
cc.game.on(d.EMITKEY.GAMEOVERSUCCESS, this.requestUserData.bind(this)), this.popCallbackCollect = {
buyCallBack: this.buyCallBackFunc.bind(this),
freeCallBack: this.freeCallBackFunc.bind(this),
exitCallBack: this.exitCallBackFunc.bind(this)
}, u.default.addTargetTouchUpInside(this.restartNode, this.restartNodeFunc.bind(this)), 
u.default.addTargetTouchUpInside(this.backNode, this.backNodeFunc.bind(this)), u.default.addbtnTouchStartScale(this.shareBtn), 
u.default.addbtnTouchEndScale(this.shareBtn, this.shareBtnFunc.bind(this)), u.default.addbtnTouchCancelScale(this.shareBtn), 
u.default.addbtnTouchStartScale(this.noShareBtn), u.default.addbtnTouchEndScale(this.noShareBtn, this.noShareBtnFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.noShareBtn), u.default.addbtnTouchStartScale(this.shareCloseBtn), 
u.default.addbtnTouchEndScale(this.shareCloseBtn, this.shareCloseBtnFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.shareCloseBtn), u.default.addTargetTouchUpInside(this.bottomShareBtn, this.bottomShareBtnFunc.bind(this));
}, t.prototype.restartNodeFunc = function() {
cc.game.emit(d.EMITKEY.RESTARTNOWLEVEL);
}, t.prototype.backNodeFunc = function() {
y.default.showNativeAd(!0);
cc.game.emit(d.EMITKEY.SHOWMAINLAYER);
}, t.prototype.bottomShareBtnFunc = function() {
this.shareNode.active = !1, this.shareNode.stopAllActions(), cc.tween(this.shareNode).set({
scale: 0,
opacity: 0
}).delay(1).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start();
}, t.prototype.shareBtnFunc = function() {
var e = this;
p.default.isPlatform(p.GDPlatform.tt) ? h.default.shareTemplate(function(t) {
t && (e.shareNode.active = !1, e.showButton());
}) : p.default.isPlatform(p.GDPlatform.wx) ? f.default.shareMethod({
success: function() {},
fail: function() {},
complete: function() {}
}) : this.node.active = !1;
}, t.prototype.noShareBtnFunc = function() {
this.shareNode.active = !1, this.showButton();
}, t.prototype.shareCloseBtnFunc = function() {
this.shareNode.active = !1, this.showButton();
}, t.prototype.showFailPop = function(e) {
this.node.active = !0, (this.showPopData = e).popCallbackCollect && (this.rebornGameCallBack = e.popCallbackCollect.rebornGameCallBack, 
this.giveUpCallBack = e.popCallbackCollect.giveUpCallBack), this.restartNode.active = !1, 
this.backNode.active = !1, this.tombNode.active = !1, this.rankNode.active = !1, 
this.tombParticle.active = !1, this.shareNode.active = !1, this.bottomShareBtn.active = !1;
1 == (e = e.failType) && y.default.showNativeAd(!0);
2 == e && y.default.showNativeAd(!1, !1);
this.failNumLabel.string = "", console.log("failType = " + e), 1 == e ? console.log("复活 ###### ") : 2 == e && console.log("重新挑战 ###### "), 
this.playShowAnimate();
}, t.prototype.requestUserData = function() {
var e, t = this;
this.failNumLabel.string = "", g.default.getInstance().gameType == d.GAMETYPE.GAMEDAILY ? w.default.getUserRankInfo(function(e) {
0 == e.err_code && e.data && e.data.user && (t.rankUserData = e.data.user, e = e.data.user.fail, 
t.failNumLabel.string = "今日已挑战 " + (e = e && 0 != e ? e : 1) + " 次");
}) : g.default.getInstance().gameType == d.GAMETYPE.GAMETOPIC && (e = p.default.getUserData().userID, 
w.default.getTopicUserInfo(e, function(e) {
0 == e.err_code && e.data && e.data.user && (t.rankUserData = e.data.user, e = e.data.user.fail, 
t.failNumLabel.string = "今日已挑战 " + (e = e && 0 != e ? e : 1) + " 次");
}));
}, t.prototype.getTeamName = function() {
var e = v.default.topicModel.name.split("#");
return 2 <= e.length ? 1 == v.default.topicModel.info.type ? e[0] : e[1] : "";
}, t.prototype.exitCallBackFunc = function() {}, t.prototype.buyCallBackFunc = function(e, t) {
console.log("type = " + e), this.userData = p.default.getUserData(), this.userData.coin >= t ? (this.userData.coin -= t, 
g.default.getInstance().reportProperty.resurrection_coin_cost += t, g.default.getInstance().levelWinDict.coin += t, 
p.default.saveUserData(this.userData), g.default.getInstance().coinNum += 30, this.showTipPop(e), 
4 == e && g.default.getInstance().gameType == d.GAMETYPE.GAMELEVEL && (console.log("常规关卡复活购买"), 
_.default.trackEvent("game_life_buy", {
coinNum: t += "",
c_coinNum: Number(t)
}))) : cc.game.emit("showMainTips", l.default.instance.trans(c.GDLanguage.coin_inadequate));
}, t.prototype.freeCallBackFunc = function(e) {
var t = this;
this.type = e;
e = p.default.GetVedioID();
y.default.watchAdVideo({
id: e,
success: function() {
t.watchSuc(1);
},
fail: function() {
console.log("失败");
},
nofit: function() {
t.shareTTAction();
}
});
}, t.prototype.watchSuc = function(e) {
var t;
this.showTipPop(), cc.game.emit(d.EMITKEY.CLOSEALLPOP), g.default.getInstance().reportProperty.resurrection_ad_frequency++, 
4 == this.type && (g.default.getInstance().sheepMark.resurgenceCount++, console.log("复活看视频"), 
t = v.default.getTAUserInfo(), 1 == e ? b.default.reportTACommon("game_life_ad", t) : 2 == e && b.default.reportTACommon("game_life_share", t));
}, t.prototype.shareTTAction = function() {
var e, t, o = this;
y.default.isPlatform(y.Platform.wx) ? (t = p.default.GetVedioID(), e = p.default.getUserData().openid, 
y.default.share(e, t, function() {
o.shareCbMethod();
}, function() {
cc.game.emit(d.EMITKEY.SHOWMAINTIPS, "分享失败，请分享微信群与好友PK");
})) : y.default.isPlatform(y.Platform.tt) && (t = {
popName: "shareNodePop",
showPopData: {
type: 2,
shareCb: this.shareCbMethod.bind(this)
}
}, cc.game.emit("showPop", t));
}, t.prototype.shareCbMethod = function() {
console.log("分享成功 ######"), this.watchSuc(2);
}, t.prototype.showTipPop = function() {
this.rebornGameCallBack && this.rebornGameCallBack(), cc.game.emit("showMainTips", l.default.instance.trans(c.GDLanguage.game_continue));
}, t.prototype.playShowAnimate = function() {
var e = this;
this.fainNode.y = 0, cc.tween(this.fainNode).to(.8, {
y: this.failNodeNum
}, {
easing: cc.easing.cubicOut
}).call(function() {}, this).delay(.1).call(function() {
e.showPopData && 2 == e.showPopData.failType || 1 <= g.default.getInstance().sheepMark.resurgenceCount ? e.showRestartNode() : e.showPropPop(4);
}).start();
}, t.prototype.showRestartNode = function() {
console.log("重新挑战");
var e = v.default.getTAUserInfo();
b.default.reportTACommon("game_over", e), cc.game.emit(d.EMITKEY.GAMEOVERRESTART), 
this.tombNode.active = !0, this.rankUserData ? this.showFailTomb(this.rankUserData.fail) : this.showFailTomb(1);
}, t.prototype.setupDescMethods = function(e) {
var t = [ "曼了个波的，我啊米诺斯！", "曼了个波的，我啊米诺斯！", "曼了个波的，我啊米诺斯！", "曼了个波的，我啊米诺斯！", "曼了个波的，我啊米诺斯！", "曼了个波的，我啊米诺斯！", "不够！还不够！我还能再肝100回合", "我都死这么多次啦，时间过的真快！", "革命尚未成功，同志仍需努力！", "差一点就过了，你说气人不！", "你确定这么气人的游戏，不去气气朋友？", "又失败了，太难了", "又又又失败了，再试最后一次", "又又又又又失败了，要不放弃吧", "又又又又又又失败了，过不去就不睡觉了", "**策划确定这是可以过的么？", "*************策划，******母！", "放弃吧，何苦为难自己呢", "中国人不欺负中国人，策划你*****", "活着不好么，非得要气死自己么？", "生当作羊杰，死亦为碑雄！", "满眼冒金星，我碑亮晶晶！", "当不了羊，我也要做我朋友圈最亮的碑！耶！", "还差一点？我信你个鬼，你个糟老头子***！", "啊！啊！啊！啊！啊！wwwwww！", "没事，他们也过不了！", "你给我等着，我让我七大姑八大姨都来，我就不信了！" ], o = [ "既然选择了，就需要无条件的过关", "羊羊云梯，我来了！", "我也要羊～羊～羊～", "为了阵营而战，败而不馁(nei)！", "即使羊群没有我，基地也需要我去建设！", "一次就好，让我当羊去代表代表吧！", "两军对垒就是干，不能怂，come～on～北鼻！", "不能涨了对面气势，灭了自己威风！", "对面是个屁！再来一次，我不能当屁！", "当羊我不行，嘲讽对方我行！", "重在参与，输赢不重要，么？不能输！", "不争馒头蒸口气，兄弟们等着我！", "说服自己再来一次，说服对面放弃！", "我感觉我已经尽力了，兄弟们加油！", "这也太难了，羊队进入太空，就差我了！", "羊羊这么可爱，策划是个*****x！", "关卡好难！策划好坏！但是我好喜欢啊！哈哈～", "不难不能凸显我的智慧，再来一次！", "不难不能凸显我的智慧，再来一次！", "不难不能凸显我的智慧，再来一次！" ];
if (1 <= e && e <= 8) {
var n = 1;
return 1 == e ? n = u.default.randomNum(0, 5) : 2 == e ? n = u.default.randomNum(2, 8) : 3 == e ? n = u.default.randomNum(3, 10) : 4 == e ? n = u.default.randomNum(4, 12) : 5 == e ? n = u.default.randomNum(8, 14) : 6 == e ? n = u.default.randomNum(10, 16) : 7 == e ? n = u.default.randomNum(14, 18) : 8 == e ? n = u.default.randomNum(15, 20) : 9 == e ? n = u.default.randomNum(15, 21) : 10 == e ? n = u.default.randomNum(15, 22) : 11 == e && (n = u.default.randomNum(15, 27)), 
g.default.getInstance().gameType == d.GAMETYPE.GAMEDAILY ? t[n = t.length <= n ? t.length - 1 : n] : g.default.getInstance().gameType == d.GAMETYPE.GAMETOPIC ? o[n = o.length <= n ? o.length - 1 : n] : "";
}
}, t.prototype.showFailTomb = function(e) {
FailVoice(cc);
this.tombBubble.scale = 0, cc.tween(this.tombBubble).to(.3, {
scale: 1
}, {
easing: cc.easing.backOut
}).start();
var t = v.default.getDeadNum(e), o = "Dead" + t;
this.tombNode.getComponent(m.default).play(o, 0), this.tombDesc.string = this.setupDescMethods(t), 
this.rankNode.active = !0, cc.tween(this.rankNode).to(.2, {
scale: 1.1
}).to(.1, {
scale: .9
}).to(.1, {
scale: 1
}).start(), this.rankPreLabel.string = "", this.rankLastLabel.string = "", this.rankNumLabel.string = "", 
g.default.getInstance().gameType == d.GAMETYPE.GAMEDAILY ? (this.rankPreLabel.string = "您所在地区排名是第 ", 
this.rankLastLabel.string = " 名", t = g.default.getInstance().rankInfo ? g.default.getInstance().rankInfo.user.index : Math.floor(100 * Math.random()) + 0, 
this.rankNumLabel.string = t + "") : g.default.getInstance().gameType == d.GAMETYPE.GAMETOPIC && (this.rankPreLabel.string = this.getTeamName() + "羊队已有 ", 
this.rankLastLabel.string = " 羊", v.default.topicRankInfo && v.default.topicModel && (1 == v.default.topicModel.info.type ? this.rankNumLabel.string = v.default.topicRankInfo.tomb ? v.default.topicRankInfo.tomb.length + "10" : "10" : this.rankNumLabel.string = v.default.topicRankInfo.taoist ? v.default.topicRankInfo.taoist.length + "100" : "100")), 
v.default.isUpgradeNum(e + 1) ? (this.tombParticle.active = !0, this.tombParticle.getComponent(cc.ParticleSystem).resetSystem(), 
this.shareNode.active = !1, cc.tween(this.shareNode).set({
scale: 0,
opacity: 0
}).delay(1).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start()) : this.showButton();
}, t.prototype.showButton = function() {
var e = this;
this.restartNode.activeInHierarchy && this.backNode.activeInHierarchy && this.bottomShareBtn.activeInHierarchy ? console.log("已展示show button") : (this.restartNode.scale = 0, 
this.backNode.scale = 0, this.bottomShareBtn.scale = 0, this.restartNode.active = !0, 
this.backNode.active = !0, this.bottomShareBtn.active = !1, setTimeout(function() {
cc.tween(e.restartNode).to(.2, {
scale: 1.1
}).to(.1, {
scale: .9
}).to(.1, {
scale: 1
}).start(), cc.tween(e.backNode).to(.2, {
scale: 1.1
}).to(.1, {
scale: .9
}).to(.1, {
scale: 1
}).start(), cc.tween(e.bottomShareBtn).to(.2, {
scale: 1.1
}).to(.1, {
scale: .9
}).to(.1, {
scale: 1
}).start();
}, 1e3));
}, t.prototype.hideFailPop = function() {
this.node.active = !1;
}, t.prototype.continueFunc = function() {
this.showPropPop(4);
}, t.prototype.giveUpFunc = function() {
this.giveUpCallBack && this.giveUpCallBack();
}, t.prototype.showPropPop = function(e) {
e = {
popName: "getPropPop",
showPopData: {
popCallbackCollect: this.popCallbackCollect,
popType: e,
coinNum: g.default.getInstance().coinNum
}
};
cc.game.emit("showPop", e);
}, s([ A(cc.Node) ], t.prototype, "fainNode", void 0), s([ A(cc.Label) ], t.prototype, "descLabel", void 0), 
s([ A(cc.Label) ], t.prototype, "failNumLabel", void 0), s([ A({
type: cc.Node,
tooltip: "重新挑战"
}) ], t.prototype, "restartNode", void 0), s([ A({
type: cc.Node,
tooltip: "返回羊群"
}) ], t.prototype, "backNode", void 0), s([ A({
type: cc.Node,
tooltip: "墓碑spine"
}) ], t.prototype, "tombNode", void 0), s([ A({
type: cc.Node,
tooltip: "墓碑气泡"
}) ], t.prototype, "tombBubble", void 0), s([ A({
type: cc.Label,
tooltip: "墓碑描述"
}) ], t.prototype, "tombDesc", void 0), s([ A({
type: cc.Node,
tooltip: "墓碑粒子"
}) ], t.prototype, "tombParticle", void 0), s([ A({
type: cc.Node,
tooltip: "排名base"
}) ], t.prototype, "rankNode", void 0), s([ A({
type: cc.Label,
tooltip: "排名"
}) ], t.prototype, "rankPreLabel", void 0), s([ A({
type: cc.Label,
tooltip: "排名"
}) ], t.prototype, "rankNumLabel", void 0), s([ A({
type: cc.Label,
tooltip: "排名"
}) ], t.prototype, "rankLastLabel", void 0), s([ A(cc.Node) ], t.prototype, "shareNode", void 0), 
s([ A(cc.Node) ], t.prototype, "shareBtn", void 0), s([ A(cc.Node) ], t.prototype, "noShareBtn", void 0), 
s([ A(cc.Node) ], t.prototype, "shareCloseBtn", void 0), s([ A({
type: cc.Node,
tooltip: "底部分享按钮"
}) ], t.prototype, "bottomShareBtn", void 0), s([ P ], t);
}(cc.Component);
i.default = S;
cc._RF.pop();
}, {} ],
"filter-obj": [ function(e, t) {
"use strict";
cc._RF.push(t, "00c137nQcdFvZ1U8uII8RTS", "filter-obj");
cc._RF.pop();
}, {} ],
"flying-item-pop-coin": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f8882Kqr8ZNno3Bla7FeEvc", "flying-item-pop-coin");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
}, c = function(e, t, o, n) {
return new (o = o || Promise)(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
var t;
e.done ? r(e.value) : ((t = e.value) instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
}
c((n = n.apply(e, t || [])).next());
});
}, l = function(e, t) {
var o, n, r, i = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
}, a = {
next: s(0),
throw: s(1),
return: s(2)
};
return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(a) {
return function(s) {
return function(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;i; ) try {
if (o = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, a[1])).done) return r;
switch (n = 0, (a = r ? [ 2 & a[0], r.value ] : a)[0]) {
case 0:
case 1:
r = a;
break;

case 4:
return i.label++, {
value: a[1],
done: !1
};

case 5:
i.label++, n = a[1], a = [ 0 ];
continue;

case 7:
a = i.ops.pop(), i.trys.pop();
continue;

default:
if (!(r = 0 < (r = i.trys).length && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
i = 0;
continue;
}
if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
i.label = a[1];
break;
}
if (6 === a[0] && i.label < r[1]) {
i.label = r[1], r = a;
break;
}
if (r && i.label < r[2]) {
i.label = r[2], i.ops.push(a);
break;
}
r[2] && i.ops.pop(), i.trys.pop();
continue;
}
a = t.call(e, i);
} catch (e) {
a = [ 6, e ], n = 0;
} finally {
o = r = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}([ a, s ]);
};
}
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var u = r("audio"), p = r("spine"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.coinFlyNode = null, t.toNode = null, t.speed = 500, t.diceNumLength = 15, 
t.centerPoint = null, t.flyMiniNodeArr = [], t.parameter = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.flyTo = function(e, t, o) {
return c(this, void 0, Promise, function() {
var n, r;
return l(this, function(i) {
switch (i.label) {
case 0:
this.toNode = e, this.parameter = t, this.centerPoint = cc.v2(this.node.parent.width * (this.node.parent.anchorX - .5) * -1, this.node.parent.height * (this.node.parent.anchorY - .5) * -1), 
o && this.getNodePosition(o), n = this.getRandomPoint(), u.default.playAudioMusic("audio/sound/coin-fly.mp3", !1), 
r = 0, i.label = 1;

case 1:
return r < this.diceNumLength ? r != this.diceNumLength - 1 ? [ 3, 3 ] : [ 4, this.addMiniCoin(r, n[r]) ] : [ 3, 5 ];

case 2:
return i.sent(), t && t.callBack && t.callBack(), [ 3, 4 ];

case 3:
this.addMiniCoin(r, n[r]), i.label = 4;

case 4:
return r++, [ 3, 1 ];

case 5:
return [ 2 ];
}
});
});
}, t.prototype.addMiniCoin = function(e, t) {
return c(this, void 0, Promise, function() {
var o = this;
return l(this, function() {
return [ 2, new Promise(function(n) {
var r = o.getWorldPosition(o.toNode), i = o.getNodePosition(r), a = cc.instantiate(o.coinFlyNode);
a.active = !0, a.getChildByName("goldPart").active = !1, a.setPosition(t), o.node.parent.addChild(a);
var s = o.getRadiusPoint();
r = .05 * Math.abs(e - o.diceNumLength);
cc.tween(a).set({
scale: 0
}).delay(.1 * e).call(function() {
a.getChildByName("gold").getComponent(p.default).play("1Main_Coin1", 0);
}).to(.3, {
scale: .6
}, {
easing: cc.easing.backOut
}).by(r, {
x: s.x,
y: s.y
}).call(function() {
a.getChildByName("goldPart").active = !0;
}).to(.3, {
x: i.x,
y: i.y
}, {
easing: cc.easing.cubicOut
}).call(function() {
u.default.playAudioMusic("audio/sound/pop-fly-end.mp3", !1), a.destroy(), o.toNodeAnim(), 
n(), 0 == e && o.parameter && o.parameter.firstCallBack && o.parameter.firstCallBack();
}, o).start();
}) ];
});
});
}, t.prototype.random = function(e, t) {
return Math.floor(Math.random() * (t - e)) + e;
}, t.prototype.getRadiusPoint = function() {
var e = this.random(40, 80), t = this.random(0, e);
e = Math.sqrt(e * e - t * t);
return 1 == this.random(0, 2) && (t = -t), 1 == this.random(0, 2) && (e = -e), cc.v2(t, e);
}, t.prototype.getRandomPoint = function() {
for (var e = [], t = 0; t < this.diceNumLength; t++) {
var o = this.random(this.centerPoint.x - 40, this.centerPoint.x + 40), n = this.random(this.centerPoint.y - 40, this.centerPoint.y + 40);
n = cc.v2(o, n);
e.push(n);
}
return e.sort(function(e, t) {
return e.y - t.y;
}), e;
}, t.prototype.toNodeAnim = function() {
cc.Tween.stopAllByTarget(this.toNode), cc.tween(this.toNode).to(.1, {
scale: 1.5
}).to(.1, {
scale: 1
}).start();
}, t.prototype.getWorldPosition = function(e) {
return e.convertToWorldSpaceAR(cc.v2(0, 0));
}, t.prototype.getNodePosition = function(e) {
return this.node.parent.convertToNodeSpaceAR(e);
}, t.prototype.getFlyTime = function(e, t) {
return Math.sqrt((t.x - this.node.x) * (t.x - this.node.x) + (t.y - this.node.y) * (t.y - this.node.y)) / e;
}, s([ h({
type: cc.Node,
tooltip: "金币飞行节点"
}) ], t.prototype, "coinFlyNode", void 0), s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
"flying-item-pop-fish": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "24b3aU5EKhEMYofjMDPEymV", "flying-item-pop-fish");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
}, c = function(e, t, o, n) {
return new (o = o || Promise)(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
var t;
e.done ? r(e.value) : ((t = e.value) instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
}
c((n = n.apply(e, t || [])).next());
});
}, l = function(e, t) {
var o, n, r, i = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
}, a = {
next: s(0),
throw: s(1),
return: s(2)
};
return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(a) {
return function(s) {
return function(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;i; ) try {
if (o = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, a[1])).done) return r;
switch (n = 0, (a = r ? [ 2 & a[0], r.value ] : a)[0]) {
case 0:
case 1:
r = a;
break;

case 4:
return i.label++, {
value: a[1],
done: !1
};

case 5:
i.label++, n = a[1], a = [ 0 ];
continue;

case 7:
a = i.ops.pop(), i.trys.pop();
continue;

default:
if (!(r = 0 < (r = i.trys).length && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
i = 0;
continue;
}
if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
i.label = a[1];
break;
}
if (6 === a[0] && i.label < r[1]) {
i.label = r[1], r = a;
break;
}
if (r && i.label < r[2]) {
i.label = r[2], i.ops.push(a);
break;
}
r[2] && i.ops.pop(), i.trys.pop();
continue;
}
a = t.call(e, i);
} catch (e) {
a = [ 6, e ], n = 0;
} finally {
o = r = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}([ a, s ]);
};
}
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var u = r("audio"), p = r("GameManager"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.coinFlyNode = null, t.toNode = null, t.speed = 500, t.diceNumLength = 15, 
t.centerPoint = null, t.flyMiniNodeArr = [], t.parameter = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.flyTo = function(e, t, o) {
return c(this, void 0, Promise, function() {
var n, r;
return l(this, function(i) {
switch (i.label) {
case 0:
this.toNode = e, this.parameter = t, p.default.getInstance().moneyDict && p.default.getInstance().moneyDict.fish && (r = Number(p.default.getInstance().moneyDict.fish), 
this.diceNumLength = r < 1 ? this.diceNumLength : r), this.centerPoint = cc.v2(this.node.parent.width * (this.node.parent.anchorX - .5) * -1, this.node.parent.height * (this.node.parent.anchorY - .5) * -1), 
o && this.getNodePosition(o), n = this.getRandomPoint(), u.default.playAudioMusic("audio/sound/fish-fly.mp3", !1), 
r = 0, i.label = 1;

case 1:
return r < this.diceNumLength ? r != this.diceNumLength - 1 ? [ 3, 3 ] : [ 4, this.addMiniCoin(r, n[r]) ] : [ 3, 5 ];

case 2:
return i.sent(), t && t.callBack && t.callBack(), [ 3, 4 ];

case 3:
this.addMiniCoin(r, n[r]), i.label = 4;

case 4:
return r++, [ 3, 1 ];

case 5:
return [ 2 ];
}
});
});
}, t.prototype.addMiniCoin = function(e, t) {
return c(this, void 0, Promise, function() {
var o = this;
return l(this, function() {
return [ 2, new Promise(function(n) {
var r = o.getWorldPosition(o.toNode), i = o.getNodePosition(r), a = cc.instantiate(o.coinFlyNode);
a.active = !0, a.getChildByName("goldPart").active = !1, a.setPosition(t), o.node.parent.addChild(a);
var s = o.getRadiusPoint();
r = .05 * Math.abs(e - o.diceNumLength);
cc.tween(a).set({
scale: 0
}).delay(.1 * e).call(function() {
a.getChildByName("gold").getComponent(cc.Animation).getAnimationState("fishAnimation").speed = 2, 
a.getChildByName("gold").getComponent(cc.Animation).play();
}).to(.3, {
scale: .6
}, {
easing: cc.easing.backOut
}).by(r, {
x: s.x,
y: s.y
}).call(function() {
a.getChildByName("goldPart").active = !0;
}).to(.3, {
x: i.x,
y: i.y
}).call(function() {
u.default.playAudioMusic("audio/sound/pop-fly-end.mp3", !1), a.destroy(), o.toNodeAnim(), 
n(), 0 == e && o.parameter && o.parameter.firstCallBack && o.parameter.firstCallBack();
}, o).start();
}) ];
});
});
}, t.prototype.random = function(e, t) {
return Math.floor(Math.random() * (t - e)) + e;
}, t.prototype.getRadiusPoint = function() {
var e = this.random(40, 80), t = this.random(0, e);
e = Math.sqrt(e * e - t * t);
return 1 == this.random(0, 2) && (t = -t), 1 == this.random(0, 2) && (e = -e), cc.v2(t, e);
}, t.prototype.getRandomPoint = function() {
for (var e = [], t = 0; t < this.diceNumLength; t++) {
var o = this.random(this.centerPoint.x - 40, this.centerPoint.x + 40), n = this.random(this.centerPoint.y - 40, this.centerPoint.y + 40);
n = cc.v2(o, n);
e.push(n);
}
return e.sort(function(e, t) {
return e.y - t.y;
}), e;
}, t.prototype.toNodeAnim = function() {
cc.Tween.stopAllByTarget(this.toNode), cc.tween(this.toNode).to(.1, {
scale: 1.5
}).to(.1, {
scale: 1
}).start();
}, t.prototype.getWorldPosition = function(e) {
return e.convertToWorldSpaceAR(cc.v2(0, 0));
}, t.prototype.getNodePosition = function(e) {
return this.node.parent.convertToNodeSpaceAR(e);
}, t.prototype.getFlyTime = function(e, t) {
return Math.sqrt((t.x - this.node.x) * (t.x - this.node.x) + (t.y - this.node.y) * (t.y - this.node.y)) / e;
}, s([ h({
type: cc.Node,
tooltip: "金币飞行节点"
}) ], t.prototype, "coinFlyNode", void 0), s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
fontTipsLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fddcdbtmuBJSauoEdki8uxT", "fontTipsLayer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("enumConfig"), l = cc._decorator, u = l.ccclass, p = l.property, d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.popNode = null, t.tipsFontLabel = null, t;
}
return a(t, e), t.prototype.start = function() {
this.popNode.active = !1, cc.game.on(c.EMITKEY.SHOWMAINTIPS, this.showTips, this);
}, t.prototype.showTips = function(e) {
var t = this;
this.popNode.stopAllActions(), this.popNode.active = !0, this.tipsFontLabel.string = e + "", 
this.popNode.y = -100, cc.tween(this.popNode).set({
opacity: 255
}).to(.3, {
y: 0
}).delay(1).to(.3, {
opacity: 0
}).call(function() {
t.popNode.active = !1;
}, this).start();
}, s([ p(cc.Node) ], t.prototype, "popNode", void 0), s([ p(cc.Label) ], t.prototype, "tipsFontLabel", void 0), 
s([ u ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {} ],
"game-top-ui": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "011b2otLrtL36irPwLg72Hm", "game-top-ui");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.cookieNode = null, t.cookieImg = null, t.cookieNum = null, t.cookiePrefab = null, 
t.cookieTrailing = null, t.cookieCurCount = 0, t.cookieAllCount = 0, t.goldBlockCoinCount = 0, 
t.ribbonBoxCount = 0, t;
}
return i(t, e), t.prototype.start = function() {}, a([ l(cc.Node) ], t.prototype, "cookieNode", void 0), 
a([ l(cc.Node) ], t.prototype, "cookieImg", void 0), a([ l(cc.Node) ], t.prototype, "cookieNum", void 0), 
a([ l(cc.Prefab) ], t.prototype, "cookiePrefab", void 0), a([ l(cc.Prefab) ], t.prototype, "cookieTrailing", void 0), 
a([ c ], t);
}(cc.Component);
r.default = u;
cc._RF.pop();
}, {} ],
gameLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4f0043pQOFO24XT2d3lGc3T", "gameLayer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("dataTs"), u = r("audio"), p = r("mainLayer"), d = r("chessboard"), f = r("crushArea"), h = r("gameUiLayer"), y = r("moveOutArea"), m = r("spine"), g = r("enumConfig"), b = r("GameManager"), v = r("DateManager"), _ = r("uma-sdk"), w = r("i18n"), N = r("gd_language"), P = r("native-bridge"), A = r("report-common"), S = r("data-manager"), C = r("api-sheep"), O = r("sdk"), D = cc._decorator, I = D.ccclass, k = D.property, F = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mainLayer = null, t.bgLayer = null, t.chessboard = null, t.crushArea = null, 
t.moveOutArea = null, t.uiLayer = null, t.gameTopUi = null, t.gameWin = null, t.gameNext = null, 
t.levelDataArray = null, t.gameIsWin = !1, t.popCallbackCollect = null, t.userData = null, 
t.playLevelNum = 0, t.gameIsStop = !1, t.chessY = 0, t.beginBGM = !1, t.timer = 0, 
t.countdown = 0, t;
}
return a(t, e), t.prototype.onEnable = function() {
console.log("FM_ gameLayer.onEnable");
cc.audioEngine.setMusicVolume(1), cc.game.setFrameRate(60), this.countdown = 0, 
b.default.getInstance().playGameCount++;
var e = v.default.format(g.CALENDARNAMES[6], new Date());
b.default.getInstance().gameBeginDate = e;
}, t.prototype.update = function(e) {
this.timer += e, 1 <= this.timer && 0 == this.gameIsStop && (this.timer = 0, this.countdown++);
}, t.prototype.start = function() {
console.log("FM_ gameLayer.start");
cc.game.on(g.EMITKEY.RESTARTNOWLEVEL, this.restartNowLevel, this), cc.game.on(g.EMITKEY.SHOWMAINLAYER, this.showMainLayer, this), 
cc.game.on(g.EMITKEY.GAMEOVERRESTART, this.gameOverRestartFunc, this), cc.game.on(cc.game.EVENT_HIDE, this.onGameHdie.bind(this)), 
cc.game.on(cc.game.EVENT_SHOW, this.onGameShow.bind(this)), c.default.addbtnTouchStartScale(this.gameWin), 
c.default.addbtnTouchEndScale(this.gameWin, this.gameWinFunc.bind(this)), c.default.addbtnTouchCancelScale(this.gameWin), 
c.default.addbtnTouchStartScale(this.gameNext), c.default.addbtnTouchEndScale(this.gameNext, this.gameNextFunc.bind(this)), 
c.default.addbtnTouchCancelScale(this.gameNext), cc.sys.isBrowser, zuobi === 1 ? (this.gameWin.active = !0, this.gameNext.active = !0) : (this.gameWin.active = !1, this.gameNext.active = !1), monitorCheatMode.call(this);
}, t.prototype.onGameHdie = function() {
console.log("游戏进入后台1");
cc.audioEngine.setMusicVolume(0);
}, t.prototype.onGameShow = function() {
console.log("游戏进入前台1");
if (guanggao === 1) {
cc.audioEngine.setMusicVolume(0);
} else {
cc.audioEngine.setMusicVolume(1);
}
}, t.prototype.onDisable = function() {
this.chessY = 0;
}, t.prototype.adaptScreen = function() {
var e = this;
setTimeout(function() {
b.default.getInstance().globalData.isFullScreen && 0 == e.chessY && 400 < e.chessboard.y && (e.chessboard.y -= 100, 
e.chessY = e.chessboard.y);
}, 200), setTimeout(function() {
e.onPointIsContains();
}, 100), b.default.getInstance().gameType == g.GAMETYPE.GAMEDAILY ? (this.bgLayer.color = new cc.Color(195, 254, 139), 
this.bgLayer.getChildByName("glassSP").getComponent(m.default).play("2Grass", 0)) : b.default.getInstance().gameType == g.GAMETYPE.GAMETOPIC && (this.bgLayer.color = new cc.Color(65, 167, 143), 
this.bgLayer.getChildByName("glassSP").getComponent(m.default).play("2Grass2", 0));
}, t.prototype.onPointIsContains = function() {
this.chessboard.getBoundingBoxToWorld();
for (var e = c.default.getWorldPosition(this.moveOutArea), t = this.chessboard.getBoundingBoxToWorld(); t.contains(e); ) {
if (this.chessboard.scale -= .05, this.chessboard.scale < .5) {
console.log("超出最小scale 退出 ###### ");
break;
}
t = this.chessboard.getBoundingBoxToWorld(), console.log("我在节点的内部 ###### ");
}
console.log("我在节点的外部 ###### ", this.chessboard.scale);
}, t.prototype.gameNextFunc = function() {
var e;
console.log("FM_ gameLayer.gameNextFunc", this.levelDataArray);
console.log("FM_ gameLayer.gameNextFunc", this.playLevelNum, this.levelDataArray.length - 1);
if (this.playLevelNum < this.levelDataArray.length - 1) this.playNextLevelMap(); else {
console.log("FM_ gameLayer.gameNextFunc", "提示没有下一关");
cc.game.emit("showMainTips", w.default.instance.trans(N.GDLanguage.map_over)), b.default.getInstance().cookieDict.cookie += 12, 
(e = l.default.getCookieRewardData()).cookieNum = b.default.getInstance().cookieDict.cookie, 
l.default.setCookieRewardData(e);
}
}, t.prototype.initLevelLayer = function(e) {
console.log("FM_ gameLayer.initLevelLayer");
O.default.showNativeAd(!0);
O.default.hideBannerAdNative();
for (var t in b.default.getInstance().coinNum = 60, b.default.getInstance().levelWinDict.coin = 0, 
b.default.getInstance().levelWinDict.cancel = 0, b.default.getInstance().levelWinDict.remove = 0, 
b.default.getInstance().levelWinDict.random = 0, l.default.subLoveCount(1), console.log("当前关卡类型 ###### = ", b.default.getInstance().gameType), 
b.default.getInstance().reportProperty) b.default.getInstance().reportProperty[t] = 0;
b.default.getInstance().reportProperty.challenge_count++, console.log("challenge_count = " + b.default.getInstance().reportProperty.challenge_count), 
this.playLevelNum = 0;
var o = (this.levelDataArray = e)[this.playLevelNum];
this.gameIsWin = !1, this.node.active = !0, this.mainLayer.active = !1, this.gameIsStopFunc(!1), 
this.chessboard.getComponent(d.default).init(o, this), this.crushArea.getComponent(f.default).initCrushArea(this), 
this.moveOutArea.getComponent(y.default).initMoveOutArea(this), this.uiLayer.getComponent(h.default).initGameUi(e), 
0 < this.levelDataArray.length && this.uiLayer.getComponent(h.default).setLevelStage(this.playLevelNum), 
this.adaptScreen(), this.popCallbackCollect = {
continueCallBack: this.playNextLevel.bind(this),
returnMainCallBack: this.showMainLayer.bind(this),
rebornGameCallBack: this.rebornGameFunc.bind(this),
giveUpCallBack: this.giveUpFunc.bind(this),
restartCallBack: this.restartNowLevel.bind(this),
resumeCallBack: this.resumeCallBackFunc.bind(this)
}, this.playGameBgMusic(), b.default.getInstance().gameType == g.GAMETYPE.GAMELEVEL ? ((e = l.default.getSprintRewardData()).isGameEd = 1, 
l.default.setSprintRewardData(e), console.log("冲刺奖励 = " + JSON.stringify(e))) : console.log("日常奖励 = "), 
b.default.getInstance().gameType == g.GAMETYPE.GAMEDAILY && this.updateTodayWin(!1);
}, t.prototype.resumeCallBackFunc = function() {
this.gameIsStopFunc(!1);
}, t.prototype.gameIsStopFunc = function(e) {
this.gameIsStop = e, this.uiLayer.getComponent(h.default).gameIsStopFunc(e);
}, t.prototype.playNextLevelMap = function() {
console.log("FM_ gameLayer.playNextLevelMap");
var e = "每日挑战";
b.default.getInstance().gameType == g.GAMETYPE.GAMEDAILY ? e = "每日挑战" : b.default.getInstance().gameType == g.GAMETYPE.GAMETOPIC && (e = "话题挑战"), 
A.default.reportTACommon("level_2", {
game_type: e
}), this.playLevelNum += 1;
e = this.levelDataArray[this.playLevelNum];
this.gameIsWin = !1, this.gameIsStopFunc(!1), this.adaptScreen(), this.chessboard.getComponent(d.default).initNextLevelMap(e, this), 
this.uiLayer.getComponent(h.default).setLevelStage(this.playLevelNum), b.default.getInstance().todayState < 0 && (b.default.getInstance().todayState = 0, 
setTimeout(function() {
cc.game.emit("showPop", {
popName: "nextLevelPop",
showPopData: {}
});
}, 1e3));
}, t.prototype.playNextLevel = function() {
console.log("打开下一关卡"), this.userData = l.default.getUserData();
var e = this.userData.playLevelId;
this.playLevelfunc(e);
}, t.prototype.restartNowLevel = function() {
var e;
console.log("重新开始本关卡 type = " + b.default.getInstance().gameType), this.countdown = 0, 
this.gameIsStopFunc(!1), b.default.getInstance().gameType == g.GAMETYPE.GAMEDAILY || b.default.getInstance().gameType == g.GAMETYPE.GAMETOPIC ? this.playNumberfunc() : (this.userData = l.default.getUserData(), 
e = this.userData.playLevelId, this.playLevelfunc(e));
}, t.prototype.playLevelfunc = function(e) {
var t = this, o = v.default.format(g.CALENDARNAMES[4], new Date());
!o || 3 <= (o = o.split("-")).length && (e = Number(o[2])), l.default.getLevelByID(e, function(e) {
return e.length < 1 ? (cc.game.emit("showMainTips", w.default.instance.trans(N.GDLanguage.level_inadequate)), 
void t.showMainLayer(g.GAMEOVER.NONE)) : (cc.game.emit("closeAllPop"), void t.initLevelLayer(e));
});
}, t.prototype.playNumberfunc = function() {
var e;
this.levelDataArray.length < 1 ? this.showMainLayer(g.GAMEOVER.NONE) : (cc.game.emit("closeAllPop"), 
b.default.getInstance().gameType != g.GAMETYPE.GAMEDAILY && b.default.getInstance().gameType != g.GAMETYPE.GAMETOPIC || this.uiLayer.getComponent(h.default).recoverTime(1), 
(e = S.default.getGameLevelData()) ? (console.log("获取关卡缓存数据 ###### "), this.initLevelLayer(e)) : this.initLevelLayer(this.levelDataArray));
}, t.prototype.showSetUpLayer = function() {
console.log("打开设置页面");
var e = {
popName: "setupPop",
showPopData: {
popCallbackCollect: this.popCallbackCollect,
setupType: 2
}
};
cc.game.emit("showPop", e), this.gameIsStopFunc(!0);
}, t.prototype.showMainLayer = function(e) {
void 0 === e && (e = g.GAMEOVER.NONE), console.log("打开主页面 = " + e);
audio.pause();
var t = this;
cc.game.emit(g.EMITKEY.SHOWTRANSITLAYER, function(o) {
console.log("可以打开了 gamelayer"), cc.game.emit("closeAllPop"), t.gameIsStopFunc(!0), 
t.mainLayer.getComponent(p.default).showMainLayer(e), t.node.active = !1, o();
});
}, t.prototype.gameOverFunc = function(e) {
void 0 === e && (e = 1), this.gameOverState(2), console.log("游戏失败 failType = ", e);
e = {
popName: "failPop",
showPopData: {
popCallbackCollect: this.popCallbackCollect,
failType: e
}
};
cc.game.emit("showPop", e), this.gameIsStopFunc(!0);
}, t.prototype.gameOverState = function(e) {
1 == (b.default.getInstance().game_over = e) && this.reportData(e);
}, t.prototype.gameOverRestartFunc = function() {
this.reportData(2);
}, t.prototype.reportData = function(e) {
console.log("FM_ gameLayer.reportData", e);
var t, o = this, n = 1;
for (t in b.default.getInstance().sheepMark) {
var r = b.default.getInstance().sheepMark[t];
if (0 < Number(r)) {
n = 2;
break;
}
}
for (var i = l.default.getSheepClothesData(), a = 1, s = 0; s < i.length; s++) {
var c = i[s];
if (c.dressing) {
a = c.clothesId;
break;
}
}
e = {
rank_score: 1,
rank_state: e,
rank_time: this.countdown,
rank_role: n,
skin: a
};
if (0 == this.checkIsTodayWin()) return console.log("checkIsTodayWin  gameover ######## false"), 
cc.game.emit(g.EMITKEY.SHOWMAINTIPS, "每日关卡已更新, 快去挑战今日关卡吧"), void setTimeout(function() {
o.showMainLayer(), cc.game.emit(g.EMITKEY.SHOWMODULE, g.MODULETYPE.COMMON);
}, 1500);
b.default.getInstance().gameType == g.GAMETYPE.GAMEDAILY ? S.default.rankUserInfo && 1 == S.default.rankUserInfo.state ? console.log("数据重复 = ", JSON.stringify(S.default.rankUserInfo)) : C.default.gameOver(e, function() {
cc.game.emit(g.EMITKEY.GAMEOVERSUCCESS);
}) : b.default.getInstance().gameType == g.GAMETYPE.GAMETOPIC && C.default.topicGameOver(e, function() {
cc.game.emit(g.EMITKEY.GAMEOVERSUCCESS);
});
}, t.prototype.checkIsTodayWin = function() {
console.log("FM_ gameLayer.checkIsTodayWin");
var e = v.default.format(g.CALENDARNAMES[6], new Date());
return b.default.getInstance().gameEndDate = e, console.log("time ###### = ", b.default.getInstance().gameBeginDate, "------", b.default.getInstance().gameEndDate), 
b.default.getInstance().gameBeginDate == b.default.getInstance().gameEndDate ? (console.log("进入游戏和结束游戏时间相等 ###### "), 
!0) : (console.log("进入游戏和结束游戏时间不相等，不上报数据 ###### "), !1);
}, t.prototype.gameWinFunc = function() {
console.log("FM_ gameLayer.gameWinFunc");
if (this.gameOverState(1), this.uiLayer.getComponent(h.default).gameIsWin(), b.default.getInstance().gameType == g.GAMETYPE.GAMELEVEL) {
var e = l.default.gameConfigData.baseConfigData.sprintRewardLevel;
if (l.default.getUserData().playLevelId >= e) {
var t = l.default.getSprintRewardData();
t.winNum += 1, t.rewardProgress < 3 ? (t.rewardProgress += 1, 3 == t.rewardProgress && (t.winBox += 1)) : t.rewardProgress = 1, 
t.isGameEd = 0, l.default.setSprintRewardData(t);
var o = [ 3, 6, 9, 12, 15, 25, 50, 100 ];
for (a in o) if (t.winNum == o[a]) {
var n = "richroad_level" + t.winNum, r = {
levelNum: r = l.default.getUserData().playLevelId + "",
c_levelNum: Number(r)
};
_.default.trackEvent(n, r), console.log("连胜 ########", n, r);
break;
}
}
this.userData = l.default.getUserData(), console.log("游戏获胜，关卡为：", this.levelDataArray, this.userData.playLevelId);
var i = {
af_level: this.userData.playLevelId
};
P.default.leitingReport("af_levels_achieved", i);
var a, s = [ 10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 120, 150, 200 ];
for (a in s) if (this.userData.playLevelId == s[a]) {
var c = {
af_level: this.userData.playLevelId
};
P.default.leitingReport("af_level" + this.userData.playLevelId, c), console.log("af_level" + this.userData.playLevelId);
break;
}
this.crushArea.getComponent(f.default).hideCrushArea(), this.uiLayer.getComponent(h.default).removeGameUiBtn();
var u = l.default.getRewardBoxData(this.userData.playLevelId);
e = 5 <= this.userData.playLevelId;
l.default.gameLevelWin(e, u);
i = l.default.getCollectionUnlockData();
console.log("unlockObj:", i);
e = {
popName: "winPop",
showPopData: {
popCallbackCollect: this.popCallbackCollect,
winRewardObj: u,
unlockObj: i,
time: this.countdown
}
};
cc.game.emit(g.EMITKEY.SHOWPOP, e), this.gameIsStopFunc(!0);
} else b.default.getInstance().gameType == g.GAMETYPE.GAMEDAILY ? (this.userData = l.default.getUserData(), 
u = l.default.getRewardBoxData(this.userData.playLevelId), l.default.gameLevelWin(!0, u), 
i = l.default.getCollectionUnlockData(), e = {
popName: "winPop",
showPopData: {
popCallbackCollect: this.popCallbackCollect,
winRewardObj: u,
unlockObj: i,
time: this.countdown
}
}, cc.game.emit(g.EMITKEY.SHOWPOP, e), this.crushArea.getComponent(f.default).hideCrushArea(), 
this.uiLayer.getComponent(h.default).removeGameUiBtn(), this.gameIsStopFunc(!0), 
this.updateTodayWin(!0)) : b.default.getInstance().gameType == g.GAMETYPE.GAMETOPIC && (e = {
popName: "winPop",
showPopData: {
popCallbackCollect: this.popCallbackCollect,
time: this.countdown
}
}, cc.game.emit(g.EMITKEY.SHOWPOP, e), this.crushArea.getComponent(f.default).hideCrushArea(), 
this.uiLayer.getComponent(h.default).removeGameUiBtn(), this.gameIsStopFunc(!0));
}, t.prototype.updateTodayWin = function(e) {
var t, o, n;
console.log("isWin = ", e), 0 != this.checkIsTodayWin() ? (t = v.default.format(g.CALENDARNAMES[5], new Date()), 
o = v.default.format(g.CALENDARNAMES[6], new Date()), (n = l.default.getDailyData(t, o)) ? n.isWin = e : n = {
dailyID: o,
isWin: e,
unLimitVideo: 0,
sheepNum: -1
}, l.default.saveDailyData(t, o, n)) : console.log("checkIsTodayWin update cache ######## false");
}, t.prototype.giveUpFunc = function(e) {
void 0 === e && (e = 0), b.default.getInstance().gameType == g.GAMETYPE.GAMELEVEL && (0 < l.default.getSprintRewardData().winNum && cc.game.emit("showPop", {
popName: "sprintRewardPop",
showPopData: {
popCallbackCollect: null,
popType: 2
}
}), 0 < b.default.getInstance().cookieDict.cookieCurCount && cc.game.emit("showPop", {
popName: "loseCookiePop",
showPopData: {
popCallbackCollect: null,
popType: 0
}
}));
e = {
popName: "loseLovePop",
showPopData: {
popCallbackCollect: this.popCallbackCollect,
popType: e
}
};
cc.game.emit("showPop", e), this.gameIsStopFunc(!0);
}, t.prototype.rebornGameFunc = function() {
console.log("这里有个看视频"), cc.game.emit("closeAllPop"), this.gameIsStopFunc(!1), b.default.getInstance().gameType == g.GAMETYPE.GAMEDAILY && this.uiLayer.getComponent(h.default).recoverTime(), 
this.crushArea.getComponent(f.default).rebornGameFunc();
}, t.prototype.crushBlockNode = function(e) {
this.crushArea.getComponent("crushArea").addCrushAreaCardNode(e);
var t = this.chessboard.getComponent(d.default).checkGameWin();
e = this.moveOutArea.getComponent(y.default).checkGameWin();
t && e && (console.log("游戏胜利！"), this.gameNextFunc());
}, t.prototype.crushAnimateCallback = function() {
this.gameIsWin && (this.playLevelNum < this.levelDataArray.length - 1 ? this.playNextLevelMap() : this.gameWinFunc());
}, t.prototype.playGameBgMusic = function() {
var e, t;
l.default.getUserSetupData().musicStatus < 0 ? cc.audioEngine.stopAll() : 0 == this.beginBGM ? (e = this, 
t = "audio/music/game_begin.mp3", b.default.getInstance().gameType != g.GAMETYPE.GAMEDAILY && b.default.getInstance().gameType != g.GAMETYPE.GAMETOPIC || (t = "audio/music/game_begin.mp3"), 
cc.loader.loadRes(t, function(t, o) {
o = cc.audioEngine.playMusic(o, !1);
cc.audioEngine.getCurrentTime(o), cc.audioEngine.getDuration(o), cc.audioEngine.setFinishCallback(o, function() {
e.beginBGM = !0, console.log("播放完成进场音乐 ###### "), e.playBg();
});
})) : this.playBg();
}, t.prototype.playBg = function() {
u.default.playBGM();
}, s([ k(cc.Node) ], t.prototype, "mainLayer", void 0), s([ k(cc.Node) ], t.prototype, "bgLayer", void 0), 
s([ k(cc.Node) ], t.prototype, "chessboard", void 0), s([ k(cc.Node) ], t.prototype, "crushArea", void 0), 
s([ k(cc.Node) ], t.prototype, "moveOutArea", void 0), s([ k(cc.Node) ], t.prototype, "uiLayer", void 0), 
s([ k(cc.Node) ], t.prototype, "gameTopUi", void 0), s([ k(cc.Node) ], t.prototype, "gameWin", void 0), 
s([ k(cc.Node) ], t.prototype, "gameNext", void 0), s([ I ], t);
}(cc.Component);
i.default = F;
cc._RF.pop();
}, {} ],
gameUiLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "91b87hBI4pAa6NOoAiPYA2X", "gameUiLayer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("dataTs"), u = r("enumConfig"), p = r("audio"), d = r("sdk"), f = r("DateManager"), h = r("GameManager"), y = r("chessboard"), m = r("crushArea"), g = r("gameLayer"), b = r("prop-prefab"), v = r("uma-sdk"), _ = r("report-common"), w = r("i18n"), N = r("gd_language"), P = r("data-manager"), A = (r("sdk"), 
cc._decorator), S = A.ccclass, C = A.property, O = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.removeBtn = null, t.removeBg1 = null, t.removeMask = null, t.removeNumLabel = null, 
t.removeVedio = null, t.cancelBtn = null, t.cancelBg1 = null, t.cancelMask = null, 
t.cancelNumLabel = null, t.cancelVedio = null, t.randomBtn = null, t.randomBg1 = null, 
t.randomMask = null, t.randomNumLabel = null, t.randomVedio = null, t.setUpBtn = null, 
t.moveOutArea = null, t.chessboardNode = null, t.crushArea = null, t.levelNode = null, 
t.levelNumLabel = null, t.stageOneNode = null, t.stageTwoNode = null, t.maskStage = null, 
t.propPrefab = null, t.paddingHeight = 25, t.userData = null, t.isMoving = !1, t.timer = 0, 
t.countdownOrogin = 0, t.countdown = 0, t.countdownAdd = 60, t.gameIsStop = !1, 
t.popCallbackCollect = null, t.getPropType = 0, t;
}
return a(t, e), t.prototype.start = function() {
console.log("FM_ gameUiLayer.start");
c.default.addbtnTouchStartScale(this.removeBtn), c.default.addbtnTouchEndScale(this.removeBtn, this.removeEndFunc.bind(this)), 
c.default.addbtnTouchCancelScale(this.removeBtn), c.default.addbtnTouchStartScale(this.cancelBtn), 
c.default.addbtnTouchEndScale(this.cancelBtn, this.cancelEndFunc.bind(this)), c.default.addbtnTouchCancelScale(this.cancelBtn), 
c.default.addbtnTouchStartScale(this.randomBtn), c.default.addbtnTouchEndScale(this.randomBtn, this.randomEndFunc.bind(this)), 
c.default.addbtnTouchCancelScale(this.randomBtn), c.default.addbtnTouchStartScale(this.setUpBtn), 
c.default.addbtnTouchEndScale(this.setUpBtn, this.setUpEndFunc.bind(this)), c.default.addbtnTouchCancelScale(this.setUpBtn), 
this.popCallbackCollect = {
buyCallBack: this.buyCallBackFunc.bind(this),
freeCallBack: this.freeCallBackFunc.bind(this),
exitCallBack: this.exitCallBackFunc.bind(this)
};
}, t.prototype.exitCallBackFunc = function() {
this.gameIsStopFunc(!1);
}, t.prototype.setTimeByLevel = function(e, t) {
t > (e = e.timeArray).length ? cc.game.emit("showMainTips", w.default.instance.trans(N.GDLanguage.level_inadequate)) : (t = e[t - 1], 
this.countdown = t, this.countdownOrogin = t, console.log("countdowm = " + t), this.updateTime(this.countdown));
}, t.prototype.update = function(e) {
h.default.getInstance().gameType == u.GAMETYPE.GAMEDAILY && 0 == this.gameIsStop && (this.timer += e, 
1 <= this.timer && (this.timer = 0, this.countdown--, this.updateTime(this.countdown)));
}, t.prototype.updateTime = function() {}, t.prototype.gameIsWin = function() {
var e, t, o;
h.default.getInstance().gameType == u.GAMETYPE.GAMELEVEL ? (0 < h.default.getInstance().levelWinDict.remove && (e = h.default.getInstance().levelWinDict.remove + "", 
v.default.trackEvent("game_finish_skill_1", {
num: e,
c_num: Number(e)
})), 0 < h.default.getInstance().levelWinDict.cancel && (t = h.default.getInstance().levelWinDict.cancel + "", 
v.default.trackEvent("game_finish_skill_2", {
num: t,
c_num: Number(t)
})), 0 < h.default.getInstance().levelWinDict.random && (o = h.default.getInstance().levelWinDict.random + "", 
v.default.trackEvent("game_finish_skill_3", {
num: o,
c_num: Number(o)
}))) : (o = (t = this.countdown <= 0 ? 0 : this.countdown) + "", h.default.getInstance().reportProperty.dailyWin_time_remaining = t, 
v.default.trackEvent("daily_finishtime", {
remainTime: o,
c_remainTime: Number(o)
}));
}, t.prototype.gameIsStopFunc = function(e) {
this.gameIsStop = e;
}, t.prototype.recoverTime = function(e) {
void 0 === e && (e = 0), this.countdown <= 0 && (this.countdown = this.countdownAdd), 
1 == e && (this.countdown = this.countdownOrogin), this.updateTime(this.countdown);
}, t.prototype.initGameUi = function(e) {
for (var t in this.userData = l.default.getUserData(), this.userData.prop_cancel = 0, 
this.userData.prop_random = 0, this.userData.prop_remove = 0, l.default.saveUserData(this.userData), 
h.default.getInstance().sheepMark) h.default.getInstance().sheepMark[t] = 0;
this.isMoving = !1;
var o = this.removeBtn.height + this.paddingHeight, n = -(cc.winSize.height / 2 + this.removeBtn.height / 2);
this.removeBtn.y = n, this.cancelBtn.y = n, this.randomBtn.y = n, cc.tween(this.removeBtn).by(.4, {
y: o
}).start(), cc.tween(this.cancelBtn).by(.4, {
y: o
}).start(), cc.tween(this.randomBtn).by(.4, {
y: o
}).start(), this.setGameLayerUiData(), 1 < e.length ? this.stageTwoNode.active = !0 : this.stageTwoNode.active = !1, 
this.stageOneNode.active = !1;
}, t.prototype.setLevelStage = function(e) {
0 == e ? this.stageOneNode.active = !1 : 1 == e && (this.stageOneNode.active = !0), 
this.levelNode.active = !0, h.default.getInstance().gameType == u.GAMETYPE.GAMEDAILY ? f.default.format(u.CALENDARNAMES[4], f.default.getInstance().selDate).split("-").length < 3 || (this.levelNumLabel.string = "每日一关") : this.levelNode.active = !0;
}, t.prototype.setGameLayerUiData = function() {
this.userData = l.default.getUserData(), f.default.format(u.CALENDARNAMES[4], f.default.getInstance().selDate).split("-").length < 3 || (this.levelNumLabel.string = "每日一关", 
1 <= this.userData.prop_remove ? (this.removeNumLabel.string = "" + this.userData.prop_remove, 
this.removeNumLabel.node.active = !0, this.removeBg1.active = !0, this.removeVedio.active = !1, 
this.removeMask.active = !1) : (this.removeNumLabel.node.active = !1, this.removeVedio.active = !0, 
1 <= h.default.getInstance().sheepMark.propRemoveCount ? (this.removeMask.active = !0, 
this.removeBg1.active = !1) : (this.removeMask.active = !1, this.removeBg1.active = !0)), 
1 <= this.userData.prop_cancel ? (this.cancelNumLabel.string = "" + this.userData.prop_cancel, 
this.cancelNumLabel.node.active = !0, this.cancelBg1.active = !0, this.cancelVedio.active = !1, 
this.cancelMask.active = !1) : (this.cancelNumLabel.node.active = !1, this.cancelVedio.active = !0, 
1 <= h.default.getInstance().sheepMark.propCancelCount ? (this.cancelMask.active = !0, 
this.cancelBg1.active = !1) : (this.cancelMask.active = !1, this.cancelBg1.active = !0)), 
1 <= this.userData.prop_random ? (this.randomNumLabel.string = "" + this.userData.prop_random, 
this.randomNumLabel.node.active = !0, this.randomBg1.active = !0, this.randomVedio.active = !1, 
this.randomMask.active = !1) : (this.randomNumLabel.node.active = !1, this.randomVedio.active = !0, 
1 <= h.default.getInstance().sheepMark.propRandomCount ? (this.randomMask.active = !0, 
this.randomBg1.active = !1) : (this.randomMask.active = !1, this.randomBg1.active = !0)));
}, t.prototype.removeGameUiBtn = function() {
var e = this;
console.log("移除按钮 ###### "), this.isMoving = !0, this.removeBtn.height, this.paddingHeight;
var t = -(cc.winSize.height / 2 + this.removeBtn.height);
cc.tween(this.removeBtn).to(.4, {
y: t
}).start(), cc.tween(this.cancelBtn).to(.4, {
y: t
}).start(), cc.tween(this.randomBtn).to(.4, {
y: t
}).call(function() {
e.isMoving = !1;
}, this).start();
}, t.prototype.setUpEndFunc = function() {
this.node.parent.getComponent(g.default).showSetUpLayer();
}, t.prototype.removeEndFunc = function() {
var e;
this.isMoving || (this.removeMask.activeInHierarchy ? cc.game.emit(u.EMITKEY.SHOWMAINTIPS, "每关只能使用一次哦") : 1 <= this.userData.prop_remove ? this.crushArea.getComponent(m.default).moveOutBlock() && (p.default.playAudioMusic("audio/sound/moveOut.mp3", !1), 
zuobi === 1 ? (this.userData.prop_remove++) : (this.userData.prop_remove--), h.default.getInstance().reportProperty.remove_use++, 
h.default.getInstance().sheepMark.propRemoveCount++, 0 == h.default.getInstance().reportProperty.remove_ad && console.log("使用初始道具 ###### propRemove"), 
(e = P.default.getTAUserInfo()).item_name = "移出道具", _.default.reportTACommon("prop_initial", e), 
l.default.saveUserData(this.userData), this.setGameLayerUiData(), h.default.getInstance().levelWinDict.remove += 1, 
this.userData.prop_remove) : (console.log("移出道具不足"), this.showPropPop(1, 60)));
}, t.prototype.cancelEndFunc = function() {
var e;
this.cancelMask.activeInHierarchy ? cc.game.emit(u.EMITKEY.SHOWMAINTIPS, "每关只能使用一次哦") : 1 <= this.userData.prop_cancel ? this.crushArea.getComponent(m.default).cancelOneStep() && (p.default.playAudioMusic("audio/sound/moveOut.mp3", !1), 
zuobi === 1 ? (this.userData.prop_cancel++) : (this.userData.prop_cancel--), h.default.getInstance().reportProperty.cancel_use++, 
h.default.getInstance().sheepMark.propCancelCount++, 0 == h.default.getInstance().reportProperty.cancel_ad && console.log("使用初始道具 ###### propCancel"), 
(e = P.default.getTAUserInfo()).item_name = "撤销道具", _.default.reportTACommon("prop_initial", e), 
l.default.saveUserData(this.userData), this.setGameLayerUiData(), h.default.getInstance().levelWinDict.cancel += 1, 
this.userData.prop_cancel) : (console.log("撤销道具不足"), this.showPropPop(2, 20));
}, t.prototype.randomEndFunc = function() {
var e;
this.isMoving || (this.randomMask.activeInHierarchy ? cc.game.emit(u.EMITKEY.SHOWMAINTIPS, "每关只能使用一次哦") : 1 <= this.userData.prop_random ? (e = this.chessboardNode.getComponent(y.default).updateBlockArea(), 
console.log("isOk ###### ", e), e && (p.default.playAudioMusic("audio/sound/random.mp3", !1), zuobi === 1 ? (this.userData.prop_random++) : (this.userData.prop_random--), h.default.getInstance().reportProperty.random_use++, 
h.default.getInstance().sheepMark.propRandomCount++, 0 == h.default.getInstance().reportProperty.random_ad && console.log("使用初始道具 ###### propRandom"), 
(e = P.default.getTAUserInfo()).item_name = "洗牌道具", _.default.reportTACommon("prop_initial", e), 
l.default.saveUserData(this.userData), this.setGameLayerUiData(), h.default.getInstance().levelWinDict.random += 1, 
this.userData.prop_random)) : (console.log("洗牌道具不足"), this.showPropPop(3, 10)));
}, t.prototype.buyCallBackFunc = function(e, t) {
console.log("coin = " + t), this.userData = l.default.getUserData(), this.userData.coin >= t ? (this.userData.coin -= t, 
h.default.getInstance().levelWinDict.coin += t, this.showTipPop(e, 1), h.default.getInstance().gameType == u.GAMETYPE.GAMELEVEL && v.default.trackEvent("game_skill_buy", {
coinNum: t += "",
c_coinNum: Number(t)
}), this.userData.coin) : cc.game.emit("showMainTips", w.default.instance.trans(N.GDLanguage.coin_inadequate));
}, t.prototype.freeCallBackFunc = function(e) {
var t = this;
if (this.getPropType = e, console.log("type = " + e), d.default.isPlatform(d.Platform.wx)) {
var o = P.default.getPropData(), n = 0;
if (h.default.getInstance().gameType == u.GAMETYPE.GAMEDAILY ? 1 == e ? n = o.daily.prop_remove : 2 == e ? n = o.daily.prop_cancel : 3 == e && (n = o.daily.prop_random) : h.default.getInstance().gameType == u.GAMETYPE.GAMETOPIC && (1 == e ? n = o.topic.prop_remove : 2 == e ? n = o.topic.prop_cancel : 3 == e && (n = o.topic.prop_random)), 
0 < n) return void t.shareTTAction(e);
if ("shareValue" == d.default.wxValue) return void t.shareTTAction(e);
}
n = l.default.GetVedioID();
d.default.watchAdVideo({
id: n,
success: function() {
console.log("成功 sdk"), cc.game.emit(u.EMITKEY.CLOSEALLPOP), t.showTipPop(e, 2), 
h.default.getInstance().gameType == u.GAMETYPE.GAMELEVEL && v.default.trackEvent("game_skill_ad");
},
fail: function(e) {
console.log("失败 ###### = ", e), t.gameIsStopFunc(!1);
},
nofit: function() {
t.shareTTAction(e);
}
});
}, t.prototype.shareTTAction = function(e) {
var t, o, n = this;
d.default.isPlatform(d.Platform.wx) ? (o = l.default.GetVedioID(), t = l.default.getUserData().openid, 
d.default.share(t, o, function() {
n.shareCbMethod(), n.updateShareCount(e);
}, function() {
cc.game.emit(u.EMITKEY.SHOWMAINTIPS, "分享失败，请分享微信群与好友PK");
})) : d.default.isPlatform(d.Platform.tt) && (o = {
popName: "shareNodePop",
showPopData: {
type: 2,
shareCb: this.shareCbMethod.bind(this)
}
}, cc.game.emit("showPop", o));
}, t.prototype.updateShareCount = function(e) {
var t = P.default.getPropData();
h.default.getInstance().gameType == u.GAMETYPE.GAMEDAILY ? 1 == e ? t.daily.prop_remove-- : 2 == e ? t.daily.prop_cancel-- : 3 == e && t.daily.prop_random-- : h.default.getInstance().gameType == u.GAMETYPE.GAMETOPIC && (1 == e ? t.topic.prop_remove-- : 2 == e ? t.topic.prop_cancel-- : 3 == e && t.topic.prop_random--), 
P.default.setPropData(t);
}, t.prototype.shareCbMethod = function() {
console.log("分享成功 ######"), cc.game.emit(u.EMITKEY.CLOSEALLPOP), this.showTipPop(this.getPropType, 3);
}, t.prototype.showTipPop = function(e, t) {
var o = "", n = null, r = "";
1 == e ? (o = w.default.instance.trans(N.GDLanguage.props_remove_claim), n = this.removeBtn, 
r = "移出道具", this.userData.prop_remove = 1, this.userData.prop_remove, 1 == t ? h.default.getInstance().reportProperty.remove_buy++ : 2 == t && h.default.getInstance().reportProperty.remove_ad++) : 2 == e ? (o = w.default.instance.trans(N.GDLanguage.props_cancel_claim), 
n = this.cancelBtn, r = "撤销道具", this.userData.prop_cancel = 1, this.userData.prop_cancel, 
1 == t ? h.default.getInstance().reportProperty.cancel_buy++ : 2 == t && h.default.getInstance().reportProperty.cancel_ad++) : 3 == e && (o = w.default.instance.trans(N.GDLanguage.props_random_claim), 
n = this.randomBtn, r = "洗牌道具", this.userData.prop_random = 1, this.userData.prop_random, 
1 == t ? h.default.getInstance().reportProperty.random_buy++ : 2 == t && h.default.getInstance().reportProperty.random_ad++);
var i = "每日挑战";
h.default.getInstance().gameType == u.GAMETYPE.GAMEDAILY ? i = "每日挑战" : h.default.getInstance().gameType == u.GAMETYPE.GAMETOPIC && (i = "话题挑战"), 
2 == t ? _.default.reportTACommon("game_skill_ad", {
item_name: r,
game_type: i
}) : 3 == t && _.default.reportTACommon("game_skill_share", {
item_name: r,
game_type: i
}), l.default.saveUserData(this.userData), this.setGameLayerUiData(), cc.game.emit("showMainTips", o);
(o = cc.instantiate(this.propPrefab)).getComponent(b.default).showWithType(e, n, this.movePropFunc.bind(this)), 
this.node.addChild(o), this.node.setSiblingIndex(20);
}, t.prototype.movePropFunc = function() {
this.gameIsStopFunc(!1);
}, t.prototype.showPropPop = function(e, t) {
this.gameIsStopFunc(!0);
t = {
popName: "getPropPop",
showPopData: {
popCallbackCollect: this.popCallbackCollect,
popType: e,
coinNum: t
}
};
cc.game.emit("showPop", t);
}, s([ C(cc.Node) ], t.prototype, "removeBtn", void 0), s([ C(cc.Node) ], t.prototype, "removeBg1", void 0), 
s([ C(cc.Node) ], t.prototype, "removeMask", void 0), s([ C(cc.Label) ], t.prototype, "removeNumLabel", void 0), 
s([ C(cc.Node) ], t.prototype, "removeVedio", void 0), s([ C(cc.Node) ], t.prototype, "cancelBtn", void 0), 
s([ C(cc.Node) ], t.prototype, "cancelBg1", void 0), s([ C(cc.Node) ], t.prototype, "cancelMask", void 0), 
s([ C(cc.Label) ], t.prototype, "cancelNumLabel", void 0), s([ C(cc.Node) ], t.prototype, "cancelVedio", void 0), 
s([ C(cc.Node) ], t.prototype, "randomBtn", void 0), s([ C(cc.Node) ], t.prototype, "randomBg1", void 0), 
s([ C(cc.Node) ], t.prototype, "randomMask", void 0), s([ C(cc.Label) ], t.prototype, "randomNumLabel", void 0), 
s([ C(cc.Node) ], t.prototype, "randomVedio", void 0), s([ C(cc.Node) ], t.prototype, "setUpBtn", void 0), 
s([ C(cc.Node) ], t.prototype, "moveOutArea", void 0), s([ C(cc.Node) ], t.prototype, "chessboardNode", void 0), 
s([ C(cc.Node) ], t.prototype, "crushArea", void 0), s([ C(cc.Node) ], t.prototype, "levelNode", void 0), 
s([ C(cc.Label) ], t.prototype, "levelNumLabel", void 0), s([ C(cc.Node) ], t.prototype, "stageOneNode", void 0), 
s([ C(cc.Node) ], t.prototype, "stageTwoNode", void 0), s([ C(cc.Node) ], t.prototype, "maskStage", void 0), 
s([ C(cc.Prefab) ], t.prototype, "propPrefab", void 0), s([ S ], t);
}(cc.Component);
i.default = O;
cc._RF.pop();
}, {} ],
gd_language: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "82e75ge7rlLCb24BwrY9eZO", "gd_language");
var n = o;
Object.defineProperty(n, "__esModule", {
value: !0
}), n.GDLanguage = void 0, function(e) {
e.main_screen = "1", e.leaderboard = "2", e.daily_challenge = "3", e.collect = "4", 
e.level_1 = "5", e.coin_more = "6", e.claim_level = "7", e.life_more = "8", e.life_countdown = "9", 
e.life_more_play = "10", e.life_full = "11", e.life_1 = "12", e.unlock_all = "13", 
e.set_up = "14", e.set_up_sound_effect = "15", e.set_up_music = "16", e.set_up_shock = "17", 
e.set_up_contact_service = "18", e.set_up_id = "19", e.set_up_share = "20", e.game_version = "21", 
e.fully = "22", e.upgrade_coin = "23", e.coin_inadequate = "24", e.upgrade = "25", 
e.daily_play = "26", e.daily_start = "27", e.win_frequency = "28", e.collect_title = "29", 
e.wallpaper = "30", e.wallpaper_dinner = "31", e.wallpaper_lighthouse = "32", e.wallpaper_lazy_time = "33", 
e.wallpaper_waiting_alone = "34", e.wallpaper_meteor_shower = "35", e.wallpaper_quiet_night = "36", 
e.wallpaper_road = "37", e.wallpaper_snow = "38", e.wallpaper_starry = "39", e.wallpaper_commuter_road = "40", 
e.wallpaper_moon = "41", e.wallpaper_stay_tuned = "42", e.block_bricks = "43", e.block_remove = "44", 
e.block_cancel = "45", e.block_random = "46", e.props_get = "47", e.props_buy = "48", 
e.props_free = "49", e.chest_level_treasure = "50", e.chest_journey = "51", e.continue = "52", 
e.pop_claim = "53", e.playing_continue = "54", e.version_view = "55", e.not_enough_space = "56", 
e.time_over = "57", e.give_up = "58", e.pop_sure = "59", e.life_lose = "60", e.props_remove_claim = "61", 
e.draw_back = "62", e.withdraw = "63", e.put_recent = "64", e.props_disrupt = "65", 
e.shuffle_unused = "66", e.revive_remove = "67", e.challenge_unlocked_level = "68", 
e.pop_restart = "69", e.pop_quit = "70", e.life_run_out = "71", e.streak_award = "72", 
e.streak_lose = "73", e.challenge_pass = "74", e.function_1 = "75", e.home_return = "76", 
e.pop_player = "77", e.life_more_2 = "78", e.full_1 = "79", e.pop_stacked = "80", 
e.not_unlocked = "81", e.level_new_tomorrow = "82", e.level_inadequate = "83", e.life_inadequate = "84", 
e.video_see = "85", e.map_over = "86", e.props_remove_inadequate = "87", e.props_cancel_inadequate = "88", 
e.props_random_inadequate = "89", e.props_random_claim = "90", e.share_fail = "91", 
e.coin_claim_play = "92", e.life_full_play = "93", e.sprint_level_3 = "94", e.game_continue = "95", 
e.life_full_already = "96", e.tomorrow_play = "97", e.more_time = "98", e.life_lose_ed = "99", 
e.lose_cookies = "100", e.resurrection = "101", e.collect_cookie = "102", e.ok_title = "103", 
e.wallpaper_harbour = "104", e.wallpaper_lamp = "105", e.props_cancel_claim = "106";
}(n.GDLanguage || (n.GDLanguage = {}));
cc._RF.pop();
}, {} ],
getLovePop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "ed619JcknNAHJiwu50VgegD", "getLovePop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("gd_language"), l = r("i18n"), u = r("CcJsFunc"), p = r("dataTs"), d = r("util"), f = r("uma-sdk"), h = r("sdk"), y = cc._decorator, m = y.ccclass, g = y.property, b = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.getLoveBtn = null, t.closeBtn = null, t.titleLabel = null, t.getLoveDescLabel = null, 
t.getLoveTimeLabel = null, t.descLabel = null, t.receiveLabel = null, t.popNode = null, 
t.showPopData = null, t;
}
return a(t, e), t.prototype.start = function() {
u.default.addbtnTouchStartScale(this.getLoveBtn), u.default.addbtnTouchEndScale(this.getLoveBtn, this.getLoveFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.getLoveBtn), u.default.addbtnTouchStartScale(this.closeBtn), 
u.default.addbtnTouchEndScale(this.closeBtn, this.hideGetLovePop.bind(this)), u.default.addbtnTouchCancelScale(this.closeBtn), 
this.titleLabel.string = l.default.instance.trans(c.GDLanguage.life_more), this.getLoveDescLabel.string = l.default.instance.trans(c.GDLanguage.life_countdown), 
this.descLabel.string = l.default.instance.trans(c.GDLanguage.life_more_play), this.receiveLabel.string = l.default.instance.trans(c.GDLanguage.life_1);
}, t.prototype.showGetLovePop = function(e) {
h.default.showNativeAd(!0);
this.node.active = !0, this.showPopData = e, console.log("获得爱心弹窗", this.showPopData), 
cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start();
var t = p.default.updateLoveTime();
0 == t ? this.getLoveTimeLabel.string = "play" : (t = (e = d.default.formatTime(t))[2] < 10 ? "0" + e[2] : e[2] + "", 
e = e[3] < 10 ? "0" + e[3] : e[3] + "", this.getLoveTimeLabel.string = t + ":" + e);
}, t.prototype.getLoveFunc = function() {}, t.prototype.hideGetLovePop = function() {
this.node.active = !1, f.default.trackEvent("life_refuse");
}, s([ g(cc.Node) ], t.prototype, "getLoveBtn", void 0), s([ g(cc.Node) ], t.prototype, "closeBtn", void 0), 
s([ g(cc.Label) ], t.prototype, "titleLabel", void 0), s([ g(cc.Label) ], t.prototype, "getLoveDescLabel", void 0), 
s([ g(cc.Label) ], t.prototype, "getLoveTimeLabel", void 0), s([ g(cc.Label) ], t.prototype, "descLabel", void 0), 
s([ g(cc.Label) ], t.prototype, "receiveLabel", void 0), s([ g(cc.Node) ], t.prototype, "popNode", void 0), 
s([ m ], t);
}(cc.Component);
i.default = b;
cc._RF.pop();
}, {} ],
getPropPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5d202skrZlNSY1om5DswGw5", "getPropPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("gd_language"), l = r("i18n"), u = r("CcJsFunc"), p = r("dataTs"), d = r("enumConfig"), f = r("sdk"), h = r("data-manager"), y = r("GameManager"), m = r("report-common"), g = cc._decorator, b = g.ccclass, v = g.property, _ = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mask = null, t.closeBtn = null, t.freePropBtn = null, t.popNode = null, 
t.titleLabel = null, t.descLabel = null, t.buyLabel = null, t.freeLabel = null, 
t.freeDescLabel = null, t.propImage = null, t.noBlockBtn = null, t.noWhiteBtn = null, 
t.beginBtn = null, t.freeBtnVideo = null, t.beginBtnVideo = null, t.timeNode = null, 
t.showPopData = null, t;
}
return a(t, e), t.prototype.start = function() {
u.default.addbtnTouchEndScale(this.mask, this.maskBtnFunc.bind(this)), u.default.addbtnTouchStartScale(this.closeBtn), 
u.default.addbtnTouchEndScale(this.closeBtn, this.closeBtnFunc.bind(this)), u.default.addbtnTouchCancelScale(this.closeBtn), 
u.default.addbtnTouchStartScale(this.noBlockBtn), u.default.addbtnTouchEndScale(this.noBlockBtn, this.noBlockBtnFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.noBlockBtn), u.default.addbtnTouchStartScale(this.noWhiteBtn), 
u.default.addbtnTouchEndScale(this.noWhiteBtn, this.noWhiteBtnFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.noWhiteBtn), u.default.addbtnTouchStartScale(this.freePropBtn), 
u.default.addbtnTouchEndScale(this.freePropBtn, this.freePropBtnFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.freePropBtn), u.default.addbtnTouchStartScale(this.beginBtn), 
u.default.addbtnTouchEndScale(this.beginBtn, this.beginBtnFunc.bind(this)), u.default.addbtnTouchCancelScale(this.beginBtn);
}, t.prototype.maskBtnFunc = function() {
4 != this.showPopData.popType && 5 != this.showPopData.popType && (this.node.active = !1);
}, t.prototype.closeBtnFunc = function() {
this.node.active = !1, this.showPopData && this.showPopData.popCallbackCollect && this.showPopData.popCallbackCollect.exitCallBack();
}, t.prototype.noBlockBtnFunc = function() {
this.node.active = !1, 4 == this.showPopData.popType ? cc.game.emit("showPop", {
popName: "failPop",
showPopData: {
popCallbackCollect: null,
failType: 2
}
}) : 5 == this.showPopData.popType && cc.game.emit(d.EMITKEY.SHOWMAINLAYER);
}, t.prototype.noWhiteBtnFunc = function() {
this.node.active = !1, 4 != this.showPopData.popType && 5 != this.showPopData.popType || cc.game.emit(d.EMITKEY.SHOWMAINLAYER);
}, t.prototype.freePropBtnFunc = function() {
console.log("beginBtnFunc ### unLimitVideo = " + y.default.getInstance().unLimitVideo);
if (4 == this.showPopData.popType && 1 <= y.default.getInstance().sheepMark.resurgenceCount) {
console.log("FM_ getPropPop.freePropBtnFunc，无复活机会");
cc.game.emit(d.EMITKEY.SHOWMAINTIPS, "无复活机会");
} else {
if (this.showPopData && this.showPopData.popCallbackCollect) {
console.log("FM_ getPropPop.popCallbackCollect.freeCallBack", this.showPopData.popType);
this.showPopData.popCallbackCollect.freeCallBack(this.showPopData.popType);
} else console.log("FM_ getPropPop.popCallbackCollect.freeCallBack is invalid.", this.showPopData.popType);
this.updateWxUI();
}
}, t.prototype.beginBtnFunc = function() {
if (console.log("beginBtnFunc ### unLimitVideo = " + y.default.getInstance().unLimitVideo), 
y.default.getInstance().unLimitVideo) return cc.game.emit(d.EMITKEY.RESTARTNOWLEVEL), 
m.default.reportTACommon("challenge_again", {}), void (this.node.active = !1);
if (6 == this.showPopData.popType) return this.showPopData && this.showPopData.popCallbackCollect && this.showPopData.popCallbackCollect.freeCallBack(this.showPopData.popType), 
void (this.node.active = !1);
var e = this, t = p.default.GetVedioID();
f.default.watchAdVideo({
id: t,
success: function() {
cc.game.emit(d.EMITKEY.RESTARTNOWLEVEL), m.default.reportTACommon("challenge_again", {}), 
e.node.active = !1;
},
fail: function() {
console.log("失败");
},
nofit: function() {
e.shareTTAction();
}
});
}, t.prototype.shareTTAction = function() {
var e, t, o = this;
f.default.isPlatform(f.Platform.wx) ? (t = p.default.GetVedioID(), e = p.default.getUserData().openid, 
f.default.share(e, t, function() {
o.shareCbMethod();
}, function() {
cc.game.emit(d.EMITKEY.SHOWMAINTIPS, "分享失败，请分享微信群与好友PK");
})) : f.default.isPlatform(f.Platform.tt) && (t = {
popName: "shareNodePop",
showPopData: {
type: 2,
shareCb: this.shareCbMethod.bind(this)
}
}, cc.game.emit("showPop", t));
}, t.prototype.shareCbMethod = function() {
console.log("分享成功 ######"), cc.game.emit(d.EMITKEY.RESTARTNOWLEVEL), m.default.reportTACommon("challenge_again_share", {}), 
this.node.active = !1;
}, t.prototype.showGetPropPop = function(e) {
this.node.active = !0, this.showPopData = e, this.noBlockBtn.active = !1, this.noWhiteBtn.active = !0, 
this.closeBtn.active = !0, this.freePropBtn.active = !0, this.beginBtn.active = !1, 
this.beginBtnVideo.active = !0, this.noWhiteBtn.getChildByName("label").getComponent(cc.Label).string = "不,谢谢", 
cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start();
var t, o = e.popType, n = "", r = "";
e = "Buy props";
this.freeLabel.string = "获得", this.updateWxUI(), 1 == o ? (n = "rewardIcon/prop_remove.png", 
e = "移出道具", r = l.default.instance.trans(c.GDLanguage.draw_back), (t = 1 - y.default.getInstance().sheepMark.propRemoveCount) < 0 && (t = 0), 
this.freeDescLabel.string = "(" + t + "/1)") : 2 == o ? (n = "rewardIcon/prop_cancel.png", 
e = "撤回道具", r = l.default.instance.trans(c.GDLanguage.put_recent), (t = 1 - y.default.getInstance().sheepMark.propCancelCount) < 0 && (t = 0), 
this.freeDescLabel.string = "(" + t + "/1)") : 3 == o ? (n = "rewardIcon/prop_random.png", 
e = "洗牌道具", r = l.default.instance.trans(c.GDLanguage.shuffle_unused), (t = 1 - y.default.getInstance().sheepMark.propRandomCount) < 0 && (t = 0), 
this.freeDescLabel.string = "(" + t + "/1)") : 4 == o ? (n = "rewardIcon/prop_life_remove.png", 
e = "复活吗?", r = "复活并继续曼波", souVoice("heheh"), this.noBlockBtn.active = !0, this.noWhiteBtn.active = !1, 
this.closeBtn.active = !1, this.freeLabel.string = "复活", console.warn(y.default.getInstance().sheepMark.resurgenceCount), 
(t = 1 - y.default.getInstance().sheepMark.resurgenceCount) < 0 && (t = 0), this.freeDescLabel.string = "(" + t + "/1)") : 5 == o ? (this.closeBtn.active = !(e = "再次挑战"), 
this.freeDescLabel.string = "", this.freeLabel.string = "重新挑战", this.noWhiteBtn.getChildByName("label").getComponent(cc.Label).string = "返回羊群", 
r = "观看视频，以获得1次\n额外的挑战机会。", this.freePropBtn.active = !(n = "rewardIcon/prop_life_one.png"), 
this.beginBtn.active = !0, y.default.getInstance().unLimitVideo ? (this.beginBtnVideo.active = !1, 
r = "已获得无限次数挑战\n赶紧试试吧", n = "rewardIcon/prop_nolimit.png") : this.beginBtnVideo.active = !0) : 6 == o && (e = "再次挑战", 
this.freeDescLabel.string = "", this.freeLabel.string = "挑战一次", this.noWhiteBtn.getChildByName("label").getComponent(cc.Label).string = "不,谢谢", 
r = "观看视频，以获得1次\n额外的挑战机会。", this.freePropBtn.active = !(n = "rewardIcon/prop_life_one.png"), 
this.beginBtn.active = !0), u.default.changeSpriteFrame(this.propImage, n), this.descLabel.string = r, 
this.titleLabel.string = e;
"复活吗?" != e && f.default.showNativeAd(!0);
}, t.prototype.updateWxUI = function() {
var e, t, o = this.showPopData.popType;
p.default.isPlatform(p.GDPlatform.wx) && (console.log("FM_  PlatformWx_ getPropPop.updateWxUI"), 
e = h.default.getPropData(), console.log("propData = ", e), t = 0, y.default.getInstance().gameType == d.GAMETYPE.GAMEDAILY ? 1 == o ? t = e.daily.prop_remove : 2 == o ? t = e.daily.prop_cancel : 3 == o && (t = e.daily.prop_random) : y.default.getInstance().gameType == d.GAMETYPE.GAMETOPIC && (1 == o ? t = e.topic.prop_remove : 2 == o ? t = e.topic.prop_cancel : 3 == o && (t = e.topic.prop_random)), 
0 < t || "shareValue" == f.default.wxValue ? u.default.changeSpriteFrame(this.freeBtnVideo, "rewardIcon/reward_share_black.png") : u.default.changeSpriteFrame(this.freeBtnVideo, "rewardIcon/reward_video_block.png"), 
h.default.setPropData(e));
}, s([ v(cc.Node) ], t.prototype, "mask", void 0), s([ v(cc.Node) ], t.prototype, "closeBtn", void 0), 
s([ v(cc.Node) ], t.prototype, "freePropBtn", void 0), s([ v(cc.Node) ], t.prototype, "popNode", void 0), 
s([ v(cc.Label) ], t.prototype, "titleLabel", void 0), s([ v(cc.Label) ], t.prototype, "descLabel", void 0), 
s([ v(cc.Label) ], t.prototype, "buyLabel", void 0), s([ v(cc.Label) ], t.prototype, "freeLabel", void 0), 
s([ v(cc.Label) ], t.prototype, "freeDescLabel", void 0), s([ v(cc.Node) ], t.prototype, "propImage", void 0), 
s([ v(cc.Node) ], t.prototype, "noBlockBtn", void 0), s([ v(cc.Node) ], t.prototype, "noWhiteBtn", void 0), 
s([ v(cc.Node) ], t.prototype, "beginBtn", void 0), s([ v(cc.Node) ], t.prototype, "freeBtnVideo", void 0), 
s([ v(cc.Node) ], t.prototype, "beginBtnVideo", void 0), s([ v(cc.Node) ], t.prototype, "timeNode", void 0), 
s([ b ], t);
}(cc.Component);
i.default = _;
cc._RF.pop();
}, {} ],
gfclass: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b8a35mSXhtCmrWyLL6AuMFd", "gfclass");
Object.defineProperty(o, "__esModule", {
value: !0
});
o.gfcls = void 0;
o.gfcls = function() {
return function() {};
};
cc._RF.pop();
}, {} ],
giftLayerAnimate: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fb227UOAFRM+a9fREJ/Svyr", "giftLayerAnimate");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("gd_language"), l = r("i18n"), u = r("brickSubPrefab"), p = r("wallpaperSubPrefab"), d = r("rewardPrefab"), f = r("CcJsFunc"), h = r("dataTs"), y = r("audio"), m = r("spine"), g = cc._decorator, b = g.ccclass, v = g.property, _ = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.maskNode = null, t.lightBg = null, t.titleNode = null, t.gift1Node = null, 
t.gift2Node = null, t.getBtn = null, t.getBtnLabel = null, t.giftBg = null, t.rewardPrefab = null, 
t.brickSubPrefab = null, t.wallpaperSubPrefab = null, t.rewardNodeArray = [], t.rewardData = null, 
t.collectionItem = null, t.ribbonBoxData = null, t.btnCb = null, t.collectionCb = null, 
t.ribbonCb = null, t;
}
return a(t, e), t.prototype.start = function() {
f.default.addbtnTouchStartScale(this.getBtn), f.default.addbtnTouchEndScale(this.getBtn, this.btnEndFunc.bind(this)), 
f.default.addbtnTouchCancelScale(this.getBtn), this.getBtnLabel.string = l.default.instance.trans(c.GDLanguage.pop_claim);
}, t.prototype.showRewardLayer = function(e, t, o, n, r, i) {
if (this.rewardData = e, this.collectionItem = t, this.ribbonBoxData = o, this.node.active = !0, 
this.titleNode.active = !1, this.gift1Node.active = !1, this.giftBg.active = !1, 
this.lightBg.active = !1, this.getBtn.scale = 0, this.rewardNodeArray = [], this.btnCb = n, 
this.collectionCb = r, this.ribbonCb = i, e) {
console.log("金币奖励", JSON.stringify(e));
for (var a = 0; a < 2; a++) (s = cc.instantiate(this.rewardPrefab)).x = 0, s.y = 0, 
s.scale = 0, s.getComponent(d.default).setRewardNode(this.rewardData[a]), this.rewardNodeArray.push(s), 
this.node.addChild(s);
this.playGift1Anim();
} else if (t) {
console.log("收藏奖励");
i = t.wallpaper, e = t.brick, t = h.default.getPictureData();
0 < i && ((i = cc.instantiate(this.wallpaperSubPrefab)).x = 0, i.y = 0, i.scale = 0, 
i.getComponent(p.default).rewardNodeData(t.bgNum), this.rewardNodeArray.push(i), 
this.node.addChild(i)), 0 < e && ((e = cc.instantiate(this.brickSubPrefab)).x = 0, 
e.y = 0, e.scale = 0, e.getComponent(u.default).rewardNodeData(t.brickNum), this.rewardNodeArray.push(e), 
this.node.addChild(e)), this.playGift2Anim();
} else if (o) {
for (console.log("Ribbon奖励", JSON.stringify(o)), a = 0; a < o.length; a++) {
var s;
(s = cc.instantiate(this.rewardPrefab)).x = 0, s.y = 0, s.scale = 0, s.getComponent(d.default).setRewardNode(o[a]), 
this.rewardNodeArray.push(s), this.node.addChild(s);
}
this.playGift3Anim();
} else console.log("暂无奖励");
}, t.prototype.playGift1Anim = function() {
var e = this;
e.gift1Node.active = !0, e.gift1Node.getComponent(m.default).setFrameEventCb("Open1", function() {
y.default.playAudioMusic("audio/sound/Open1.mp3", !1);
}), e.gift1Node.getComponent(m.default).setFrameEventCb("Eff_Sheen1", function() {
e.titleNode.active = !0, y.default.playAudioMusic("audio/sound/Words1.mp3", !1), 
e.titleNode.getComponent(m.default).play("Award1_Words1", 1), cc.tween(e.giftBg).to(.3, {
scale: 1.5
}).call(function() {
cc.tween(e.giftBg).by(40, {
angle: 360
}).repeatForever().start();
}, e).start();
}), e.gift1Node.getComponent(m.default).setFrameEventCb("Treasure1", function() {
e.giftBg.active = !0, cc.tween(e.giftBg).by(40, {
angle: 360
}).repeatForever().start(), e.playRewardNode();
}), e.gift1Node.getComponent(m.default).play("Ref1_Open1", 1);
}, t.prototype.playGift2Anim = function() {
var e = this;
this.gift1Node.active = !0, this.gift1Node.getComponent(m.default).setFrameEventCb("Open1", function() {
console.log("1"), y.default.playAudioMusic("audio/sound/Open1.mp3", !1);
}), this.gift1Node.getComponent(m.default).setFrameEventCb("Eff_Sheen1", function() {
e.titleNode.active = !0, y.default.playAudioMusic("audio/sound/Words2.mp3", !1), 
e.titleNode.getComponent(m.default).play("Award1_Words4", 1), cc.tween(e.lightBg).to(.3, {
scale: 1.5
}).call(function() {
cc.tween(e.lightBg).by(40, {
angle: 360
}).repeatForever().start();
}, e).start();
}), this.gift1Node.getComponent(m.default).setFrameEventCb("Treasure1", function() {
console.log("3"), e.lightBg.active = !0, cc.tween(e.lightBg).by(40, {
angle: 360
}).repeatForever().start(), e.playCollectionNode();
}), this.gift1Node.getComponent(m.default).play("Ref1_Open2", 1, function() {
console.log("4");
});
}, t.prototype.playGift3Anim = function() {
var e = this;
this.gift1Node.active = !0, this.gift1Node.getComponent(m.default).setFrameEventCb("Open1", function() {
console.log("1"), y.default.playAudioMusic("audio/sound/Open1.mp3", !1);
}), this.gift1Node.getComponent(m.default).setFrameEventCb("Eff_Sheen1", function() {
e.titleNode.active = !0, y.default.playAudioMusic("audio/sound/Words1.mp3", !1), 
e.titleNode.getComponent(m.default).play("Award1_Words1", 1), cc.tween(e.lightBg).to(.3, {
scale: 1.5
}).call(function() {
cc.tween(e.lightBg).by(40, {
angle: 360
}).repeatForever().start();
}, e).start();
}), this.gift1Node.getComponent(m.default).setFrameEventCb("Treasure1", function() {
console.log("3"), e.lightBg.active = !0, cc.tween(e.lightBg).by(40, {
angle: 360
}).repeatForever().start(), e.playRibbonAnimationNode();
}), this.gift1Node.getComponent(m.default).play("Ref1_Open5", 1, function() {
console.log("4");
});
}, t.prototype.btnEndFunc = function() {
this.getBtn.stopAllActions();
for (var e = 0; e < this.rewardNodeArray.length; e++) this.rewardNodeArray[e].destroy();
this.rewardNodeArray = [], this.node.active = !1, !this.btnCb || this.collectionItem || this.ribbonBoxData ? this.collectionItem ? (this.collectionCb && this.collectionCb(), 
console.log("collectionCb")) : this.ribbonBoxData ? (this.ribbonCb && this.ribbonCb(), 
console.log("ribbonCb")) : console.log("else") : (console.log("btnCb"), this.btnCb());
}, t.prototype.playAnimationFloat = function(e, t) {
var o = this;
cc.tween(e).by(1, {
y: t
}).call(function() {
o.playAnimationFloat(e, -t);
}).start();
}, t.prototype.playRewardNode = function() {
var e = this;
cc.tween(this.rewardNodeArray[0]).to(.1, {
scale: 1.4,
x: -150
}).to(.1, {
scale: 1
}).to(.1, {
scale: 1.2
}).to(.1, {
scale: 1
}).start(), cc.tween(this.rewardNodeArray[1]).delay(.1).to(.1, {
scale: 1.4,
x: 150
}).to(.1, {
scale: 1
}).call(function() {
cc.tween(e.getBtn).to(.1, {
scale: 1.3
}).to(.1, {
scale: 1
}).start();
}, this).to(.1, {
scale: 1.2
}).to(.1, {
scale: 1
}).start();
}, t.prototype.playCollectionNode = function() {
var e = this;
0 < this.collectionItem.wallpaper && cc.tween(this.rewardNodeArray[0]).to(.1, {
scale: 1.4,
y: 200
}).to(.1, {
scale: 1
}).to(.1, {
scale: 1.2
}).to(.1, {
scale: 1
}).call(function() {
e.playAnimationFloat(e.rewardNodeArray[0], 10), cc.tween(e.getBtn).to(.1, {
scale: 1.3
}).to(.1, {
scale: 1
}).start();
}).start(), 0 < this.collectionItem.brick && cc.tween(this.rewardNodeArray[0]).to(.1, {
scale: 1.4,
y: 200
}).to(.1, {
scale: 1
}).to(.1, {
scale: 1.2
}).to(.1, {
scale: 1
}).call(function() {
e.playAnimationFloat(e.rewardNodeArray[0], 10), cc.tween(e.getBtn).to(.1, {
scale: 1.3
}).to(.1, {
scale: 1
}).start();
}).start();
}, t.prototype.playRibbonAnimationNode = function() {
var e = this;
if (console.log(this.rewardNodeArray.length), 4 <= this.rewardNodeArray.length) for (var t = this, o = 0; o < this.rewardNodeArray.length; o++) !function(o) {
cc.tween(t.rewardNodeArray[o]).delay(.1).to(.1, {
scale: 1,
x: o % 2 * 240 - 120,
y: 250 + -200 * Math.floor(o / 2)
}).to(.1, {
scale: .8
}).to(.1, {
scale: 1
}).to(.1, {
scale: .8
}).call(function() {
e.playAnimationFloat(e.rewardNodeArray[o], 10), cc.tween(e.getBtn).to(.1, {
scale: 1.3
}).to(.1, {
scale: 1
}).start();
}).start();
}(o); else 1 == this.rewardNodeArray.length && cc.tween(this.rewardNodeArray[0]).to(.1, {
scale: 1.4,
y: 200
}).to(.1, {
scale: 1
}).to(.1, {
scale: 1.2
}).to(.1, {
scale: 1
}).call(function() {
e.playAnimationFloat(e.rewardNodeArray[0], 10), cc.tween(e.getBtn).to(.1, {
scale: 1.3
}).to(.1, {
scale: 1
}).start();
}).start();
}, s([ v(cc.Node) ], t.prototype, "maskNode", void 0), s([ v(cc.Node) ], t.prototype, "lightBg", void 0), 
s([ v(cc.Node) ], t.prototype, "titleNode", void 0), s([ v(cc.Node) ], t.prototype, "gift1Node", void 0), 
s([ v(cc.Node) ], t.prototype, "gift2Node", void 0), s([ v(cc.Node) ], t.prototype, "getBtn", void 0), 
s([ v(cc.Label) ], t.prototype, "getBtnLabel", void 0), s([ v(cc.Node) ], t.prototype, "giftBg", void 0), 
s([ v(cc.Prefab) ], t.prototype, "rewardPrefab", void 0), s([ v(cc.Prefab) ], t.prototype, "brickSubPrefab", void 0), 
s([ v(cc.Prefab) ], t.prototype, "wallpaperSubPrefab", void 0), s([ b ], t);
}(cc.Component);
i.default = _;
cc._RF.pop();
}, {} ],
houseLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cba24z/7chDBLdHt1z34v1a", "houseLayer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = cc._decorator, l = c.ccclass, u = c.property, p = r("enumConfig"), d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mainCultivateLayer = null, t.wardrobeLayer = null, t.touchStartPoint = null, 
t.pointLength = 0, t.scaleCoef = .05 * .05, t.touchNum = 0, t.maxScale = 1, t.moveBigScale = 1.5, 
t.disLength = 50, t.oldPosit = null, t.oldScale = 1, t.changeClothes = null, t;
}
return a(t, e), t.prototype.start = function() {
this.node.on("touchstart", this.touchStartFunc, this), this.node.on("touchmove", this.touchMoveFunc, this), 
this.node.on("touchend", this.touchEndFunc, this), this.node.on("touchcancel", this.touchCancelFunc, this), 
this.changeClothes = this.wardrobeLayer.getChildByName("changeClothes");
}, t.prototype.moveWithRoomId = function(e) {
var t = this.node.width * this.node.scale / 2 - cc.winSize.width / 2, o = 0;
e == p.ROOMTYPE.ROOMONE ? o = 0 : e == p.ROOMTYPE.ROOMTWO ? o = -t : e == p.ROOMTYPE.ROOMTHREE && (o = t), 
cc.tween(this.node).to(.3, {
x: o,
y: 0
}).start();
}, t.prototype.toBigMiddle = function(e) {
this.oldPosit = this.node.position, this.oldScale = this.node.scale;
var t = e.convertToWorldSpaceAR(cc.v2(0, 0));
e = cc.winSize.width / 2 - t.x, t = cc.winSize.height / 2 - this.disLength - t.y, 
e = (this.node.x + e) * this.moveBigScale, t = (this.node.y + t) * this.moveBigScale;
cc.tween(this.node).to(.3, {
x: e,
y: t,
scale: this.moveBigScale
}, {
easing: cc.easing.cubicOut
}).start();
}, t.prototype.toMinDefault = function() {
this.oldPosit && cc.tween(this.node).to(.2, {
x: this.oldPosit.x,
y: this.oldPosit.y,
scale: this.oldScale
}).start(), this.oldPosit = null;
}, t.prototype.touchStartFunc = function(e) {
e = e.getLocation();
this.touchStartPoint = e, this.pointLength = 0, this.touchNum++;
}, t.prototype.touchMoveFunc = function(e) {
var t, o;
this.changeClothes.activeInHierarchy ? console.log("changeClothes 存在不走滑动逻辑") : 1 == e.getTouches().length ? (this.moveActionFunc(e.getLocation()), 
this.touchStartPoint = e.getLocation()) : 2 == e.getTouches().length && (this.touchStartPoint = e.getLocation(), 
t = e.getTouches()[0].getLocation(), o = e.getTouches()[1].getLocation(), 0 == this.pointLength ? this.pointLength = t.sub(o).mag() : (t = (e = t.sub(o).mag()) - this.pointLength, 
o = Math.abs(t), 0 != t && 1 < o && (this.scaleNode(t), this.pointLength = e)));
}, t.prototype.touchEndFunc = function() {
this.touchNum--, this.pointLength = 0;
}, t.prototype.touchCancelFunc = function() {
this.touchNum--;
}, t.prototype.scaleNode = function(e) {
var t, o, n = null;
0 < e ? (o = this.maxScale, this.node.scale < o && (n = (n = this.node.scale + this.scaleCoef * e) > o ? o : n)) : (t = 1, 
this.node.x < 0 && (t = -1), (o = this.node.width * this.node.scale / 2) < Math.abs(this.node.x) + cc.winSize.width / 2 && (this.node.x = t * (o - cc.winSize.width / 2)), 
t = 1, this.node.y < 0 && (t = -1), (o = this.node.height * this.node.scale / 2) < Math.abs(this.node.y) + cc.winSize.height / 2 && (this.node.y = t * (o - cc.winSize.height / 2)), 
1 < this.node.scale && (n = (n = this.node.scale + this.scaleCoef * e) < 1 ? 1 : n)), 
null != n && (this.node.scale = n);
}, t.prototype.moveActionFunc = function(e) {
var t = e.x - this.touchStartPoint.x;
e = e.y - this.touchStartPoint.y;
this.node.x = this.node.x + t, this.node.y = this.node.y + e;
t = this.node.width * this.node.scale / 2 - cc.winSize.width / 2, e = this.node.height * this.node.scale / 2 - cc.winSize.height / 2;
this.node.x < -t && (this.node.x = -t), this.node.x > t && (this.node.x = t), this.node.y < -e && (this.node.y = -e), 
this.node.y > e && (this.node.y = e);
}, s([ u(cc.Node) ], t.prototype, "mainCultivateLayer", void 0), s([ u(cc.Node) ], t.prototype, "wardrobeLayer", void 0), 
s([ l ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {} ],
http: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0c9d6/yg2FJlZ/64VA6Vfe9", "http");
var n = e, r = o, i = function() {
return (i = Object.assign || function(e) {
for (var t, o = 1, n = arguments.length; o < n; o++) for (var r in t = arguments[o]) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
return e;
}).apply(this, arguments);
}, a = function(e, t, o, n) {
return new (o = o || Promise)(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
var t;
e.done ? r(e.value) : ((t = e.value) instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
}
c((n = n.apply(e, t || [])).next());
});
}, s = function(e, t) {
var o, n, r, i = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
}, a = {
next: s(0),
throw: s(1),
return: s(2)
};
return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(a) {
return function(s) {
return function(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;i; ) try {
if (o = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, a[1])).done) return r;
switch (n = 0, (a = r ? [ 2 & a[0], r.value ] : a)[0]) {
case 0:
case 1:
r = a;
break;

case 4:
return i.label++, {
value: a[1],
done: !1
};

case 5:
i.label++, n = a[1], a = [ 0 ];
continue;

case 7:
a = i.ops.pop(), i.trys.pop();
continue;

default:
if (!(r = 0 < (r = i.trys).length && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
i = 0;
continue;
}
if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
i.label = a[1];
break;
}
if (6 === a[0] && i.label < r[1]) {
i.label = r[1], r = a;
break;
}
if (r && i.label < r[2]) {
i.label = r[2], i.ops.push(a);
break;
}
r[2] && i.ops.pop(), i.trys.pop();
continue;
}
a = t.call(e, i);
} catch (e) {
a = [ 6, e ], n = 0;
} finally {
o = r = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}([ a, s ]);
};
}
};
Object.defineProperty(r, "__esModule", {
value: !0
}), r.Method = void 0;
var c, l = n("query-string");
!function(e) {
e.OPTIONS = "OPTIONS", e.GET = "GET", e.HEAD = "HEAD", e.POST = "POST", e.PUT = "PUT", 
e.DELETE = "DELETE", e.TRACE = "TRACE", e.CONNECT = "CONNECT";
}(c = r.Method || (r.Method = {}));
var u = function() {
function e() {}
return e.requestBefore = function(e) {
this.requestBeforeFunc = e;
}, e.queryString = function(e) {
var t, o = "?", n = !1;
for (t in e) n ? o += "&" : n = !0, o += t + "=" + e[t];
return o;
}, e.get = function(e) {
return a(this, void 0, Promise, function() {
var t, o, n, r, i;
return s(this, function(a) {
switch (a.label) {
case 0:
return t = e.host, o = e.url, n = e.params, r = e.baseParams, i = e.header, i = {
method: c.GET,
url: t + o,
params: n,
baseParams: r,
header: i,
success: e.success,
fail: e.fail
}, [ 4, this.requestSync(i) ];

case 1:
return [ 2, a.sent() ];
}
});
});
}, e.post = function(e) {
return a(this, void 0, Promise, function() {
var t, o, n, r, i, a, l, u, p, d;
return s(this, function(s) {
switch (s.label) {
case 0:
if (t = e.host, o = e.url, n = e.params, r = e.baseParams, i = e.data, a = e.header, 
d = e.type, l = {}, "file" == d) {
for (p in u = new FormData(), i) u.append(p, i[p]);
l = u;
} else l = i;
return d = {
method: c.POST,
url: t + o,
data: l,
params: n,
baseParams: r,
header: a,
type: d,
success: e.success,
fail: e.fail
}, [ 4, this.requestSync(d) ];

case 1:
return [ 2, s.sent() ];
}
});
});
}, e.wxRequest = function(e) {
wx.request({
url: e.url + this.queryString(e.params),
data: e.data,
method: e.method,
header: i({}, e.header),
success: function(t) {
e.success && e.success(t.data);
},
fail: function(t) {
e.fail && e.fail(t);
}
});
}, e.h5Request = function(e) {
var t = e.success, o = e.fail, n = e.type, r = e.contentType || e.header["Content-type"] || "";
try {
var a = e.method, s = "", c = null, u = i(i({}, e.baseParams), e.params);
"POST" === a ? c = "file" == n ? (s = e.url + this.queryString(u), e.data) : (s = e.url + this.queryString(u), 
"" == r && (r = "application/x-www-form-urlencoded"), l.stringify(e.data)) : s = e.url + this.queryString(i(i({}, e.data), u));
var p = e.timeout || 0, d = new XMLHttpRequest();
0 < p && (d.timeout = p), d.onreadystatechange = function() {
if (4 == d.readyState) if (200 <= d.status && d.status < 400) {
var e = {}, n = "";
try {
e = JSON.parse(d.responseText);
} catch (e) {
n = e;
}
"" == n ? t && t(e) : o && o(n);
} else o && o("status: " + d.status);
}, d.open(a, s, !0), r && d.setRequestHeader("Content-Type", r), d.send(c), d.ontimeout = function() {
o && o("request timeout"), console.log("%c>> %c连接超时 %c<<", "color:red", "color:purple", "color:red");
}, d.onerror = function(e) {
console.warn("request error", e), o && o(e);
};
} catch (e) {
console.warn("request err", e), o && o(e);
}
}, e.request = function(e) {
(e = this.requestBeforeFunc ? this.requestBeforeFunc(e) : e).header = e.header ? i(i({}, e.baseParams), e.header) : e.baseParams, 
cc.sys.platform == cc.sys.WECHAT_GAME ? this.wxRequest(e) : this.h5Request(e);
}, e.requestSync = function(e) {
var t = this;
return new Promise(function(o, n) {
var r = e.success, a = e.fail;
try {
t.request(i(i({}, e), {
success: function(e) {
r && r(e), o(e);
},
fail: function(e) {
a && a(e), n(e);
}
}));
} catch (e) {
a && a(e), n(e);
}
});
}, e.requestBeforeFunc = null, e;
}();
r.default = u;
cc._RF.pop();
}, {} ],
i18n: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1f5a5kEJdNJPatq/K4Gvl0i", "i18n");
var n = e, r = o, i = function(e, t, o, n) {
return new (o = o || Promise)(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
var t;
e.done ? r(e.value) : ((t = e.value) instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
}
c((n = n.apply(e, t || [])).next());
});
}, a = function(e, t) {
var o, n, r, i = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
}, a = {
next: s(0),
throw: s(1),
return: s(2)
};
return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(a) {
return function(s) {
return function(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;i; ) try {
if (o = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, a[1])).done) return r;
switch (n = 0, (a = r ? [ 2 & a[0], r.value ] : a)[0]) {
case 0:
case 1:
r = a;
break;

case 4:
return i.label++, {
value: a[1],
done: !1
};

case 5:
i.label++, n = a[1], a = [ 0 ];
continue;

case 7:
a = i.ops.pop(), i.trys.pop();
continue;

default:
if (!(r = 0 < (r = i.trys).length && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
i = 0;
continue;
}
if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
i.label = a[1];
break;
}
if (6 === a[0] && i.label < r[1]) {
i.label = r[1], r = a;
break;
}
if (r && i.label < r[2]) {
i.label = r[2], i.ops.push(a);
break;
}
r[2] && i.ops.pop(), i.trys.pop();
continue;
}
a = t.call(e, i);
} catch (e) {
a = [ 6, e ], n = 0;
} finally {
o = r = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}([ a, s ]);
};
}
}, s = function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var n = Array(e), r = 0;
for (t = 0; t < o; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, 
r++) n[r] = i[a];
return n;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var c = n("dataTs"), l = n("enumConfig"), u = n("str-utils"), p = [ "en", "id", "zh", "ar", "hi", "sp", "ru" ], d = [], f = function() {
function e() {
this._landCodeDefault = l.LangEnum.zhCN, this._langMap = null, this._langCode = l.LangEnum.zhCN;
}
return Object.defineProperty(e, "instance", {
get: function() {
return this._instance || (this._instance = new e()), this._instance;
},
enumerable: !1,
configurable: !0
}), Object.defineProperty(e.prototype, "langCode", {
get: function() {
return this._langCode;
},
enumerable: !1,
configurable: !0
}), e.prototype.getLanguageCode = function() {
var e, t = cc.sys.languageCode.toLowerCase();
console.log("FM_ 当前系统语言码：", t), t = (t = t && 0 != t.length ? t : this._landCodeDefault).toLowerCase().replace("-", "_"), 
!(-1 < d.indexOf(t)) && 0 < (e = t.indexOf("_")) ? (e = t.substring(0, e), -1 < p.indexOf(e) && (this._langCode = e)) : this._langCode = t, 
console.log("FM_ 实际使用语言码：", this._langCode), c.default.langCode = this._langCode, 
this._langMap = {};
}, e.prototype.init = function() {
console.log("FM_ i18n.init");
return i(this, void 0, Promise, function() {
var e = this;
return a(this, function() {
return this.getLanguageCode(), [ 2, new Promise(function(t) {
cc.assetManager.loadBundle(cc.resources.name, function(o, n) {
o || n.load("data/gd_language", cc.JsonAsset, function(o, r) {
if (!o) {
var i, a = r.json;
for (i in a) {
var s = a[i];
e._langMap[i] = s[e.langCode] && 0 < s[e.langCode].length ? s[e.langCode] : s[e._landCodeDefault];
}
n.release("data/gd_language", cc.JsonAsset), t();
}
});
});
}) ];
});
});
}, e.prototype.trans = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
var n = this._langMap[e];
if (n) return u.default.formatStr.apply(u.default, s([ n ], t));
console.error("!!!错误翻译键值：", e);
}, e._instance = null, e;
}();
r.default = f;
cc._RF.pop();
}, {} ],
"key-map": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "197c5Ibx59IfbkkbvaEx9/i", "key-map");
var n = o, r = function(e, t, o, n) {
return new (o = o || Promise)(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
var t;
e.done ? r(e.value) : ((t = e.value) instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
}
c((n = n.apply(e, t || [])).next());
});
}, i = function(e, t) {
var o, n, r, i = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
}, a = {
next: s(0),
throw: s(1),
return: s(2)
};
return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(a) {
return function(s) {
return function(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;i; ) try {
if (o = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, a[1])).done) return r;
switch (n = 0, (a = r ? [ 2 & a[0], r.value ] : a)[0]) {
case 0:
case 1:
r = a;
break;

case 4:
return i.label++, {
value: a[1],
done: !1
};

case 5:
i.label++, n = a[1], a = [ 0 ];
continue;

case 7:
a = i.ops.pop(), i.trys.pop();
continue;

default:
if (!(r = 0 < (r = i.trys).length && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
i = 0;
continue;
}
if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
i.label = a[1];
break;
}
if (6 === a[0] && i.label < r[1]) {
i.label = r[1], r = a;
break;
}
if (r && i.label < r[2]) {
i.label = r[2], i.ops.push(a);
break;
}
r[2] && i.ops.pop(), i.trys.pop();
continue;
}
a = t.call(e, i);
} catch (e) {
a = [ 6, e ], n = 0;
} finally {
o = r = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}([ a, s ]);
};
}
};
Object.defineProperty(n, "__esModule", {
value: !0
});
var a = function() {
function e() {}
return e.onKeyDown = function(e, t, o) {
e = "" + this.getCharCode(e);
this.downList[e] || (this.downList[e] = []), o && (t = t.bind(o)), this.downList[e].push(t);
}, e.onKeyUp = function(e, t, o) {
e = "" + this.getCharCode(e);
this.upList[e] || (this.upList[e] = []), o && (t = t.bind(o)), this.upList[e].push(t);
}, e.onKeyDownWithMeta = function(e, t) {
var o = "meta";
o = this.getCharCode(e) + "+" + (o = cc.sys.os == cc.sys.OS_WINDOWS ? "ctrl" : o);
this.downList[o] || (this.downList[o] = []), this.downList[o].push(t);
}, e.onKeyDownWithCtrl = function(e, t) {
e = this.getCharCode(e) + "+ctrl";
this.downList[e] || (this.downList[e] = []), this.downList[e].push(t);
}, e.keyDown = function(e) {
var t = e.keyCode;
this.funcKey(t, !0);
e = "" + t;
this.isMetaDown && (e = t + "+meta"), this.isCtrlDown && (e = t + "+ctrl"), this.downList[e] && this.downList[e].forEach(function(e) {
e && e();
});
}, e.keyUp = function(e) {
return r(this, void 0, Promise, function() {
var t, o;
return i(this, function() {
return t = e.keyCode, o = "" + t, this.funcKey(t, !1), this.upList[o] && this.upList[o].forEach(function(e) {
e && e();
}), [ 2 ];
});
});
}, e.funcKey = function(e, t) {
return r(this, void 0, Promise, function() {
return i(this, function() {
return this.updateFuncKey(e, t), [ 2 ];
});
});
}, e.updateFuncKey = function(e, t) {
18 == e ? this.isAltDown = t : 16 == e ? this.isShiftDown = t : 91 == e ? this.isMetaDown = t : 17 == e && (this.isCtrlDown = t);
}, e.isTrue = function(e) {
return e ? "✅" : "❌";
}, e.print = function() {
this.isTrue(this.isAltDown), this.isTrue(this.isShiftDown), this.isTrue(this.isCtrlDown), 
this.isTrue(this.isMetaDown);
}, e.getCharCode = function(e) {
return e.toUpperCase().charCodeAt(0);
}, e.downList = {}, e.upList = {}, e.isMetaDown = !1, e.isCtrlDown = !1, e.isAltDown = !1, 
e.isShiftDown = !1, e.funcKeyUpDelayTimer = 0, e;
}();
n.default = a, cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, a.keyDown, a), 
cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, a.keyUp, a);
cc._RF.pop();
}, {} ],
loadCanvas: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "29c5c6pohNMuIwinCm1KXPJ", "loadCanvas");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("dataTs"), l = r("enumConfig"), u = r("DateManager"), p = r("network-tool"), d = cc._decorator, f = d.ccclass, h = (d.property, 
function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.start = function() {
console.log("FM_ loadCanvas.start");
var e = u.default.format(l.CALENDARNAMES[8], new Date());
console.log("monthKey = ", e);
cc.game.on(cc.game.EVENT_HIDE, this.onGameHdie.bind(this));
cc.game.on(cc.game.EVENT_SHOW, this.onGameShow.bind(this));
}, t.prototype.onGameHdie = function() {
console.log("游戏进入后台");
cc.audioEngine.setMusicVolume(0);
}, t.prototype.onGameShow = function() {
console.log("游戏进入前台");
cc.audioEngine.setMusicVolume(1);
}, t.prototype.insertAllMap = function() {
console.log("FM_ loadCanvas.insertAllMap");
var e;
c.default.loadJsonData("data/map_ids", function(t) {
console.log("FM_ loadCanvas.loadJsonData cb ");
e = t, console.log("maps = " + t.length);
console.log("FM_ MapsIds JosnData:" + t);
for (var o = 0; o < e.length; o++) c.default.getOriginLevelMapData(e[o], function(e) {
var t;
e && (console.log("push=>", e.data.map_id), t = e.data.map_id, e = e.data.map_data, 
console.log("FM_ loadCanvas.setLevelMapData: ", t, e), p.default.setLevelMapData(t, e));
});
});
}, s([ f ], t);
}(cc.Component));
i.default = h;
cc._RF.pop();
}, {} ],
loadLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4d645A+CV5DRYYMx0geEXPK", "loadLayer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function() {
return (s = Object.assign || function(e) {
for (var t, o = 1, n = arguments.length; o < n; o++) for (var r in t = arguments[o]) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
return e;
}).apply(this, arguments);
}, c = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
}, l = function(e, t, o, n) {
return new (o = o || Promise)(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
var t;
e.done ? r(e.value) : ((t = e.value) instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
}
c((n = n.apply(e, t || [])).next());
});
}, u = function(e, t) {
var o, n, r, i = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
}, a = {
next: s(0),
throw: s(1),
return: s(2)
};
return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(a) {
return function(s) {
return function(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;i; ) try {
if (o = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, a[1])).done) return r;
switch (n = 0, (a = r ? [ 2 & a[0], r.value ] : a)[0]) {
case 0:
case 1:
r = a;
break;

case 4:
return i.label++, {
value: a[1],
done: !1
};

case 5:
i.label++, n = a[1], a = [ 0 ];
continue;

case 7:
a = i.ops.pop(), i.trys.pop();
continue;

default:
if (!(r = 0 < (r = i.trys).length && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
i = 0;
continue;
}
if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
i.label = a[1];
break;
}
if (6 === a[0] && i.label < r[1]) {
i.label = r[1], r = a;
break;
}
if (r && i.label < r[2]) {
i.label = r[2], i.ops.push(a);
break;
}
r[2] && i.ops.pop(), i.trys.pop();
continue;
}
a = t.call(e, i);
} catch (e) {
a = [ 6, e ], n = 0;
} finally {
o = r = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}([ a, s ]);
};
}
};
Object.defineProperty(i, "__esModule", {
value: !0
}), cc.macro.CLEANUP_IMAGE_CACHE = !1, cc.dynamicAtlasManager.enabled = !0;
var p = r("i18n"), d = r("CcJsFunc"), f = r("dataTs"), h = r("native-bridge"), y = r("native-def"), m = r("native-event"), g = r("share"), b = r("sdk"), v = r("spine"), _ = r("player-head-atlas"), w = r("GameManager"), N = r("report-common"), P = r("register-head-image"), A = r("uma-sdk"), S = cc._decorator, C = S.ccclass, O = S.property, D = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.bgLayer = null, t.loadProgressBar = null, t.descNode = null, t.userNode = null, 
t.privacyNode = null, t.chooseNode = null, t.chooseBg = null, t.beginNode = null, 
t.tipsNode = null, t.arrowBgBase = null, t.userNodeBase = null, t.loadNum = 0, t.loadOverNum = 2, 
t.initX = 250, t.initY = -60, t.progressCurrent = 0, t.progressAll = 2, t.sceneLoadEd = !1, 
t.loginStatusEd = !1, t;
}
return a(t, e), t.prototype.update = function(e) {
this.isNeedLogin() && !this.loginStatusEd || this.progressAction(e);
}, t.prototype.progressAction = function(e) {
this.progressCurrent += e, this.progressCurrent <= this.progressAll ? this.loadProgressBar.progress = this.progressCurrent / this.progressAll : this.progressCurrent > this.progressAll && (this.loadProgressBar.progress = 1, 
this.loadNum >= this.loadOverNum && !this.sceneLoadEd && (console.log("PUSH=>加载成功 update"), 
this.getInfoMainScene()));
}, t.prototype.start = function() {
console.log("FM_ loadLayer.start");
var e;
cc.game.on(m.NativeEvent.LeitingGetDeviceInfo, this.leitingGetDeviceInfo, this), 
cc.game.on(m.NativeEvent.LeitingLoginInfo, this.onLeitingLoginInfo, this), cc.game.on(m.NativeEvent.LeitingLoginErr, this.onLeitingLoginErr, this), 
this.bgLayer.getChildByName("sp").getComponent(v.default).play("2Grass", 0), this.isNeedLogin() ? (this.descNode.active = !0, 
e = cc.sys.localStorage.getItem("gameloading"), console.log("loading = ", e), e ? (this.beginNode.active = !1, 
this.arrowBgBase.active = !1, this.userNodeBase.active = !1, this.loginStatusEd = !0) : (this.beginNode.active = !0, 
this.arrowBgBase.active = !1, this.userNodeBase.active = !0)) : this.descNode.active = !1, 
w.default.getInstance().initData(), this.loadNum = 0, this.loadMainScene(), g.default.init(), 
this.loadCfg(), _.default.instance.init(2048, 2048, 100), P.registerHeadImgLoader(), 
d.default.addbtnTouchOriginEndScale(this.userNode, this.userNodeFunc.bind(this)), 
d.default.addbtnTouchOriginEndScale(this.privacyNode, this.privacyNodeFunc.bind(this)), 
d.default.addbtnTouchOriginEndScale(this.chooseBg, this.chooseBgFunc.bind(this)), 
d.default.addbtnTouchOriginEndScale(this.beginNode, this.beginNodeFunc.bind(this)), 
this.tipsNode.active = !1;
}, t.prototype.userNodeFunc = function() {
console.log("用户协议");
}, t.prototype.privacyNodeFunc = function() {
console.log("隐私政策");
}, t.prototype.chooseBgFunc = function() {
console.log("FM_ loadLayer.chooseBgFunc");
this.chooseNode.active = !this.chooseNode.active, console.log("选择 = ", this.chooseNode.activeInHierarchy);
}, t.prototype.beginNodeFunc = function() {
console.log("FM_ loadLayer.beginNodeFunc");
cc.sys.localStorage.setItem("gameloading", "gameloading"), this.loginStatusEd = !0, 
this.loadCfg();
}, t.prototype.leitingGetDeviceInfo = function() {
console.log("FM_ loadLayer.leitingGetDeviceInfo");
var e = f.default.getUserData();
e && e.userID && 0 < e.userID.length && h.default.callNative(y.NativeFun.publicParamsInfo, {
userId: e.userID
}), h.default.deviceInfo && (e = {
androidid: h.default.deviceInfo.androidId,
chennal: "310001",
gameCode: "59"
}, h.default.leitingReport("af_before_login", e));
}, t.prototype.onLeitingLoginInfo = function() {
console.log("FM_ loadLayer.onLeitingLoginInfo");
this.loginStatusEd = !0, this.loadJson(), N.default.reportTACommon("login", {
login_type: "正常登录"
}), h.default.loginInfo && (h.default.loginInfo.userId, h.default.media);
var e, t = {};
h.default.deviceInfo && (e = f.default.getUserData(), t = {
androidid: h.default.deviceInfo.androidId,
chennal: "310001",
gameCode: "59",
userId: e.userID,
type: 2,
roldId: h.default.deviceInfo.gaid
});
var o = {};
h.default.loginInfo && (e = f.default.getUserData(), o = {
loginType: "1",
chennal: h.default.loginInfo.channelNo,
gameCode: "59",
userId: e.userID,
type: 2,
serviceName: "海外测试服",
serviceId: "1",
loginMode: "1",
playLevelId: e.playLevelId
});
o = s(s({}, t), o);
console.log("FM_ loadLayer.onLeitingLoginInfo", o);
h.default.leitingReport("af_login", o);
}, t.prototype.onLeitingLoginErr = function() {
this.loginStatusEd = !0, this.loadJson();
}, t.prototype.loadCfg = function() {
return l(this, void 0, Promise, function() {
return u(this, function(e) {
console.log("FM_ loadLayer.loadCfg", e.label);
switch (e.label) {
case 0:
return [ 4, p.default.instance.init() ];

case 1:
return e.sent(), this.isNeedLogin() && !this.loginStatusEd || this.loadJson(), [ 2 ];
}
});
});
}, t.prototype.isNeedLogin = function() {
return !!(b.default.isPlatform(b.Platform.android) || b.default.isPlatform(b.Platform.oppo) || b.default.isPlatform(b.Platform.vivo));
}, t.prototype.loadJson = function() {
var e = this;
f.default.initData(function() {
console.log("FM_ loadLayer.initData");
var t = f.default.getUserData();
A.default.setUserid(t.userID);
var o, n = f.default.getHourseUnlockData(), r = 0;
if (n.length) {
var i, a = n[n.length - 1];
for (i in a) if (!a[i].unlock) {
r = a[i].unlockID;
break;
}
}
for (o in r || n.length, t.dailyData) for (var s in t.dailyData[o]) t.dailyData[o][s].isWin;
e.loadScene();
}), N.default.initTA();
}, t.prototype.loadMainScene = function() {
var e = this;
cc.director.preloadScene("game", function() {}, function() {
console.log("PUSH=>主场景加载完成"), e.loadScene();
});
}, t.prototype.loadScene = function() {
this.loadNum += 1, console.log("PUSH=>", this.loadNum), this.loadNum >= this.loadOverNum && this.progressCurrent >= this.progressAll && !this.sceneLoadEd && (console.log("PUSH=>loadScene加载成功"), 
this.getInfoMainScene());
}, t.prototype.getInfoMainScene = function() {
this.sceneLoadEd = !0, N.default.reportTACommon("app_start", {
step: "启动"
}), cc.director.loadScene("game", function() {
console.log("PUSH=>进入主场景");
});
}, c([ O(cc.Node) ], t.prototype, "bgLayer", void 0), c([ O(cc.ProgressBar) ], t.prototype, "loadProgressBar", void 0), 
c([ O(cc.Node) ], t.prototype, "descNode", void 0), c([ O(cc.Node) ], t.prototype, "userNode", void 0), 
c([ O(cc.Node) ], t.prototype, "privacyNode", void 0), c([ O(cc.Node) ], t.prototype, "chooseNode", void 0), 
c([ O(cc.Node) ], t.prototype, "chooseBg", void 0), c([ O(cc.Node) ], t.prototype, "beginNode", void 0), 
c([ O(cc.Node) ], t.prototype, "tipsNode", void 0), c([ O(cc.Node) ], t.prototype, "arrowBgBase", void 0), 
c([ O(cc.Node) ], t.prototype, "userNodeBase", void 0), c([ C ], t);
}(cc.Component);
i.default = D;
cc._RF.pop();
}, {} ],
loseCookiePop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8756cpkvkBHlIyfdBoS6jSg", "loseCookiePop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("gd_language"), l = r("i18n"), u = r("CcJsFunc"), p = r("GameManager"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mainLayer = null, t.popNode = null, t.titleLabel = null, t.descLabel = null, 
t.numLabel = null, t.exitLabel = null, t.restartLabel = null, t.mainLabel = null, 
t.restartBtn = null, t.closeBtn = null, t.mainMenuBtn = null, t.exitBtn = null, 
t.heartNode = null, t.cookieNumLabel = null, t.showPopData = null, t;
}
return a(t, e), t.prototype.start = function() {
cc.game.on("blowupHeartAnim", this.blowupHeartAnimFunc, this), u.default.addbtnTouchStartScale(this.closeBtn), 
u.default.addbtnTouchEndScale(this.closeBtn, this.hideLoseLovePop.bind(this)), u.default.addbtnTouchCancelScale(this.closeBtn), 
u.default.addbtnTouchStartScale(this.restartBtn), u.default.addbtnTouchEndScale(this.restartBtn, this.restartFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.restartBtn), u.default.addbtnTouchStartScale(this.mainMenuBtn), 
u.default.addbtnTouchEndScale(this.mainMenuBtn, this.returnMainMenuFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.mainMenuBtn), u.default.addbtnTouchStartScale(this.exitBtn), 
u.default.addbtnTouchEndScale(this.exitBtn, this.exitBtnFunc.bind(this)), u.default.addbtnTouchCancelScale(this.exitBtn), 
this.setupFonts();
}, t.prototype.setupFonts = function() {
this.titleLabel.string = l.default.instance.trans(c.GDLanguage.pop_sure), this.restartLabel.string = l.default.instance.trans(c.GDLanguage.pop_restart), 
this.exitLabel.string = l.default.instance.trans(c.GDLanguage.pop_quit), this.mainLabel.string = l.default.instance.trans(c.GDLanguage.main_screen), 
this.descLabel.string = l.default.instance.trans(c.GDLanguage.lose_cookies);
}, t.prototype.blowupHeartAnimFunc = function(e) {
0 == e ? this.node.active = !1 : 1 == e && cc.tween(this.heartNode).to(.2, {
scale: 1.2
}).to(.1, {
scale: 1
}).start();
}, t.prototype.showPop = function(e) {
this.node.active = !0, this.showPopData = e, cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), this.restartBtn.active = !1, this.mainMenuBtn.active = !1, this.exitBtn.active = !1, 
0 == this.showPopData.popType ? (this.restartBtn.active = !0, this.mainMenuBtn.active = !0, 
this.popNode.height = 700) : 1 == this.showPopData.popType && (this.exitBtn.active = !0, 
this.popNode.height = 600), this.cookieNumLabel.getComponent(cc.Label).string = "x" + p.default.getInstance().cookieDict.cookieCurCount;
}, t.prototype.hideLoseLovePop = function() {
this.node.active = !1, cc.game.emit("blowupHeartAnim", 0);
}, t.prototype.restartFunc = function() {
this.exitBtnFunc();
}, t.prototype.returnMainMenuFunc = function() {
this.exitBtnFunc();
}, t.prototype.exitBtnFunc = function() {
this.node.active = !1, cc.game.emit("blowupHeartAnim", 1);
}, s([ h(cc.Node) ], t.prototype, "mainLayer", void 0), s([ h(cc.Node) ], t.prototype, "popNode", void 0), 
s([ h(cc.Label) ], t.prototype, "titleLabel", void 0), s([ h(cc.Label) ], t.prototype, "descLabel", void 0), 
s([ h(cc.Label) ], t.prototype, "numLabel", void 0), s([ h(cc.Label) ], t.prototype, "exitLabel", void 0), 
s([ h(cc.Label) ], t.prototype, "restartLabel", void 0), s([ h(cc.Label) ], t.prototype, "mainLabel", void 0), 
s([ h(cc.Node) ], t.prototype, "restartBtn", void 0), s([ h(cc.Node) ], t.prototype, "closeBtn", void 0), 
s([ h(cc.Node) ], t.prototype, "mainMenuBtn", void 0), s([ h(cc.Node) ], t.prototype, "exitBtn", void 0), 
s([ h(cc.Node) ], t.prototype, "heartNode", void 0), s([ h(cc.Node) ], t.prototype, "cookieNumLabel", void 0), 
s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
loseLovePop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "86deeGjM+dBbIIFyxI9LHFp", "loseLovePop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("enumConfig"), u = r("data-manager"), p = r("report-common"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mask = null, t.popNode = null, t.titleNode = null, t.titleLabel = null, 
t.descNode = null, t.closeBtn = null, t.giveupBtn = null, t.noGiveupBtn = null, 
t.showPopData = null, t;
}
return a(t, e), t.prototype.start = function() {
c.default.addbtnTouchEndScale(this.mask, this.hideLoseLovePop.bind(this)), c.default.addbtnTouchStartScale(this.closeBtn), 
c.default.addbtnTouchEndScale(this.closeBtn, this.hideLoseLovePop.bind(this)), c.default.addbtnTouchCancelScale(this.closeBtn), 
c.default.addbtnTouchStartScale(this.giveupBtn), c.default.addbtnTouchEndScale(this.giveupBtn, this.giveupBtnFunc.bind(this)), 
c.default.addbtnTouchCancelScale(this.giveupBtn), c.default.addbtnTouchStartScale(this.noGiveupBtn), 
c.default.addbtnTouchEndScale(this.noGiveupBtn, this.noGiveupBtnFunc.bind(this)), 
c.default.addbtnTouchCancelScale(this.noGiveupBtn);
}, t.prototype.showLoseLovePop = function(e) {
this.node.active = !0, this.showPopData = e, cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), 0 == this.showPopData.popType ? (this.popNode.height = 715, this.descNode.active = !0) : 1 == this.showPopData.popType && (this.popNode.height = 601, 
this.descNode.active = !1);
}, t.prototype.hideLoseLovePop = function() {
this.node.active = !1;
}, t.prototype.giveupBtnFunc = function() {
console.log("打开主页面"), cc.game.emit(l.EMITKEY.SHOWMAINLAYER);
var e = u.default.getTAUserInfo();
p.default.reportTACommon("game_give_up", e);
}, t.prototype.noGiveupBtnFunc = function() {
this.node.active = !1;
}, s([ h(cc.Node) ], t.prototype, "mask", void 0), s([ h(cc.Node) ], t.prototype, "popNode", void 0), 
s([ h(cc.Node) ], t.prototype, "titleNode", void 0), s([ h(cc.Label) ], t.prototype, "titleLabel", void 0), 
s([ h(cc.Node) ], t.prototype, "descNode", void 0), s([ h(cc.Node) ], t.prototype, "closeBtn", void 0), 
s([ h(cc.Node) ], t.prototype, "giveupBtn", void 0), s([ h(cc.Node) ], t.prototype, "noGiveupBtn", void 0), 
s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
"main-cookie-reward": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "98ef1B9rVlIgINOcS1NN8Sh", "main-cookie-reward");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("cookiePrefab"), l = r("CcJsFunc"), u = r("dataTs"), p = r("enumConfig"), d = r("spine"), f = r("util"), h = r("GameManager"), y = r("report-common"), m = cc._decorator, g = m.ccclass, b = m.property, v = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.clickBtn = null, t.cookieImg = null, t.progressBar = null, t.progressLabel = null, 
t.rewardImage = null, t.rewardNumLabel = null, t.clockSpine = null, t.timeLabel = null, 
t.cookiePrefab = null, t.startNode = null, t.updateTime = 0, t.progressOld = 0, 
t.progressNew = 0, t.isUpdate = !1, t.rewardData = null, t.cookieNum = 0, t.rewardCallback = null, 
t;
}
return a(t, e), t.prototype.update = function(e) {
this.updateTime += e, 1 <= this.updateTime && (--this.updateTime, this.updateTimeNum()), 
this.isUpdate && (this.progressOld += 15 * e, this.progressOld < this.progressNew && this.rewardData ? this.progressBar.progress = this.progressOld / this.rewardData.cookieNum : (this.isUpdate = !1, 
this.checkProgressFunc()));
}, t.prototype.updateTimeNum = function() {
var e = u.default.gameConfigData.baseConfigData.cookieRewardLevel;
u.default.getUserData().playLevelId < e || (0 == (e = u.default.updateCookieRewardTime()) ? (console.log("已满"), 
this.timeLabel.string = "End") : 0 < (e = f.default.formatTime(e))[0] ? this.timeLabel.string = e[0] + "d" + e[1] + "h" : 0 < e[1] ? this.timeLabel.string = e[1] + "h" + e[2] + "m" : (0 < e[2] || 0 < e[3]) && (this.timeLabel.string = e[2] + "m" + e[3] + "s"));
}, t.prototype.start = function() {
this.clockSpine.getComponent(d.default).play("5Clock1", 0), this.updateSubViewFunc(), 
this.updateTimeNum();
}, t.prototype.updateSubViewFunc = function() {
var e = u.default.gameConfigData.baseConfigData.cookieReward;
console.log("cookieReward", JSON.stringify(e));
var t = u.default.getCookieRewardData();
console.log("cookieData", JSON.stringify(t)), console.log("cookieDict", JSON.stringify(h.default.getInstance().cookieDict)), 
this.progressNew = t.cookieNum, this.progressOld = t.cookieNum - h.default.getInstance().cookieDict.cookie, 
this.progressOld < 0 && (this.progressOld = 0);
var o = t.progress;
3 <= o && (t.progress = o = 0, u.default.setCookieRewardData(t)), this.rewardData = e[o], 
console.log("rewardData", JSON.stringify(this.rewardData));
(o = t.cookieNum) >= this.rewardData.cookieNum && (o = this.rewardData.cookieNum), 
this.progressLabel.string = o + "/" + this.rewardData.cookieNum, this.rewardNumLabel.string = this.rewardData.rewardCount + "", 
this.progressBar.progress = this.progressOld / this.rewardData.cookieNum;
t = "rewardIcon/" + this.rewardData.rewardType + ".png";
l.default.changeSpriteFrame(this.rewardImage, t), h.default.getInstance().cookieDict.cookie = 0, 
h.default.getInstance().cookieDict.cookieCurCount = 0, console.log("清空cookieDict", h.default.getInstance().cookieDict), 
this.cookieNum = o;
}, t.prototype.checkProgressFunc = function() {
var e;
this.cookieNum >= this.rewardData.cookieNum ? (this.getRewardFunc(), (e = u.default.getCookieRewardData()).progress += 1, 
3 < e.progress && (e.progress = 0), e.cookieNum > this.rewardData.cookieNum ? (console.log("多的饼干计入下一奖励", e.cookieNum - this.rewardData.cookieNum), 
e.cookieNum = e.cookieNum - this.rewardData.cookieNum, h.default.getInstance().cookieDict.cookie = e.cookieNum) : e.cookieNum = 0, 
u.default.setCookieRewardData(e), this.updateSubViewFunc(), this.isUpdate = !0) : cc.game.emit(p.EMITKEY.HIDEMASKLAYER);
}, t.prototype.callbackFunc = function() {
console.log("奖励播放成功 ######"), cc.game.emit(p.EMITKEY.HIDEMASKLAYER), cc.game.emit(p.EMITKEY.MAINUPDATEUI);
}, t.prototype.rewardCallbackFunc = function() {
this.rewardCallback && this.rewardCallback();
}, t.prototype.getRewardFunc = function() {
console.log("领取奖励", JSON.stringify(this.rewardData));
var e, t, o = u.default.getUserData(), n = this.rewardData.rewardType;
"reward_fish" == n ? o.fish += this.rewardData.rewardCount : (o[n] += this.rewardData.rewardCount, 
e = 0, t = "", "prop_remove" == n ? (e = 1, t = "移出道具") : "prop_cancel" == n ? (e = 2, 
t = "撤销道具") : "prop_random" == n && (e = 3, t = "洗牌道具"), n = o[n], y.default.reportTACommon("item_get", {
item_id: e,
item_type: "消耗道具",
item_name: t,
change_num: 1,
num_before: n - 1,
num_after: n,
action: "饼干活动开启宝箱",
reason: "宝箱获得道具"
})), u.default.saveUserData(o);
o = {
popName: "showRewardPop",
showPopData: {
popCallbackCollect: null,
rewardData: this.rewardData,
startNode: this.rewardImage,
endNode: this.startNode,
popType: 1,
callback: this.callbackFunc.bind(this),
rewardCallback: this.rewardCallbackFunc.bind(this)
}
};
cc.game.emit("showPop", o);
}, t.prototype.checkCookie = function(e, t) {
if (this.rewardCallback = t, console.log("cookieDict", h.default.getInstance().cookieDict), 
h.default.getInstance().cookieDict.cookie <= 0) return console.log("cookie <= 0 ######"), 
void (e && e());
var o = this, n = l.default.getWorldPosition(this.startNode), r = (t = l.default.getNodePosition(this.node, n), 
n = l.default.getWorldPosition(this.cookieImg), n = l.default.getNodePosition(this.node, n), 
cc.instantiate(this.cookiePrefab));
this.node.addChild(r), r.getComponent(c.default).showData(1, h.default.getInstance().cookieDict.cookie), 
r.position = cc.v3(t), r.scale = 0, cc.tween(r).to(.2, {
scale: 1.2
}).to(.2, {
scale: 1
}).delay(.2).to(.3, {
position: cc.v3(t.x + 10, t.y - 10)
}).to(.3, {
position: cc.v3(t.x - 12, t.y - 12)
}).to(.5, {
position: cc.v3(n)
}).call(function() {
r.destroy(), cc.tween(o.cookieImg).to(.1, {
scale: 1.2
}).to(.1, {
scale: 1
}).call(function() {
e && e(), o.updateSubViewFunc(), cc.game.emit(p.EMITKEY.HIDEMASKLAYER), o.isUpdate = !0;
}).start();
}).start();
}, s([ b(cc.Node) ], t.prototype, "clickBtn", void 0), s([ b(cc.Node) ], t.prototype, "cookieImg", void 0), 
s([ b(cc.ProgressBar) ], t.prototype, "progressBar", void 0), s([ b(cc.Label) ], t.prototype, "progressLabel", void 0), 
s([ b(cc.Node) ], t.prototype, "rewardImage", void 0), s([ b(cc.Label) ], t.prototype, "rewardNumLabel", void 0), 
s([ b(cc.Node) ], t.prototype, "clockSpine", void 0), s([ b(cc.Label) ], t.prototype, "timeLabel", void 0), 
s([ b(cc.Prefab) ], t.prototype, "cookiePrefab", void 0), s([ b(cc.Node) ], t.prototype, "startNode", void 0), 
s([ g ], t);
}(cc.Component);
i.default = v;
cc._RF.pop();
}, {} ],
"main-rank": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9b6efOXGmVLpb6Xc/L4u6Jt", "main-rank");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
}, c = function(e, t, o, n) {
return new (o = o || Promise)(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
var t;
e.done ? r(e.value) : ((t = e.value) instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
}
c((n = n.apply(e, t || [])).next());
});
}, l = function(e, t) {
var o, n, r, i = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
}, a = {
next: s(0),
throw: s(1),
return: s(2)
};
return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(a) {
return function(s) {
return function(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;i; ) try {
if (o = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, a[1])).done) return r;
switch (n = 0, (a = r ? [ 2 & a[0], r.value ] : a)[0]) {
case 0:
case 1:
r = a;
break;

case 4:
return i.label++, {
value: a[1],
done: !1
};

case 5:
i.label++, n = a[1], a = [ 0 ];
continue;

case 7:
a = i.ops.pop(), i.trys.pop();
continue;

default:
if (!(r = 0 < (r = i.trys).length && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
i = 0;
continue;
}
if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
i.label = a[1];
break;
}
if (6 === a[0] && i.label < r[1]) {
i.label = r[1], r = a;
break;
}
if (r && i.label < r[2]) {
i.label = r[2], i.ops.push(a);
break;
}
r[2] && i.ops.pop(), i.trys.pop();
continue;
}
a = t.call(e, i);
} catch (e) {
a = [ 6, e ], n = 0;
} finally {
o = r = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}([ a, s ]);
};
}
}, u = function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var n = Array(e), r = 0;
for (t = 0; t < o; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, 
r++) n[r] = i[a];
return n;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var p = r("api-sheep"), d = r("CcJsFunc"), f = r("dataTs"), h = r("enumConfig"), y = r("spine"), m = r("GameManager"), g = r("report-common"), b = r("data-manager"), v = r("mainUiLayer"), _ = r("ScrollMsg"), w = r("sheep-flock"), N = r("audio"), P = r("ApiTool"), A = cc._decorator, S = A.ccclass, C = A.property, O = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mainUILayer = null, t.bgSp = null, t.capSp = null, t.sunglassesSp = null, 
t.hairSp = null, t.sheepFlock = null, t.positionNode = null, t.positionNodeIcon = null, 
t.positionNodeCycle = null, t.scrollMsg = null, t.iconNode = null, t.catNodeIcon = null, 
t.sunNodeIcon = null, t.hairNodeIcon = null, t.catNodeIconWoman = null, t.sunNodeIconWoman = null, 
t.hairNodeIconWoman = null, t.dataArray = [], t.sheepArray = [], t.marginH = 0, 
t.contentH = 0, t.contentY = 0, t.curIdx = 0, t.userIdx = 0, t.winSuccess = !1, 
t.stageInfo = null, t.scrollToPosition = !1, t.isFirstEnter = !0, t;
}
return a(t, e), t.prototype.playSpAnimation = function() {
this.node.on(cc.Node.EventType.TOUCH_MOVE, function(e) {
e = e.touch.getDelta();
this.moveActionFunc(e.y);
}, this), this.bgSp.getComponent(y.default).play("Stage1", 0), this.capSp.getComponent(y.default).play("Stage1", 0), 
this.sunglassesSp.getComponent(y.default).setNewSkin("00"), this.sunglassesSp.getComponent(y.default).play("Stage1", 0), 
this.hairSp.getComponent(y.default).play("Stage1", 0);
var e = this.capSp.getChildByName("click"), t = this.sunglassesSp.getChildByName("click"), o = this.hairSp.getChildByName("click");
d.default.addbtnTouchEndScale(e, this.capClickFunc.bind(this, 1)), d.default.addbtnTouchEndScale(t, this.capClickFunc.bind(this, 2)), 
d.default.addbtnTouchEndScale(o, this.capClickFunc.bind(this, 3)), this.catNodeIcon = this.iconNode.getChildByName("cat-icon"), 
this.sunNodeIcon = this.iconNode.getChildByName("sun-icon"), this.hairNodeIcon = this.iconNode.getChildByName("hair-icon"), 
this.catNodeIconWoman = this.iconNode.getChildByName("cat-icon-woman"), this.sunNodeIconWoman = this.iconNode.getChildByName("sun-icon-woman"), 
this.hairNodeIconWoman = this.iconNode.getChildByName("hair-icon-woman"), this.catNodeIcon.opacity = 0, 
this.sunNodeIcon.opacity = 0, this.hairNodeIcon.opacity = 0, this.catNodeIconWoman.opacity = 0, 
this.sunNodeIconWoman.opacity = 0, this.hairNodeIconWoman.opacity = 0;
}, t.prototype.capClickFunc = function(e) {
console.log("idx = " + e);
e = {
popName: "stagePop",
showPopData: {
idx: e,
stageInfo: this.stageInfo
}
};
cc.game.emit("showPop", e);
}, t.prototype.start = function() {
cc.game.on(h.EMITKEY.USERINFOSUCCESS, this.showUserInfoFunc, this), this.playSpAnimation(), 
this.positionNode.zIndex = 100, this.positionNode.on(cc.Node.EventType.TOUCH_END, function() {
g.default.reportTACommon("fast_indexing_click", {}), this.scrollToPosition = !0, 
this.positionNodeFunc();
}, this), this.positionNode.active = !1;
}, t.prototype.showUserInfoFunc = function() {
console.log(" Data.user.avatar = " + b.default.user.avatar, b.default.user.uid), 
d.default.setAvatar(this.positionNodeIcon, b.default.user.avatar);
}, t.prototype.update = function() {
this.scrollToPosition && this.showOrHide();
}, t.prototype.positionNodeFunc = function() {
var e = this;
this.positionNode.active = !1, this.node.stopAllActions();
var t = this.contentY + 750 * this.userIdx, o = .3 * this.userIdx;
2 <= (o = 0 == o ? .5 : o) && (o = 2), cc.tween(this.node).to(o, {
y: t
}, {
easing: cc.easing.cubicOut
}).call(function() {
cc.game.emit(h.EMITKEY.SHOWUSERNODE), e.scrollToPosition = !1;
}, this).start();
}, t.prototype.onEnable = function() {
var e = this;
this.scheduleOnce(function() {
e.requestData();
}, .1), cc.audioEngine.setMusicVolume(1), cc.game.setFrameRate(30), m.default.setGameType(h.GAMETYPE.GAMEMAIN), 
N.default.playBGM();
}, t.prototype.requestData = function() {
return c(this, void 0, void 0, function() {
return l(this, function(e) {
switch (e.label) {
case 0:
return this.positionNode.active = !1, f.default.isLogin() ? [ 4, p.default.requestRankUserInfo() ] : [ 3, 2 ];

case 1:
e.sent(), e.label = 2;

case 2:
return console.log("PUSH=>请求网络数据 ######"), this.getStageInfo(), this.getRankInfo(), 
[ 2 ];
}
});
});
}, t.prototype.orderby = function(e, t) {
if (e.length <= 1) return e;
for (var o = Math.floor(e.length / 2), n = e.splice(o, 1)[0], r = [], i = [], a = 0, s = e; a < s.length; a++) {
var c = s[a];
(t(c) < t(n) ? r : i).push(c);
}
return this.orderby(r, t).concat([ n ], this.orderby(i, t));
}, t.prototype.bubbleSort = function(e) {
for (var t, o = u(e), n = 0, r = o.length; n < r; n++) for (var i = 0; i < r - 1 - n; i++) 0 < o[i].win_score || o[i].fail_score < o[i + 1].fail_score && (t = [ o[i + 1], o[i] ], 
o[i] = t[0], o[i + 1] = t[1]);
return o;
}, t.prototype.getStageInfo = function() {
console.log("FM_ main-rank.getStageInfo");
var e = this, t = b.default.getStageData();
t ? (console.log("使用缓存数据->舞台"), e.setInfoData(t)) : (console.log("缓存数据过期->舞台"), 
p.default.getStageInfoData(function(t) {
e.setInfoData(t), b.default.setStageData(t);
}));
}, t.prototype.setInfoData = function(e) {
this.stageInfo = e.data, this.setStageInfo();
}, t.prototype.getRankInfo = function() {
0 < m.default.getInstance().game_over && m.default.getInstance().playGameCount < 2 && f.default.removeItem(h.STORAGEKEY.RANKDATA);
var e = this, t = b.default.getRankData();
t ? (console.log("使用本地缓存数据->排行榜数据"), e.setRankData(t)) : (console.log("本地缓存数据不存在或已过期->排行榜数据"), 
p.default.getRankInfoData(function(t) {
e.setRankData(t), b.default.setRankData(t);
}));
}, t.prototype.setRankData = function(e) {
console.warn("FM_ rankInfo:", e);
this.setSubViewData(e.data.list), m.default.getInstance().rankInfo = e.data, this.mainUILayer.getComponent(v.default).showBottomRankNode(e.data.user);
}, t.prototype.setStageInfo = function() {
var e = this.stageInfo;
this.catNodeIcon.opacity = 0, this.sunNodeIcon.opacity = 0, this.hairNodeIcon.opacity = 0, 
this.catNodeIconWoman.opacity = 0, this.sunNodeIconWoman.opacity = 0, this.hairNodeIconWoman.opacity = 0, 
e.firstWin && e.firstWin.nick_name && e.firstWin.nick_name.length && (this.capSp.active = !0, 
console.log("info.firstWin.gender = " + e.firstWin.gender), 0 == e.firstWin.gender ? (this.catNodeIcon.opacity = 255, 
d.default.setAvatar(this.catNodeIcon, e.firstWin.avatar)) : (this.catNodeIconWoman.opacity = 255, 
d.default.setAvatar(this.catNodeIconWoman, e.firstWin.avatar))), e.iqWin && e.iqWin.nick_name && e.iqWin.nick_name.length ? (this.sunglassesSp.active = !0, 
this.sunglassesSp.getComponent(y.default).play("Stage1", 0), console.log("info.iqWin.gender = " + e.iqWin.gender), 
0 == e.iqWin.gender ? (this.sunNodeIcon.opacity = 255, d.default.setAvatar(this.sunNodeIcon, e.iqWin.avatar)) : (this.sunNodeIconWoman.opacity = 255, 
d.default.setAvatar(this.sunNodeIconWoman, e.iqWin.avatar))) : (this.sunglassesSp.active = !0, 
this.sunglassesSp.getComponent(y.default).play("Stage0", 0)), e.timeWin && e.timeWin.nick_name && e.timeWin.nick_name.length && (this.hairSp.active = !0, 
console.log("info.firstWin.gender = " + e.firstWin.gender), 0 == e.timeWin.gender ? (this.hairNodeIcon.opacity = 255, 
d.default.setAvatar(this.hairNodeIcon, e.timeWin.avatar)) : (this.hairNodeIconWoman.opacity = 255, 
d.default.setAvatar(this.hairNodeIconWoman, e.timeWin.avatar)));
}, t.prototype.onDisable = function() {
this.node.stopAllActions();
}, t.prototype.setSubViewData = function(e) {
var t = this;
void 0 === e && (e = []);
var o = this, n = f.default.getUserData().userID, r = !1;
for (c in e) if ((l = (y = e[c]).result) && l.length) {
var i, a = JSON.parse(l);
for (i in a) if (a[i].uid == Number(n)) {
r = !0;
break;
}
}
if (0 == r) {
var s = b.default.rankUserInfo;
if (s && s.region && s.region.length) for (var c in e) {
var l = (y = e[c]).result;
if (s.region == y.name) {
if (l && l.length) {
var u = [];
36 <= (a = JSON.parse(l)).length && (a[18] = s);
for (var p = 0; p < a.length; p++) p < 36 && u.push(a[p]);
y.result = JSON.stringify(u), e[c] = y;
}
break;
}
}
}
for (c in this.dataArray = e, this.sheepArray) this.sheepArray[c].destroy();
this.dataArray = window.GlobalGame.rankData;
var d = this.dataArray.length;
if (0 != d) {
var y, g = 0, v = 0;
for (c in this.dataArray) g += (y = this.dataArray[c]).all_score, v += y.win_score;
var w = "";
P.default.dailyAllNumber = g, P.default.dailywinNumber = v, P.default.avatar = b.default.user.avatar, 
this.scrollMsg.getComponent(_.default).showMsg({
msg: w
});
w = (cc.winSize.height - cc.winSize.width) / 2;
console.log(w), this.node.height = 750 * (d + 1), this.marginH = (this.node.height - cc.winSize.height) / 2, 
this.node.y = -this.marginH, console.log(this.node.y), console.log(this.node.height), 
this.contentY = this.node.y, this.contentH = this.node.height, this.updatePositionNode(this.dataArray), 
this.sheepArray = [];
for (p = 0; p < d; p++) !function(e) {
setTimeout(function() {
t.addSheepShock(t.dataArray, e, 750);
}, 100 * e);
}(p);
1 == m.default.getInstance().game_over && (cc.game.emit(h.EMITKEY.SHOWMASKLAYER), 
setTimeout(function() {
t.scrollToPosition = !0, t.positionNodeFunc();
}, 100)), setTimeout(function() {
cc.game.emit(h.EMITKEY.HIDEMASKLAYER);
}, 7e3), this.isFirstEnter && (this.node.y += cc.winSize.width, this.isFirstEnter = !1, 
cc.tween(this.node).delay(.5).call(function() {
o.bgSp.active = !0;
}).to(1, {
y: o.node.y - cc.winSize.width
}, {
easing: cc.easing.quadOut
}).start());
}
}, t.prototype.updatePositionNode = function(e) {
var t, o = f.default.getUserData().userID, n = 0;
for (t in this.winSuccess = !1, e) {
var r = e[t].result;
if (r && r.length) {
var i, a = JSON.parse(r);
for (i in a) {
var s = a[i];
if (s.uid == Number(o)) {
this.userIdx = n, this.winSuccess = !0, console.log("找到名字了 ###### " + n + " res = " + JSON.stringify(s)), 
this.curIdx = Math.floor(this.node.y / 750 + this.dataArray.length / 2), console.log("用户所在位置 = " + this.userIdx + " - 当前位置 = " + this.curIdx), 
this.curIdx == this.userIdx ? this.positionNode.active = !1 : this.positionNode.active = !0;
break;
}
}
if (this.winSuccess) break;
n++;
}
}
}, t.prototype.addSheepShock = function(e, t, o) {
var n = cc.instantiate(this.sheepFlock);
2 < t && (n.opacity = 0), this.node.addChild(n), this.sheepArray[t] = n;
e = {
type: 0 == t ? 1 : t < 3 ? 2 : 3,
num: t + 1,
item: e[t]
};
n.getComponent(w.default).setupData(e), n.x = 0, m.default.getInstance().globalData.isFullScreen ? n.y = this.marginH - t * o - 150 : n.y = this.marginH - t * o - 250;
}, t.prototype.moveActionFunc = function(e) {
if (!(this.dataArray.length < 2)) {
for (var t in this.sheepArray) this.sheepArray[t].opacity = 0;
5 < this.sheepArray.length && this.showOrHide(), this.node.y += e, this.node.y >= this.marginH ? this.node.y = this.marginH : this.node.y <= -this.marginH && (this.node.y = -this.marginH), 
this.winSuccess && (this.curIdx == this.userIdx ? this.positionNode.active = !1 : this.positionNode.active = !0, 
this.curIdx < this.userIdx ? this.positionNodeCycle.scaleY = 1 : this.curIdx > this.userIdx && (this.positionNodeCycle.scaleY = -1));
}
}, t.prototype.showOrHide = function() {
this.curIdx = Math.floor(this.node.y / 750 + this.dataArray.length / 2), this.curIdx >= this.sheepArray.length && (this.curIdx = this.sheepArray.length - 1), 
1 <= this.curIdx ? this.curIdx < this.sheepArray.length - 1 ? (this.sheepArray[this.curIdx - 1].opacity = 255, 
this.sheepArray[this.curIdx].opacity = 255, this.sheepArray[this.curIdx + 1].opacity = 255) : (this.sheepArray[this.sheepArray.length - 3].opacity = 255, 
this.sheepArray[this.sheepArray.length - 2].opacity = 255, this.sheepArray[this.sheepArray.length - 1].opacity = 255) : 2 < this.sheepArray.length && (this.sheepArray[0].opacity = 255, 
this.sheepArray[1].opacity = 255, this.sheepArray[2].opacity = 255);
}, t.prototype.containFunc = function(e, t) {
for (var o = "", n = 0; n < t.length; n++) {
var r = t[n];
if (o += r, !(0 <= e.indexOf(o) || (o = o.slice(0, o.length - 1), o += this.IsUpper(r) ? r.toLowerCase() : r.toUpperCase(), 
0 <= e.indexOf(o)))) return !1;
}
return !0;
}, t.prototype.IsUpper = function(e) {
return e === e.toUpperCase();
}, s([ C({
type: cc.Node,
tooltip: "mainUILayer"
}) ], t.prototype, "mainUILayer", void 0), s([ C({
type: cc.Node,
tooltip: "背景spine"
}) ], t.prototype, "bgSp", void 0), s([ C({
type: cc.Node,
tooltip: "帽子羊spine"
}) ], t.prototype, "capSp", void 0), s([ C({
type: cc.Node,
tooltip: "墨镜羊spine"
}) ], t.prototype, "sunglassesSp", void 0), s([ C({
type: cc.Node,
tooltip: "长发羊spine"
}) ], t.prototype, "hairSp", void 0), s([ C({
type: cc.Prefab,
tooltip: "羊群"
}) ], t.prototype, "sheepFlock", void 0), s([ C({
type: cc.Node,
tooltip: "定位按钮"
}) ], t.prototype, "positionNode", void 0), s([ C({
type: cc.Node,
tooltip: "定位按钮头像"
}) ], t.prototype, "positionNodeIcon", void 0), s([ C({
type: cc.Node,
tooltip: "定位按钮图标"
}) ], t.prototype, "positionNodeCycle", void 0), s([ C({
type: cc.Node,
tooltip: "跑马灯"
}) ], t.prototype, "scrollMsg", void 0), s([ C({
type: cc.Node,
tooltip: "头像"
}) ], t.prototype, "iconNode", void 0), s([ S ], t);
}(cc.Component);
i.default = O;
cc._RF.pop();
}, {} ],
"main-tabbar": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "66a40jaUH5JALG1+2y2R2kp", "main-tabbar");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("gd_language"), l = r("i18n"), u = r("CcJsFunc"), p = r("dataTs"), d = r("enumConfig"), f = r("GameManager"), h = r("report-common"), y = r("uma-sdk"), m = cc._decorator, g = m.ccclass, b = m.property, v = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mainPage = null, t.pageMain = null, t.pageDaily = null, t.pageCollect = null, 
t.tabbarMain = null, t.tabbarDaily = null, t.tabbarCollect = null, t.pageContent = null, 
t.tabbarArr = [], t.updateTime = 0, t;
}
return a(t, e), t.prototype.update = function(e) {
this.updateTime += e, this.updateTime;
}, t.prototype.start = function() {
cc.game.on(d.EMITKEY.MAINUPDATEUI, this.setMainLayerData, this), cc.game.on(d.EMITKEY.UPDATETABBARRECEIVE, this.updateTabbar, this), 
this.pageContent = this.mainPage.getChildByName("pageContent"), u.default.addbtnTouchEndScale(this.tabbarCollect, this.tabbarAction.bind(this, 0)), 
u.default.addbtnTouchEndScale(this.tabbarMain, this.tabbarAction.bind(this, 1)), 
u.default.addbtnTouchEndScale(this.tabbarDaily, this.tabbarAction.bind(this, 2)), 
this.tabbarArr.push(this.tabbarCollect), this.tabbarArr.push(this.tabbarMain), this.tabbarArr.push(this.tabbarDaily), 
this.pageCollect.x = 0, this.pageMain.x = 750, this.pageDaily.x = 1500, this.updateTabbar(1, !1), 
this.setMainLayerData(), this.setupFonts();
}, t.prototype.setupFonts = function() {
var e = l.default.instance.trans(c.GDLanguage.collect);
this.tabbarCollect.getChildByName("icon-label").getComponent(cc.Label).string = e;
e = l.default.instance.trans(c.GDLanguage.main_screen);
this.tabbarMain.getChildByName("icon-label").getComponent(cc.Label).string = e;
e = l.default.instance.trans(c.GDLanguage.daily_challenge);
this.tabbarDaily.getChildByName("icon-label").getComponent(cc.Label).string = e;
}, t.prototype.onEnable = function() {
this.setMainLayerData();
}, t.prototype.setMainLayerData = function() {
var e = f.default.getInstance().collectionMark;
0 == e.bgNum && 0 == e.brickNum && (f.default.getInstance().collectionMark.tabbarCollection = !1), 
f.default.getInstance().collectionMark.tabbarCollection ? this.tabbarCollect.getChildByName("icon-mark").active = !0 : this.tabbarCollect.getChildByName("icon-mark").active = !1;
}, t.prototype.tabbarAction = function(e) {
u.default.addClickAudio(), this.updateTabbar(e), e != d.MAINPAGE.PAGEDAILY ? f.default.getInstance().tabbarIsDaily && (console.log("点击了每日挑战，没玩"), 
y.default.trackEvent("daily_return"), h.default.reportTACommon("daily_return", {})) : f.default.getInstance().tabbarIsDaily = !0;
}, t.prototype.updateTabbar = function(e, t) {
void 0 === t && (t = !0);
var o = this;
if (2 == e && p.default.getUserData().playLevelId < 14) cc.game.emit("showPop", {
popName: "nothingPop",
showPopData: {
popCallbackCollect: null,
popType: 3
}
}); else {
for (var n in f.default.getInstance().mainPage = e, this.tabbarArr) {
var r = this.tabbarArr[n];
e == Number(n) ? (r.getChildByName("bg-icon-nor").active = !1, r.getChildByName("bg-icon-sel").active = !0, 
r.getChildByName("icon-nor").active = !1, r.getChildByName("icon-sel").active = !0) : (r.getChildByName("bg-icon-nor").active = !0, 
r.getChildByName("bg-icon-sel").active = !1, r.getChildByName("icon-nor").active = !0, 
r.getChildByName("icon-sel").active = !1);
}
t = t ? .3 : 0;
var i = 0, a = null;
switch (e) {
case 0:
i = 0, a = this.pageCollect;
break;

case 1:
i = -750, a = this.pageMain;
break;

case 2:
i = -1500, a = this.pageDaily;
}
a && (a.active = !0), this.pageContent.stopAllActions(), cc.tween(this.pageContent).to(t, {
x: i
}).call(function() {
o.hideOtherNode(a);
}).start(), cc.game.emit(d.EMITKEY.UPDATETABBARSEND, e), this.setMainLayerData();
}
}, t.prototype.hideOtherNode = function(e) {
var t, o = this.mainPage.getChildByName("pageContent").children;
for (t in o) e && e != o[t] && (o[t].active = !1);
}, s([ b(cc.Node) ], t.prototype, "mainPage", void 0), s([ b(cc.Node) ], t.prototype, "pageMain", void 0), 
s([ b(cc.Node) ], t.prototype, "pageDaily", void 0), s([ b(cc.Node) ], t.prototype, "pageCollect", void 0), 
s([ b(cc.Node) ], t.prototype, "tabbarMain", void 0), s([ b(cc.Node) ], t.prototype, "tabbarDaily", void 0), 
s([ b(cc.Node) ], t.prototype, "tabbarCollect", void 0), s([ g ], t);
}(cc.Component);
i.default = v;
cc._RF.pop();
}, {} ],
mainCanvas: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "53853D2Qg1AFKoc4UUFQ6nI", "mainCanvas");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
r("enumConfig");
var c, l, u = r("audio"), p = r("tt-sdk"), d = r("sdk"), f = r("GameManager"), h = (r("report-common"), 
cc._decorator), y = h.ccclass, m = h.property;
(function(e) {
e[e.ready = 0] = "ready", e[e.recording = 1] = "recording", e[e.stop = 2] = "stop", 
e[e.pause = 3] = "pause";
})(c = c || {}), function(e) {
e[e.RestartRecord = 0] = "RestartRecord", e[e.ShareMessage = 1] = "ShareMessage";
}(l = l || {});
var g = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mainLayer = null, t.gameLayer = null, t.status = c.ready, t.recordFinishAction = l.RestartRecord, 
t.timer = 0, t;
}
return a(t, e), t.prototype.start = function() {
console.log("FM_ mainCanvas.start");
this.mainLayer.active = !0, this.gameLayer.active = !1, d.default.setOnShow(function() {
console.log("on Show"), u.default.playBGM();
}), d.default.setOnHide(function() {
console.log("on Hide"), u.default.playBGM();
});
}, t.prototype.beginRecordFunc = function() {
this.status != c.recording && this.beginRecord();
}, t.prototype.stopRecordFunc = function() {
this.stopRecord();
}, t.prototype.ttRewardInit = function() {
console.log("FM_ mainCanvas.ttRewardInit");
var e;
cc.sys.platform == cc.sys.BYTEDANCE_GAME && ((e = tt.getGameRecorderManager()).onStart(this.recordStart.bind(this)), 
e.onStop(this.recordStop.bind(this)), e.onPause(this.recordPause.bind(this)), e.onResume(this.recordResume.bind(this)));
}, t.prototype.beginRecord = function() {
console.log("FM_ mainCanvas.beginRecord");
cc.sys.platform == cc.sys.BYTEDANCE_GAME && (console.log("beginRecord ###### "), 
f.default.getInstance().videoDuration = 0, p.default.recorderStart());
}, t.prototype.stopRecord = function() {
console.log("FM_ mainCanvas.stopRecord");
p.default.recorderStop();
}, t.prototype.recordStart = function() {
console.log("FM_ mainCanvas.recordStart");
console.log("record start"), f.default.getInstance().videoDuration = 0, this.status = c.recording, 
this.initStatus();
}, t.prototype.recordStop = function(e) {
console.log("FM_ mainCanvas.recordStop");
console.log("record stop", e.videoPath), p.default.setVideoPath(e.videoPath), f.default.getInstance().videoPath = e.videoPath, 
this.status = c.stop, this.initStatus();
}, t.prototype.recordPause = function() {
console.log("FM_ mainCanvas.recordPause");
console.log("record pause"), this.status = c.pause, this.initStatus();
}, t.prototype.recordResume = function() {
console.log("FM_ mainCanvas.recordResume");
console.log("record resume"), this.status = c.recording, this.initStatus();
}, t.prototype.update = function(e) {
this.timer += e, f.default.getInstance().bulletTime += e, this.status == c.recording && (f.default.getInstance().videoDuration += e), 
1 <= this.timer && (this.timer = 0, this.status == c.recording && this.initStatus());
}, t.prototype.initStatus = function() {
console.log("FM_ mainCanvas.initStatus");
}, t.prototype.recordBtnAction = function() {
console.log("FM_ mainCanvas.recordBtnAction");
}, t.prototype.shareRecordFunc = function() {
console.log("FM_ mainCanvas.shareRecordFunc");
}, t.prototype.showPop = function() {
console.log("FM_ mainCanvas.showPop");
}, s([ m(cc.Node) ], t.prototype, "mainLayer", void 0), s([ m(cc.Node) ], t.prototype, "gameLayer", void 0), 
s([ y ], t);
}(cc.Component);
i.default = g;
cc._RF.pop();
}, {} ],
mainCultivateLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a504aoDOgxNhZMyOCq1oDJZ", "mainCultivateLayer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("catClawPrefabs"), l = r("CcJsFunc"), u = r("dataTs"), p = r("enumConfig"), d = r("audio"), f = r("spine"), h = r("GameManager"), y = r("uma-sdk"), m = r("catNode"), g = r("houseLayer"), b = r("upgrade-tip"), v = r("wardrobeLayer"), _ = cc._decorator, w = _.ccclass, N = _.property, P = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mainUILayer = null, t.wholeBuildHouse = null, t.wardrobeLayer = null, t.houseLayer = null, 
t.topUiLayer = null, t.particlePrefab = null, t.upgradeTip = null, t.clawPrefab = null, 
t.clawNode = null, t.catObj = null, t.upgradeArr = [], t.popCallbackCollect = null, 
t.isShowHouse = !1, t;
}
return a(t, e), t.prototype.start = function() {
(window.xuxu = this).node.on("touchstart", this.touchStartFunc, this), this.node.on("touchend", this.hideWardrobelLayer, this), 
cc.game.on(p.EMITKEY.UPDATETABBARSEND, this.updateTabbar, this), this.initMainCultivateLayer(), 
this.popCallbackCollect = {
playGameCallBack: this.playGameFunc.bind(this)
};
}, t.prototype.playGameFunc = function() {}, t.prototype.updateTabbar = function(e) {
e == p.MAINPAGE.PAGEHOUSE ? (this.showUpgrade(), this.isShowHouse = !0) : this.hideUpgrade();
}, t.prototype.initMainCultivateLayer = function() {
this.nextRoomIsUnloack(), this.clawNode = cc.instantiate(this.clawPrefab), this.wholeBuildHouse.addChild(this.clawNode), 
this.clawNode.active = !1;
}, t.prototype.setClawNodeWithNode = function(e) {
cc.isValid(this.clawNode) ? e ? (e = l.default.getWorldPosition(e), e = l.default.getNodePosition(this.wholeBuildHouse, e), 
this.clawNode.position = cc.v3(e.x, e.y, 0), this.clawNode.getComponent(c.default).playClawAnimation()) : this.clawNode.active = !1 : console.log("猫爪子已释放 ###### ");
}, t.prototype.unlockNewHouse = function() {
this.nextRoomIsUnloack(!0), cc.game.emit(p.EMITKEY.MAINUPDATEUI);
}, t.prototype.updateLayout = function() {
this.catObj = {};
var e = u.default.getGameConfigData().baseConfigData.unlockHouseDataArray;
for (n in e) for (var t in e[n]) {
var o = e[n][t];
this.setBuildStatus(o, !1, !1);
}
var n, r = u.default.getUserData().unlockHouseUserData;
for (n in r) for (var t in r[n]) (o = r[n][t]).unlock ? this.setBuildStatus(o, !0, !1) : o.show && this.addUpgradeTip(o);
}, t.prototype.addUpgradeTip = function(e) {
var t = "house_" + e.house, o = "room_" + e.room, n = "mask_room_" + e.room, r = "";
"cat" == e.buildType ? r = e.buildType : "build" == e.buildType ? r = e.buildType + "_" + e.buildid : "skin" == e.buildType && (r = "cat");
o = (t = this.wholeBuildHouse.getChildByName(t)).getChildByName(o), n = t.getChildByName(n), 
r = (o = o.getChildByName(r)).getChildByName("lock"), o.getChildByName("unLock"), 
o = r.getChildByName("lockImg");
n.active = !1;
r = cc.instantiate(this.upgradeTip), n = o.convertToWorldSpaceAR(cc.v2(0, 0)), n = t.convertToNodeSpaceAR(n);
r.x = n.x, r.y = n.y + o.height / 2, "build" == e.buildType && 1 == e.house && 1 == e.room && 1 == e.buildid && (r.x += 50, 
r.y += 50), "build" == e.buildType && 3 == e.house && 2 == e.room && 2 == e.buildid && (r.y += 50), 
"skin" == e.buildType && 3 == e.house && 2 == e.room && 9 == e.buildid && (r.y -= 50), 
"build" == e.buildType && 3 == e.house && 3 == e.room ? 1 == e.buildid ? r.x -= 70 : 2 == e.buildid ? (r.x += 50, 
r.y += 50) : 3 == e.buildid ? r.x += 50 : 10 == e.buildid && (r.x -= 50, r.y -= 50) : "skin" == e.buildType && 3 == e.house && 3 == e.room && 10 == e.buildid && (r.x -= 50, 
r.y -= 50), t.addChild(r), r.getComponent(b.default).showPoint(e, this, !0), this.upgradeArr.push(r), 
h.default.getInstance().mainPage != p.MAINPAGE.PAGEHOUSE && (r.active = !1);
}, t.prototype.clickUpgradePoint = function(e) {
for (var t in this.upgradeArr) this.upgradeArr[t].getComponent(b.default).showPoint();
e.getComponent(b.default).showFish();
}, t.prototype.clickUpgradeFish = function(e, t) {
for (var o in console.log("houseData = " + JSON.stringify(e)), this.upgradeArr) this.upgradeArr[o].getComponent(b.default).showPoint();
var n = u.default.getUserData(), r = n.unlockHouseUserData;
if (n.fish >= e.fish) {
for (var i in r) for (var a in r[i]) e.unlockID == r[i][a].unlockID && (r[i][a].unlock = !0), 
r[i][a].show = !0;
var s, c, l = !1;
if (r.length) {
var d = r[r.length - 1];
for (o in d) d[o].unlock || (l = !0);
}
n.fish -= e.fish, n.unlockHouseUserData = r, "cat" != e.buildType && "skin" != e.buildType || (f = {
clothesID: e.clothesID,
clothRank: e.clothesID % 1e3 == 0 ? 3 : 1,
isWear: e.clothesID % 1e3 == 0
}, (s = n.catClothesData)[c = "cat_" + e.buildid] || (console.log("userCldata clKey为空，需要初始化数组 ### "), 
s[c] = []), s[c].push(f), h.default.getInstance().collectionMark.tabbarCollection = !0, 
"cat" == e.buildType ? h.default.getInstance().collectionMark.catNum = e.clothesID : (h.default.getInstance().collectionMark.catNum = e.clothesID, 
h.default.getInstance().collectionMark.catSkinNum = e.clothesID)), u.default.saveUserData(n), 
t.getComponent(b.default).hide(), cc.game.emit(p.EMITKEY.SHOWMASKLAYER, 7), this.playFlyFishAnimation(e, t.node), 
l || (console.log("刷新解锁气泡"), this.updateLayout());
var f = e.unlockID + "";
y.default.trackEvent("house_unlock", {
houseID: f
}), cc.isValid(this.clawNode) && (console.log("释放猫爪子 ###### "), this.clawNode.destroy());
} else {
f = {
popName: "nothingPop",
showPopData: {
popCallbackCollect: this.popCallbackCollect,
popType: 0
}
};
cc.game.emit("showPop", f);
}
}, t.prototype.playFlyFishAnimation = function(e) {
var t = "house_" + e.house, o = "room_" + e.room, n = "mask_room_" + e.room, r = "";
"cat" == e.buildType ? r = e.buildType : "build" == e.buildType ? r = e.buildType + "_" + e.buildid : "skin" == e.buildType && (r = "cat");
o = (t = this.wholeBuildHouse.getChildByName(t)).getChildByName(o), n = t.getChildByName(n), 
r = (o = o.getChildByName(r)).getChildByName("lock");
o.getChildByName("unLock"), r.getChildByName("lockImg"), n.active = !1;
}, t.prototype.flyUnlockFishFunc = function(e, t) {
this.removeFunc(this.upgradeArr, t), this.setBuildStatus(e, !0, !0), cc.game.emit(p.EMITKEY.MAINUPDATEUI);
}, t.prototype.indexOfFunc = function(e, t) {
for (var o = 0; o < e.length; o++) if (e[o] == t) return o;
return -1;
}, t.prototype.removeFunc = function(e, t) {
-1 < (t = this.indexOfFunc(e, t)) && e.splice(t, 1);
}, t.prototype.nextRoomIsUnloack = function(e) {
(e = u.default.getHourseUnlockData(e = void 0 !== e && e)) && (console.log("unlockData ### = " + JSON.stringify(e)), 
0 == this.upgradeArr.length && (this.updateLayout(), e.length <= 4 ? this.houseLayer.getComponent(g.default).moveWithRoomId(p.ROOMTYPE.ROOMONE) : 4 < e.length && e.length < 8 ? this.houseLayer.getComponent(g.default).moveWithRoomId(p.ROOMTYPE.ROOMTWO) : 8 <= e.length && e.length < 11 && this.houseLayer.getComponent(g.default).moveWithRoomId(p.ROOMTYPE.ROOMTHREE)));
}, t.prototype.setBuildStatus = function(e, t, o) {
var n = "house_" + e.house, r = "room_" + e.room, i = "mask_room_" + e.room, a = "";
"cat" == e.buildType ? a = e.buildType : "build" == e.buildType ? a = e.buildType + "_" + e.buildid : "skin" == e.buildType && (a = "cat");
r = (n = this.wholeBuildHouse.getChildByName(n)).getChildByName(r), i = n.getChildByName(i);
var s, c = (a = r.getChildByName(a)).getChildByName("lock"), l = a.getChildByName("unLock");
t && (i.active = !1);
i = c.convertToWorldSpaceAR(cc.v2(0, 0)), i = n.convertToNodeSpaceAR(i);
t && o ? (o = cc.instantiate(this.particlePrefab), n.addChild(o), o.x = i.x, o.y = i.y, 
t && "cat" == e.buildType ? d.default.playAudioMusic("audio/sound/Unlock_Cat.mp3", !1) : t && "build" == e.buildType ? d.default.playAudioMusic("audio/sound/Unlock_Furniture.mp3", !1) : t && "skin" == e.buildType && d.default.playAudioMusic("audio/sound/Unlock_Cat.mp3", !1), 
s = this, cc.tween(c).to(.1, {
scale: 0
}).call(function() {
c.active = !t, l.active = t, cc.tween(l).set({
scale: 0
}).to(.1, {
scale: 1.2
}).to(.1, {
scale: 1
}).to(.1, {
scale: 1.1
}).to(.1, {
scale: 1
}).call(function() {
var o;
console.log("家具动画播放完成"), s.nextRoomIsUnloack(), t && "cat" == e.buildType ? (o = "1_Standby1", 
l.getChildByName("unLockImg").getComponent(f.default).play(o, 0), cc.game.emit("unlockBuildBtn", e.buildid)) : t && "skin" == e.buildType && (o = "1_Standby_CloUnlock1", 
l.getChildByName("unLockImg").getComponent(f.default).play(o, 0), l.getChildByName("unLockImg").getComponent(m.default).playClothesAnimation(!0)), 
cc.game.emit(p.EMITKEY.HIDEMASKLAYER, 12);
}, s).start();
}, s).start()) : (c.active = !t, l.active = t), t && "cat" == e.buildType && (l.getChildByName("unLockImg").getComponent(f.default).play("1_Standby1", 0), 
l.getChildByName("unLockImg").getComponent(m.default).setCatData(e.buildid, this), 
this.catObj["cat_" + e.buildid] = l.getChildByName("unLockImg"), this.catObj["particle_" + e.buildid] = l.getChildByName("Particle_Unlock1"));
}, t.prototype.refreshCatCloth = function(e, t, o) {
this.catObj["cat_" + e].getComponent(m.default).updateSkin(o), t && this.catObj["particle_" + e].getComponent(cc.ParticleSystem).resetSystem();
}, t.prototype.touchStartFunc = function() {
l.default.addClickAudio();
}, t.prototype.hideWardrobelLayer = function() {
this.wardrobeLayer.getComponent(v.default).hideWardrobelLayer(), this.houseToMinDefault();
var e = this.wardrobeLayer.getChildByName("changeClothes").active;
if (h.default.getInstance().mainPage == p.MAINPAGE.PAGEHOUSE && e) console.log("显示升级光标"), 
this.showUpgrade(); else if (h.default.getInstance().mainPage == p.MAINPAGE.PAGEHOUSE) for (var t in this.upgradeArr) if (this.upgradeArr[t].getChildByName("icon-dish").active) {
console.log("有鱼 ######"), this.upgradeArr[t].getComponent(b.default).show();
break;
}
}, t.prototype.showUpgrade = function() {
var e = u.default.getUserData();
if (!(e.playLevelId <= 2 && e.fish < 2)) {
for (var t in this.upgradeArr) this.upgradeArr[t].getComponent(b.default).show();
this.upgradeArr.length && (e = this.upgradeArr[0], this.setClawNodeWithNode(e));
}
}, t.prototype.hideUpgrade = function() {
for (var e in this.upgradeArr) this.upgradeArr[e].getComponent(b.default).hide();
this.upgradeArr.length && (this.upgradeArr[0], this.setClawNodeWithNode()), cc.isValid(this.clawNode) && this.isShowHouse && (console.log("释放猫爪子 ###### "), 
this.clawNode.destroy());
}, t.prototype.touchCatFunc = function(e) {
h.default.getInstance().mainPage == p.MAINPAGE.PAGEHOUSE && this.hideUpgrade(), 
this.wardrobeLayer.getComponent(v.default).showWardrobelLayer(e, this);
}, t.prototype.houseToBigMiddle = function(e) {
e = this.catObj["cat_" + e];
this.houseLayer.getComponent(g.default).toBigMiddle(e);
}, t.prototype.houseToMinDefault = function() {
this.houseLayer.getComponent(g.default).toMinDefault();
}, s([ N(cc.Node) ], t.prototype, "mainUILayer", void 0), s([ N(cc.Node) ], t.prototype, "wholeBuildHouse", void 0), 
s([ N(cc.Node) ], t.prototype, "wardrobeLayer", void 0), s([ N(cc.Node) ], t.prototype, "houseLayer", void 0), 
s([ N(cc.Node) ], t.prototype, "topUiLayer", void 0), s([ N(cc.Prefab) ], t.prototype, "particlePrefab", void 0), 
s([ N(cc.Prefab) ], t.prototype, "upgradeTip", void 0), s([ N(cc.Prefab) ], t.prototype, "clawPrefab", void 0), 
s([ N(cc.Node) ], t.prototype, "clawNode", void 0), s([ w ], t);
}(cc.Component);
i.default = P;
cc._RF.pop();
}, {} ],
mainLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b8c45Z6zn1ISr2PENniP8fC", "mainLayer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("gd_language"), l = r("i18n"), u = r("api-sheep"), p = r("dataTs"), d = r("enumConfig"), f = r("audio"), h = r("sdk"), y = r("gameLayer"), m = r("data-manager"), g = r("DateManager"), b = r("GameManager"), v = cc._decorator, _ = v.ccclass, w = v.property, N = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.gameLayer = null, t.commonUIPrefab = null, t.commonUI = null, t.topicUIPrefab = null, 
t.topicUI = null, t;
}
return a(t, e), t.prototype.start = function() {
console.log("FM_ mainLayer.start");
cc.game.on(d.EMITKEY.BEGINGAME, this.beginGameFunc, this), cc.game.on(d.EMITKEY.SHOWMODULE, this.showModuleFunc, this), 
this.setupSubviews(), this.updateSubUI(), h.default.isPlatform(h.Platform.web) || this.preLoadVedio(), 
this.requestData();
}, t.prototype.requestData = function() {
console.log("FM_ mainLayer.requestData");
p.default.isLogin() && this.requestMatchResult();
}, t.prototype.requestMatchResult = function() {
console.log("FM_ mainLayer.requestMatchResult");
var e;
m.default.getMatchResultData() || (m.default.setMatchResultData(), e = this, setTimeout(function() {
console.log("FM_ mainLayer.requestMatchResult timeout");
u.default.getMatchResult(2, function(t) {
e.showMatch(t);
});
}, 1e3));
}, t.prototype.showMatch = function(e) {
console.log("FM_ mainLayer.showMatch", e);
e && e.data && e.data.topic && 0 < e.data.topic.id && e.data.topic.info && 0 < e.data.topic.info.uid && (e = {
popName: "topicLastWinPop",
showPopData: e.data
}, cc.game.emit("showPop", e));
}, t.prototype.onEnable = function() {
console.log("FM_ mainLayer.sonEnabletart");
this.updateSubUI();
}, t.prototype.beginGameFunc = function() {
this.beginGame();
}, t.prototype.showModuleFunc = function(e) {
console.log("FM_ mainLayer.showModuleFunc");
switch (e = void 0 === e ? d.MODULETYPE.COMMON : e) {
case d.MODULETYPE.COMMON:
this.commonUI.active = !0, this.topicUI.active = !1;
break;

case d.MODULETYPE.TOPIC:
this.commonUI.active = !1, this.topicUI.active = !0;
}
}, t.prototype.setupSubviews = function() {
console.log("FM_ mainLayer.setupSubviews");
this.topicUI = cc.instantiate(this.topicUIPrefab), this.topicUI.active = !1, this.node.addChild(this.topicUI), 
this.commonUI = cc.instantiate(this.commonUIPrefab), this.commonUI.active = !0, 
this.node.addChild(this.commonUI);
}, t.prototype.updateSubUI = function() {
console.log("FM_ mainLayer.updateSubUI");
this.node.active = !0, this.gameLayer.active = !1, this.playMainBgMusic(), cc.game.emit(d.EMITKEY.MAINUPDATEUI);
}, t.prototype.showMainLayer = function(e) {
console.log("FM_ mainLayer.showMainLayer");
void 0 === e && (e = d.GAMEOVER.NONE), cc.game.emit(d.EMITKEY.TTSTOPRECORD), cc.game.emit(d.EMITKEY.TTSTARTRECORD), 
console.log("回到主页面 = " + e), this.node.active = !0, this.gameLayer.active = !1, 
this.updateRewardData(e), this.playMainBgMusic(), cc.game.emit(d.EMITKEY.MAINUPDATEUI), 
console.log("FM_ mainLayer.showMainLayer type:", b.default.getInstance().gameType);
if (b.default.getInstance().gameType == d.GAMETYPE.GAMEDAILY) cc.game.emit(d.EMITKEY.UPDATETABBARRECEIVE, 2); else {
0 == b.default.getInstance().gameType && h.default.showBannerAdNative(!1);
cc.game.emit(d.EMITKEY.UPDATETABBARRECEIVE, 1);
}
}, t.prototype.preLoadVedio = function() {
console.log("FM_ mainLayer.preLoadVedio");
}, t.prototype.updateRewardData = function(e) {
console.log("FM_ mainLayer.updateRewardData");
e === d.GAMEOVER.LEVELFAIL && b.default.getInstance().gameType == d.GAMETYPE.GAMELEVEL && p.default.resetSprintReward();
}, t.prototype.playMainBgMusic = function() {
f.default.playBGM();
}, t.prototype.beginGame = function() {
console.log("FM_ mainLayer.beginGame");
var e = this, t = 0, o = g.default.format(d.CALENDARNAMES[4], new Date());
console.log("FM_ mainLayer.beginGame,Current Time:", o);
!o || 3 <= (o = o.split("-")).length && (t = Number(o[2])), p.default.getLevelByID(t, function(t) {
e.gameLayer.activeInHierarchy ? console.log("已经打开 mainLayer 1") : t.length < 1 ? cc.game.emit("showMainTips", l.default.instance.trans(c.GDLanguage.level_inadequate)) : (e.beginGameData(t), 
m.default.setGameLevelData(t));
});
}, t.prototype.beginGameData = function(e) {
var t = this;
console.log("FM_ mainLayer.beginGameData", "显示过场低动画");
cc.game.emit(d.EMITKEY.SHOWTRANSITLAYER, function(o) {
t.gameLayer.activeInHierarchy ? console.log("已经打开 mainLayer 2") : (console.log("可以打开了 mainLayer"), 
t.gameLayer.getComponent(y.default).initLevelLayer(e), t.node.active = !1, o());
});
}, s([ w({
type: cc.Node,
tooltip: "游戏节点"
}) ], t.prototype, "gameLayer", void 0), s([ w({
type: cc.Prefab,
tooltip: "common页面节点"
}) ], t.prototype, "commonUIPrefab", void 0), s([ w({
type: cc.Prefab,
tooltip: "topic节点"
}) ], t.prototype, "topicUIPrefab", void 0), s([ _ ], t);
}(cc.Component);
i.default = N;
cc._RF.pop();
}, {} ],
mainUiLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4db0ejDPE9I06u2DuGNxPAb", "mainUiLayer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
}, c = function(e, t, o, n) {
return new (o = o || Promise)(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
var t;
e.done ? r(e.value) : ((t = e.value) instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
}
c((n = n.apply(e, t || [])).next());
});
}, l = function(e, t) {
var o, n, r, i = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
}, a = {
next: s(0),
throw: s(1),
return: s(2)
};
return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(a) {
return function(s) {
return function(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;i; ) try {
if (o = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, a[1])).done) return r;
switch (n = 0, (a = r ? [ 2 & a[0], r.value ] : a)[0]) {
case 0:
case 1:
r = a;
break;

case 4:
return i.label++, {
value: a[1],
done: !1
};

case 5:
i.label++, n = a[1], a = [ 0 ];
continue;

case 7:
a = i.ops.pop(), i.trys.pop();
continue;

default:
if (!(r = 0 < (r = i.trys).length && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
i = 0;
continue;
}
if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
i.label = a[1];
break;
}
if (6 === a[0] && i.label < r[1]) {
i.label = r[1], r = a;
break;
}
if (r && i.label < r[2]) {
i.label = r[2], i.ops.push(a);
break;
}
r[2] && i.ops.pop(), i.trys.pop();
continue;
}
a = t.call(e, i);
} catch (e) {
a = [ 6, e ], n = 0;
} finally {
o = r = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}([ a, s ]);
};
}
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var u = r("CcJsFunc"), p = r("dataTs"), d = r("util"), f = r("enumConfig"), h = r("report-common"), y = r("GameManager"), m = r("DateManager"), g = r("sdk"), b = r("api-sheep"), v = r("tt-sdk"), _ = r("data-manager"), w = r("audio"), N = cc._decorator, P = N.ccclass, A = N.property, S = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.beginBtn = null, t.maskNode = null, t.btnCall = null, t.btnPrivacy = null, 
t.btnMoreGame = null, t.setupBtn = null, t.rankBtn = null, t.meBtn = null, t.focusBtn = null, 
t.childBtn = null, t.deskBtn = null, t.timeNode = null, t.timeLabel = null, t.bottomRankNode = null, 
t.levelNumLabel = null, t.bulletNode = null, t.bulletBtn = null, t.collectBtn = null, 
t.topicBtn = null, t.friendBtn = null, t.ttRankBtn = null, t.popCallbackCollect = null, 
t.beginButtonDuration = 0, t.updateTime = 0, t;
}
return a(t, e), t.prototype.update = function(e) {
this.beginButtonDuration += e, this.updateTime += e, 1 <= this.updateTime && (this.updateTime = 0, 
this.updateTimeFunc());
}, t.prototype.updateTimeFunc = function() {
var e = m.default.format(f.CALENDARNAMES[8], new Date()).split(" ");
e.length < 2 || (e = e[1].split(":")).length < 3 || (e = 3600 * (24 - Number(e[0]) - 1) + 60 * (60 - Number(e[1]) - 1) + (60 - Number(e[2])), 
this.timeNode.activeInHierarchy && (e = ((e = d.default.formatTime(1e3 * e))[1] < 10 ? "0" + e[1] : e[1]) + ":" + (e[2] < 10 ? "0" + e[2] : e[2]) + ":" + (e[3] < 10 ? "0" + e[3] : e[3]) + " 重置", 
this.timeLabel.string = e), this.setMainLayerData());
}, t.prototype.onEnable = function() {
this.topicBtn.getChildByName("tag_icon").active = !_.default.getMatchResultData(), 
0 < y.default.getInstance().collectionMark.topicClothesNum ? this.collectBtn.getChildByName("tag_icon").active = !0 : this.collectBtn.getChildByName("tag_icon").active = !1;
}, t.prototype.setMaskActive = function(e) {
if (this.maskNode.active != e) {
console.log("FM_ mainUiLayer.setMaskActive:", e);
this.maskNode.active = e;
}
}, t.prototype.onMaskNodeClick = function() {
console.log("FM_ mainUiLayer.onMaskNodeClick");
}, t.prototype.start = function() {
console.log("FM_ mainUiLayer.start");
cc.game.on(f.EMITKEY.MAINUPDATEUI, this.setMainLayerData, this);
cc.game.on(f.EMITKEY.RANKUSERINFOSUCCESS, this.rankUserInfoFunc, this);
cc.game.on(f.EMITKEY.BULLETSTATE, this.bulletStateFunc, this);
cc.game.on("SetMaskActive", this.setMaskActive, this);
g.default.showNativeAd(!0);
g.default.showBannerAdNative(!1);
this.bulletStateFunc(), u.default.addTargetTouchUpInside(this.setupBtn, this.setupTouchEnd.bind(this)), 
u.default.addTargetTouchUpInside(this.rankBtn, this.rankBtnFunc.bind(this)), u.default.addTargetTouchUpInside(this.ttRankBtn, this.rankBtnFunc.bind(this)), 
u.default.addTargetTouchUpInside(this.beginBtn, this.beginBtnEnd.bind(this)), u.default.addTargetTouchUpInside(this.focusBtn, this.focusBtnFunc.bind(this)), 
u.default.addTargetTouchUpInside(this.childBtn, this.childBtnFunc.bind(this)), u.default.addTargetTouchUpInside(this.deskBtn, this.deskBtnFunc.bind(this)), 
u.default.addTargetTouchUpInside(this.bulletBtn, this.bulletBtnFunc.bind(this)), 
u.default.addTargetTouchUpInside(this.collectBtn, this.collectBtnFunc.bind(this)), 
u.default.addTargetTouchUpInside(this.topicBtn, this.topicBtnFunc.bind(this)), u.default.addTargetTouchUpInside(this.friendBtn, this.friendBtnFunc.bind(this)), 
u.default.addTargetTouchUpInside(this.meBtn, this.meBtnFunc.bind(this)), u.default.addTargetTouchUpInside(this.maskNode, this.onMaskNodeClick.bind(this)), 
this.childBtn.active = !1, this.deskBtn.active = !1, this.focusBtn.active = !1, 
v.default.isSupportFocusDouYin() && (this.focusBtn.active = !0), this.setMainLayerData(), 
this.updateTimeFunc(), this.popCallbackCollect = {
freeCallBack: this.freeCallBackFunc.bind(this),
exitCallBack: this.exitCallBackFunc.bind(this)
}, this.bottomRankNode.active = !1, this.requestData(), this.friendBtn.active = !1, 
this.rankBtn.active = !0, p.default.isPlatform(p.GDPlatform.tt) || p.default.isPlatform(p.GDPlatform.oppo) || p.default.isPlatform(p.GDPlatform.vivo) ? this.ttRankBtn.active = !0 : this.ttRankBtn.active = !1;
this.topicBtn.active = false;
}, t.prototype.onEnable = function(){},t.prototype.meBtnFunc = function() {
console.log("个人资料"), cc.game.emit("showPop", {
popName: "personalPop",
showPopData: {}
});
}, t.prototype.friendBtnFunc = function() {
console.log("朋友圈"), cc.game.emit("showPop", {
popName: "todayRankPop",
showPopData: {}
});
}, t.prototype.beginBtnEnd = function() {
console.log("开始游戏"), this.beginTouchEnd(1);
}, t.prototype.topicBtnFunc = function() {
g.default.showNativeAd(!0);
g.default.hideBannerAdNative();
console.log("今日话题"), this.beginTouchEnd(2);
}, t.prototype.collectBtnFunc = function() {
console.log("收藏");
g.default.showNativeAd(!0);
var e = {
popName: "topicCollectPop",
showPopData: {
topicClothesNum: y.default.getInstance().collectionMark.topicClothesNum,
changeClothesCb: this.changeClothesFunc.bind(this)
}
};
cc.game.emit("showPop", e), this.collectBtn.getChildByName("tag_icon").active = !1, 
y.default.getInstance().collectionMark.topicClothesNum = 0;
}, t.prototype.changeClothesFunc = function(e) {
b.default.updateUserSkin(e, function() {}), setTimeout(function() {
cc.game.emit(f.EMITKEY.CHANGESHEEPCLOTHES);
}, 1e3);
}, t.prototype.bulletStateFunc = function() {
var e = p.default.getItem(f.STORAGEKEY.BULLETSWITCH);
if (!e) return console.log("bullet = " + e), void p.default.setItem(f.STORAGEKEY.BULLETSWITCH, 1);
this.bulletNode.opacity = 1 == e ? 255 : 0;
}, t.prototype.rankUserInfoFunc = function() {}, t.prototype.bulletBtnFunc = function() {
y.default.getInstance().bulletTime <= 0 ? cc.game.emit(f.EMITKEY.SHOWMAINTIPS, "一分钟只能发一条弹幕哦~") : (console.log("发弹幕"), 
cc.game.emit("showPop", {
popName: "bulletScreenPop",
showPopData: {}
}));
}, t.prototype.focusBtnFunc = function() {
console.log("关注"), v.default.focusDouYin();
}, t.prototype.childBtnFunc = function() {
console.log("转跳"), v.default.gameBox();
}, t.prototype.deskBtnFunc = function() {
console.log("桌面"), v.default.addShortcut();
}, t.prototype.requestData = function() {
p.default.isLogin() && b.default.requestUserInfo();
}, t.prototype.exitCallBackFunc = function() {}, t.prototype.showBottomRankNode = function(e) {
e.index ? (this.bottomRankNode.active = !0, this.bottomRankNode.getChildByName("rank").getComponent(cc.Label).string = "第" + e.index + "名") : this.bottomRankNode.active = !1;
}, t.prototype.onBtnCallClick = function() {
console.log("联系客服");
g.default.callService();
}, t.prototype.onBtnPrivacyClick = function() {
console.log("隐私政策");
g.default.showPrivacy();
}, t.prototype.onBtnMoreClick = function() {
console.log("更多精彩");
g.default.moreGame();
}, t.prototype.freeCallBackFunc = function() {
console.log("观看广告 ###### ");
var e = this, t = p.default.GetVedioID();
g.default.watchAdVideo({
id: t,
success: function() {
console.log("成功 sdk"), e.beginTouchCallbackFunc();
},
fail: function() {
console.log("失败");
},
nofit: function() {
e.shareTTAction();
}
});
}, t.prototype.shareTTAction = function() {
var e, t, o = this;
g.default.isPlatform(g.Platform.wx) ? (t = p.default.GetVedioID(), e = p.default.getUserData().openid, 
g.default.share(e, t, function() {
o.shareCbMethod();
}, function() {
cc.game.emit(f.EMITKEY.SHOWMAINTIPS, "分享失败，请分享微信群与好友PK");
})) : g.default.isPlatform(g.Platform.tt) && (t = {
popName: "shareNodePop",
showPopData: {
type: 2,
shareCb: this.shareCbMethod.bind(this)
}
}, cc.game.emit("showPop", t));
}, t.prototype.shareCbMethod = function() {
console.log("分享成功 ######"), this.beginTouchCallbackFunc();
}, t.prototype.rankBtnFunc = function() {
console.log("排行榜"), cc.game.emit("showPop", {
popName: "sheepRankPop",
showPopData: {
popCallbackCollect: null
}
});
}, t.prototype.setMainLayerData = function() {
this.timeNode.active = !1;
var e = _.default.todayIsWin();
-1 != e && (e = 0);
if (-1 == e) this.levelNumLabel.string = "加入羊群"; else if (0 == e) this.levelNumLabel.string = "再次挑战"; else if (1 == e) {
this.levelNumLabel.string = "已加入羊群";
this.timeNode.active = !0;
}
}, t.prototype.setupTouchEnd = function() {
console.log("打开设置弹窗"), cc.game.emit("showPop", {
popName: "setupPop",
showPopData: {
popCallbackCollect: null,
setupType: 1
}
});
}, t.prototype.beginTouchEnd = function(e) {
return c(this, void 0, Promise, function() {
var t;
return l(this, function(o) {
console.log("FM_ mainUiLayer.beginTouchEnd", o.label);
switch (o.label) {
case 0:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return g.default.isPlatform(g.Platform.tt) ? 0 != p.default.isLogin() ? [ 3, 5 ] : [ 4, b.default.ttLogin() ] : [ 3, 6 ];

case 1:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
o.sent(), o.label = 2;

case 2:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return o.trys.push([ 2, 4, , 5 ]), [ 4, b.default.getUserInfo() ];

case 3:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return o.sent(), [ 3, 5 ];

case 4:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return t = o.sent(), cc.warn("获取用户信息失败，可能用户拒绝授权", t), [ 3, 5 ];

case 5:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return [ 3, 17 ];

case 6:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return g.default.isPlatform(g.Platform.wx) ? 0 != p.default.isLogin() ? [ 3, 11 ] : [ 4, b.default.wxLogin() ] : [ 3, 12 ];

case 7:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
o.sent(), o.label = 8;

case 8:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return o.trys.push([ 8, 10, , 11 ]), [ 4, b.default.getWxUserInfo() ];

case 9:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return o.sent(), [ 3, 11 ];

case 10:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return t = o.sent(), cc.warn("获取用户信息失败，可能用户拒绝授权", t), [ 3, 11 ];

case 11:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return [ 3, 17 ];

case 12:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return g.default.isPlatform(g.Platform.oppo) ? 0 != p.default.isLogin() ? [ 3, 14 ] : [ 4, b.default.oppoLogin() ] : [ 3, 15 ];

case 13:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
o.sent(), o.label = 14;

case 14:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return [ 3, 17 ];

case 15:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return g.default.isPlatform(g.Platform.vivo) && 0 == p.default.isLogin() ? [ 4, b.default.vivoLogin() ] : [ 3, 17 ];

case 16:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
o.sent(), o.label = 17;

case 17:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return console.log("登录成功，或者已登录 ###### ", e), 1 != e ? [ 3, 18 ] : (this.beginGameStatus(), 
[ 3, 20 ]);

case 18:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return 2 != e ? [ 3, 20 ] : [ 4, b.default.getTopicData(function() {}) ];

case 19:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
o.sent(), h.default.reportTACommon("game_start", {
type: "话题挑战"
}), _.default.topicModel && _.default.topicModel.info && 0 != _.default.topicModel.info.type ? this.enterTopicGame() : (this.showChoosePop(0), 
console.log("加入话题")), o.label = 20;

case 20:
console.log("FM_ mainUiLayer.beginTouchEnd -- ", o.label);
return [ 2 ];
}
});
});
}, t.prototype.showChoosePop = function(e) {
e = {
popName: "topicChoosePop",
showPopData: {
type: e,
chooseCallback: this.chooseCallbackFunc.bind(this)
}
};
cc.game.emit("showPop", e);
}, t.prototype.chooseCallbackFunc = function() {
var e = this;
this.enterTopicGame(), setTimeout(function() {
e.showTeamPop();
}, 1500);
}, t.prototype.enterTopicGame = function() {
h.default.reportTACommon("topic_join_ad", {}), cc.game.emit(f.EMITKEY.SHOWTRANSITLAYER, function() {
cc.game.emit(f.EMITKEY.SHOWMODULE, f.MODULETYPE.TOPIC);
});
}, t.prototype.showTeamPop = function() {
cc.game.emit("showPop", {
popName: "topicJoinedPop",
showPopData: {}
});
}, t.prototype.beginGameStatus = function() {
console.log("FM_ mainUiLayer.beginGameStatus");
var e = _.default.todayIsWin();
-1 != e && (e = 0);
if (y.default.getInstance().todayState = e, console.log("state = ", e), h.default.reportTACommon("game_start", {
type: "每日挑战"
}), y.default.getInstance().unLimitVideo = !0, -1 == e) {
console.log("FM_ mainUiLayer.gotoGame");
this.gotoGame();
} else if (0 == e) {
console.log("FM_ mainUiLayer.videoGotoGame");
this.videoGotoGame();
} else if (1 == e) {
console.log("FM_ mainUiLayer.每日一关,今天已挑战成功");
return void cc.game.emit(f.EMITKEY.SHOWMAINTIPS, "每日一关,今天已挑战成功");
}
}, t.prototype.gotoGame = function() {
var e = {
popName: "nothingPop",
showPopData: {
beginTouchCallback: this.beginTouchCallbackFunc.bind(this),
popType: 0
}
};
cc.game.emit("showPop", e);
}, t.prototype.videoGotoGame = function() {
var e = m.default.format(f.CALENDARNAMES[5], new Date()), t = m.default.format(f.CALENDARNAMES[6], new Date());
e = p.default.getDailyData(e, t), t = 0;
3 <= (t = e && e.unLimitVideo ? e.unLimitVideo : t) || y.default.getInstance().unLimitVideo ? (y.default.getInstance().unLimitVideo = !0, 
this.beginTouchCallbackFunc(), console.log("免广告 ###### = " + t)) : (y.default.getInstance().unLimitVideo = !1, 
e = {
popName: "noLimitPop",
showPopData: {
playVideoFunc: this.playVideoFunc.bind(this),
noPlayVideoFunc: this.noPlayVideoFunc.bind(this),
videoCount: t
}
}, cc.game.emit(f.EMITKEY.SHOWPOP, e), console.log("不免广告 ###### = " + t));
}, t.prototype.playVideoFunc = function() {
console.log("观看广告");
var e = this, t = p.default.GetVedioID();
g.default.watchAdVideo({
id: t,
success: function() {
console.log("成功 sdk");
var t = m.default.format(f.CALENDARNAMES[5], new Date()), o = m.default.format(f.CALENDARNAMES[6], new Date()), n = p.default.getDailyData(t, o), r = 1;
n ? (r = Number(n.unLimitVideo) + 1, 3 <= (n.unLimitVideo = r) && h.default.reportTACommon("unlimited_challenges_ad", {})) : n = {
dailyID: o,
isWin: !1,
unLimitVideo: r,
sheepNum: -1
}, p.default.saveDailyData(t, o, n), 3 <= r ? (y.default.getInstance().unLimitVideo = !0, 
e.beginTouchCallbackFunc(), cc.game.emit(f.EMITKEY.CLOSEALLPOP)) : e.videoGotoGame();
},
fail: function() {
console.log("失败");
},
nofit: function() {
e.shareTTAction();
}
});
}, t.prototype.noPlayVideoFunc = function() {
var e = {
popName: "getPropPop",
showPopData: {
popCallbackCollect: this.popCallbackCollect,
popType: 6
}
};
cc.game.emit(f.EMITKEY.SHOWPOP, e);
}, t.prototype.beginTouchCallbackFunc = function() {
console.log("FM_ mainUiLayer.beginTouchCallbackFunc");
if (1 <= this.beginButtonDuration) {
this.beginButtonDuration = 0;
y.default.setGameType(f.GAMETYPE.GAMEDAILY);
w.default.playBGM();
cc.game.emit(f.EMITKEY.BEGINGAME);
} else console.log("不能连续点击");
}, s([ A({
type: cc.Node,
tooltip: "开始游戏"
}) ], t.prototype, "beginBtn", void 0), s([ A({
type: cc.Node,
tooltip: "联系客服"
}) ], t.prototype, "btnCall", void 0), s([ A({
type: cc.Node,
tooltip: "隐私政策"
}) ], t.prototype, "btnPrivacy", void 0), s([ A({
type: cc.Node,
tooltip: "更多精彩"
}) ], t.prototype, "btnMoreGame", void 0), s([ A({
type: cc.Node,
tooltip: "遮罩"
}) ], t.prototype, "maskNode", void 0), s([ A(cc.Node) ], t.prototype, "setupBtn", void 0), 
s([ A({
type: cc.Node,
tooltip: "wx排行榜"
}) ], t.prototype, "rankBtn", void 0), s([ A({
type: cc.Node,
tooltip: "个人资料"
}) ], t.prototype, "meBtn", void 0), s([ A({
type: cc.Node,
tooltip: "关注抖音号"
}) ], t.prototype, "focusBtn", void 0), s([ A({
type: cc.Node,
tooltip: "托儿所"
}) ], t.prototype, "childBtn", void 0), s([ A({
type: cc.Node,
tooltip: "添加到桌面"
}) ], t.prototype, "deskBtn", void 0), s([ A(cc.Node) ], t.prototype, "timeNode", void 0), 
s([ A(cc.Label) ], t.prototype, "timeLabel", void 0), s([ A(cc.Node) ], t.prototype, "bottomRankNode", void 0), 
s([ A(cc.Label) ], t.prototype, "levelNumLabel", void 0), s([ A({
type: cc.Node,
tooltip: "弹幕页面"
}) ], t.prototype, "bulletNode", void 0), s([ A({
type: cc.Node,
tooltip: "弹幕"
}) ], t.prototype, "bulletBtn", void 0), s([ A({
type: cc.Node,
tooltip: "换装"
}) ], t.prototype, "collectBtn", void 0), s([ A({
type: cc.Node,
tooltip: "今日话题页面"
}) ], t.prototype, "topicBtn", void 0), s([ A({
type: cc.Node,
tooltip: "好友排行榜"
}) ], t.prototype, "friendBtn", void 0), s([ A({
type: cc.Node,
tooltip: "tt排行榜"
}) ], t.prototype, "ttRankBtn", void 0), s([ P ], t);
}(cc.Component);
i.default = S;
cc._RF.pop();
}, {} ],
mapArea: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "67f71SJOXZGlKQEcc+5J3rk", "mapArea");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.blackLine = null, t.widthNum = 0, t.heightNum = 0, t.minBlockNum = 0, t;
}
return i(t, e), t.prototype.start = function() {}, t.prototype.refreshMap = function(e, t, o) {
this.widthNum = e, this.heightNum = t, this.minBlockNum = o, this.node.removeAllChildren();
var n = this.widthNum * this.minBlockNum, r = this.heightNum * this.minBlockNum, i = this.node.width / n;
this.node.height = i * r;
for (var a = 0; a <= n; a++) {
var s = a * i, c = 0, l = 0;
l = a % (this.minBlockNum / 2) == 0 ? 1 : 0;
a % this.minBlockNum == 0 && (l = 2), this.addBlackLine(s, c, l, !0);
}
for (var u = 0; u <= r; u++) l = u % (this.minBlockNum / 2) == (l = s = 0) ? 1 : 0, 
u % this.minBlockNum == 0 && (l = 2), this.addBlackLine(s, c = -u * i, l, !1);
}, t.prototype.addBlackLine = function(e, t, o, n) {
var r = cc.instantiate(this.blackLine);
2 == o ? (r.height = 6, r.opacity = 50) : 1 == o ? (r.height = 4, r.opacity = 40) : (r.height = 2, 
r.opacity = 20), n ? (r.angle = -90, r.width = this.node.height) : (r.angle = 0, 
r.width = this.node.width), r.x = e, r.y = t, this.node.addChild(r);
}, a([ l(cc.Prefab) ], t.prototype, "blackLine", void 0), a([ c ], t);
}(cc.Component);
r.default = u;
cc._RF.pop();
}, {} ],
mapEditor: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d6b62YDoXJBjYP9NnAI8e6T", "mapEditor");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("blockEditorPrefab"), l = r("config"), u = r("key-map"), p = r("mapArea"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mapArea = null, t.blockArea = null, t.blockEditorNode = null, t.blockEditorPrefab = null, 
t.widthNum = 0, t.heightNum = 0, t.moveBlockType = 0, t.moldType = 1, t.levelID = 0, 
t.blockNodeObj = {}, t.isDeleteBlock = !1, t.minBlockNum = 8, t.blockMaxWidth = 120, 
t.blockMaxHeight = 135, t.moveMinBlockNum = 1, t.newLevelDataObj = null, t;
}
return a(t, e), t.prototype.start = function() {
window.xuxu = this, cc.game.on("refreshMapSizeData", this.refreshMapSizeData, this), 
cc.game.on("setBlockTypeData", this.setBlockTypeData, this), cc.game.on("initLevelData", this.initLevelData, this), 
this.node.on(cc.Node.EventType.MOUSE_DOWN, this.mouseDown, this), this.node.on(cc.Node.EventType.MOUSE_ENTER, this.mouseEnter, this), 
this.node.on(cc.Node.EventType.MOUSE_MOVE, this.mouseMove, this), this.node.on(cc.Node.EventType.MOUSE_LEAVE, this.mouseLeave, this), 
u.default.onKeyDownWithMeta("a", this.changeMouseStatus.bind(this)), u.default.onKeyDownWithMeta("1", this.changeBlockVoid.bind(this)), 
u.default.onKeyDownWithMeta("2", this.changeBlockType.bind(this)), u.default.onKeyDownWithMeta("3", this.changeRandomBlockType.bind(this)), 
u.default.onKeyDownWithMeta("4", this.changeMoveMinBlockNum.bind(this)), u.default.onKeyDownWithMeta("z", this.changeMouseStatus.bind(this)), 
u.default.onKeyDownWithMeta("x", this.changeBlockVoid.bind(this)), u.default.onKeyDownWithMeta("c", this.changeRandomBlockType.bind(this)), 
u.default.onKeyDownWithMeta("v", this.changeMoveMinBlockNum.bind(this));
}, t.prototype.initLevelData = function(e) {
console.log("新地图数据：", e), this.newLevelDataObj = e.newLevelData, this.levelID = this.newLevelDataObj.levelKey, 
this.setLevelMapData();
}, t.prototype.setBlockTypeData = function(e) {
if (!this.newLevelDataObj) return !1;
this.newLevelDataObj.blockTypeData = e, console.log("设置关卡图块数据：", e);
}, t.prototype.refreshMapSizeData = function(e) {
if (!this.newLevelDataObj) return !1;
this.newLevelDataObj.widthNum = e.width, this.newLevelDataObj.heightNum = e.height, 
this.setLevelMapData();
}, t.prototype.setLevelMapData = function() {
this.initLevelAllBlock(), this.mapArea.getComponent(p.default).refreshMap(this.newLevelDataObj.widthNum, this.newLevelDataObj.heightNum, this.minBlockNum);
}, t.prototype.mouseDown = function(e) {
if (!this.newLevelDataObj || this.isDeleteBlock) return !1;
e = e.getLocation(), e = this.node.convertToNodeSpaceAR(e), e = this.getMouseBlockPoint(e), 
e = this.getMouseBlockArea(e);
this.clickAddMapBlockNode(e), console.log("lineObj:", e.rolNum, e.rowNum);
}, t.prototype.mouseEnter = function(e) {
if (!this.newLevelDataObj || this.isDeleteBlock) return !1;
this.blockEditorNode.active = !0;
e = e.getLocation(), e = this.node.convertToNodeSpaceAR(e);
this.blockEditorNode.x = e.x, this.blockEditorNode.y = e.y;
e = this.node.width / this.newLevelDataObj.widthNum;
this.blockEditorNode.scale = e / this.blockMaxWidth, this.blockEditorNode.getComponent(c.default).setBlockImgType(this.moveBlockType, this.moldType);
}, t.prototype.mouseMove = function(e) {
if (!this.newLevelDataObj || this.isDeleteBlock) return !1;
e = e.getLocation(), e = this.node.convertToNodeSpaceAR(e), e = this.getMouseBlockPoint(e);
this.blockEditorNode.x = e.x, this.blockEditorNode.y = e.y;
}, t.prototype.mouseLeave = function() {
if (!this.newLevelDataObj || this.isDeleteBlock) return !1;
this.blockEditorNode.active = !1;
}, t.prototype.getMouseBlockArea = function(e) {
var t = this.newLevelDataObj.widthNum * this.minBlockNum;
t = (this.heightNum, this.minBlockNum, this.node.width / t);
return {
rolNum: Math.floor(e.x / t),
rowNum: Math.floor(Math.abs(e.y) / t)
};
}, t.prototype.getMouseBlockPoint = function(e) {
var t = this.newLevelDataObj.widthNum * this.minBlockNum, o = (this.heightNum, this.minBlockNum, 
this.node.width / t * this.moveMinBlockNum);
t = Math.floor(e.x / o) * o, o = -Math.floor(Math.abs(e.y) / o) * o;
return cc.v2(t, o);
}, t.prototype.clickAddMapBlockNode = function(e) {
var t = this.getBlockLayerIndex(e), o = {
id: t + "-" + e.rolNum + "-" + e.rowNum,
type: this.moveBlockType,
rolNum: e.rolNum,
rowNum: e.rowNum,
layerNum: t,
moldType: this.moldType,
blockNode: null
};
this.newLevelDataObj.levelData[t] || (this.newLevelDataObj.levelData[t] = []), this.newLevelDataObj.levelData[t].push(o), 
console.log("添加完数据：", this.newLevelDataObj.levelData), this.addBlockEditorNode(e.rolNum, e.rowNum, t, this.moveBlockType, this.moldType);
}, t.prototype.initLevelAllBlock = function() {
this.blockNodeObj = {}, this.blockArea.removeAllChildren();
var e, t = this.newLevelDataObj.levelData;
for (e in t) for (var o in t[e]) this.addBlockEditorNode(t[e][o].rolNum, t[e][o].rowNum, t[e][o].layerNum, t[e][o].type, t[e][o].moldType);
}, t.prototype.addBlockEditorNode = function(e, t, o, n, r) {
var i = cc.instantiate(this.blockEditorPrefab), a = this.newLevelDataObj.widthNum * this.minBlockNum, s = e * (l = this.node.width / a), l = (a = -t * l, 
this.node.width / this.newLevelDataObj.widthNum);
i.scale = l / this.blockMaxWidth, i.x = s, i.y = a, i.getComponent(c.default).setBlockImgType(n, this.moldType), 
i.getComponent(c.default).setBlockLayerNum(e, t, o, r, this.deleteBlock.bind(this)), 
this.blockNodeObj[e + "-" + t + "-" + o] = i, this.blockArea.addChild(i), cc.game.emit("setBlockNum");
}, t.prototype.deleteBlock = function(e, t, o) {
if (this.isDeleteBlock) {
var n = e + "-" + t + "-" + o;
this.blockNodeObj[n] && (this.blockNodeObj[n].destroy(), delete this.blockNodeObj[n]);
var r = this.newLevelDataObj.levelData;
if (r[o]) for (var i = 0; i < r[o].length; i++) r[o][i].rolNum == e && r[o][i].rowNum == t && r[o].splice(i, 1);
cc.game.emit("setBlockNum");
}
}, t.prototype.getBlockLayerIndex = function(e) {
var t, o, n, r, i, a, s = this.newLevelDataObj.levelData, c = 1;
for (t in s) for (var l = s[t], u = 0; u < l.length; u++) l[u] && (o = e.rolNum - this.minBlockNum, 
n = e.rolNum + this.minBlockNum, r = e.rowNum - this.minBlockNum, i = e.rowNum + this.minBlockNum, 
(a = l[u]).rolNum > o && a.rolNum < n && a.rowNum > r && a.rowNum < i && a.layerNum + 1 > c && (c = a.layerNum + 1));
return c;
}, t.prototype.changeMoveMinBlockNum = function() {
1 == this.moveMinBlockNum ? this.moveMinBlockNum = 4 : this.moveMinBlockNum = 1;
}, t.prototype.changeRandomBlockType = function() {
this.moldType = 2, this.moveBlockType = 0, this.blockEditorNode.getComponent(c.default).setBlockImgType(this.moveBlockType, this.moldType);
}, t.prototype.changeBlockVoid = function() {
this.moldType = 1, this.moveBlockType = 0, this.blockEditorNode.getComponent(c.default).setBlockImgType(this.moveBlockType, this.moldType);
}, t.prototype.changeBlockType = function() {
this.moveBlockType++, this.moldType = 1, this.moveBlockType > l.default.blockTypeConfig[l.default.blockTypeConfig.length - 1] && (this.moveBlockType = 0), 
this.blockEditorNode.getComponent(c.default).setBlockImgType(this.moveBlockType, this.moldType);
}, t.prototype.changeMouseStatus = function() {
var e;
console.log("command+a"), this.isDeleteBlock ? (console.log("this.isDeleteBlock", this.isDeleteBlock), 
this.isDeleteBlock = !1, this.blockEditorNode.active = !0, e = this.node.width / this.newLevelDataObj.widthNum, 
this.blockEditorNode.scale = e / this.blockMaxWidth) : (console.log("this.isDeleteBlock", this.isDeleteBlock), 
this.isDeleteBlock = !0, this.blockEditorNode.active = !1);
}, s([ h(cc.Node) ], t.prototype, "mapArea", void 0), s([ h(cc.Node) ], t.prototype, "blockArea", void 0), 
s([ h(cc.Node) ], t.prototype, "blockEditorNode", void 0), s([ h(cc.Prefab) ], t.prototype, "blockEditorPrefab", void 0), 
s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
maskLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5fe07xHyi5IB5UwR8crAg1t", "maskLayer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("enumConfig"), l = cc._decorator, u = l.ccclass, p = (l.property, function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return a(t, e), t.prototype.start = function() {
this.node.active = !1, cc.game.on(c.EMITKEY.SHOWMASKLAYER, this.showMaskLayer, this), 
cc.game.on(c.EMITKEY.HIDEMASKLAYER, this.hideMaskLayer, this), this.node.on(cc.Node.EventType.TOUCH_START, this.starFunc, this), 
this.node.on(cc.Node.EventType.TOUCH_END, this.endFunc, this), this.node.on(cc.Node.EventType.TOUCH_MOVE, this.moveFunc, this), 
this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.cancelFunc, this);
}, t.prototype.showMaskLayer = function() {
this.node.active = !0;
}, t.prototype.hideMaskLayer = function() {
this.node.active = !1;
}, t.prototype.starFunc = function(e) {
e.stopPropagation();
}, t.prototype.endFunc = function(e) {
e.stopPropagation();
}, t.prototype.moveFunc = function(e) {
e.stopPropagation();
}, t.prototype.cancelFunc = function(e) {
e.stopPropagation();
}, s([ u ], t);
}(cc.Component));
i.default = p;
cc._RF.pop();
}, {} ],
mask: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "29fbe5db7JFWJL2hqkjASq4", "mask");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = cc._decorator, c = s.ccclass, l = (s.property, function(e) {
function t() {
return null !== e && e.apply(this, arguments) || this;
}
return i(t, e), t.prototype.start = function() {
this.node.on(cc.Node.EventType.TOUCH_START, this.starFunc, this), this.node.on(cc.Node.EventType.TOUCH_END, this.endFunc, this), 
this.node.on(cc.Node.EventType.TOUCH_MOVE, this.moveFunc, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.cancelFunc, this);
}, t.prototype.starFunc = function(e) {
e.stopPropagation();
}, t.prototype.endFunc = function(e) {
e.stopPropagation();
}, t.prototype.moveFunc = function(e) {
e.stopPropagation();
}, t.prototype.cancelFunc = function(e) {
e.stopPropagation();
}, a([ c ], t);
}(cc.Component));
r.default = l;
cc._RF.pop();
}, {} ],
"mesh-vertex": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a29abOYIg9Li5/yGTvFnVbF", "mesh-vertex");
var n = o;
Object.defineProperty(n, "__esModule", {
value: !0
}), n.MeshVertex = void 0, n.MeshVertex = function(e, t, o) {
this.position = e, this.normal = t, this.uv = o;
};
cc._RF.pop();
}, {} ],
moveOutArea: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f88d3tXmpFFjbC+QpZh+Ueh", "moveOutArea");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("enumConfig"), l = r("crushArea"), u = cc._decorator, p = u.ccclass, d = u.property, f = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.crushAreaNode = null, t.crushAreaArgs = null, t.blockMaxWidth = 120, t.parentComp = null, 
t.newScale = .8, t.newAddY = 8, t.moveOutObj = {
1: [],
2: [],
3: []
}, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.initMoveOutArea = function(e) {
this.node.removeAllChildren(), this.parentComp = e, this.moveOutObj = {
1: [],
2: [],
3: []
};
}, t.prototype.addThreeOutBlock = function(e) {
for (var t = 0; t < e.length; t++) {
this.moveOutObj[t + 1].push(e[t]);
var o = e[t], n = o.node.convertToWorldSpaceAR(cc.v2(0, 0));
n = this.node.convertToNodeSpaceAR(n);
o.node.removeFromParent(!1), o.node.x = n.x, o.node.y = n.y, o.cardDataObj.moldType = 1, 
o.updateBlockNodeData(o.cardDataObj, this.removeCardNode.bind(this)), this.node.addChild(o.node);
}
this.updateBlockPosStatus();
}, t.prototype.cancelAddBlockFunc = function(e) {
this.moveOutObj[e.moveOutKey].push(e);
var t = e.node.convertToWorldSpaceAR(cc.v2(0, 0));
t = this.node.convertToNodeSpaceAR(t);
e.node.removeFromParent(!1), e.node.x = t.x, e.node.y = t.y, this.node.addChild(e.node), 
this.updateBlockPosStatus();
}, t.prototype.checkGameWin = function() {
for (var e in this.moveOutObj) if (0 < this.moveOutObj[e].length) return !1;
return !0;
}, t.prototype.updateBlockPosStatus = function() {
for (var e in this.moveOutObj) for (var t = Number(e) * this.blockMaxWidth * this.newScale - this.blockMaxWidth * this.newScale / 2, o = this, n = 0; n < this.moveOutObj[e].length; n++) !function(n) {
var r = o.moveOutObj[e][n], i = n * o.newAddY;
n < o.moveOutObj[e].length - 1 ? r.setStatus(!1, o.newScale) : r.setStatus(!0, o.newScale), 
r.node.x != t || r.node.y != i ? (r.node.stopAllActions(), cc.tween(r.node).to(.15, {
x: t,
y: i,
scale: o.newScale
}).call(function() {
r.isChoosed = !1, cc.game.emit(c.EMITKEY.HIDEMASKLAYER, 8);
}, o).start()) : (r.isChoosed = !1, cc.game.emit(c.EMITKEY.HIDEMASKLAYER, 9));
}(n);
}, t.prototype.removeCardNode = function(e) {
if (!(7 <= this.crushAreaNode.getComponent(l.default).getCrushBlockNum())) {
this.crushAreaNode.setSiblingIndex(10), this.crushAreaArgs.setSiblingIndex(10);
var t, o = 1;
for (t in this.moveOutObj) for (var n = 0; n < this.moveOutObj[t].length; n++) {
var r = e.cardDataObj;
if (this.moveOutObj[t][n].cardDataObj.layerNum == r.layerNum && this.moveOutObj[t][n].cardDataObj.rolNum == r.rolNum && this.moveOutObj[t][n].cardDataObj.rowNum == r.rowNum) {
o = Number(t), this.moveOutObj[t].splice(n, 1), this.updateBlockPosStatus();
break;
}
}
this.parentComp.crushBlockNode(e), e.comeParent = "moveOutArea", e.moveOutKey = o;
}
}, s([ d(cc.Node) ], t.prototype, "crushAreaNode", void 0), s([ d(cc.Node) ], t.prototype, "crushAreaArgs", void 0), 
s([ p ], t);
}(cc.Component);
i.default = f;
cc._RF.pop();
}, {} ],
"native-bridge": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "2c85cEMdLpBjqoP7dN6ARgY", "native-bridge");
var n = e, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
});
var i = n("sdk"), a = n("native-def"), s = n("native-event"), c = function() {
function e() {}
return e.leitingShareReq = function(t) {
e.shareInfo = t, e.callNative(a.NativeFun.leitingShare, {
manner: t.manner,
params: JSON.stringify(t.param)
});
}, e.leitingLogin = function(t) {
e.loginInfo = t, cc.director.getScene().name, cc.game.emit(s.NativeEvent.LeitingLoginInfo, t);
}, e.leitingShare = function(t) {
e.shareInfo && ("1" == t.status ? e.shareInfo.success && e.shareInfo.success(!0) : e.shareInfo.fail && e.shareInfo.fail(!0), 
e.shareInfo.complete && e.shareInfo.complete("1" == t.status), e.shareInfo = null);
}, e.leitingReport = function(t, o) {
void 0 === o && (o = {});
o = JSON.stringify(o);
e.callNative(a.NativeFun.leitingEventReport, {
plugName: "FF",
eventKey: t + "," + t,
eventValue: o
});
}, e.callNative = function(e, t) {
void 0 === t && (t = {}), console.log("调用 原生平台 callNative", "method:", e, "param:", t), 
window.jsb ? i.default.isPlatform(i.Platform.android) ? jsb.reflection.callStaticMethod("org/cocos2dx/javascript/CocosBridge", "callNative", "(Ljava/lang/String;Ljava/lang/String;)V", e, JSON.stringify(t)) : i.default.isPlatform(i.Platform.ios) && jsb.reflection.callStaticMethod("CocosBridge", "callNative:withParam:", e, JSON.stringify(t)) : console.log(e, " support on jsb only");
}, e.CocosCallerOrg = function(t, o) {
console.log("CocosCallerOrg：", t, o);
var n = JSON.parse(o);
switch (t) {
case a.CocosFun.androidParamsInfo:
e.androidInfo = n;
break;

case a.CocosFun.setMedia:
e.media = n.value;
break;

case a.CocosFun.leitingLogin:
e.leitingLogin(n);
break;

case a.CocosFun.leitingShare:
e.leitingShare(n);
break;

case a.CocosFun.leitingGetDeviceInfo:
e.deviceInfo = n, cc.game.emit(s.NativeEvent.LeitingGetDeviceInfo);
break;

case a.CocosFun.outAppPayNotify:
e.loginInfo = n;
break;

case a.CocosFun.overseasUserBindCallback:
cc.game.emit(s.NativeEvent.OverseasUserBindCallback);
break;

case a.CocosFun.leitingLoginErr:
e.loginInfo = null, cc.game.emit(s.NativeEvent.LeitingLoginErr);
break;

case a.CocosFun.showRewardVideoAdRst:
console.log("CocosFun.showRewardVideoAdRst", n && 1 == n.code);
cc.game.emit("ad-reward-video-native-callback", 0, n && 1 == n.code);
break;

case a.CocosFun.productInfoRecv:
"0" != (r = n).code && console.warn("请求商品价格信息失败"), cc.game.emit(s.NativeEvent.ProductInfoRst, r.productInfo);
break;

case a.CocosFun.leitingPayCb:
var r = n;
cc.game.emit(s.NativeEvent.PayRst, r);

default:
cc.error("native call cocos err", t);
}
}, e.loginInfo = null, e.deviceInfo = null, e.androidInfo = null, e.media = "", 
e;
}();
r.default = c;
window.CocosCallerOrg = c.CocosCallerOrg;
cc._RF.pop();
}, {} ],
"native-def": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b1a045iF8FPGbssaev6oGNm", "native-def");
var n = o;
Object.defineProperty(n, "__esModule", {
value: !0
}), n.CocosFun = n.NativeFun = n.shareType = n.sharePlatform = n.reportType = n.afReportList = n.BindType = void 0, 
function(e) {
e.googleplay = "1", e.facebook = "2", e.gamecenter = "3";
}(n.BindType || (n.BindType = {})), n.afReportList = [ 10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 200, 400, 600 ], 
function(e) {
e.Regiser = "2", e.CreateRole = "3", e.Loginout = "4", e.Pay = "5", e.FinishGuide = "6", 
e.addCart = "7";
}(n.reportType || (n.reportType = {})), function(e) {
e.googleplay = "googleplay", e.facebook = "facebook", e.lineins = "lineins";
}(n.sharePlatform || (n.sharePlatform = {})), function(e) {
e.link = "link", e.photo = "photo", e.video = "video", e.text = "text";
}(n.shareType || (n.shareType = {})), function(e) {
e.InitLeitingSdk = "initLeitingSdk", e.leitingLogin = "leitingLogin", e.leitingAccountCenter = "leitingAccountCenter", 
e.leitingShare = "leitingShare", e.leitingShowBindAccountPage = "leitingShowBindAccountPage", 
e.leitingEventReport = "leitingEventReport", e.showRewardVideoAd = "showRewardVideoAd", 
e.reqProductInfo = "reqProductInfo", e.reqPay = "reqPay", e.shushuEventReport = "shushuEventReport", 
e.publicParamsInfo = "publicParamsInfo";
}(n.NativeFun || (n.NativeFun = {})), function(e) {
e.setMedia = "setMedia", e.leitingLogin = "leitingLogin", e.leitingLoginErr = "leitingLoginErr", 
e.leitingPay = "leitingPay", e.leitingShare = "leitingShare", e.leitingGetDeviceInfo = "leitingGetDeviceInfo", 
e.outAppPayNotify = "outAppPayNotify", e.overseasUserBindCallback = "overseasUserBindCallback", 
e.showRewardVideoAdRst = "showRewardVideoAdRst", e.productInfoRecv = "productInfoRecv", 
e.leitingPayCb = "leitingPayCb", e.androidParamsInfo = "androidParamsInfo";
}(n.CocosFun || (n.CocosFun = {}));
cc._RF.pop();
}, {} ],
"native-event": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4b33ap2W0tF+qCVSawt7vjA", "native-event");
var n = o;
Object.defineProperty(n, "__esModule", {
value: !0
}), n.NativeEvent = void 0, function(e) {
e.LeitingGetDeviceInfo = "NativeEvent.LeitingGetDeviceInfo", e.LeitingLoginInfo = "NativeEvent.LeitingLoginInfo", 
e.OverseasUserBindCallback = "NativeEvent.OverseasUserBindCallback", e.LeitingLoginErr = "NativeEvent.LeitingLoginErr", 
e.ProductInfoRst = "NativeEvent.ProductInfoRst", e.PayRst = "NativeEvent.PayRst";
}(n.NativeEvent || (n.NativeEvent = {}));
cc._RF.pop();
}, {} ],
"network-tool": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cd03faX39hArqKnt5t/dSp9", "network-tool");
var n = e, r = o, i = function() {
return (i = Object.assign || function(e) {
for (var t, o = 1, n = arguments.length; o < n; o++) for (var r in t = arguments[o]) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
return e;
}).apply(this, arguments);
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var a = n("http"), s = n("data-env"), c = n("data-type"), l = s.getLocalEnvConfig(c.ENV.local), u = function() {
function e() {}
return e.setLevelMapData = function(t, o) {
0 <= this.host.indexOf("easygame2021") ? console.log("线上环境停止测试 ###### ") : e.post({
url: "/admin/game_map/upsert",
data: {
map_id: t,
map_data: o
},
success: function(e) {
0 == e.err_code ? console.log("保存地图：", t, e) : console.log("保存地图失败:", t, e);
}
});
}, e.get = function(e) {
return a.default.get(i({
host: this.host,
baseParams: {}
}, e));
}, e.post = function(e) {
return a.default.post(i({
host: this.host,
baseParams: {}
}, e));
}, e.GETURL = function(e) {
return a.default.get(i({
baseParams: {}
}, e));
}, e.POSTURL = function(e) {
return a.default.post(i({
baseParams: {}
}, e));
}, e.GET = function(e, t, o) {
void 0 === t && (t = {});
var n = "";
Object.keys(t).forEach(function(e) {
n += e + "=" + encodeURIComponent(t[e]) + "&";
}), "" !== n && (e = e + "?" + (n = n.substr(0, n.lastIndexOf("&"))));
var r = cc.loader.getXMLHttpRequest();
r.open("GET", e, !0), r.setRequestHeader("Content-Type", "text/plain;charset=UTF-8"), 
r.onreadystatechange = function() {
var e;
4 === r.readyState && (e = r.responseText, 200 <= r.status && r.status < 300 ? (r.statusText, 
o(!0, e)) : o(!1, e));
}, r.timeout = this.TimeOut, r.send();
}, e.POST = function(e, t, o) {
void 0 === t && (t = {});
var n = cc.loader.getXMLHttpRequest(), r = "";
Object.keys(t).forEach(function(e) {
r += e + "=" + encodeURIComponent(t[e]) + "&";
}), "" !== r && (r = r.substr(0, r.lastIndexOf("&"))), n.open("POST", e, !0), n.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), 
n.onreadystatechange = function() {
var e;
4 === n.readyState && (e = n.responseText, 200 <= n.status && n.status < 300 ? (n.statusText, 
o(!0, e)) : o(!1, e));
}, n.send(r);
}, e.host = l.host, e.TimeOut = 200, e;
}();
r.default = u;
cc._RF.pop();
}, {} ],
newLevelPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "da3caVMFQ5HlYmVp5lat/E1", "newLevelPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = cc._decorator, l = c.ccclass, u = c.property, p = r("config"), d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.inputLevelNum = null, t.closeNode = null, t;
}
return a(t, e), t.prototype.start = function() {
this.closeNode.on(cc.Node.EventType.TOUCH_END, this.closeFunc, this);
}, t.prototype.showNewLevelPop = function() {
this.node.active = !0, this.inputLevelNum.string = "";
}, t.prototype.newLevelFunc = function() {
var e = Number(this.inputLevelNum.string);
0 < e ? (this.node.active = !1, this.emitNewLevel(e), console.log("设置关卡数", this.inputLevelNum.string)) : console.log("error:书写错误");
}, t.prototype.emitNewLevel = function(e) {
var t = cc.instantiate(p.default.baseMapObj);
t.levelKey = e, cc.game.emit("initLevelData", {
newLevelData: t
});
}, t.prototype.closeFunc = function() {
this.node.active = !1;
}, s([ u({
type: cc.EditBox,
tooltip: "输入对应关卡数"
}) ], t.prototype, "inputLevelNum", void 0), s([ u(cc.Node) ], t.prototype, "closeNode", void 0), 
s([ l ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {} ],
nextLevelPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b49fdZpjJtCJY67qY7JG6Ry", "nextLevelPop");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.maskNode = null, t.fainNode = null, t;
}
return i(t, e), t.prototype.start = function() {}, t.prototype.showPop = function() {
var e = this;
this.maskNode.opacity = 0, this.node.active = !0, cc.tween(this.maskNode).to(0, {
opacity: 0
}).to(.2, {
opacity: 178
}).start();
var t = cc.winSize.width;
this.fainNode.x = t, this.fainNode.y = 100, cc.tween(this.fainNode).to(1, {
x: 0,
y: 100
}, {
easing: cc.easing.cubicOut
}).delay(1).call(function() {
cc.tween(e.maskNode).to(.8, {
opacity: 0
}).start();
}).to(1, {
x: -t,
y: 100
}, {
easing: cc.easing.quadOut
}).call(function() {
e.node.active = !1;
}).start();
}, a([ l(cc.Node) ], t.prototype, "maskNode", void 0), a([ l(cc.Node) ], t.prototype, "fainNode", void 0), 
a([ c ], t);
}(cc.Component);
r.default = u;
cc._RF.pop();
}, {} ],
noLimitPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "86b2eck/b9Nv5kDApWcxh9L", "noLimitPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("enumConfig"), u = cc._decorator, p = u.ccclass, d = u.property, f = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mask = null, t.popNode = null, t.closeBtn = null, t.videoBtn = null, t.noVideoBtn = null, 
t.limitVideoLabel = null, t.showPopData = null, t;
}
return a(t, e), t.prototype.start = function() {
cc.game.on(l.EMITKEY.UPDATEPOPDATA, this.updatePopDataFunc, this), c.default.addbtnTouchEndScale(this.mask, this.closeBtnFunc.bind(this)), 
c.default.addbtnTouchStartScale(this.closeBtn), c.default.addbtnTouchEndScale(this.closeBtn, this.closeBtnFunc.bind(this)), 
c.default.addbtnTouchCancelScale(this.closeBtn), c.default.addbtnTouchStartScale(this.videoBtn), 
c.default.addbtnTouchEndScale(this.videoBtn, this.videoBtnFunc.bind(this)), c.default.addbtnTouchCancelScale(this.videoBtn), 
c.default.addbtnTouchStartScale(this.noVideoBtn), c.default.addbtnTouchEndScale(this.noVideoBtn, this.noVideoBtnFunc.bind(this)), 
c.default.addbtnTouchCancelScale(this.noVideoBtn);
}, t.prototype.updatePopDataFunc = function() {}, t.prototype.closeBtnFunc = function() {
this.node.active = !1, this.showPopData && this.showPopData.noPlayVideoFunc && this.showPopData.noPlayVideoFunc();
}, t.prototype.noVideoBtnFunc = function() {
this.node.active = !1, this.showPopData && this.showPopData.noPlayVideoFunc && this.showPopData.noPlayVideoFunc();
}, t.prototype.videoBtnFunc = function() {
this.node.active = !1, this.showPopData && this.showPopData.playVideoFunc && this.showPopData.playVideoFunc();
}, t.prototype.showNoLimitPop = function(e) {
this.node.active = !0, this.showPopData = e, this.limitVideoLabel.string = e.videoCount + "/3", 
cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start();
}, s([ d(cc.Node) ], t.prototype, "mask", void 0), s([ d(cc.Node) ], t.prototype, "popNode", void 0), 
s([ d(cc.Node) ], t.prototype, "closeBtn", void 0), s([ d(cc.Node) ], t.prototype, "videoBtn", void 0), 
s([ d(cc.Node) ], t.prototype, "noVideoBtn", void 0), s([ d(cc.Label) ], t.prototype, "limitVideoLabel", void 0), 
s([ p ], t);
}(cc.Component);
i.default = f;
cc._RF.pop();
}, {} ],
nothingPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f9f03C5IqJPgrwEd50J+8g+", "nothingPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("enumConfig"), u = r("DateManager"), p = r("sdk"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mask = null, t.popNode = null, t.closeBtn = null, t.goBtn = null, t.titleLabel = null, 
t.descLabel = null, t.goLabel = null, t.showPopData = null, t;
}
return a(t, e), t.prototype.start = function() {
c.default.addbtnTouchEndScale(this.mask, this.closeBtnFunc.bind(this)), c.default.addbtnTouchStartScale(this.closeBtn), 
c.default.addbtnTouchEndScale(this.closeBtn, this.closeBtnFunc.bind(this)), c.default.addbtnTouchCancelScale(this.closeBtn), 
c.default.addbtnTouchStartScale(this.goBtn), c.default.addbtnTouchEndScale(this.goBtn, this.goBtnFunc.bind(this)), 
c.default.addbtnTouchCancelScale(this.goBtn);
}, t.prototype.closeBtnFunc = function() {
this.node.active = !1;
}, t.prototype.goBtnFunc = function() {
this.showPopData && this.showPopData.beginTouchCallback && this.showPopData.beginTouchCallback(), 
this.closeBtnFunc();
}, t.prototype.showNothingPop = function(e) {
p.default.showNativeAd(!0);
this.node.active = !0, this.showPopData = e, cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start();
!(e = u.default.format(l.CALENDARNAMES[4], new Date())) || 3 <= (e = e.split("-")).length && (this.titleLabel.string = e[1] + "月" + e[2] + "日");
}, s([ h(cc.Node) ], t.prototype, "mask", void 0), s([ h(cc.Node) ], t.prototype, "popNode", void 0), 
s([ h(cc.Node) ], t.prototype, "closeBtn", void 0), s([ h(cc.Node) ], t.prototype, "goBtn", void 0), 
s([ h(cc.Label) ], t.prototype, "titleLabel", void 0), s([ h(cc.Label) ], t.prototype, "descLabel", void 0), 
s([ h(cc.Label) ], t.prototype, "goLabel", void 0), s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
"page-house": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "c7dfaR+FBhOv4WArlgOZb10", "page-house");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("dataTs"), u = r("enumConfig"), p = cc._decorator, d = p.ccclass, f = p.property, h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.showMain = null, t;
}
return a(t, e), t.prototype.start = function() {
cc.game.on(u.EMITKEY.MAINUPDATEUI, this.updateSubUI, this), c.default.addbtnTouchStartScale(this.showMain), 
c.default.addbtnTouchEndScale(this.showMain, this.showMainFunc.bind(this)), c.default.addbtnTouchCancelScale(this.showMain), 
this.updateSubUI();
}, t.prototype.updateSubUI = function() {
console.log("page-house MAINUPDATEUI"), 1 == l.default.currentHouseUnlockAll() ? this.showMain.getChildByName("mark").active = !0 : this.showMain.getChildByName("mark").active = !1;
}, t.prototype.showMainFunc = function() {
cc.game.emit(u.EMITKEY.UPDATETABBARRECEIVE, 1);
}, s([ f(cc.Node) ], t.prototype, "showMain", void 0), s([ d ], t);
}(cc.Component);
i.default = h;
cc._RF.pop();
}, {} ],
"page-main": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "df8f95zulFCI6iyRCXBRejZ", "page-main");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("gd_language"), l = r("i18n"), u = r("CcJsFunc"), p = r("dataTs"), d = r("enumConfig"), f = r("sdk"), h = r("spine"), y = r("util"), m = r("GameManager"), g = cc._decorator, b = g.ccclass, v = g.property, _ = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mainLayer = null, t.nextBtn = null, t.sprintReward = null, t.sprintWinLabel = null, 
t.sprintWinLabelShadow = null, t.sprintTimeLabel = null, t.cookieReward = null, 
t.updateTime = 0, t.popCallbackCollect = null, t;
}
return a(t, e), t.prototype.update = function(e) {
this.updateTime += e, 1 <= this.updateTime && (--this.updateTime, this.updateTimeNum());
}, t.prototype.updateTimeNum = function() {
var e;
p.default.getUserData().playLevelId < 3 || (0 == (e = p.default.updateSprintRewardTime()) ? (console.log("已满"), 
this.sprintTimeLabel.string = "End") : 0 < (e = y.default.formatTime(e))[0] ? this.sprintTimeLabel.string = e[0] + "d " + e[1] + "h" : 0 < e[1] ? this.sprintTimeLabel.string = e[1] + "h " + e[2] + "m" : (0 < e[2] || 0 < e[3]) && (this.sprintTimeLabel.string = e[2] + "m " + e[3] + "s"));
}, t.prototype.start = function() {
cc.game.on(d.EMITKEY.MAINUPDATEUI, this.updateUiDataFunc, this), m.default.getInstance().gameEnv == d.GAMEENV.ENVRELEASE ? (this.nextBtn.active = !1, 
cc.sys.isBrowser && (this.nextBtn.active = !0), f.default.isPlatform(f.Platform.ios) && (this.nextBtn.active = !0)) : this.nextBtn.active = !0, 
u.default.addbtnTouchStartScale(this.nextBtn), u.default.addbtnTouchEndScale(this.nextBtn, this.nextBtnFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.nextBtn), u.default.addbtnTouchStartScale(this.sprintReward), 
u.default.addbtnTouchEndScale(this.sprintReward, this.sprintRewardFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.sprintReward);
var e = this.cookieReward.getChildByName("click-btn");
u.default.addbtnTouchEndScale(e, this.cookieRewardFunc.bind(this)), this.updateTimeNum(), 
this.updateUiDataFunc(), this.popCallbackCollect = {
playGameCallBack: this.playGameCallBackFunc.bind(this)
};
}, t.prototype.playGameCallBackFunc = function() {}, t.prototype.cookieRewardFunc = function() {
var e = {
popName: "nothingPop",
showPopData: {
popCallbackCollect: this.popCallbackCollect,
popType: 4
}
};
cc.game.emit("showPop", e);
}, t.prototype.updateUiDataFunc = function() {
console.log("page-main MAINUPDATEUI");
var e = p.default.getSprintRewardData();
this.sprintWinLabel.string = e.winNum + "", this.sprintWinLabelShadow.string = e.winNum + "", 
this.sprintReward.getChildByName("mark").active = m.default.getInstance().sprintMark, 
this.sprintReward.getComponent(h.default).play("4Icon_RichRoad1", 0, function() {
console.log("4Icon_RichRoad1 ######");
}), p.default.getUserData().playLevelId < p.default.gameConfigData.baseConfigData.sprintRewardLevel ? this.sprintReward.active = !1 : this.sprintReward.active = !0, 
p.default.getUserData().playLevelId < p.default.gameConfigData.baseConfigData.cookieRewardLevel ? this.cookieReward.active = !1 : this.cookieReward.active = !0;
}, t.prototype.nextBtnFunc = function() {
p.default.gameLevelWin(!0, null);
(t = p.default.checkCollectionData()) && console.log("解锁收藏数据###### = " + JSON.stringify(t)), 
m.default.getInstance().sprintMark = !0;
var e, t = p.default.gameConfigData.baseConfigData.sprintRewardLevel;
p.default.getUserData().playLevelId >= t && ((e = p.default.getSprintRewardData()).winNum += 1, 
e.rewardProgress < 3 ? (e.rewardProgress += 1, 3 == e.rewardProgress && (e.winBox += 1)) : e.rewardProgress = 1, 
p.default.setSprintRewardData(e)), 3 <= p.default.getSprintRewardData().rewardProgress && (t = 12, 
1 < (e = 5 < (e = p.default.getSprintRewardData().winBox) ? 5 : e) && (t += 11 * (e - 1)), 
(e = p.default.getUserData()).coin += t, e.prop_remove += 1, p.default.saveUserData(e)), 
cc.game.emit(d.EMITKEY.MAINUPDATEUI);
}, t.prototype.sprintRewardFunc = function() {
console.log("冲刺奖励");
var e = p.default.gameConfigData.baseConfigData.sprintRewardLevel;
p.default.getUserData().playLevelId >= e ? cc.game.emit("showPop", {
popName: "sprintRewardPop",
showPopData: {
popCallbackCollect: null,
popType: 0
}
}) : cc.game.emit("showMainTips", l.default.instance.trans(c.GDLanguage.challenge_unlocked_level, 3));
}, s([ v(cc.Node) ], t.prototype, "mainLayer", void 0), s([ v(cc.Node) ], t.prototype, "nextBtn", void 0), 
s([ v(cc.Node) ], t.prototype, "sprintReward", void 0), s([ v(cc.Label) ], t.prototype, "sprintWinLabel", void 0), 
s([ v(cc.Label) ], t.prototype, "sprintWinLabelShadow", void 0), s([ v(cc.Label) ], t.prototype, "sprintTimeLabel", void 0), 
s([ v(cc.Node) ], t.prototype, "cookieReward", void 0), s([ b ], t);
}(cc.Component);
i.default = _;
cc._RF.pop();
}, {} ],
picturePop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e955bv+WvlGDIiibEKuUWDZ", "picturePop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("gd_language"), l = r("CcJsFunc"), u = r("GameManager"), p = r("i18n"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.popNode = null, t.wallpaperBtn = null, t.brickBtn = null, t.wallpaperSv = null, 
t.brickSv = null, t.topUIBtnArr = [], t.contentSvArr = [], t;
}
return a(t, e), t.prototype.hideRankPop = function() {
this.node.active = !1;
}, t.prototype.onLoad = function() {}, t.prototype.onEnable = function() {
this.updateMarkClot();
}, t.prototype.updateMarkClot = function() {
var e = u.default.getInstance().collectionMark;
this.wallpaperBtn.getChildByName("mark").active = 0 < e.bgNum, this.brickBtn.getChildByName("mark").active = 0 < e.brickNum;
}, t.prototype.start = function() {
l.default.addbtnTouchStartScale(this.wallpaperBtn), l.default.addbtnTouchEndScale(this.wallpaperBtn, this.topUIButtonAction.bind(this, "wallpaper", 0)), 
l.default.addbtnTouchCancelScale(this.wallpaperBtn), l.default.addbtnTouchStartScale(this.brickBtn), 
l.default.addbtnTouchEndScale(this.brickBtn, this.topUIButtonAction.bind(this, "brick", 1)), 
l.default.addbtnTouchCancelScale(this.brickBtn), this.setupSubNode(), this.wallpaperBtn.getChildByName("label").getComponent(cc.Label).string = p.default.instance.trans(c.GDLanguage.wallpaper), 
this.brickBtn.getChildByName("label").getComponent(cc.Label).string = p.default.instance.trans(c.GDLanguage.block_bricks);
}, t.prototype.setupSubNode = function() {
for (var e = 0; e < this.topUIBtnArr.length; e++) 0 == e ? (this.topUIBtnArr[e].getChildByName("imgSel").active = !0, 
this.topUIBtnArr[e].getChildByName("imgNor").active = !1) : (this.topUIBtnArr[e].getChildByName("imgSel").active = !1, 
this.topUIBtnArr[e].getChildByName("imgNor").active = !0);
for (e = 0; e < this.contentSvArr.length; e++) this.contentSvArr[e].active = 0 == e;
}, t.prototype.topUIButtonAction = function(e, t) {
for (var o = 0; o < this.topUIBtnArr.length; o++) o == t ? (this.topUIBtnArr[o].getChildByName("imgSel").active = !0, 
this.topUIBtnArr[o].getChildByName("imgNor").active = !1) : (this.topUIBtnArr[o].getChildByName("imgSel").active = !1, 
this.topUIBtnArr[o].getChildByName("imgNor").active = !0);
for (o = 0; o < this.contentSvArr.length; o++) this.contentSvArr[o].active = o == t;
this.updateMarkClot();
}, s([ h(cc.Node) ], t.prototype, "popNode", void 0), s([ h(cc.Node) ], t.prototype, "wallpaperBtn", void 0), 
s([ h(cc.Node) ], t.prototype, "brickBtn", void 0), s([ h(cc.Node) ], t.prototype, "wallpaperSv", void 0), 
s([ h(cc.Node) ], t.prototype, "brickSv", void 0), s([ h([ cc.Node ]) ], t.prototype, "topUIBtnArr", void 0), 
s([ h([ cc.Node ]) ], t.prototype, "contentSvArr", void 0), s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
"player-head-atlas": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "d3fb2TeqiZHiZ2RxiW6S6RM", "player-head-atlas");
var n = o;
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = function() {
function e() {
this._texture = null, this._width = 0, this._height = 0, this._row = 0, this._col = 0, 
this._posList = null, this._unusingIdxs = [], this._count = 0, this._dirty = !1, 
this._headSize = 46, this._urlMap = null, this._idxMap = null;
}
return Object.defineProperty(e, "instance", {
get: function() {
return this._instance || (this._instance = new e()), this._instance;
},
enumerable: !1,
configurable: !0
}), e.prototype.init = function(e, t, o) {
this._headSize = o;
(o = new cc.RenderTexture()).initWithSize(e, t), o.update(null), this._texture = o, 
this._idxMap = {}, this._urlMap = {}, this._width = e, this._height = t, this._posList = [], 
this._col = Math.floor((e - 4) / (this._headSize + 2)), this._row = Math.ceil(400 / this._col);
for (var n = 0; n < this._row; n++) for (var r = 0; r < this._col; r++) {
var i = cc.v2((this._headSize + 2) * r + 2, (this._headSize + 2) * n + 2);
this._posList.push(i);
}
for (this.reset(), n = 0; n < 400; n++) this._unusingIdxs.push(n);
this._count = 0;
}, Object.defineProperty(e.prototype, "texture", {
get: function() {
return this._texture;
},
enumerable: !1,
configurable: !0
}), Object.defineProperty(e.prototype, "cellSize", {
get: function() {
return this._headSize;
},
enumerable: !1,
configurable: !0
}), e.prototype.insertSpriteFrame = function(e, t) {
var o = t._rect, n = t.getTexture(), r = this._urlMap[e], i = o.x, a = o.y, s = -1;
if (r) i += r.x, a += r.y, s = r.idx; else {
if (0 == this._unusingIdxs.length) return console.error("头像合集id用完了。。。"), null;
s = this._unusingIdxs.pop(), o = this._posList[s];
this._texture.drawTextureAt(n, o.x, o.y), this._count++, i += o.x, a += o.y, this._dirty = !0, 
r = {
x: i,
y: a,
texture: this._texture,
spriteFrame: t,
idx: s,
url: e
};
}
return r;
}, e.prototype.update = function() {
this._dirty && (this._texture.update(null), this._dirty = !1);
}, e.prototype.deleteInnerTextureByIdx = function(e) {
e = this._idxMap[e];
this.deleteInnerTexture(e);
}, e.prototype.deleteInnerTextureByPath = function(e) {
e = this._urlMap[e];
this.deleteInnerTexture(e);
}, e.prototype.deleteInnerTexture = function(e) {
e && (delete this._urlMap[e.url], delete this._idxMap[e.idx], e.spriteFrame._resetDynamicAtlasFrame(), 
this._count--, this._unusingIdxs.indexOf(e.idx) < 0 && this._unusingIdxs.push(e.idx));
}, e.prototype.isEmpty = function() {
return this._count <= 0;
}, e.prototype.packToDynamicAtlas = function(e, t, o) {
var n = this._urlMap[e] || this.insertSpriteFrame(e, o);
return n && (o._setDynamicAtlasFrame(n), this._urlMap[e] = n, this._idxMap[n.idx] = n), 
n;
}, e.prototype.reset = function() {
if (this._idxMap) {
this._unusingIdxs = [];
for (var e = 0; e < 400; e++) {
this._unusingIdxs.push(e);
var t = this._idxMap[e];
t && t.spriteFrame.isValid && t.spriteFrame._resetDynamicAtlasFrame();
}
this._idxMap = {}, this._urlMap = {};
}
}, e.prototype.destroy = function() {
this.reset(), this._texture.destroy();
}, e.DEFAULT = "default", e._instance = null, e;
}();
n.default = r;
cc._RF.pop();
}, {} ],
popManager: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3798fTcqOJGqIPq3Alhl8FP", "popManager");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("enumConfig"), l = r("bullet-screen-pop"), u = r("challengeSucPop"), p = r("failPop"), d = r("FriendRankPop"), f = r("getPropPop"), h = r("loseLovePop"), y = r("nextLevelPop"), m = r("noLimitPop"), g = r("nothingPop"), b = r("PersonalPop"), v = r("setupPop"), _ = r("shareNodePop"), w = r("sheep-rank-pop"), N = r("show-daily-pop"), P = r("stagePop"), A = r("TodayRankPop"), S = r("topicChoosePop"), C = r("topicCollectPop"), O = r("topicJoinedPop"), D = r("topicLastWinPop"), I = r("topicNewPop"), k = r("winPop"), F = cc._decorator, E = F.ccclass, R = F.property, T = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.showDailyPrefab = null, t.showDailyPop = null, t.setupPopPrefab = null, 
t.setupPop = null, t.getPropPopPrefab = null, t.getPropPop = null, t.nothingPopPrefab = null, 
t.nothingPop = null, t.failPopPrefab = null, t.failPop = null, t.loseLovePopPrefab = null, 
t.loseLovePop = null, t.winPopPrefab = null, t.winPop = null, t.noLimitPopPrefab = null, 
t.noLimitPop = null, t.sheepRankPopPrefab = null, t.sheepRankPop = null, t.stagePopPrefab = null, 
t.stagePop = null, t.bulletScreenPopPrefab = null, t.bulletScreenPop = null, t.nextLevelPopPrefab = null, 
t.nextLevelPop = null, t.shareNodePopPrefab = null, t.shareNodePop = null, t.topicChoosePopPrefab = null, 
t.topicChoosePop = null, t.topicCollectPopPrefab = null, t.topicCollectPop = null, 
t.topicLastWinPopPrefab = null, t.topicLastWinPop = null, t.topicNewPopPrefab = null, 
t.topicNewPop = null, t.todayRankPopPrefab = null, t.todayRankPop = null, t.firendRankPopPrefab = null, 
t.firendRankPop = null, t.personalPopPrefab = null, t.personalPop = null, t.topicJoinedPopPrefab = null, 
t.topicJoinedPop = null, t.challengeSucPopPrefab = null, t.challengeSucPop = null, 
t.showPopArray = [], t;
}
return a(t, e), t.prototype.start = function() {
cc.game.on(c.EMITKEY.SHOWPOP, this.showPop, this), cc.game.on(c.EMITKEY.CLOSEALLPOP, this.closeAllPop, this), 
this.initPop(), this.closeAllPop();
}, t.prototype.initPop = function() {
this.todayRankPop = this.ifHaveNode(this.todayRankPop, this.todayRankPopPrefab);
}, t.prototype.showPop = function(e) {
var t = e.popName;
e = e.showPopData;
"winPop" == t ? (this.winPop = this.ifHaveNode(this.winPop, this.winPopPrefab), 
this.winPop.getComponent(k.default).showWinPop(e)) : "failPop" == t ? (this.failPop = this.ifHaveNode(this.failPop, this.failPopPrefab), 
this.failPop.getComponent(p.default).showFailPop(e)) : "loseLovePop" == t ? (this.loseLovePop = this.ifHaveNode(this.loseLovePop, this.loseLovePopPrefab), 
this.loseLovePop.getComponent(h.default).showLoseLovePop(e)) : "setupPop" == t ? (this.setupPop = this.ifHaveNode(this.setupPop, this.setupPopPrefab), 
this.setupPop.getComponent(v.default).showSetupPop(e)) : "getPropPop" == t ? (this.getPropPop = this.ifHaveNode(this.getPropPop, this.getPropPopPrefab), 
this.getPropPop.getComponent(f.default).showGetPropPop(e)) : "nothingPop" == t ? (this.nothingPop = this.ifHaveNode(this.nothingPop, this.nothingPopPrefab), 
this.nothingPop.getComponent(g.default).showNothingPop(e)) : "showDailyPop" == t ? (this.showDailyPop = this.ifHaveNode(this.showDailyPop, this.showDailyPrefab), 
this.showDailyPop.getComponent(N.default).showPop(e)) : "noLimitPop" == t ? (this.noLimitPop = this.ifHaveNode(this.noLimitPop, this.noLimitPopPrefab), 
this.noLimitPop.getComponent(m.default).showNoLimitPop(e)) : "sheepRankPop" == t ? (this.sheepRankPop = this.ifHaveNode(this.sheepRankPop, this.sheepRankPopPrefab), 
this.sheepRankPop.getComponent(w.default).sheepRankPop(e)) : "stagePop" == t ? (this.stagePop = this.ifHaveNode(this.stagePop, this.stagePopPrefab), 
this.stagePop.getComponent(P.default).showPop(e)) : "bulletScreenPop" == t ? (this.bulletScreenPop = this.ifHaveNode(this.bulletScreenPop, this.bulletScreenPopPrefab), 
this.bulletScreenPop.getComponent(l.default).showPop(e)) : "nextLevelPop" == t ? (this.nextLevelPop = this.ifHaveNode(this.nextLevelPop, this.nextLevelPopPrefab), 
this.nextLevelPop.getComponent(y.default).showPop(e)) : "shareNodePop" == t ? (this.shareNodePop = this.ifHaveNode(this.shareNodePop, this.shareNodePopPrefab), 
this.shareNodePop.getComponent(_.default).showPop(e)) : "topicChoosePop" == t ? (this.topicChoosePop = this.ifHaveNode(this.topicChoosePop, this.topicChoosePopPrefab), 
this.topicChoosePop.getComponent(S.default).showPop(e)) : "topicCollectPop" == t ? (this.topicCollectPop = this.ifHaveNode(this.topicCollectPop, this.topicCollectPopPrefab), 
this.topicCollectPop.getComponent(C.default).showPop(e)) : "topicLastWinPop" == t ? (this.topicLastWinPop = this.ifHaveNode(this.topicLastWinPop, this.topicLastWinPopPrefab), 
this.topicLastWinPop.getComponent(D.default).showPop(e)) : "topicNewPop" == t ? (this.topicNewPop = this.ifHaveNode(this.topicNewPop, this.topicNewPopPrefab), 
this.topicNewPop.getComponent(I.default).showPop(e)) : "friendRankPop" == t ? (this.firendRankPop = this.ifHaveNode(this.firendRankPop, this.firendRankPopPrefab), 
this.firendRankPop.getComponent(d.default).showPop(e)) : "todayRankPop" == t ? (this.todayRankPop = this.ifHaveNode(this.todayRankPop, this.todayRankPopPrefab), 
this.todayRankPop.getComponent(A.default).showPop(e)) : "personalPop" == t ? (this.personalPop = this.ifHaveNode(this.personalPop, this.personalPopPrefab), 
this.personalPop.getComponent(b.default).showPop(e)) : "topicJoinedPop" == t ? (this.topicJoinedPop = this.ifHaveNode(this.topicJoinedPop, this.topicJoinedPopPrefab), 
this.topicJoinedPop.getComponent(O.default).showPop(e)) : "challengeSucPop" == t && (this.challengeSucPop = this.ifHaveNode(this.challengeSucPop, this.challengeSucPopPrefab), 
this.challengeSucPop.getComponent(u.default).showPop(e));
}, t.prototype.ifHaveNode = function(e, t) {
return e || (e = cc.instantiate(t), this.node.addChild(e)), e.setSiblingIndex(-1), 
e;
}, t.prototype.closeAllPop = function() {
var e, t = this.node.children;
for (e in t) {
var o = t[e];
o.setSiblingIndex(0), o.active = !1;
}
}, s([ R({
type: cc.Prefab,
tooltip: "每日挑战获取礼包"
}) ], t.prototype, "showDailyPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "设置页面"
}) ], t.prototype, "setupPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "获取道具页面"
}) ], t.prototype, "getPropPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "一些通用页面"
}) ], t.prototype, "nothingPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "失败页面"
}) ], t.prototype, "failPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "放弃挑战界面"
}) ], t.prototype, "loseLovePopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "胜利界面"
}) ], t.prototype, "winPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "无限生命页面"
}) ], t.prototype, "noLimitPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "排行弹框页面"
}) ], t.prototype, "sheepRankPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "舞台弹框页面"
}) ], t.prototype, "stagePopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "弹幕弹框页面"
}) ], t.prototype, "bulletScreenPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "下一等级提示"
}) ], t.prototype, "nextLevelPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "分享弹框"
}) ], t.prototype, "shareNodePopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "选择羊队"
}) ], t.prototype, "topicChoosePopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "收藏页面"
}) ], t.prototype, "topicCollectPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "昨日获胜页面"
}) ], t.prototype, "topicLastWinPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "昨日获胜页面奖励弹框"
}) ], t.prototype, "topicNewPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "今日朋友圈"
}) ], t.prototype, "todayRankPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "好友排行榜"
}) ], t.prototype, "firendRankPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "个人资料"
}) ], t.prototype, "personalPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "队伍分配弹窗"
}) ], t.prototype, "topicJoinedPopPrefab", void 0), s([ R({
type: cc.Prefab,
tooltip: "wx获胜弹框"
}) ], t.prototype, "challengeSucPopPrefab", void 0), s([ E ], t);
}(cc.Component);
i.default = T;
cc._RF.pop();
}, {} ],
"prop-prefab": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "78621mmfFZP3p0KRuVUnueB", "prop-prefab");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("audio"), u = cc._decorator, p = u.ccclass, d = u.property, f = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.propImage = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.showWithType = function(e, t, o) {
var n = "", r = t.position;
1 == e ? n = "rewardIcon/prop_remove.png" : 2 == e ? n = "rewardIcon/prop_cancel.png" : 3 == e && (n = "rewardIcon/prop_random.png"), 
c.default.changeSpriteFrame(this.propImage, n);
var i = this;
cc.tween(this.node).to(.1, {
scale: 1.1
}).to(.1, {
scale: 1
}).to(.1, {
scale: .9
}).to(.1, {
scale: .9
}).to(.1, {
angle: 10
}).to(.1, {
angle: -10
}).to(.1, {
angle: 10
}).to(.1, {
angle: -10
}).to(.1, {
angle: 0
}).to(.3, {
position: r,
scale: 0
}).call(function() {
i.node.destroy(), cc.tween(t).to(.1, {
scale: 1.5
}).to(.1, {
scale: 1
}).start(), l.default.playAudioMusic("audio/sound/pop-fly-end.mp3", !1), o && o();
}).start();
}, s([ d(cc.Node) ], t.prototype, "propImage", void 0), s([ p ], t);
}(cc.Component);
i.default = f;
cc._RF.pop();
}, {} ],
"query-string": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0cf13jICoBCCbych4rlydHZ", "query-string");
function n(e, t) {
var o = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
if (o) return (o = o.call(e)).next.bind(o);
if (Array.isArray(e) || (o = r(e)) || t && e && "number" == typeof e.length) {
o && (e = o);
var n = 0;
return function() {
return n >= e.length ? {
done: !0
} : {
done: !1,
value: e[n++]
};
};
}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function r(e, t) {
if (e) {
if ("string" == typeof e) return i(e, t);
var o = Object.prototype.toString.call(e).slice(8, -1);
"Object" === o && e.constructor && (o = e.constructor.name);
return "Map" === o || "Set" === o ? Array.from(e) : "Arguments" === o || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o) ? i(e, t) : void 0;
}
}
function i(e, t) {
(null == t || t > e.length) && (t = e.length);
for (var o = 0, n = new Array(t); o < t; o++) n[o] = e[o];
return n;
}
var a = e, s = o, c = a("strict-uri-encode"), l = a("decode-uri-component"), u = a("split-on-first"), p = a("filter-obj"), d = Symbol("encodeFragmentIdentifier");
function f(e) {
if ("string" != typeof e || 1 !== e.length) throw new TypeError("arrayFormatSeparator must be single character string");
}
function h(e, t) {
return t.encode ? (t.strict ? c : encodeURIComponent)(e) : e;
}
function y(e, t) {
return t.decode ? l(e) : e;
}
function m(e) {
var t = e.indexOf("#");
return -1 !== t ? e.slice(0, t) : e;
}
function g(e) {
var t = (e = m(e)).indexOf("?");
return -1 === t ? "" : e.slice(t + 1);
}
function b(e, t) {
return t.parseNumbers && !Number.isNaN(Number(e)) && "string" == typeof e && "" !== e.trim() ? e = Number(e) : !t.parseBooleans || null === e || "true" !== e.toLowerCase() && "false" !== e.toLowerCase() || (e = "true" === e.toLowerCase()), 
e;
}
function v(e, t) {
f((t = Object.assign({
decode: !0,
sort: !0,
arrayFormat: "none",
arrayFormatSeparator: ",",
parseNumbers: !1,
parseBooleans: !1
}, t)).arrayFormatSeparator);
var o = function(e) {
var t;
switch (e.arrayFormat) {
case "index":
return function(e, o, n) {
t = /\[(\d*)\]$/.exec(e), e = e.replace(/\[\d*\]$/, ""), t ? (void 0 === n[e] && (n[e] = {}), 
n[e][t[1]] = o) : n[e] = o;
};

case "bracket":
return function(e, o, n) {
t = /(\[\])$/.exec(e), e = e.replace(/\[\]$/, ""), t ? void 0 !== n[e] ? n[e] = [].concat(n[e], o) : n[e] = [ o ] : n[e] = o;
};

case "colon-list-separator":
return function(e, o, n) {
t = /(:list)$/.exec(e), e = e.replace(/:list$/, ""), t ? void 0 !== n[e] ? n[e] = [].concat(n[e], o) : n[e] = [ o ] : n[e] = o;
};

case "comma":
case "separator":
return function(t, o, n) {
var r = "string" == typeof o && o.includes(e.arrayFormatSeparator), i = "string" == typeof o && !r && y(o, e).includes(e.arrayFormatSeparator);
o = i ? y(o, e) : o, o = r || i ? o.split(e.arrayFormatSeparator).map(function(t) {
return y(t, e);
}) : null === o ? o : y(o, e), n[t] = o;
};

case "bracket-separator":
return function(t, o, n) {
var r = /(\[\])$/.test(t);
t = t.replace(/\[\]$/, ""), r ? (r = null === o ? [] : o.split(e.arrayFormatSeparator).map(function(t) {
return y(t, e);
}), void 0 !== n[t] ? n[t] = [].concat(n[t], r) : n[t] = r) : n[t] = o && y(o, e);
};

default:
return function(e, t, o) {
void 0 !== o[e] ? o[e] = [].concat(o[e], t) : o[e] = t;
};
}
}(t), r = Object.create(null);
if ("string" != typeof e) return r;
if (!(e = e.trim().replace(/^[?#&]/, ""))) return r;
for (var i, a = n(e.split("&")); !(i = a()).done; ) {
var s = i.value;
if ("" !== s) {
var c = u(t.decode ? s.replace(/\+/g, " ") : s, "="), l = c[0], p = c[1];
p = void 0 === p ? null : [ "comma", "separator", "bracket-separator" ].includes(t.arrayFormat) ? p : y(p, t), 
o(y(l, t), p, r);
}
}
for (var d = 0, h = Object.keys(r); d < h.length; d++) {
var m = h[d], g = r[m];
if ("object" == typeof g && null !== g) for (var v = 0, _ = Object.keys(g); v < _.length; v++) {
var w = _[v];
g[w] = b(g[w], t);
} else r[m] = b(g, t);
}
return !1 === t.sort ? r : (!0 === t.sort ? Object.keys(r).sort() : Object.keys(r).sort(t.sort)).reduce(function(e, t) {
var o = r[t];
return Boolean(o) && "object" == typeof o && !Array.isArray(o) ? e[t] = function e(t) {
return Array.isArray(t) ? t.sort() : "object" == typeof t ? e(Object.keys(t)).sort(function(e, t) {
return Number(e) - Number(t);
}).map(function(e) {
return t[e];
}) : t;
}(o) : e[t] = o, e;
}, Object.create(null));
}
s.extract = g, s.parse = v, s.stringify = function(e, t) {
if (!e) return "";
f((t = Object.assign({
encode: !0,
strict: !0,
arrayFormat: "none",
arrayFormatSeparator: ","
}, t)).arrayFormatSeparator);
for (var o, n = function(e) {
switch (e.arrayFormat) {
case "index":
return function(t) {
return function(o, n) {
var r = o.length;
return void 0 === n || e.skipNull && null === n || e.skipEmptyString && "" === n ? o : [].concat(o, null === n ? [ [ h(t, e), "[", r, "]" ].join("") ] : [ [ h(t, e), "[", h(r, e), "]=", h(n, e) ].join("") ]);
};
};

case "bracket":
return function(t) {
return function(o, n) {
return void 0 === n || e.skipNull && null === n || e.skipEmptyString && "" === n ? o : [].concat(o, null === n ? [ [ h(t, e), "[]" ].join("") ] : [ [ h(t, e), "[]=", h(n, e) ].join("") ]);
};
};

case "colon-list-separator":
return function(t) {
return function(o, n) {
return void 0 === n || e.skipNull && null === n || e.skipEmptyString && "" === n ? o : [].concat(o, null === n ? [ [ h(t, e), ":list=" ].join("") ] : [ [ h(t, e), ":list=", h(n, e) ].join("") ]);
};
};

case "comma":
case "separator":
case "bracket-separator":
var t = "bracket-separator" === e.arrayFormat ? "[]=" : "=";
return function(o) {
return function(n, r) {
return void 0 === r || e.skipNull && null === r || e.skipEmptyString && "" === r ? n : (r = null === r ? "" : r, 
0 === n.length ? [ [ h(o, e), t, h(r, e) ].join("") ] : [ [ n, h(r, e) ].join(e.arrayFormatSeparator) ]);
};
};

default:
return function(t) {
return function(o, n) {
return void 0 === n || e.skipNull && null === n || e.skipEmptyString && "" === n ? o : [].concat(o, null === n ? [ h(t, e) ] : [ [ h(t, e), "=", h(n, e) ].join("") ]);
};
};
}
}(t), r = {}, i = 0, a = Object.keys(e); i < a.length; i++) {
var s = a[i];
o = s, t.skipNull && null == e[o] || t.skipEmptyString && "" === e[o] || (r[s] = e[s]);
}
var c = Object.keys(r);
return !1 !== t.sort && c.sort(t.sort), c.map(function(o) {
var r = e[o];
return void 0 === r ? "" : null === r ? h(o, t) : Array.isArray(r) ? 0 === r.length && "bracket-separator" === t.arrayFormat ? h(o, t) + "[]" : r.reduce(n(o), []).join("&") : h(o, t) + "=" + h(r, t);
}).filter(function(e) {
return 0 < e.length;
}).join("&");
}, s.parseUrl = function(e, t) {
t = Object.assign({
decode: !0
}, t);
var o = u(e, "#"), n = o[0], r = o[1];
return Object.assign({
url: n.split("?")[0] || "",
query: v(g(e), t)
}, t && t.parseFragmentIdentifier && r ? {
fragmentIdentifier: y(r, t)
} : {});
}, s.stringifyUrl = function(e, t) {
var o;
t = Object.assign(((o = {
encode: !0,
strict: !0
})[d] = !0, o), t);
var n = m(e.url).split("?")[0] || "", r = s.extract(e.url), i = (r = s.parse(r, {
sort: !1
}), r = Object.assign(r, e.query), s.stringify(r, t));
i = i && "?" + i;
var a = function(e) {
var t = "", o = e.indexOf("#");
return -1 !== o && (t = e.slice(o)), t;
}(e.url);
return e.fragmentIdentifier && (a = "#" + (t[d] ? h(e.fragmentIdentifier, t) : e.fragmentIdentifier)), 
"" + n + i + a;
}, s.pick = function(e, t, o) {
var n;
o = Object.assign(((n = {
parseFragmentIdentifier: !0
})[d] = !1, n), o);
var r = s.parseUrl(e, o), i = r.url, a = r.query;
e = r.fragmentIdentifier;
return s.stringifyUrl({
url: i,
query: p(a, t),
fragmentIdentifier: e
}, o);
}, s.exclude = function(e, t, o) {
var n = Array.isArray(t) ? function(e) {
return !t.includes(e);
} : function(e, o) {
return !t(e, o);
};
return s.pick(e, n, o);
};
cc._RF.pop();
}, {} ],
"register-head-image": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8f94axQML9NUKBkQZXk81kh", "register-head-image");
var n = o;
function r(e, t, o) {
var n = new Image();
function r() {
n.removeEventListener("load", r), n.removeEventListener("error", i), o && o(null, n);
}
function i() {
n.removeEventListener("load", r), n.removeEventListener("error", i), o && o(new Error(e));
}
return "file:" !== window.location.protocol && (n.crossOrigin = "anonymous"), n.addEventListener("load", r), 
n.addEventListener("error", i), n.src = e, n;
}
Object.defineProperty(n, "__esModule", {
value: !0
}), n.registerHeadImgLoader = n.headImgExt = void 0, n.headImgExt = ".head", n.registerHeadImgLoader = function() {
console.log("FM_ registerHeadImgLoader.registerHeadImgLoader");
cc.assetManager.downloader.register(n.headImgExt, function(e, t, o) {
o(null, e);
}), cc.assetManager.parser.register(n.headImgExt, r), cc.assetManager.factory.register(n.headImgExt, function(e, t, o, n) {
var r = null, i = null;
try {
(r = new cc.Texture2D())._uuid = e, r._nativeUrl = e, r._nativeAsset = t;
} catch (e) {
i = e;
}
n && n(i, r);
});
};
cc._RF.pop();
}, {} ],
"report-common": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cdaf1e/eKZNDKb4XXuwbreu", "report-common");
var n = e, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
});
n("sdk"), n("native-bridge"), n("native-def");
var i = n("enumConfig"), a = n("data-env").getEnvConfig(), s = function() {
function e() {}
return Object.defineProperty(e, "instance", {
get: function() {
return this._instance || (this._instance = new e()), this._instance;
},
enumerable: !1,
configurable: !0
}), e.initTA = function() {}, e.getUserData = function() {
var e = cc.sys.localStorage.getItem(i.STORAGEKEY.GAMEUSERLOCALDATA);
return JSON.parse(e).userData;
}, e.reportTACommon = function() {}, e._instance = null, e._ta = null, e.publicInfo = {}, 
e.reportPrefix = a.reportPrefix, e;
}();
r.default = s;
cc._RF.pop();
}, {} ],
"reward-emitter": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "eded8SCVetL/rNMC74RIvnT", "reward-emitter");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
}, c = function(e, t, o, n) {
return new (o = o || Promise)(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
var t;
e.done ? r(e.value) : ((t = e.value) instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
}
c((n = n.apply(e, t || [])).next());
});
}, l = function(e, t) {
var o, n, r, i = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
}, a = {
next: s(0),
throw: s(1),
return: s(2)
};
return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(a) {
return function(s) {
return function(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;i; ) try {
if (o = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, a[1])).done) return r;
switch (n = 0, (a = r ? [ 2 & a[0], r.value ] : a)[0]) {
case 0:
case 1:
r = a;
break;

case 4:
return i.label++, {
value: a[1],
done: !1
};

case 5:
i.label++, n = a[1], a = [ 0 ];
continue;

case 7:
a = i.ops.pop(), i.trys.pop();
continue;

default:
if (!(r = 0 < (r = i.trys).length && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
i = 0;
continue;
}
if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
i.label = a[1];
break;
}
if (6 === a[0] && i.label < r[1]) {
i.label = r[1], r = a;
break;
}
if (r && i.label < r[2]) {
i.label = r[2], i.ops.push(a);
break;
}
r[2] && i.ops.pop(), i.trys.pop();
continue;
}
a = t.call(e, i);
} catch (e) {
a = [ 6, e ], n = 0;
} finally {
o = r = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}([ a, s ]);
};
}
};
Object.defineProperty(i, "__esModule", {
value: !0
}), i.RewardEmitterName = void 0;
var u, p = r("CoinEmitter");
!function(e) {
e.coin = "coin", e.diamond = "diamond", e.dice = "dice", e.clover = "clover";
}(u = i.RewardEmitterName || (i.RewardEmitterName = {}));
var d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.coinEmitter = null, t.prefabList = [], t;
}
return a(t, e), t.prototype.send = function(e, t, o, n) {
return void 0 === o && (o = !1), c(this, void 0, Promise, function() {
return l(this, function() {
return e <= 0 || this.setPrefab(t, e, o, n), [ 2 ];
});
});
}, t.prototype.start = function() {}, t.prototype.resetAnimation = function() {
this.send(.1, u.coin, !0);
}, t.prototype.setPrefab = function(e, t, o, n) {
var r = null;
t = o ? t : this.computeDiceNodeNum(t);
switch (e) {
case u.coin:
r = this.prefabList[0];
break;

case u.diamond:
r = this.prefabList[1];
break;

case u.dice:
r = this.prefabList[2];
break;

case u.clover:
r = this.prefabList[3];
}
e = !0;
this.currentPrefab == r && (e = !1), this.currentPrefab = r, this.coinEmitter.prefab = this.currentPrefab, 
this.coinEmitter.fire(t, e, n);
}, t.prototype.computeDiceNodeNum = function(e) {
return 100 <= e ? 80 : 50 <= e ? 50 : 30 <= e ? 30 : 20 <= e ? 20 : 10 <= e ? 10 : 5;
}, s([ h({
type: p.CoinEmitter,
tooltip: "发射器 控制节点"
}) ], t.prototype, "coinEmitter", void 0), s([ h({
type: [ cc.Prefab ],
tooltip: "发射器预制体"
}) ], t.prototype, "prefabList", void 0), s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
rewardPrefab: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a121afwuuhFa6IKfrPvi+zw", "rewardPrefab");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = cc._decorator, u = l.ccclass, p = l.property, d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.icon = null, t.rewardNum = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.setRewardNode = function(e) {
var t = "rewardIcon/" + e.propType + ".png";
c.default.changeSpriteFrame(this.icon, t), this.rewardNum.string = "" + e.num;
}, s([ p(cc.Node) ], t.prototype, "icon", void 0), s([ p(cc.Label) ], t.prototype, "rewardNum", void 0), 
s([ u ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {} ],
saveAsPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "79458xlXgdFfJ/BI3F5BmEK", "saveAsPop");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.inputLevelNum = null, t.closeNode = null, t;
}
return i(t, e), t.prototype.start = function() {
this.closeNode.on(cc.Node.EventType.TOUCH_END, this.closeFunc, this);
}, t.prototype.showSaveAsPop = function() {
this.node.active = !0, this.inputLevelNum.string = "";
}, t.prototype.selectLevelFunc = function() {
var e = Number(this.inputLevelNum.string);
0 < e ? (this.node.active = !1, this.emitSelectLevel(e), console.log("设置关卡数", this.inputLevelNum.string)) : console.log("error:书写错误");
}, t.prototype.emitSelectLevel = function(e) {
cc.game.emit("saveAsNewMap", e);
}, t.prototype.closeFunc = function() {
this.node.active = !1;
}, a([ l({
type: cc.EditBox,
tooltip: "输入另存为关卡数"
}) ], t.prototype, "inputLevelNum", void 0), a([ l(cc.Node) ], t.prototype, "closeNode", void 0), 
a([ c ], t);
}(cc.Component);
r.default = u;
cc._RF.pop();
}, {} ],
sdk: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e267eKhDStMpaYZFC42eefy", "sdk");
var n = e, r = o, i = function() {
return (i = Object.assign || function(e) {
for (var t, o = 1, n = arguments.length; o < n; o++) for (var r in t = arguments[o]) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
return e;
}).apply(this, arguments);
};
Object.defineProperty(r, "__esModule", {
value: !0
}), r.Platform = r.VibrateType = r.SHARE_CALLBACK_RATE = r.SHARE_CALLBACK_TIME = void 0;
var a, s, c = n("wx-sdk"), l = n("tt-sdk"), u = n("http"), p = n("data-env"), d = n("audio"), f = n("enumConfig"), h = n("share"), y = p.getEnvConfig();
r.SHARE_CALLBACK_TIME = 3, r.SHARE_CALLBACK_RATE = 0, function(e) {
e[e.Light = 15] = "Light", e[e.Medium = 20] = "Medium", e[e.Heavy = 30] = "Heavy", 
e[e.Long = 400] = "Long";
}(a = r.VibrateType || (r.VibrateType = {})), function(e) {
e[e.android = 0] = "android", e[e.ios = 1] = "ios", e[e.wx = 2] = "wx", e[e.tt = 3] = "tt", 
e[e.web = 4] = "web", e[e.oppo = 5] = "oppo", e[e.vivo = 6] = "vivo";
}(s = r.Platform || (r.Platform = {}));
var m = function() {
function e() {}
return Object.defineProperty(e, "baseParams", {
get: function() {
var e = cc.sys.localStorage.getItem(f.STORAGEKEY.GAMEUSERLOCALDATA);
return {
t: JSON.parse(e).userData.token
};
},
enumerable: !1,
configurable: !0
}), e.get = function(e) {
return u.default.get(i({
host: this.host,
baseParams: this.baseParams
}, e));
}, e.post = function(e) {
return u.default.post(i({
host: this.host,
baseParams: this.baseParams
}, e));
}, e.save = function(e, t) {
cc.sys.localStorage.setItem(e, t);
}, e.load = function(e) {
return cc.sys.localStorage.getItem(e);
}, e.vibrateShort = function(e) {
void 0 === e && (e = a.Light);
var t = cc.sys.localStorage.getItem(f.STORAGEKEY.GAMEUSERLOCALDATA);
t && (t = JSON.parse(t)) && t.setUpData && t.setUpData.shockStatus < 1 ? console.log("shockStatus = " + t.setUpData.shockStatus) : this.isPlatform(s.wx) && wx.vibrateShort ? e == a.Light ? c.default.vibrateShort("light") : e == a.Medium ? c.default.vibrateShort("medium") : c.default.vibrateShort("heavy") : cc.sys.platform == cc.sys.BYTEDANCE_GAME && window.tt && tt.vibrateShort ? l.default.vibrateShort() : this.isPlatform(s.android);
}, e.vibrateLong = function(e) {
void 0 === e && (e = a.Long), this.isPlatform(s.wx) && wx.vibrateLong ? c.default.vibrateLong() : cc.sys.platform == cc.sys.BYTEDANCE_GAME && window.tt && tt.vibrateLong ? l.default.vibrateLong() : this.isPlatform(s.android);
}, e.checkUpdateManager = function() {
this.isPlatform(s.wx) ? c.default.checkUpdateManager() : cc.sys.platform == cc.sys.BYTEDANCE_GAME && window.tt || this.isPlatform(s.android);
}, e.onShareAppMessageQuery = function() {
if (this.isPlatform(s.wx)) return c.default.onShareAppMessageQuery();
cc.sys.platform == cc.sys.BYTEDANCE_GAME && window.tt || this.isPlatform(s.android);
}, e.setOnShow = function(e) {
this.isPlatform(s.wx) || this.isPlatform(s.tt) || this.isPlatform(s.android), cc.game.on(cc.game.EVENT_SHOW, e);
}, e.setOffShow = function(e) {
this.isPlatform(s.wx) || cc.sys.platform == cc.sys.BYTEDANCE_GAME && window.tt || this.isPlatform(s.android), 
cc.game.off(cc.game.EVENT_SHOW, e);
}, e.setOnShowOnce = function(e) {
if (this.isPlatform(s.wx)) return c.default.setOnShowOnce(e);
cc.sys.platform == cc.sys.BYTEDANCE_GAME && window.tt || this.isPlatform(s.android);
}, e.setOnHide = function(e) {
if (this.isPlatform(s.wx)) return c.default.setOnHide(e);
this.isPlatform(s.tt) || this.isPlatform(s.android), cc.game.on(cc.game.EVENT_HIDE, e);
}, e.setOffHide = function(e) {
this.isPlatform(s.wx) ? c.default.setOffHide(e) : cc.sys.platform == cc.sys.BYTEDANCE_GAME && window.tt || (this.isPlatform(s.android), 
cc.game.off(cc.game.EVENT_HIDE, e));
}, e.setOnHideOnce = function(e) {
if (this.isPlatform(s.wx)) return c.default.setOnHideOnce(e);
cc.sys.platform == cc.sys.BYTEDANCE_GAME && window.tt || this.isPlatform(s.android);
}, e.setOnShareAppMessage = function(e) {
this.isPlatform(s.wx) ? c.default.onShareAppMessage(e) : cc.sys.platform == cc.sys.BYTEDANCE_GAME && window.tt || this.isPlatform(s.android);
}, e.weiBoJump = function() {
if (this.isPlatform(s.wx)) return c.default.weiBoJump();
cc.sys.platform == cc.sys.BYTEDANCE_GAME && window.tt || this.isPlatform(s.android);
}, e.copyToClipboard = function(e) {
if (this.isPlatform(s.wx)) c.default.setClipboardData(e); else if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) l.default.setClipboardData(e); else if (cc.sys.isBrowser) {
var t = e + "", o = document.createElement("textarea");
o.value = t, o.setAttribute("readonly", ""), o.style.position = "absolute", o.style.left = "-9999px", 
o.style.fontSize = "12pt";
var n = getSelection();
e = null;
0 < n.rangeCount && (e = n.getRangeAt(0)), document.body.appendChild(o), o.select(), 
o.selectionStart = 0, o.selectionEnd = t.length;
t = !1;
try {
t = document.execCommand("copy");
} catch (e) {
cc.warn("[sdk] copy to clipboard err", e);
}
document.body.removeChild(o), e && (n.removeAllRanges(), n.addRange(e)), t ? cc.log("h5 copy to clipboard success") : cc.log("h5 copy to clipboard failed");
}
}, e.chooseImage = function() {
this.isPlatform(s.wx) ? cc.log("---wxChooseImage---") : cc.sys.platform == cc.sys.BYTEDANCE_GAME ? cc.log("---ttChooseImage---") : cc.sys.isBrowser && cc.log("---h5ChooseImage---");
}, e.preloadVideoAd = function(e, t, o, n, r) {
var i = this;
void 0 === r && (r = !0), cc.log("[sdk] video ad", e);
var a = e;
if (console.log("cc.sys.os:", cc.sys.os), console.log("adID:", a), console.log("this.videoAdMap:", this.videoAdMap), 
"" != a) {
var c = null;
if (this.videoAdMap[a]) {
if (!r) return console.log("[video ad] 使用已有回调方法"), this.videoAdMap[a];
var l = (u = this.videoAdMap[a]).video, u = (r = u.close, u.error);
l.offClose(r), l.offError(u), c = l, console.log("[video ad] 清空回调方法");
} else console.log("创建实力"), this.isPlatform(s.wx) ? c = wx.createRewardedVideoAd({
adUnitId: a,
multiton: !0
}) : this.isPlatform(s.tt) ? c = tt.createRewardedVideoAd({
adUnitId: a,
multiton: !0
}) : this.isPlatform(s.oppo) ? c = qg.createRewardedVideoAd({
adUnitId: a
}) : this.isPlatform(s.vivo) && (c = ad.createRewardedVideoAd({
adUnitId: a
}));
u = function(e) {
e && e.isEnded || void 0 === e ? (console.log("正常播放结束，可以下发游戏奖励 ++++"), t && t(), 
i.isPlatform(s.wx) && i.reportRewardBehavior(4, a, c)) : (cc.game.emit("showMainTips", "中途退出，不下发游戏奖励"), 
console.log("播放中途退出，不下发游戏奖励 ----"), o && o("quit", "中途退出"), i.isPlatform(s.wx) && i.reportRewardBehavior(3, a, c)), 
d.default.playBGM(), i._canShowRewardedVideoAd = !0;
}, l = function(e) {
1004 == e.errCode || 1005 == e.errCode || 1006 == e.errCode ? n && n("no-fit", "没有合适的广告") : o && o(e.errCode, e.errMsg), 
i.reportRewardBehavior(5, a, c), console.log("没有合适的广告 = ", e.errCode, e.errMsg), 
cc.game.emit("showMainTips", "广告拉取失败", e.errCode), d.default.playBGM(), i._canShowRewardedVideoAd = !0;
};
if (null != c) return c.onClose(u), c.onError(l), this.isPlatform(s.wx) && c.onLoad(function(e) {
e && (1 == e.shareValue ? i.wxValue = "shareValue" : 1 == e.rewardValue ? i.wxValue = "rewardValue" : i.wxValue = ""), 
console.log("激励视频 广告加载成功 = ", e, "wxValue = ", i.wxValue);
}), cc.log("[video ad] 注册新的回调方法"), this.videoAdMap[a] = {
video: c,
close: u,
error: l
}, this.videoAdMap[a];
}
}, e.share = function(e, t, o, n) {
var r = this;
this.isPlatform(s.wx) ? h.default.shareMethod({
success: function() {
o && o();
},
fail: function() {
n && n();
},
complete: function() {
var o;
r.videoAdMap[t] && (o = r.videoAdMap[t].video, r.reportShareBehavior(e, t, o));
}
}) : o && o();
}, e.createCanvas = function() {
var e;
this.isPlatform(s.wx) ? (e = canvas.toTempFilePathSync({
x: 0,
y: 0,
width: cc.winSize.width,
height: cc.winSize.height,
destWidth: cc.winSize.width,
destHeight: cc.winSize.height,
fileType: "png",
quality: "1.0"
}), this.wxSave(e)) : this.isPlatform(s.tt) && (e = canvas.toTempFilePathSync({
x: 0,
y: 0,
width: cc.winSize.width,
height: cc.winSize.height,
destWidth: cc.winSize.width,
destHeight: cc.winSize.height
}), tt.shareAppMessage({
imageUrl: e
}));
}, e.wxSave = function(e) {
wx.authorize({
scope: "scope.writePhotosAlbum",
success: function() {
wx.saveImageToPhotosAlbum({
filePath: e,
success: function() {
wx.showToast({
title: "截图已保存至相册,快快分享到朋友圈吧",
icon: "none",
image: "",
duration: 1500
});
},
fail: function() {}
});
},
fail: function() {
var t = {
title: "微信授权",
content: "保存到相册需要您的授权，请给予我们授权",
showCancel: !0,
canelColor: "#666",
confirmText: "去授权",
confirmColor: "#666",
success: function(t) {
1 == t.confirm && wx.openSetting({
success: function() {
wx.saveImageToPhotosAlbum({
filePath: e,
success: function() {
wx.showToast({
title: "截图已保存至相册,快快分享到朋友圈吧",
icon: "none",
image: "",
duration: 1500
});
},
fail: function() {}
});
}
});
}
};
wx.showModal(t);
}
});
}, e.reportRewardBehavior = function(e, t, o) {
o.reportShareBehavior({
operation: e,
currentShow: 0,
strategy: 1,
adunit: t,
scenelD: 1,
shareValue: 0,
rewardValue: 1
});
}, e.reportShareBehavior = function(e, t, o) {
o.reportShareBehavior({
operation: 6,
inviteUser: e,
strategy: 1,
adunit: t,
scenelD: 1,
shareValue: 1,
rewardValue: 0
});
}, e.showBannerAdNative = function(e) {
window.GameEntryDF.ad.showBannerAd(e);
}, e.hideBannerAdNative = function(e) {
void 0 === e && (e = !0);
window.GameEntryDF.ad.hideBannerAd(e);
}, e.showNativeAd = function(e, t) {
void 0 === t && (t = !0);
window.GameEntryDF.ad.showNativeAd(e, t);
}, e.callService = function() {
window.GameEntryDF.ad.callService();
}, e.showPrivacy = function() {
window.GameEntryDF.ad.showPrivacy("privacy");
}, e.moreGame = function() {
window.GameEntryDF.ad.moreGame();
}, e.watchAdVideo = function(e) {
e.id, e.tag;
var t = e.success, o = e.fail;
e.nofit;
window.GameEntryDF.ad.showRewardVideoAd({
success: t,
fail: o
});
}, e.showInterstitialAd = function() {}, e.showFullScreenAd = function() {}, e.showBigImageAd = function() {}, 
e.hideBigImageAd = function() {}, e.showBannerAd = function() {}, e.hideBannerAd = function() {}, 
e.showToast = function() {}, e.getDeviceId = function() {
return "";
}, e.uploadFile = function() {}, e.on = function(e, t, o) {
return cc.systemEvent.on(e, t, o);
}, e.once = function(e, t, o) {
return cc.systemEvent.once(e, t, o);
}, e.off = function(e, t, o) {
return cc.systemEvent.off(e, t, o);
}, e.targetOff = function(e) {
return cc.systemEvent.targetOff(e);
}, e.createAuthorizeBtn = function(e, t) {
var o = e.getBoundingBoxToWorld(), n = cc.view.getFrameSize(), r = cc.winSize, i = o.xMin / r.width * n.width, a = (r.height - o.yMax) / r.height * n.height;
e = o.width / r.width * n.width, n = o.height / r.height * n.height;
return (n = this.createUserInfoButton({
type: "text",
text: "        ",
style: {
left: i,
top: a,
width: e,
height: n,
lineHeight: 0,
backgroundColor: "",
color: "#ffffff",
textAlign: "center",
fontSize: 16,
borderRadius: 4
}
})).onTap(function(e) {
e.iv || e.signature ? t(!0) : t(!1);
}), n;
}, e.rankScoreUpdate = function(e, t, o) {
this.isPlatform(s.wx) && c.default.wxRankScoreUpdate(e, t, o);
}, e.rankScoreRemove = function(e) {
this.isPlatform(s.wx) && c.default.wxRankScoreRemove(e);
}, e.showSubContext = function(e, t, o, n) {
this.isPlatform(s.wx) && c.default.wxShowSubContext(e, t, o, n);
}, e.getAppVersion = function() {
return "";
}, e.isPlatform = function(e) {
switch (e) {
case s.android:
return !(!cc.sys.isNative || cc.sys.os != cc.sys.OS_ANDROID);

case s.ios:
return !(!cc.sys.isNative || cc.sys.os != cc.sys.OS_IOS);

case s.wx:
return cc.sys.platform == cc.sys.WECHAT_GAME;

case s.tt:
return cc.sys.platform == cc.sys.BYTEDANCE_GAME;

case s.oppo:
return cc.sys.platform == cc.sys.OPPO_GAME;

case s.vivo:
return cc.sys.platform == cc.sys.VIVO_GAME;

case s.web:
return cc.sys.isBrowser;
}
return !1;
}, e.getPlatform = function() {
return cc.sys.isNative && cc.sys.os == cc.sys.OS_ANDROID ? s.android : cc.sys.isNative && cc.sys.os == cc.sys.OS_IOS ? s.ios : cc.sys.platform == cc.sys.WECHAT_GAME ? s.wx : s.web;
}, e.createUserInfoButton = function(e) {
return wx.createUserInfoButton ? wx.createUserInfoButton(e) : (cc.log("[sdk] createUserInfoButton"), 
null);
}, e._shareNum = 0, e._shareCount = 0, e._canShowRewardedVideoAd = !0, e.host = y.host, 
e.wxValue = "", e.videoAdMap = {}, e;
}();
(r.default = m).checkUpdateManager();
cc._RF.pop();
}, {} ],
selectLevelPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "20c37kr4K9IaaKo8NFkM2dj", "selectLevelPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("dataTs"), l = cc._decorator, u = l.ccclass, p = l.property, d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.inputLevelNum = null, t.closeNode = null, t;
}
return a(t, e), t.prototype.start = function() {
this.closeNode.on(cc.Node.EventType.TOUCH_END, this.closeFunc, this);
}, t.prototype.showSelectLevelPop = function() {
this.node.active = !0, this.inputLevelNum.string = "";
}, t.prototype.selectLevelFunc = function() {
var e = Number(this.inputLevelNum.string);
0 < e ? (this.node.active = !1, this.emitSelectLevel(e), console.log("设置关卡数", this.inputLevelNum.string)) : console.log("error:书写错误");
}, t.prototype.emitSelectLevel = function(e) {
c.default.getLevelMapData(e, function(e) {
console.log("data:", e), e ? cc.game.emit("initLevelData", {
newLevelData: e
}) : console.log("error:找不到对应关卡");
});
}, t.prototype.closeFunc = function() {
this.node.active = !1;
}, s([ p({
type: cc.EditBox,
tooltip: "输入对应关卡数"
}) ], t.prototype, "inputLevelNum", void 0), s([ p(cc.Node) ], t.prototype, "closeNode", void 0), 
s([ u ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {} ],
setBloackNumPrefab: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "adc65qZJIVBEbnAGo5PKVIz", "setBloackNumPrefab");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = cc._decorator, u = l.ccclass, p = l.property, d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.blockImg = null, t.typeID = null, t.inputBlockNum = null, t.blockType = 0, 
t.parentCallbackFunc = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.initBlockNumNode = function(e, t, o) {
this.blockType = e, this.parentCallbackFunc = o;
(t = t[e]) && (this.inputBlockNum.string = "" + t), c.default.changeSpriteFrame(this.blockImg, "block/block_" + e + ".png");
}, t.prototype.setBlockNumFun = function() {
var e = Number(this.inputBlockNum.string);
this.parentCallbackFunc(this.blockType, e);
}, s([ p(cc.Node) ], t.prototype, "blockImg", void 0), s([ p(cc.Label) ], t.prototype, "typeID", void 0), 
s([ p({
type: cc.EditBox,
tooltip: "块的使用组数"
}) ], t.prototype, "inputBlockNum", void 0), s([ u ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {} ],
setBlockNumPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "223a5iixK9JDqi/hb6BvmvY", "setBlockNumPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("setBloackNumPrefab"), l = r("config"), u = cc._decorator, p = u.ccclass, d = u.property, f = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.setBlockNumPrefab = null, t.closeNode = null, t.blockContent = null, t.groupNumLabel = null, 
t.blockTypeConfig = l.default.blockTypeConfig, t.blockDataObj = {}, t.newScale = .5, 
t.blockPreWidth = 60, t.blockPreHeight = 110, t.groupMax = 0, t.hengNum = 10, t;
}
return a(t, e), t.prototype.start = function() {
this.closeNode.on(cc.Node.EventType.TOUCH_END, this.closeFunc, this);
}, t.prototype.showSetBlockPop = function(e, t) {
for (var o in console.log("groupMax = ", e), this.node.active = !0, this.blockDataObj = t, 
this.groupMax = e, this.updateGroupNum(), this.blockContent.removeAllChildren(), 
this.blockTypeConfig) this.addSetBlockNumNode(o, this.blockTypeConfig[o], t);
this.blockContent.height = (Math.ceil(this.blockTypeConfig.length / this.hengNum) + 1) * this.blockPreHeight;
}, t.prototype.addSetBlockNumNode = function(e, t, o) {
var n = cc.instantiate(this.setBlockNumPrefab), r = this.blockPreWidth / 2 + e % this.hengNum * (this.blockPreWidth + 5) - this.blockContent.width / 2;
e = this.blockPreHeight / 2 + Math.floor(e / this.hengNum) * (this.blockPreHeight + 40);
n.x = r, n.y = -e, n.scale = this.newScale, n.getComponent(c.default).initBlockNumNode(t, o, this.chileSetBlockNum.bind(this)), 
this.blockContent.addChild(n);
}, t.prototype.chileSetBlockNum = function(e, t) {
t ? this.blockDataObj[e] = t : delete this.blockDataObj[e], this.updateGroupNum();
}, t.prototype.updateGroupNum = function() {
var e, t = 0;
for (e in this.blockDataObj) t += this.blockDataObj[e];
this.groupNumLabel.string = "组数：" + t + "/" + this.groupMax;
}, t.prototype.closeFunc = function() {
this.node.active = !1;
}, t.prototype.confirmFunc = function() {
var e, t = 0;
for (e in this.blockDataObj) t += this.blockDataObj[e];
t == this.groupMax ? (console.log("配置无误"), cc.game.emit("showTips", "配置成功"), this.node.active = !1, 
cc.game.emit("setBlockTypeData", this.blockDataObj)) : (console.log("配置有错"), cc.game.emit("showTips", "配置有错"));
}, s([ d(cc.Prefab) ], t.prototype, "setBlockNumPrefab", void 0), s([ d(cc.Node) ], t.prototype, "closeNode", void 0), 
s([ d(cc.Node) ], t.prototype, "blockContent", void 0), s([ d(cc.Label) ], t.prototype, "groupNumLabel", void 0), 
s([ p ], t);
}(cc.Component);
i.default = f;
cc._RF.pop();
}, {} ],
setupPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "71b23kHj7xHS5zCkm73iIBG", "setupPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("gd_language"), l = r("i18n"), u = r("CcJsFunc"), p = r("dataTs"), d = r("enumConfig"), f = r("audio"), h = r("wx-sdk"), y = r("sdk"), m = r("GameManager"), g = r("report-common"), b = r("uma-sdk"), v = cc._decorator, _ = v.ccclass, w = v.property, N = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mask = null, t.popNode = null, t.userIdLabel = null, t.titleLabel = null, 
t.soundLabel = null, t.musicLabel = null, t.shakeLabel = null, t.backLabel = null, 
t.closeBtn = null, t.returnMainBtn = null, t.shareBtn = null, t.shareVideo = null, 
t.shareLabel = null, t.effectBtn = null, t.effectBg = null, t.musicBtn = null, t.musicBg = null, 
t.shockBtn = null, t.shockBg = null, t.bulletBtn = null, t.bulletBg = null, t.whiteCycle = null, 
t.greenCycle = null, t.userNode = null, t.privacyNode = null, t.showPopData = null, 
t.setupData = null, t.whiteBtnX = 27, t;
}
return a(t, e), t.prototype.start = function() {
this.effectBtn.on("touchend", this.setEffectFunc, this), this.musicBtn.on("touchend", this.setMusicFunc, this), 
this.shockBtn.on("touchend", this.setShockFunc, this), this.bulletBtn.on("touchend", this.setBulletFunc, this), 
u.default.addbtnTouchEndScale(this.mask, this.hideSetupPop.bind(this)), u.default.addbtnTouchStartScale(this.closeBtn), 
u.default.addbtnTouchEndScale(this.closeBtn, this.hideSetupPop.bind(this)), u.default.addbtnTouchCancelScale(this.closeBtn), 
u.default.addbtnTouchStartScale(this.returnMainBtn), u.default.addbtnTouchEndScale(this.returnMainBtn, this.returnMainFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.returnMainBtn), u.default.addbtnTouchStartScale(this.shareBtn), 
u.default.addbtnTouchEndScale(this.shareBtn, this.shareBtnFunc.bind(this)), u.default.addbtnTouchCancelScale(this.shareBtn), 
u.default.addTargetTouchUpInside(this.userNode, this.userNodeFunc.bind(this)), u.default.addTargetTouchUpInside(this.privacyNode, this.privacyNodeFunc.bind(this)), 
this.setupFonts(), y.default.isPlatform(y.Platform.oppo) || y.default.isPlatform(y.Platform.vivo), 
this.userNode.active = !1, this.privacyNode.active = !1;
}, t.prototype.userNodeFunc = function() {
console.log("用户协议");
}, t.prototype.privacyNodeFunc = function() {
console.log("隐私政策");
}, t.prototype.setupFonts = function() {
this.titleLabel.string = l.default.instance.trans(c.GDLanguage.set_up), this.soundLabel.string = l.default.instance.trans(c.GDLanguage.set_up_sound_effect), 
this.musicLabel.string = l.default.instance.trans(c.GDLanguage.set_up_music), this.shakeLabel.string = l.default.instance.trans(c.GDLanguage.set_up_shock);
var e = p.default.getItem(d.STORAGEKEY.BULLETSWITCH);
console.log("bullet = " + e), -1 == e ? (this.bulletBg.stopAllActions(), cc.tween(this.bulletBg).to(.2, {
opacity: 0
}).start()) : (this.bulletBg.stopAllActions(), cc.tween(this.bulletBg).delay(.1).to(.2, {
opacity: 255
}).start());
}, t.prototype.showSetupPop = function(e) {
y.default.showNativeAd(!1, !1);
this.node.active = !0, this.showPopData = e, this.returnMainBtn.active = !1, this.shareBtn.active = !1;
var t = p.default.getUserData();
t.userID.length ? (this.userIdLabel.string = "UID: " + t.userID, this.userIdLabel.node.active = !1) : this.userIdLabel.node.active = !1, 
2 == e.setupType ? this.returnMainBtn.active = !0 : 1 == e.setupType && (this.shareBtn.active = !1, 
p.default.isPlatform(p.GDPlatform.wx) ? (this.shareLabel.getComponent(cc.Label).string = "官方微博", 
u.default.changeSpriteFrame(this.shareVideo, "rewardIcon/reward_weibo_icon.png")) : (p.default.isPlatform(p.GDPlatform.oppo) || p.default.isPlatform(p.GDPlatform.oppo)) && (this.shareBtn.active = !1)), 
cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), this.setSetupStatus();
}, t.prototype.hideSetupPop = function() {
this.showPopData && this.showPopData.popCallbackCollect && this.showPopData.popCallbackCollect.resumeCallBack(), 
this.node.active = !1;
}, t.prototype.setSetupStatus = function() {
this.setupData = p.default.getUserSetupData(), 1 == this.setupData.effectStatus ? this.effectBg.opacity = 255 : this.effectBg.opacity = 0, 
1 == this.setupData.musicStatus ? this.musicBg.opacity = 255 : this.musicBg.opacity = 0, 
1 == this.setupData.shockStatus ? this.shockBg.opacity = 255 : this.shockBg.opacity = 0;
}, t.prototype.setEffectFunc = function() {
1 == this.setupData.effectStatus ? (this.effectBg.stopAllActions(), cc.tween(this.effectBg).to(.2, {
opacity: 0
}).start()) : (this.effectBg.stopAllActions(), cc.tween(this.effectBg).delay(.1).to(.2, {
opacity: 255
}).start()), this.setupData.effectStatus = -this.setupData.effectStatus, p.default.saveUserSetupData(this.setupData), 
f.default.playBGM();
}, t.prototype.setMusicFunc = function() {
1 == this.setupData.musicStatus ? (this.musicBg.stopAllActions(), cc.tween(this.musicBg).to(.2, {
opacity: 0
}).start()) : (this.musicBg.stopAllActions(), cc.tween(this.musicBg).delay(.1).to(.2, {
opacity: 255
}).start()), this.setupData.musicStatus = -this.setupData.musicStatus, p.default.saveUserSetupData(this.setupData), 
f.default.playBGM(), 1 == this.setupData.musicStatus ? f.default.playBGM() : g.default.reportTACommon("music_close", {});
}, t.prototype.setShockFunc = function() {
1 == this.setupData.shockStatus ? (this.shockBg.stopAllActions(), cc.tween(this.shockBg).to(.2, {
opacity: 0
}).start()) : (this.shockBg.stopAllActions(), cc.tween(this.shockBg).delay(.1).to(.2, {
opacity: 255
}).start()), this.setupData.shockStatus = -this.setupData.shockStatus, p.default.saveUserSetupData(this.setupData);
}, t.prototype.setBulletFunc = function() {
var e = p.default.getItem(d.STORAGEKEY.BULLETSWITCH);
console.log("bullet = " + e), 1 == e ? (this.bulletBg.stopAllActions(), cc.tween(this.bulletBg).to(.2, {
opacity: 0
}).start()) : (e = -1, this.bulletBg.stopAllActions(), cc.tween(this.bulletBg).delay(.1).to(.2, {
opacity: 255
}).start()), p.default.setItem(d.STORAGEKEY.BULLETSWITCH, e = -e), cc.game.emit(d.EMITKEY.BULLETSTATE);
}, t.prototype.shareBtnFunc = function() {
p.default.isPlatform(p.GDPlatform.tt) ? cc.game.emit(d.EMITKEY.TTSHARERECORD) : p.default.isPlatform(p.GDPlatform.wx) && h.default.weiBoJump();
}, t.prototype.returnMainFunc = function() {
m.default.getInstance().gameType == d.GAMETYPE.GAMELEVEL && (0 < p.default.getSprintRewardData().winNum && (e = {
popName: "sprintRewardPop",
showPopData: {
popCallbackCollect: null,
popType: 1
}
}, cc.game.emit("showPop", e)), 0 < m.default.getInstance().cookieDict.cookieCurCount && (e = {
popName: "loseCookiePop",
showPopData: {
popCallbackCollect: null,
popType: 1
}
}, cc.game.emit("showPop", e)));
var e = 0 == m.default.getInstance().sheepMark.resurgenceCount ? 0 : 1;
console.log("展示失去爱心弹框"), cc.game.emit("showPop", {
popName: "loseLovePop",
showPopData: {
popCallbackCollect: null,
popType: e
}
}), this.node.active = !1;
}, t.prototype.contactFunc = function() {
console.log("联系客服"), b.default.trackEvent("setting_service");
}, s([ w(cc.Node) ], t.prototype, "mask", void 0), s([ w(cc.Node) ], t.prototype, "popNode", void 0), 
s([ w(cc.Label) ], t.prototype, "userIdLabel", void 0), s([ w(cc.Label) ], t.prototype, "titleLabel", void 0), 
s([ w(cc.Label) ], t.prototype, "soundLabel", void 0), s([ w(cc.Label) ], t.prototype, "musicLabel", void 0), 
s([ w(cc.Label) ], t.prototype, "shakeLabel", void 0), s([ w(cc.Label) ], t.prototype, "backLabel", void 0), 
s([ w(cc.Node) ], t.prototype, "closeBtn", void 0), s([ w(cc.Node) ], t.prototype, "returnMainBtn", void 0), 
s([ w(cc.Node) ], t.prototype, "shareBtn", void 0), s([ w(cc.Node) ], t.prototype, "shareVideo", void 0), 
s([ w(cc.Node) ], t.prototype, "shareLabel", void 0), s([ w(cc.Node) ], t.prototype, "effectBtn", void 0), 
s([ w(cc.Node) ], t.prototype, "effectBg", void 0), s([ w(cc.Node) ], t.prototype, "musicBtn", void 0), 
s([ w(cc.Node) ], t.prototype, "musicBg", void 0), s([ w(cc.Node) ], t.prototype, "shockBtn", void 0), 
s([ w(cc.Node) ], t.prototype, "shockBg", void 0), s([ w(cc.Node) ], t.prototype, "bulletBtn", void 0), 
s([ w(cc.Node) ], t.prototype, "bulletBg", void 0), s([ w(cc.SpriteFrame) ], t.prototype, "whiteCycle", void 0), 
s([ w(cc.SpriteFrame) ], t.prototype, "greenCycle", void 0), s([ w(cc.Node) ], t.prototype, "userNode", void 0), 
s([ w(cc.Node) ], t.prototype, "privacyNode", void 0), s([ _ ], t);
}(cc.Component);
i.default = N;
cc._RF.pop();
}, {} ],
shareNodePop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a0bd2kRDllJoo/euhMYhvFy", "shareNodePop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("dataTs"), u = r("enumConfig"), p = r("share"), d = r("tt-sdk"), f = cc._decorator, h = f.ccclass, y = f.property, m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.popNode = null, t.shareNodeVideo = null, t.shareNodeUrl = null, t.closeVideoBtn = null, 
t.shareVideoBtn = null, t.exitVideoBtn = null, t.closeUrlBtn = null, t.shareUrlBtn = null, 
t.exitUrlBtn = null, t.popData = null, t;
}
return a(t, e), t.prototype.start = function() {
c.default.addTargetTouchUpInside(this.closeVideoBtn, this.closeVideoBtnFunc.bind(this)), 
c.default.addTargetTouchUpInside(this.shareVideoBtn, this.shareVideoBtnFunc.bind(this)), 
c.default.addTargetTouchUpInside(this.exitVideoBtn, this.exitVideoBtnFunc.bind(this)), 
c.default.addTargetTouchUpInside(this.closeUrlBtn, this.closeUrlBtnFunc.bind(this)), 
c.default.addTargetTouchUpInside(this.shareUrlBtn, this.shareUrlBtnFunc.bind(this)), 
c.default.addTargetTouchUpInside(this.exitUrlBtn, this.exitUrlBtnFunc.bind(this));
}, t.prototype.closeVideoBtnFunc = function() {
this.node.active = !1;
}, t.prototype.shareVideoBtnFunc = function() {
cc.game.emit(u.EMITKEY.TTSHARERECORD);
}, t.prototype.exitVideoBtnFunc = function() {
this.node.active = !1;
}, t.prototype.closeUrlBtnFunc = function() {
this.node.active = !1;
}, t.prototype.shareUrlBtnFunc = function() {
var e = this, t = this;
l.default.isPlatform(l.GDPlatform.tt) ? d.default.shareTemplate(function(o) {
console.log("shareTemplate = ", o), o && (t.node.active = !1), e.popData && e.popData.shareCb && (t.popData.shareCb(o), 
t.node.active = !1);
}) : l.default.isPlatform(l.GDPlatform.wx) ? p.default.shareMethod({
success: function() {},
fail: function() {},
complete: function() {}
}) : this.node.active = !1;
}, t.prototype.exitUrlBtnFunc = function() {
this.node.active = !1;
}, t.prototype.showPop = function(e) {
this.popData = e, this.shareNodeVideo.active = !1, this.shareNodeUrl.active = !1, 
this.node.active = !0, cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), l.default.isPlatform(l.GDPlatform.tt) ? 1 == e.type ? this.shareNodeVideo.active = !0 : 2 == e.type && (this.shareNodeUrl.active = !0) : (l.default.isPlatform(l.GDPlatform.wx), 
this.shareNodeUrl.active = !0);
}, s([ y(cc.Node) ], t.prototype, "popNode", void 0), s([ y(cc.Node) ], t.prototype, "shareNodeVideo", void 0), 
s([ y(cc.Node) ], t.prototype, "shareNodeUrl", void 0), s([ y(cc.Node) ], t.prototype, "closeVideoBtn", void 0), 
s([ y(cc.Node) ], t.prototype, "shareVideoBtn", void 0), s([ y(cc.Node) ], t.prototype, "exitVideoBtn", void 0), 
s([ y(cc.Node) ], t.prototype, "closeUrlBtn", void 0), s([ y(cc.Node) ], t.prototype, "shareUrlBtn", void 0), 
s([ y(cc.Node) ], t.prototype, "exitUrlBtn", void 0), s([ h ], t);
}(cc.Component);
i.default = m;
cc._RF.pop();
}, {} ],
share: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "cc74eL1jO5JXILJM8B5nOu3", "share");
var n = e, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
}), r.ShareType = void 0;
var i = n("sdk");
!function(e) {
e.share = "share", e.addFriend = "addFriend", e.getReward = "getReward";
}(r.ShareType || (r.ShareType = {}));
var a = function() {
function e() {}
return e.init = function() {
console.log("FM_ share.init");
i.default.setOnShow(function() {}), i.default.setOnShow(function() {});
var e = {
title: (e = this.getShareParams()).title,
imageUrl: e.imageUrl,
query: "1"
};
i.default.setOnShareAppMessage(e);
}, e.getRewardShare = function(e) {
var t = {
title: (t = this.getShareParams()).title,
imageUrl: t.imageUrl,
success: function(t) {
console.log("Share", "success", t), t && (e.success(), console.log("分享成功"));
},
fail: function(t) {
console.log("Share", "success", t), t && (e.fail(), console.log("分享失败"));
},
query: "2",
validate: !0
};
this.initiativeShare(t, !0);
}, e.shareMethod = function(e) {
var t = e.success, o = e.fail, n = e.complete;
e = this.getShareParams();
this.initiativeShare({
title: e.title,
imageUrl: e.imageUrl,
success: function(e) {
console.log("分享 success = ", e), t && t(e);
},
fail: function(e) {
console.log("分享 fail = ", e), o && o(e);
},
complete: function(e) {
console.log("分享 complete = ", e), n && n(e);
},
validate: !0
}, !0);
}, e.initiativeShare = function(e, t) {
if (i.default.isPlatform(i.Platform.web)) return e.success && e.success(!0), void (e.complete && e.complete(!1));
var o = !1, n = new Date().getTime(), r = !0;
1 == e.validate ? t ? (console.log("分享 111"), i.default.setOnShowOnce(function() {
r ? (o = 2500 <= new Date().getTime() - n, console.log("分享 222 result = ", o, "startTime = ", n), 
0 == o ? (e.fail && e.fail(!0), e.complete && e.complete(!1), console.log("分享 333")) : (n = new Date().getTime(), 
console.log("分享 444 result = ", o, "startTime = ", n), r = !1, e.success && e.success(!0), 
e.complete && e.complete(!0))) : console.log("多次进入后台 ###### ");
})) : (console.log("分享 555"), i.default.setOnShow(function() {
0 == (o = 2500 <= new Date().getTime() - n) ? (e.fail && e.fail(!0), e.complete && e.complete(!1)) : (e.success && e.success(!0), 
e.complete && e.complete(!0));
})) : (e.success(!0), e.complete && e.complete(!0));
t = "";
e.query && (t = e.query), wx.shareAppMessage({
title: e.title,
imageUrl: e.imageUrl,
query: t
});
}, e.getShareParams = function() {
var e = [ {
title: "最新出炉全国省份智力排行！",
imageUrl: "https://cat-match-static.easygame2021.com/images/wx_1.jpg"
}, {
title: "带薪上厕所的时候都在玩啥？",
imageUrl: "https://cat-match-static.easygame2021.com/images/wx_2.jpg"
}, {
title: "据说通关的都能达到爱因斯坦的IQ！",
imageUrl: "https://cat-match-static.easygame2021.com/images/wx_3.jpg"
}, {
title: "敢不敢睡觉前玩这个游戏？",
imageUrl: "https://cat-match-static.easygame2021.com/images/wx_4.jpg"
}, {
title: "什么能阻止我睡觉？就是这头羊！！",
imageUrl: "https://cat-match-static.easygame2021.com/images/wx_5.jpg"
}, {
title: "智力不够，就不要来挑战这个游戏了！",
imageUrl: "https://cat-match-static.easygame2021.com/images/wx_6.jpg"
}, {
title: "敢不敢来测算下你的智商够不够？",
imageUrl: "https://cat-match-static.easygame2021.com/images/wx_7.jpg"
}, {
title: "据说只有0.01%的人可以通关！玻璃心勿进！",
imageUrl: "https://cat-match-static.easygame2021.com/images/wx_8.jpg"
} ];
return e[Math.floor(Math.random() * e.length)];
}, e.shareId = 0, e.parsedId = "", e;
}();
r.default = a;
cc._RF.pop();
}, {} ],
"sheep-card": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a4c42prjHtESYEMJNr5MQAH", "sheep-card");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.redbgNode = null, t.bluebgNode = null, t.graybgNode = null, t;
}
return i(t, e), t.prototype.start = function() {}, t.prototype.setupData = function(e) {
this.redbgNode.active = !1, this.bluebgNode.active = !1;
var t, o, n, r = null, i = this.graybgNode.active = !1;
1 == e.type ? (this.redbgNode.active = !0, r = this.redbgNode, i = !0) : 2 == e.type ? (this.bluebgNode.active = !0, 
r = this.bluebgNode) : 3 == e.type && (this.graybgNode.active = !0, r = this.graybgNode), 
r && (t = r.getChildByName("num-label").getComponent(cc.Label), o = r.getChildByName("count-label").getComponent(cc.Label), 
n = r.getChildByName("name-label").getComponent(cc.Label), t.string = "第 " + e.num + " 名", 
o.string = e.item.win_score + " 羊", n.string = e.item.name + "羊队", i && (i = r.getChildByName("flash_1"), 
r = r.getChildByName("flash_2"), this.playAnimationFloat(i, 255), this.playAnimationFloat(r, -255)));
}, t.prototype.playAnimationFloat = function(e, t) {
var o = this;
cc.tween(e).delay(.5).by(.1, {
opacity: t
}).call(function() {
o.playAnimationFloat(e, -t);
}).start();
}, a([ l(cc.Node) ], t.prototype, "redbgNode", void 0), a([ l(cc.Node) ], t.prototype, "bluebgNode", void 0), 
a([ l(cc.Node) ], t.prototype, "graybgNode", void 0), a([ c ], t);
}(cc.Component);
r.default = u;
cc._RF.pop();
}, {} ],
"sheep-flock-icon": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a441bXbKtZDx6Z6u1Z9IX7r", "sheep-flock-icon");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = cc._decorator, u = l.ccclass, p = l.property, d = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.iconHeader = null, t.purpleNode = null, t.blueNode = null, t.regionNode = null, 
t.cityNode = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.showData = function(e) {
var t = this;
e ? (this.node.stopAllActions(), this.node.active = !0, cc.tween(this.node).delay(3).call(function() {
t.node.active = !1;
}, this).start(), 0 == e.gender || 1 == e.gender ? (this.purpleNode.active = !1, 
this.blueNode.active = !0) : (this.purpleNode.active = !0, this.blueNode.active = !1), 
e.nick_name ? this.regionNode.getComponent(cc.Label).string = e.nick_name : this.regionNode.getComponent(cc.Label).string = "", 
e.city ? this.cityNode.getComponent(cc.Label).string = e.city : this.cityNode.getComponent(cc.Label).string = "", 
c.default.setAvatar(this.iconHeader, e.avatar)) : this.node.active = !1;
}, s([ p(cc.Node) ], t.prototype, "iconHeader", void 0), s([ p(cc.Node) ], t.prototype, "purpleNode", void 0), 
s([ p(cc.Node) ], t.prototype, "blueNode", void 0), s([ p(cc.Node) ], t.prototype, "regionNode", void 0), 
s([ p(cc.Node) ], t.prototype, "cityNode", void 0), s([ u ], t);
}(cc.Component);
i.default = d;
cc._RF.pop();
}, {} ],
"sheep-flock": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9c2fby18nZLPpABsAs/z6CS", "sheep-flock");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
}, c = function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var n = Array(e), r = 0;
for (t = 0; t < o; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, 
r++) n[r] = i[a];
return n;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var l = r("CcJsFunc"), u = r("dataTs"), p = r("enumConfig"), d = r("spine"), f = r("DateManager"), h = r("GameManager"), y = r("data-manager"), m = r("sheep-card"), g = r("sheep-flock-icon"), b = cc._decorator, v = b.ccclass, _ = b.property, w = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sheepSp = null, t.sheepNode = null, t.sheepCard = null, t.sheepCardNode = null, 
t.sheepIcon = null, t.sheepIconNode = null, t.manSheepHeader = null, t.manSheepHeaderNode = null, 
t.womanSheepheader = null, t.womanSheepheaderNode = null, t.zIndexList = null, t.userRankInfo = null, 
t.userPosItem = null, t.sheepNodeArr = [], t.angle = 0, t.radius = 0, t.iconNode = null, 
t.sheepUserNode = null, t.clothesData = null, t;
}
return a(t, e), t.prototype.start = function() {
cc.game.on(p.EMITKEY.SHOWUSERNODE, this.showUserNode, this), cc.game.on(p.EMITKEY.CHANGESHEEPCLOTHES, this.changeSheepClothesFunc, this);
}, t.prototype.changeSheepClothesFunc = function() {
if (this.sheepUserNode && this.userRankInfo && 1 == this.userRankInfo.state) {
for (var e = this, t = "sheep/Sheeps", o = "skin_00", n = u.default.getSheepClothesData(), r = 0; r < n.length; r++) {
var i = n[r];
if (i.dressing) {
t = "sheep/" + i.spName, o = i.spSkin;
break;
}
}
this.sheepUserNode.getChildByName("sheepSp").getComponent(d.default).loadSpine(t, function() {
e.sheepUserNode.getChildByName("sheepSp").getComponent(d.default).setNewSkin(o), 
e.sheepUserNode.getChildByName("sheepSp").getComponent(d.default).play("Jump2", 0);
});
}
}, t.prototype.showUserNode = function() {
var e = this;
this.userRankInfo && this.sheepIconNode && this.userPosItem && (console.log("game_over = " + h.default.getInstance().game_over), 
1 == h.default.getInstance().game_over && this.sheepUserNode ? (this.sheepUserNode.opacity = 255, 
this.sheepUserNode.getChildByName("sheepSp").getComponent(d.default).play("Drop1", 1, function() {
e.sheepUserNode.getChildByName("flashSp").opacity = 255, e.sheepUserNode.getChildByName("flashSp").getComponent(d.default).play("3Ray1", 1, function() {
e.sheepUserNode.getChildByName("flashSp").opacity = 0;
}), setTimeout(function() {
u.default.isPlatform(u.GDPlatform.tt) ? e.showSharePop() : u.default.isPlatform(u.GDPlatform.web) && e.showWxSharePop();
}, 500), e.sheepUserNode.getChildByName("sheepSp").getComponent(d.default).play("Jump2", 0);
}), h.default.getInstance().game_over = 0) : (this.sheepIconNode.x = this.userPosItem.x, 
this.sheepIconNode.y = this.userPosItem.y + 20, this.sheepIconNode.getComponent(g.default).showData(this.userRankInfo)));
}, t.prototype.showSharePop = function() {
cc.game.emit("showPop", {
popName: "shareNodePop",
showPopData: {
type: 1
}
});
}, t.prototype.showWxSharePop = function() {
cc.game.emit("showPop", {
popName: "challengeSucPop",
showPopData: {}
}), setTimeout(function() {
cc.game.emit(p.EMITKEY.HIDEMASKLAYER);
}, 2e3);
}, t.prototype.setupData = function(e) {
if (e) {
this.angle = 240, this.radius = 100, this.sheepNodeArr = [];
try {
this.clothesData = u.default.gameConfigData.baseConfigData.sheepClothesData;
} catch (e) {}
var t = f.default.format(p.CALENDARNAMES[5], new Date()), o = f.default.format(p.CALENDARNAMES[6], new Date()), n = -1;
n = (n = (o = u.default.getDailyData(t, o)) && o.sheepNum ? Number(o.sheepNum) : n) < 0 ? 0 : n;
this.zIndexList = [ 29, 28, 27, 26, 28, 28, 30, 29, 28, 27, 26, 25, 18, 25, 24, 25, 26, 27, 40, 39, 38, 37, 36, 35, 34, 33, 22, 17, 16, 15, 22, 23, 24, 25, 26, 27 ], 
this.sheepNode || (this.sheepNode = this.sheepSp), this.sheepCardNode || (this.sheepCardNode = this.sheepCard), 
this.sheepIconNode || (this.sheepIconNode = this.sheepIcon), this.manSheepHeader || (this.manSheepHeaderNode = this.manSheepHeader), 
this.womanSheepheader || (this.womanSheepheaderNode = this.womanSheepheader), this.node.removeAllChildren(), 
this.iconNode = new cc.Node(), this.iconNode.width = this.node.width, this.iconNode.height = this.node.height, 
this.iconNode.name = "iconNode", this.iconNode.zIndex = 100, this.node.addChild(this.iconNode);
o = cc.instantiate(this.sheepCardNode);
this.node.addChild(o), o.zIndex = 49, o.y += 70, o.getComponent(m.default).setupData(e);
var r = [];
if (e.item && e.item.result && 0 < e.item.result.length && "null" != e.item.result) {
this.node.addChild(this.sheepIconNode), this.sheepIconNode.zIndex = 200, this.sheepIconNode.active = !1;
o = JSON.parse(e.item.result), r = this.bubbleSort(o);
var i, a = u.default.getUserData().userID;
for (i in r) Number(a) == r[i].uid && (this.userRankInfo = r[i]);
}
var s = e.item.all_score;
(s = 36 < s ? 36 : s) <= 0 && (s = 0);
for (var c = 0; c < s; c++) setTimeout(function() {}, 0 * c), this.setSheep(r, c, n);
}
}, t.prototype.bubbleSort = function(e) {
for (var t, o = c(e), n = 0, r = o.length; n < r; n++) for (var i = 0; i < r - 1 - n; i++) o[i].state > o[i + 1].state ? (t = [ o[i + 1], o[i] ], 
o[i] = t[0], o[i + 1] = t[1]) : o[i].state == o[i + 1].state && o[i].fail < o[i + 1].fail && (t = [ o[i + 1], o[i] ], 
o[i] = t[0], o[i + 1] = t[1]);
return o;
}, t.prototype.setSheep = function(e, t) {
if (!(t >= e.length)) {
var o = cc.instantiate(this.sheepNode);
this.node.addChild(o), this.sheepNodeArr.push(o);
var n = 0;
t < 6 ? (n = 6, this.radius = 100) : t < 18 ? (n = 12, this.radius = 200) : (n = 18, 
this.radius = 300);
var r = this.angle / 180 * Math.PI, i = this.radius * Math.cos(r), a = this.radius * Math.sin(r);
r = 0;
t < this.zIndexList.length && (r = this.zIndexList[t]), o.x = i, o.y = a, o.zIndex = r, 
this.angle += 360 / n;
var s = e[t];
1 == s.state && (n = null, (n = 0 == s.gender ? cc.instantiate(this.manSheepHeader) : cc.instantiate(this.womanSheepheader)).zIndex = r, 
this.iconNode.addChild(n), n.x = i, n.y = 95 + a, t < e.length && l.default.setAvatar(n, e[t].avatar));
var c = "sheep/Sheeps", p = "skin_00";
if (Number(u.default.getUserData().userID) == s.uid) {
if (this.userPosItem = cc.v2(i, a), this.userRankInfo) {
for (var d = u.default.getSheepClothesData(), f = 0; f < d.length; f++) {
var y = d[f];
if (y.dressing) {
c = "sheep/" + y.spName, p = y.spSkin;
break;
}
}
this.sheepUserNode = o, 1 == h.default.getInstance().game_over && (this.sheepUserNode.opacity = 0);
}
} else if (this.clothesData && s.skin && 0 < s.skin) for (var m in this.clothesData) if (this.clothesData[m].clothesId == s.skin) {
c = "sheep/" + this.clothesData[m].spName, p = this.clothesData[m].spSkin;
break;
}
1 != s.state && (c = "sheep/Dead1"), this.setUpSheepNode(o, c, s, p);
var b = o.getChildByName("clickNode");
b.on(cc.Node.EventType.TOUCH_END, function() {
var o;
console.log(b.parent.getPosition().x, b.parent.getPosition().y), this.sheepIconNode && (o = e[t], 
this.sheepIconNode.x = b.parent.getPosition().x, this.sheepIconNode.y = b.parent.getPosition().y + 20, 
this.sheepIconNode.getComponent(g.default).showData(o));
}, this);
}
}, t.prototype.setUpSheepNode = function(e, t, o, n) {
e.getChildByName("flashSp").opacity = 0, e.getChildByName("sheepSp").getComponent(d.default).loadSpine(t, function() {
var r = "Jump2";
"sheep/Dead1" == t ? (o.fail || (o.fail = 1), r = "Dead" + y.default.getDeadNum(o.fail)) : e.getChildByName("sheepSp").getComponent(d.default).setNewSkin(n), 
e.getChildByName("sheepSp").getComponent(d.default).play(r, 0);
});
}, s([ _({
type: cc.Node,
tooltip: "羊"
}) ], t.prototype, "sheepSp", void 0), s([ _({
type: cc.Node,
tooltip: "名次牌子"
}) ], t.prototype, "sheepCard", void 0), s([ _({
type: cc.Node,
tooltip: "卡片"
}) ], t.prototype, "sheepIcon", void 0), s([ _({
type: cc.Node,
tooltip: "男头像"
}) ], t.prototype, "manSheepHeader", void 0), s([ _({
type: cc.Node,
tooltip: "女头像"
}) ], t.prototype, "womanSheepheader", void 0), s([ v ], t);
}(cc.Component);
i.default = w;
cc._RF.pop();
}, {} ],
"sheep-rank-pop": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4f1e6q1O4ZIM6jxip+/6cgl", "sheep-rank-pop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("api-sheep"), l = r("CcJsFunc"), u = r("GameManager"), p = r("sheepRankItem"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.popNode = null, t.sheepRankItem = null, t.rankItem = null, t.contentView = null, 
t.closeBtn = null, t.bottomNode = null, t;
}
return a(t, e), t.prototype.start = function() {
l.default.addbtnTouchStartScale(this.closeBtn), l.default.addbtnTouchEndScale(this.closeBtn, this.closeBtnFunc.bind(this)), 
l.default.addbtnTouchCancelScale(this.closeBtn);
}, t.prototype.closeBtnFunc = function() {
this.node.active = !1;
}, t.prototype.sheepRankPop = function() {
this.node.active = !0, this.requestData();
}, t.prototype.requestData = function() {
var e;
cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), this.rankItem || (this.rankItem = cc.instantiate(this.sheepRankItem)), 
this.contentView.removeAllChildren(), this.bottomNode.active = !1, u.default.getInstance().rankInfo ? this.setSubViews(u.default.getInstance().rankInfo) : (e = this, 
c.default.getRankInfoData(function(t) {
e.setSubViews(t.data);
}));
}, t.prototype.setSubViews = function(e) {
for (var t = 0; t < e.list.length; t++) {
var o = e.list[t];
o.index = t;
var n = cc.instantiate(this.rankItem);
this.contentView.addChild(n), n.getComponent(p.default).setupData(o);
}
e.user.index && (this.bottomNode.getComponent(p.default).setBottomData(e.user), 
this.bottomNode.active = !0);
}, s([ h({
type: cc.Node,
tooltip: "popNode"
}) ], t.prototype, "popNode", void 0), s([ h({
type: cc.Node,
tooltip: "item 子View"
}) ], t.prototype, "sheepRankItem", void 0), s([ h({
type: cc.Node,
tooltip: "item 父视图"
}) ], t.prototype, "contentView", void 0), s([ h({
type: cc.Node,
tooltip: "关闭按钮"
}) ], t.prototype, "closeBtn", void 0), s([ h({
type: cc.Node,
tooltip: "bottom View"
}) ], t.prototype, "bottomNode", void 0), s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
sheepRankItem: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3fc70swD4FHKLdy7tN3hR6f", "sheepRankItem");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.imgNode = null, t.labelNode = null, t.numNode = null, t.nameNode = null, 
t.countNode = null, t;
}
return i(t, e), t.prototype.start = function() {}, t.prototype.setupData = function(e) {
var t = e.index + 1;
this.numNode.getComponent(cc.Label).string = t + "", this.nameNode.getComponent(cc.Label).string = e.name, 
this.countNode.getComponent(cc.Label).string = e.win_score + "";
var o, n = null, r = null, i = null, a = null, s = null, c = null, l = this.imgNode.children;
for (o in l) {
var u = l[o];
"text-black" == u.name || "text-sheep-black" == u.name ? u.active = !0 : u.active = !1, 
"num-yellow" == u.name ? n = u : "num-sliver" == u.name ? r = u : "num-orange" == u.name ? i = u : "num-blue" == u.name ? a = u : "num-black" == u.name || ("img-yellow" == u.name ? s = u : "img-white" == u.name ? c = u : u.name);
}
c.active = !0, 1 == t ? (n.active = !0, s.active = !0, c.active = !1) : 2 == t ? r.active = !0 : 3 == t ? i.active = !0 : a.active = !0;
}, t.prototype.setBottomData = function(e) {
this.numNode.getComponent(cc.Label).string = e.index + "", this.nameNode.getComponent(cc.Label).string = e.item.name, 
this.countNode.getComponent(cc.Label).string = e.item.win_score + "";
}, a([ l(cc.Node) ], t.prototype, "imgNode", void 0), a([ l(cc.Node) ], t.prototype, "labelNode", void 0), 
a([ l(cc.Node) ], t.prototype, "numNode", void 0), a([ l(cc.Node) ], t.prototype, "nameNode", void 0), 
a([ l(cc.Node) ], t.prototype, "countNode", void 0), a([ c ], t);
}(cc.Component);
r.default = u;
cc._RF.pop();
}, {} ],
"show-daily-pop": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "3a139KaoTJPZKuR6HDW3cfD", "show-daily-pop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("gd_language"), l = r("i18n"), u = r("rewardPrefab"), p = r("CcJsFunc"), d = r("audio"), f = r("spine"), h = cc._decorator, y = h.ccclass, m = h.property, g = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.maskNode = null, t.titleSpine = null, t.boxSpine = null, t.flashNode = null, 
t.receiveBtn = null, t.receiveLabel = null, t.rewardPrefab = null, t.popData = null, 
t.rewardNodeArray = [], t.rewardDataArray = [], t;
}
return a(t, e), t.prototype.start = function() {
p.default.addbtnTouchStartScale(this.receiveBtn), p.default.addbtnTouchEndScale(this.receiveBtn, this.receiveBtnFunc.bind(this)), 
p.default.addbtnTouchCancelScale(this.receiveBtn);
}, t.prototype.receiveBtnFunc = function() {
this.node.active = !1, this.receiveBtn.stopAllActions();
for (var e = 0; e < this.rewardNodeArray.length; e++) this.rewardNodeArray[e].destroy();
this.rewardNodeArray = [];
}, t.prototype.showPop = function(e) {
var t;
this.popData = e, this.node.active = !0, this.titleSpine.active = !1, this.boxSpine.active = !1, 
this.receiveBtn.active = !1, this.flashNode.active = !1, this.receiveLabel.string = l.default.instance.trans(c.GDLanguage.pop_claim), 
"daily" == e.popName ? (t = {}, 1 == e.popType ? (t.propType = "prop_random", t.num = 3) : 2 == e.popType ? (t.propType = "prop_cancel", 
t.num = 3) : 3 == e.popType && (t.propType = "prop_remove", t.num = 3), this.rewardDataArray.push(t), 
this.addRewardNode(), this.playAnimation()) : this.node.active = !1;
}, t.prototype.playAnimation = function() {
var e = this;
e.boxSpine.active = !0, e.boxSpine.getComponent(f.default).setFrameEventCb("Open1", function() {
console.log("1"), d.default.playAudioMusic("audio/sound/Open1.mp3", !1);
}), e.boxSpine.getComponent(f.default).setFrameEventCb("Eff_Sheen1", function() {
e.titleSpine.active = !0, d.default.playAudioMusic("audio/sound/Words1.mp3", !1), 
e.titleSpine.getComponent(f.default).play("Award1_Words1", 1), console.log("2"), 
e.flashNode.active = !0, cc.tween(e.flashNode).by(40, {
angle: 360
}).repeatForever().start(), e.playRewardNode();
}), e.boxSpine.getComponent(f.default).setFrameEventCb("Treasure1", function() {
e.flashNode.active = !0, cc.tween(e.flashNode).by(40, {
angle: 360
}).repeatForever().start(), e.playRewardNode(), console.log("3");
}), e.boxSpine.getComponent(f.default).play("4Daily_Open" + this.popData.popType, 1, function() {
console.log("4"), e.receiveBtn.active = !0;
});
}, t.prototype.addRewardNode = function() {
for (var e = 0; e < this.rewardDataArray.length; e++) {
var t = cc.instantiate(this.rewardPrefab);
t.x = 0, t.y = 0, t.scale = 0, t.getComponent(u.default).setRewardNode(this.rewardDataArray[e]), 
this.rewardNodeArray.push(t), this.node.addChild(t);
}
}, t.prototype.playRewardNode = function() {
var e = this;
this.rewardNodeArray.length && cc.tween(this.rewardNodeArray[0]).to(.1, {
scale: 1.4,
y: 150
}).to(.1, {
scale: 1
}).to(.1, {
scale: 1.2
}).to(.1, {
scale: 1
}).call(function() {
e.playAnimationFloat(e.rewardNodeArray[0], 10);
}).start();
}, t.prototype.playAnimationFloat = function(e, t) {
var o = this;
cc.tween(e).by(1, {
y: t
}).call(function() {
o.playAnimationFloat(e, -t);
}).start();
}, s([ m(cc.Node) ], t.prototype, "maskNode", void 0), s([ m(cc.Node) ], t.prototype, "titleSpine", void 0), 
s([ m(cc.Node) ], t.prototype, "boxSpine", void 0), s([ m(cc.Node) ], t.prototype, "flashNode", void 0), 
s([ m(cc.Node) ], t.prototype, "receiveBtn", void 0), s([ m(cc.Label) ], t.prototype, "receiveLabel", void 0), 
s([ m(cc.Prefab) ], t.prototype, "rewardPrefab", void 0), s([ y ], t);
}(cc.Component);
i.default = g;
cc._RF.pop();
}, {} ],
"show-reward-pop": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a28f8l6KdRP1bgidG2CHAQ9", "show-reward-pop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("gd_language"), l = r("i18n"), u = r("cookieRewardNode"), p = r("CcJsFunc"), d = r("enumConfig"), f = r("audio"), h = r("spine"), y = cc._decorator, m = y.ccclass, g = y.property, b = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.maskNode = null, t.cookieRewardLayer = null, t.cookieTitleSpine = null, 
t.cookieRewardNode = null, t.cookieFlashNode = null, t.cookieImageNode = null, t.cookieNumNode = null, 
t.cookieReceiveBtn = null, t.cookiePropEndNode = null, t.receiveLabel = null, t.popData = null, 
t;
}
return a(t, e), t.prototype.start = function() {
p.default.addbtnTouchStartScale(this.cookieReceiveBtn), p.default.addbtnTouchEndScale(this.cookieReceiveBtn, this.receiveBtnFunc.bind(this)), 
p.default.addbtnTouchCancelScale(this.cookieReceiveBtn), this.receiveLabel.string = l.default.instance.trans(c.GDLanguage.pop_claim);
}, t.prototype.receiveBtnFunc = function() {
var e = this;
this.maskNode.active = !1, this.cookieTitleSpine.active = !1, this.cookieFlashNode.active = !1, 
this.cookieReceiveBtn.active = !1;
var t = this.cookiePropEndNode, o = p.default.getWorldPosition(t);
o = p.default.getNodePosition(this.node, o);
cc.tween(this.cookieRewardNode).to(.1, {
angle: 5
}).to(.1, {
angle: -5
}).to(.1, {
angle: 5
}).to(.1, {
angle: -5
}).to(.3, {
position: cc.v3(o.x, o.y, 0),
scale: .3
}).call(function() {
e.node.active = !1, e.popData && e.popData.rewardCallback && e.popData.rewardCallback(), 
cc.tween(t).to(.2, {
scale: 1.2
}).to(.2, {
scale: 1
}).start();
}).start();
}, t.prototype.showPop = function(e) {
this.popData = e, this.cookieRewardLayer.active = !1, 1 == e.popType && (this.node.active = !0, 
this.maskNode.active = !0, this.cookieRewardLayer.active = !0, this.cookieRewardLayer.position = cc.v3(0, 0, 0), 
this.cookieRewardNode.scale = 1, this.cookieTitleSpine.active = !0, this.cookieReceiveBtn.active = !0, 
this.showCookieRewardPopData(e.rewardData, e.startNode, e.endNode));
}, t.prototype.showCookieRewardPopData = function(e, t, o) {
console.log("领取奖励", JSON.stringify(e));
var n = this;
n.cookieFlashNode.active = !1, f.default.playAudioMusic("audio/sound/Words1.mp3", !1), 
n.cookieTitleSpine.getComponent(h.default).play("Award1_Words1", 1);
t = p.default.getWorldPosition(t), t = p.default.getNodePosition(this.node, t), 
o = p.default.getWorldPosition(o), o = p.default.getNodePosition(this.node, o);
this.cookieRewardNode.getComponent(u.default).showData(e), this.cookieRewardNode.position = cc.v3(t), 
this.cookieReceiveBtn.scale = 0, this.cookieRewardNode.scale = .5, cc.tween(this.cookieRewardNode).to(.3, {
position: cc.v3(t.x + 10, t.y - 400),
scale: .7
}).to(.3, {
position: cc.v3(t.x - 100, t.y - 500)
}).to(.2, {
position: cc.v3(o),
scale: 1
}).call(function() {
n.cookieFlashNode.active = !0, cc.tween(n.cookieFlashNode).by(5, {
angle: 360
}).repeatForever().start(), cc.tween(n.cookieReceiveBtn).to(.3, {
scale: 1
}).start(), n.popData && n.popData.callback ? n.popData.callback() : cc.game.emit(d.EMITKEY.HIDEMASKLAYER);
}).start();
}, s([ g(cc.Node) ], t.prototype, "maskNode", void 0), s([ g(cc.Node) ], t.prototype, "cookieRewardLayer", void 0), 
s([ g(cc.Node) ], t.prototype, "cookieTitleSpine", void 0), s([ g(cc.Node) ], t.prototype, "cookieRewardNode", void 0), 
s([ g(cc.Node) ], t.prototype, "cookieFlashNode", void 0), s([ g(cc.Node) ], t.prototype, "cookieImageNode", void 0), 
s([ g(cc.Node) ], t.prototype, "cookieNumNode", void 0), s([ g(cc.Node) ], t.prototype, "cookieReceiveBtn", void 0), 
s([ g(cc.Node) ], t.prototype, "cookiePropEndNode", void 0), s([ g(cc.Label) ], t.prototype, "receiveLabel", void 0), 
s([ m ], t);
}(cc.Component);
i.default = b;
cc._RF.pop();
}, {} ],
"snake-ctrl-point": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "97d1cS+taxBnYxM87Oc/vw1", "snake-ctrl-point");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = cc._decorator.ccclass, c = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.size = 20, t.isDragging = !1, t.sprite = null, t.onEditStart = null, t.onEditEnd = null, 
t;
}
return i(t, e), t.prototype.onLoad = function() {
this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this), this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this), 
this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this), 
this.node.addComponent(cc.BlockInputEvents);
}, t.prototype.start = function() {
this.idle();
}, t.prototype.setEditCallback = function(e, t) {
this.onEditStart = e, this.onEditEnd = t;
}, t.prototype.onTouchStart = function() {
this.selected(), this.isDragging = !0, this.onEditStart && this.onEditStart();
}, t.prototype.onTouchMove = function(e) {
var t;
0 != this.isDragging && (e = (t = e.getDelta()).x, t = t.y, this.node.setPosition(this.node.position.x + e, this.node.position.y + t));
}, t.prototype.onTouchEnd = function() {
this.idle(), this.isDragging = !1, this.onEditEnd && this.onEditEnd();
}, t.prototype.idle = function() {
this.node.stopAllActions(), cc.tween(this.node).to(.1, {
scale: 1,
opacity: 255
}).to(.5, {
scale: 1.01,
opacity: 200
}, {
easing: cc.easing.backInOut
}).union().repeatForever().start();
}, t.prototype.selected = function() {
this.node.stopAllActions(), cc.tween(this.node).to(.1, {
scale: 1,
opacity: 255
}).to(.5, {
scale: 1.4,
opacity: 100
}, {
easing: cc.easing.backInOut
}).union().repeatForever().start();
}, t.prototype.getSpriteFrameByColor = function(e) {
for (var t = new Uint8Array(16), o = 0; o < 2; o++) for (var n = 0; n < 2; n++) t[8 * o + 4 * n] = e.r, 
t[8 * o + 4 * n + 1] = e.g, t[8 * o + 4 * n + 2] = e.b, t[8 * o + 4 * n + 3] = e.a;
var r = new cc.Texture2D();
return r.initWithData(t, cc.Texture2D.PixelFormat.RGBA8888, 2, 2), new cc.SpriteFrame(r);
}, a([ s ], t);
}(cc.Component);
r.default = c;
cc._RF.pop();
}, {} ],
"snake-sprite-assembler": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f7fady81S5KDZYrZVIIiQPn", "snake-sprite-assembler");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
});
Object.defineProperty(i, "__esModule", {
value: !0
}), i.SplineSpriteAssembler = void 0;
for (var s = r("curve-sample"), c = cc.Vec3, l = r("export-helper"), u = cc.Mat4, p = [], d = 0; d < 4; d++) p.push(new c());
var f = [];
for (d = 0; d < 4; d++) f.push({
u: 0,
v: 1
});
var h = new c(), y = Math.floor(65535 / 4), m = new Array(), g = new Array(), b = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t._renderData = null, t.verticesCount = 0, t.indicesCount = 0, t;
}
return a(t, e), t.prototype.init = function(t) {
e.prototype.init.call(this, t), this._renderData = new cc.RenderData(), this._renderData.init(this), 
this._renderData.createFlexData(0, 4, 6, this.getVfmt()), this._updateIndices();
}, t.prototype._updateIndices = function() {
for (var e = this._renderData.iDatas[0], t = 0, o = 0, n = e.length; t < n; t += 6, 
o += 4) e[t] = o, e[t + 1] = o + 1, e[t + 2] = o + 2, e[t + 3] = o + 1, e[t + 4] = o + 3, 
e[t + 5] = o + 2;
}, t.prototype.updateRenderData = function(e) {
this.packToDynamicAtlas(e, e.spriteFrame), e._vertsDirty && (this.updateVertAndUV(e), 
e._vertsDirty = !1);
}, t.prototype.updateVertAndUV = function(e) {
if (C = e.spriteFrame) {
var t = function(e, t) {
if ((e = g[e]) <= i + 1e-4) return 0 < i ? l.math.lerp(E[12].v, E[8].v, e / i) : E[8].v;
if (R < r.height) return l.math.lerp(E[8].v, E[0].v, (e - i) / (R - i));
if (L <= e) return 0 == M && (M = Math.floor((L - i) / d) * d + i), l.math.lerp(E[8].v, E[0].v, (e - M) / (T - M));
e = t(e = (e - i) / d % 1);
return l.math.lerp(E[8].v, E[4].v, e);
}, o = function(e) {
return e < .001 ? 1 : e;
}, n = function(e) {
return .9999 < e ? 0 : e;
}, r = C._rect, i = C.insetTop, a = C.insetBottom, d = r.height - i - a;
m.length = 0, g.length = 0;
for (var b = e.mSpline.GetCurves(), v = i, _ = 0, w = 0; w < b.length; ++w) {
for (var N = b[w].samples, P = 0 == w ? 0 : 1; P < N.length; P++) {
var A = N[P];
if (l.math.approx(v, A.distanceInCurve, .01)) v += d; else if (v < A.distanceInCurve) do {
var S = (v - (S = N[P - 1].distanceInCurve)) / (A.distanceInCurve - S);
S = s.CurveSample.Lerp(N[P - 1], A, S);
} while (m.push(S), g.push(_ + S.distanceInCurve), (v += d) < A.distanceInCurve);
m.push(A), g.push(_ + A.distanceInCurve);
}
v -= b[w].Length, _ += b[w].Length;
}
var C = m.length - 1;
y < C && (console.warn("Spline(" + e.name + ")的四边形数量(" + C + ")超过了允许的最大值(" + y + "), 自动截断, Spline 曲线会显示不完整"), 
m.length = y), this.verticesCount = 4 * C, this.indicesCount = 6 * C;
C = e.node.width;
var O = e.node.getWorldMatrix(new u()), D = .5 * C;
(C = this._renderData._flexBuffer).reserve(this.verticesCount, this.indicesCount) && this._updateIndices(), 
C.used(this.verticesCount, this.indicesCount);
var I = this._renderData.vDatas[0], k = this._renderData.uintVDatas[0], F = 0, E = null === (C = e.spriteFrame) || void 0 === C ? void 0 : C.uvSliced, R = g[g.length - 1], T = (C = R > r.height ? 1 : r.height / R, 
R * C), L = T - a;
L < i && (L = i);
for (var M = 0, B = 256 * e.node.color.toRGBValue() + e.node.color.getA(), j = 0, G = m.length - 1; j < G; j++) {
A = m[j + 1], c.cross(h, cc.v3(0, 0, 1), A.tangent);
var x = D * A.scale.x;
for (c.multiplyScalar(h, h, x), c.subtract(p[0], A.location, h), c.add(p[1], A.location, h), 
A = m[j], c.cross(h, cc.v3(0, 0, 1), A.tangent), x = D * A.scale.x, c.multiplyScalar(h, h, x), 
c.subtract(p[2], A.location, h), c.add(p[3], A.location, h), f[0].v = t(j + 1, o), 
f[0].u = E[1].u, f[1].v = f[0].v, f[1].u = E[2].u, f[2].v = t(j, n), f[2].u = E[13].u, 
f[3].v = f[2].v, f[3].u = E[14].u, w = 0; w < 4; w++) {
var U = p[w];
c.transformMat4(U, U, O);
var H = 5 * w;
I[F + H] = U.x, I[F + H + 1] = U.y, I[F + H + 2] = f[w].u, I[F + H + 3] = f[w].v, 
k[F + H + 4] = B;
}
F += 20;
}
e.splineVerticesCache = I, m.length = 0, g.length = 0;
}
}, t.prototype.fillBuffers = function(e, t) {
t.worldMatDirty && this.updateVertAndUV(e);
var o = (i = this._renderData).vDatas[0], n = i.iDatas[0], r = this.getBuffer(t), i = (e = r.request(this.verticesCount, this.indicesCount)).byteOffset >> 2;
t = r._vData;
o.length + i > t.length ? t.set(o.subarray(0, t.length - i), i) : t.set(o, i);
for (var a = r._iData, s = e.vertexOffset, c = e.indiceOffset, l = 0, u = n.length; l < u; l++) a[c++] = s + n[l];
}, t.prototype.getBuffer = function() {
return cc.renderer._handle._meshBuffer;
}, t.prototype.packToDynamicAtlas = function(e, t) {
t._original || !cc.dynamicAtlasManager || !t._texture.packable || (o = cc.dynamicAtlasManager.insertSpriteFrame(t)) && t._setDynamicAtlasFrame(o);
var o = e._materials[0];
o && o.getProperty("texture") !== t._texture && (e._vertsDirty = !0, e._updateMaterial());
}, t;
}(cc.Assembler);
i.SplineSpriteAssembler = b;
cc._RF.pop();
}, {} ],
spine: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f215cEjIoBLcpliwC5ZCFQh", "spine");
var n, r = o, i = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), a = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = cc._decorator, c = s.ccclass, l = s.property, u = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.spine = null, t._frameEventMap = {}, t._loop = !1, t._times = 1, t._playingName = "", 
t._playingNameQueue = [], t;
}
return i(t, e), t.prototype.onLoad = function() {
this.init();
}, t.prototype.init = function() {
this.spine && (this.spine.setCompleteListener(this.completeFunc.bind(this)), this.spine.setStartListener(this.startFunc.bind(this)), 
this.spine.setEventListener(this.frameEventFunc.bind(this)));
}, t.prototype.completeFunc = function(e) {
this._loop || (0 < this._playingNameQueue.length ? e.animation.name == this._playingNameQueue[this._playingNameQueue.length - 1] && (this._times--, 
0 != this._times ? this.playQueue(this._playingNameQueue, this._times, this._completeCb) : this._completeCb && this._completeCb(e.animation.name)) : (this._times--, 
0 != this._times ? this.play(this._playingName, this._times, this._completeCb) : this._completeCb && this._completeCb(e.animation.name)));
}, t.prototype.startFunc = function(e) {
this._startCb && this._startCb(e.animation.name);
}, t.prototype.frameEventFunc = function(e, t) {
this._frameEventMap[t.data.name] && this._frameEventMap[t.data.name](t.data.name);
}, t.prototype.setCompleteCb = function(e) {
this._completeCb = e;
}, t.prototype.setStartCb = function(e) {
this._startCb = e;
}, t.prototype.setFrameEventCb = function(e, t) {
e ? t ? this._frameEventMap[e] = t : delete this._frameEventMap[e] : this._frameEventMap = {};
}, t.prototype.setNewSkin = function(e) {
this.spine.setSkin(e);
}, t.prototype.play = function(e, t, o) {
void 0 === t && (t = 1), cc.isValid(this) && cc.isValid(this.node) && (this.spine.clearTracks(), 
this.spine.setToSetupPose(), this._playingName = e, this._loop = 0 == t, this._times = t, 
this._completeCb = o, this._playingNameQueue.length = 0, this.spine.setAnimation(0, this._playingName, this._loop));
}, t.prototype.playQueue = function(e, t, o) {
if (void 0 === t && (t = 1), cc.isValid(this) && cc.isValid(this.node) && 0 != e.length) if (this._completeCb = o, 
this.spine.clearTracks(), this.spine.setToSetupPose(), 1 == e.length) this.play(e[0], t); else {
this._loop = 0 == t, this._times = t, this._playingNameQueue = e.concat(), this.spine.setAnimation(0, e[0], !1);
for (var n = 1; n < e.length; n++) this.spine.addAnimation(0, e[n], !1);
}
}, t.prototype.loadNewSpine = function(e, t) {
var o = this;
cc.resources.load("catModel/" + e, sp.SkeletonData, function(e, n) {
o.spine.skeletonData = n, t();
});
}, t.prototype.loadSpine = function(e, t) {
var o = this;
cc.resources.load(e, sp.SkeletonData, function(e, n) {
o.spine.skeletonData = n, t();
});
}, t.prototype.clear = function() {
this._loop = !1, this._times = 0, this._playingName = "", this._playingNameQueue.length = 0, 
this.setCompleteCb(), this.setFrameEventCb(), this.spine.clearTracks();
}, t.prototype.onDestroy = function() {
this.clear();
}, a([ l({
type: sp.Skeleton,
tooltip: "spine动画节点"
}) ], t.prototype, "spine", void 0), a([ c ], t);
}(cc.Component);
r.default = u;
cc._RF.pop();
}, {} ],
"spline-node": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "54695rURQFKQ4TOtSSPaoKl", "spline-node");
var n = e, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
}), r.SplineNode = void 0;
var i = n("typed-event"), a = cc.Vec2, s = cc.Vec3, c = function() {
function e(e, t, o) {
this.position = s.ZERO.clone(), this.direction = new s(0, 1, 0), this.up = new s(0, 0, 1), 
this.scale = a.ONE.clone(), this.changed = new i.TypedEvent(), this.position.set(e), 
this.direction.set(t), o && (this.scale.x = o.x, this.scale.y = o.y);
}
return Object.defineProperty(e.prototype, "Position", {
get: function() {
return this.position;
},
set: function(e) {
this.position.equals(e) || (this.position.set(e), this.changed.emit(this));
},
enumerable: !1,
configurable: !0
}), Object.defineProperty(e.prototype, "Direction", {
get: function() {
return this.direction;
},
set: function(e) {
this.direction.equals(e) || (this.direction.set(e), this.changed.emit(this));
},
enumerable: !1,
configurable: !0
}), Object.defineProperty(e.prototype, "Up", {
get: function() {
return this.up;
},
set: function(e) {
this.up.equals(e) || (this.up.set(e), this.changed.emit(this));
},
enumerable: !1,
configurable: !0
}), Object.defineProperty(e.prototype, "Scale", {
get: function() {
return this.scale;
},
set: function(e) {
this.scale.equals(e) || (this.scale.set(e), this.changed.emit(this));
},
enumerable: !1,
configurable: !0
}), e;
}();
r.SplineNode = c;
cc._RF.pop();
}, {} ],
"spline-sprite": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7cb294g2cpBkqh5EBwwas6q", "spline-sprite");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
}), i.SplineSprite = i.SplineSpriteVert = void 0;
var c = r("spline"), l = r("spline-node"), u = r("snake-ctrl-point"), p = r("snake-sprite-assembler"), d = (cc.Sprite, 
cc.Node), f = (cc.Node.EventType, cc.assetManager), h = (cc.Color, cc._decorator), y = h.ccclass, m = h.property, g = h.menu;
i.SplineSpriteVert = function(e) {
this.vertices = e;
};
var b = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.showDebugInfo = !1, t.editMode = !1, t.mCtrlNodeRoot = null, t.mSplineDirty = !0, 
t.lockHeadAndTail = !0, t.mSpline = new c.Spline(), t.curveSampleList = new Array(), 
t.splineVerticesCache = null, t;
}
return a(t, e), Object.defineProperty(t.prototype, "ShowDebugInfo", {
get: function() {
return this.showDebugInfo;
},
enumerable: !1,
configurable: !0
}), t.prototype.setSplineDirty = function() {
this.mSplineDirty = !0;
}, t.prototype.onLoad = function() {
var t;
null === (t = e.prototype.onLoad) || void 0 === t || t.call(this), this.initRootCtrlNode(), 
this.setSplineDirty(), this.mCtrlNodeRoot.active = !1;
}, t.prototype.start = function() {
var t;
null === (t = e.prototype.start) || void 0 === t || t.call(this);
}, t.prototype.onEnable = function() {
e.prototype.onEnable.call(this);
}, t.prototype.setCtrlPosList = function(e) {
if (this.spriteFrame) {
try {
this.mCtrlNodeRoot && this.mCtrlNodeRoot.isValid && (this.mCtrlNodeRoot.removeAllChildren(), 
this.mSpline.RemoveAllNode());
} catch (e) {
cc.warn("setCtrlPosList err", e);
}
try {
for (var t = 0; t < e.length; t++) {
var o = e[t], n = this.addBigCtrlNode(o), r = 0 == t || t == e.length - 1;
this.updateBigCtrlNode(n, r);
}
} catch (e) {
cc.warn(e);
}
this.updateSpline();
}
}, t.prototype.getCtrlPosList = function() {
var e, t = [];
if (!this.mCtrlNodeRoot) return t;
for (e in this.mCtrlNodeRoot.children) {
var o = this.mCtrlNodeRoot.children[e], n = o.children[0];
t.push({
p: {
x: o.position.x,
y: o.position.y
},
t: {
x: n.position.x,
y: n.position.y
}
});
}
return t;
}, t.prototype.getHeadDirection = function() {
if (this.mCtrlNodeRoot && 0 < this.mCtrlNodeRoot.children.length) {
var e = this.mCtrlNodeRoot.children[0].children[0];
return cc.v2(e.position.normalize());
}
return cc.v2();
}, t.prototype.lockHeadAndTailCtrlNode = function(e) {
this.lockHeadAndTail = e;
}, t.prototype.setEditMode = function(e) {
if (this.editMode = e, this.mCtrlNodeRoot.active = e) for (var t = this.mCtrlNodeRoot.children.length, o = 0; o < t; o++) {
var n = this.mCtrlNodeRoot.children[o], r = this.lockHeadAndTail && (0 == o || o == t - 1);
this.updateBigCtrlNode(n, r);
}
this.setVertsDirty();
}, t.prototype.getCurvePoints = function() {
return this.mSpline.GetCurves(), [];
}, t.prototype.updateCtrlNodeData = function(e, t) {
this.mCtrlNodeRoot ? this.mCtrlNodeRoot.children.length <= e || (e = this.mCtrlNodeRoot.children[e]) && (e.setPosition(t.p), 
(e = e.children[0]) && e.setPosition(t.t)) : cc.warn("根控制节点还没有创建完成");
}, t.prototype.updateBigCtrlNode = function(e, t) {
void 0 === t && (t = !1), e && (0 == t && this.setNodeCtrl(e), t = (t = e.children[0]) || this.addTangentNode(e, cc.v2(0, 100)), 
this.setNodeCtrl(t));
}, t.prototype._resetAssembler = function() {
this.setVertsDirty(), this._assembler = new p.SplineSpriteAssembler(), this._assembler.init(this);
}, t.prototype.calcDirection = function(e) {
if (e.children.length <= 0) return cc.v3(10, -10, 0);
var t = e.position;
e = e.children[0].position;
return cc.Vec3.add(cc.v3(), t, e);
}, t.prototype.updateSpline = function() {
try {
var e = this.mCtrlNodeRoot.children;
if (!e || 0 == e.length) return;
if (e.length < 2) return;
if (this.mSpline.reset(), 0 < e.length) for (var t = 0; t < e.length; t++) this.mSpline.AddNode(this.newCtrlByNode(e[t]));
this.setVertsDirty();
} catch (e) {
cc.log("update spline err:", e);
}
}, t.prototype.newCtrlByNode = function(e) {
return new l.SplineNode(e.position, this.calcDirection(e), cc.v2(e.scale, e.scale));
}, t.prototype.addBigCtrlNode = function(e) {
var t = this.addCtrlNode(e.p);
return this.addTangentNode(t, e.t), t;
}, t.prototype.addCtrlNode = function(e, t) {
void 0 === t && (t = !0);
var o = new d("__ctrl-node__");
return o.setParent(this.mCtrlNodeRoot), o.setPosition(e), t && this.addCtrlHandleImg(o, 20), 
o;
}, t.prototype.addTangentNode = function(e, t) {
var o = e.getChildByName("__tangent-node__");
return o || (o = new d("__tangent-node__")).setParent(e), o.setPosition(t), this.addCtrlHandleImg(o, 12, cc.Color.RED), 
o;
}, t.prototype.initRootCtrlNode = function() {
this.mCtrlNodeRoot || (this.mCtrlNodeRoot = this.node.getChildByName("__ctrl-nodes-root__"), 
this.mCtrlNodeRoot || (this.mCtrlNodeRoot = new d("__ctrl-nodes-root__"), this.mCtrlNodeRoot.parent = this.node, 
this.mCtrlNodeRoot.setPosition(0, 0)));
var e = this.mCtrlNodeRoot.children.length;
if (e < 2) for (var t = 2 - e, o = 0; o < t; o++) this.addCtrlNode(cc.v2(0, -100 * o));
}, t.prototype.addCtrlHandleImg = function(e, t, o) {
void 0 === t && (t = 10), void 0 === o && (o = cc.Color.WHITE);
var n = e.addComponent(cc.Sprite);
f.loadAny({
uuid: "e7aba14b-f956-4480-b254-8d57832e273f"
}, function(e, r) {
n.spriteFrame = r, n.node && n.node.isValid && (n.node.color = o, n.node.setContentSize(t, t));
}), e.setContentSize(t, t);
}, t.prototype.setNodeCtrl = function(e) {
e && (e.getComponent(u.default) ? this.setVertsDirty() : e.addComponent(u.default));
}, t.prototype.ensureControlChildNode = function() {}, s([ m({
editorOnly: !0,
tooltip: "是否显示调试信息, 只在编辑器中有效"
}) ], t.prototype, "showDebugInfo", void 0), s([ m({
tooltip: "是否为编辑模式"
}) ], t.prototype, "editMode", void 0), s([ y(), g("2D/SnakeSprite") ], t);
}(cc.Sprite);
i.SplineSprite = b;
cc._RF.pop();
}, {} ],
spline: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "100b90Z0nZEjY59xqkwsOb4", "spline");
var n = e, r = o;
Object.defineProperty(r, "__esModule", {
value: !0
}), r.Spline = r.ListChangeType = void 0;
var i = n("cubic-bezier-curve"), a = n("typed-event"), s = cc.Vec3, c = r.ListChangeType || (r.ListChangeType = {});
c[c.clear = 0] = "clear";
var l = function(e, t) {
this.newItems = e, this.insertIndex = t;
}, u = function(e, t) {
this.removedItems = e, this.removeIndex = t;
}, p = function(e) {
this.newItems = e;
}, d = function() {
function e() {
var e = this;
this.nodes = [], this.curves = [], this._length = 0, this.isLoop = !1, this.NodeListChanged = new a.TypedEvent(), 
this.CurveChanged = new a.TypedEvent(), this.UpdateAfterCurveChanged = function() {
for (var t = e._length = 0, o = e.curves; t < o.length; t++) {
var n = o[t];
e._length += n.Length;
}
e.CurveChanged.emit(e);
}, this.start = null, this.end = null, this.StartNodeChanged = function() {
var t = e.end, o = e.start;
t.changed.off(e.EndNodeChanged), t.Position = o.Position, t.Direction = o.Direction, 
t.Scale = o.Scale, t.Up = o.Up, t.changed.on(e.EndNodeChanged);
}, this.EndNodeChanged = function() {
var t = e.start, o = e.end;
t.changed.off(e.StartNodeChanged), t.Position = o.Position, t.Direction = o.Direction, 
t.Scale = o.Scale, t.Up = o.Up, t.changed.on(e.StartNodeChanged);
};
}
return e.prototype.GetCurves = function() {
return this.curves;
}, Object.defineProperty(e.prototype, "Length", {
get: function() {
return this._length;
},
enumerable: !1,
configurable: !0
}), Object.defineProperty(e.prototype, "IsLoop", {
get: function() {
return this.isLoop;
},
enumerable: !1,
configurable: !0
}), e.prototype.reset = function() {
this.nodes.length = 0, this.curves.length = 0, this.RaiseNodeListChanged(c.clear), 
this.UpdateAfterCurveChanged();
}, e.prototype.RaiseNodeListChanged = function(e) {
this.NodeListChanged.emit(e);
}, e.prototype.GetSample = function(e) {
var t = this.GetNodeIndexForTime(e);
return this.curves[t].GetSample(e - t);
}, e.prototype.getAllCurveSampleCount = function() {
for (var e = 0, t = 0, o = this.curves; t < o.length; t++) e += o[t].samples.length;
return e;
}, e.prototype.foreachSamples = function(e) {
for (var t = 0, o = 0, n = this.curves; o < n.length; o++) {
for (var r = n[o], i = t; i < r.samples.length; ++i) e(r.samples[i]);
t = 1;
}
}, e.prototype.GetCurve = function(e) {
return this.curves[this.GetNodeIndexForTime(e)];
}, e.prototype.GetNodeIndexForTime = function(e) {
if (e < 0 || 1 < e) throw new Error("Time must be between 0 and 1. Given time was " + e);
return Math.floor(e * (this.curves.length - 1));
}, e.prototype.RefreshCurves = function() {
for (var e = this.curves.length = 0; e < this.nodes.length - 1; ++e) {
var t = this.nodes[e], o = this.nodes[e + 1];
(o = new i.CubicBezierCurve(t, o)).Changed.on(this.UpdateAfterCurveChanged), this.curves.push(o);
}
this.RaiseNodeListChanged(c.clear), this.UpdateAfterCurveChanged();
}, e.prototype.GetSampleAtDistance = function(e) {
if (e < 0 || e > this.Length) throw new Error("Distance must be between 0 and spline length (" + this._length + "). Given distance was " + e);
for (var t = 0, o = this.curves; t < o.length; t++) {
var n = o[t], r = n.Length;
if (!(r < (e = r < e && e < r + 1e-4 ? r : e))) return n.GetSampleAtDistance(e);
e -= r;
}
throw new Error("Something went wrong with GetSampleAtDistance.");
}, e.prototype.AddNode = function(e) {
var t;
this.nodes.push(e), 1 !== this.nodes.length && (t = this.nodes[this.nodes.length - 2], 
(t = new i.CubicBezierCurve(t, e)).Changed.on(this.UpdateAfterCurveChanged), this.curves.push(t)), 
this.RaiseNodeListChanged(new p(new Array(e))), this.UpdateAfterCurveChanged(), 
this.updateLoopBinding();
}, e.prototype.InsertNode = function(e, t) {
if (0 === e) throw new Error("Can't insert a node at index 0.");
var o = this.nodes[e];
this.nodes.splice(e, 0, t), this.curves[e - 1].ConnectEnd(t);
(o = new i.CubicBezierCurve(t, o)).Changed.on(this.UpdateAfterCurveChanged), this.curves.splice(e, 0, o), 
this.RaiseNodeListChanged(new l([ t ], e)), this.UpdateAfterCurveChanged(), this.updateLoopBinding();
}, e.prototype.RemoveAllNode = function() {
for (var e = 0; e < this.nodes.length; e++) {
if (e < 2) return;
var t = this.nodes[e];
this.RemoveNode(t);
}
}, e.prototype.RemoveNode = function(e) {
var t = this.nodes, o = t.indexOf(e);
if (t.length <= 2) throw new Error("Can't remove the node because a spline needs at least 2 nodes.");
var n, r = this.curves;
0 !== o && o !== t.length - 1 && (n = t[o + 1], r[o - 1].ConnectEnd(n)), t.splice(o, 1);
r[t = o === t.length - 1 ? o - 1 : o].Changed.off(this.UpdateAfterCurveChanged), 
r.splice(t, 1), this.RaiseNodeListChanged(new u([ e ], o)), this.UpdateAfterCurveChanged(), 
this.updateLoopBinding();
}, e.prototype.updateLoopBinding = function() {
null !== this.start && this.start.changed.off(this.StartNodeChanged), null !== this.end && this.end.changed.off(this.EndNodeChanged), 
this.isLoop ? (this.start = this.nodes[0], this.end = this.nodes[this.nodes.length - 1], 
this.start.changed.on(this.StartNodeChanged), this.end.changed.on(this.EndNodeChanged), 
this.StartNodeChanged()) : (this.start = null, this.end = null);
}, e.prototype.GetProjectionSample = function(e) {
for (var t = null, o = 34028235e31, n = 0, r = this.curves; n < r.length; n++) {
var i = r[n], a = i.GetProjectionSample(e);
i !== this.curves[0] ? (i = s.squaredDistance(null == a ? void 0 : a.location, e)) < o && (o = i, 
t = a) : o = s.squaredDistance(null == (t = a) ? void 0 : a.location, e);
}
return t;
}, e;
}();
r.Spline = d;
cc._RF.pop();
}, {} ],
"split-on-first": [ function(e, t) {
"use strict";
cc._RF.push(t, "876c4U9w85K26or2ICJIlnE", "split-on-first");
cc._RF.pop();
}, {} ],
sprintRewardBar: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b08b76DWJJK55Of1nkBDZNg", "sprintRewardBar");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("gd_language"), l = r("i18n"), u = r("CcJsFunc"), p = r("dataTs"), d = r("audio"), f = r("spine"), h = r("GameManager"), y = cc._decorator, m = y.ccclass, g = y.property, b = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.maskNode = null, t.spineBox = null, t.bgCoin = null, t.bgCoinLabel = null, 
t.bgProp = null, t.bgPropLabel = null, t.reveiceBtn = null, t.reveiceBtnLabel = null, 
t.spineProgress = null, t.particleNode = null, t.labelNode = null, t.lastLabel = null, 
t.callback = null, t;
}
return a(t, e), t.prototype.start = function() {
u.default.addbtnTouchStartScale(this.reveiceBtn), u.default.addbtnTouchEndScale(this.reveiceBtn, this.reveiceBtnFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.reveiceBtn), this.reveiceBtnLabel.string = l.default.instance.trans(c.GDLanguage.pop_claim);
}, t.prototype.reveiceBtnFunc = function() {
this.node.active = !1, 3 <= p.default.getSprintRewardData().rewardProgress && this.callback && this.callback();
}, t.prototype.showProgress = function(e) {
var t = this;
this.spineBox.active = !1, this.bgCoin.active = !1, this.bgProp.active = !1, this.reveiceBtn.active = !1, 
this.node.active = !0, this.maskNode.opacity = 0, this.maskNode.active = !0, this.callback = e, 
t.spineProgress.active = !1, t.particleNode.active = !1, console.log("冲刺奖励 = " + JSON.stringify(p.default.getSprintRewardData()));
var o, n, r = p.default.getSprintRewardData(), i = r.rewardProgress, a = r.winBox, s = r.winNum;
i <= 0 && (i = 1), 3 <= p.default.getSprintRewardData().rewardProgress && (o = 12, 
1 < (n = 5 < a ? 5 : a) && (o += 11 * (n - 1)), (e = p.default.getUserData()).coin += o, 
(r = p.default.gameConfigData.baseConfigData.rewardBox[Math.floor(3 * Math.random())]) && 2 <= r.length && (console.log(JSON.stringify(r)), 
n = "rewardIcon/" + r[1].propType + ".png", u.default.changeSpriteFrame(this.bgProp, n), 
"prop_remove" == r[1].propType ? (e.prop_remove++, e.prop_remove) : "prop_cancel" == r[1].propType ? (e.prop_cancel++, 
e.prop_cancel) : "prop_random" == r[1].propType && (e.prop_random++, e.prop_random)), 
p.default.saveUserData(e), this.bgCoinLabel.string = "x" + o);
var c = 3 * (s <= 3 ? 0 : a);
3 <= i && 0 < a && (c = 3 * (a - 1));
var l, d = this.labelNode.children;
for (l in d) c += 1, d[l].getComponent(cc.Label).string = c + "", l < i ? (d[l].active = !1, 
Number(l) == i - 1 && (d[l].active = !0, t.lastLabel = d[l])) : d[l].active = !0;
cc.tween(this.spineProgress).to(0, {
opacity: 0
}).call(function() {
t.spineProgress.active = !0, t.playSpineProgress();
}).to(1, {
opacity: 255
}).call(function() {}).start();
}, t.prototype.playSpineProgress = function() {
console.log("playSpineProgress ###### ");
var e = this, t = p.default.getSprintRewardData(), o = (t.winBox, t.rewardProgress), n = this.getSpineName();
console.log("spineName = " + n), this.spineProgress.getComponent(f.default).setFrameEventCb("NoShow1", function(t) {
console.log("NoShow1 = " + t), e.lastLabel.active = !1, o < 3 && e.playBoxAnim();
}), this.spineProgress.getComponent(f.default).setFrameEventCb("Open2", function(t) {
console.log("Open2 = " + t), e.particleNode.active = !0, e.particleNode.getComponent(cc.ParticleSystem).resetSystem(), 
e.particleNode.getChildByName("Star0").getComponent(cc.ParticleSystem).resetSystem(), 
e.particleNode.getChildByName("Star1").getComponent(cc.ParticleSystem).resetSystem();
}), this.spineProgress.getComponent(f.default).play(n, 1, function() {
n += "_1", console.log("待机 " + n), 3 <= o && e.playBoxAnim(), e.spineProgress.getComponent(f.default).play(n, 0, function() {});
});
}, t.prototype.getSpineName = function() {
var e, t = 5 <= (t = (t = (e = p.default.getSprintRewardData()).winBox) <= 0 ? 1 : t + 1) ? 5 : t;
return 3 <= (e = e.rewardProgress) && 1 < t && t < 5 && --t, 0 == e ? "3RichRoad0_0" : "3RichRoad" + t + "_" + (e <= 0 ? 1 : 3 <= e ? 3 : e);
}, t.prototype.playBoxAnim = function() {
h.default.getInstance().sprintMark = !0;
var e = this;
if (p.default.getSprintRewardData().rewardProgress < 3) return this.maskNode.active = !1, 
void (this.callback && this.callback());
this.maskNode.opacity = 220, e.spineBox.active = !0, this.spineBox.getComponent(f.default).setFrameEventCb("Open1", function() {
d.default.playAudioMusic("audio/sound/Open1.mp3", !1);
}), this.spineBox.getComponent(f.default).setFrameEventCb("Eff_Sheen1", function() {
e.bgCoin.active = !0, e.bgProp.active = !0;
}), this.spineBox.getComponent(f.default).play("Ref1_Open4", 1, function() {
e.reveiceBtn.active = !0, cc.tween(e.reveiceBtn).to(.1, {
scale: 1.3
}).to(.1, {
scale: 1
}).start();
});
}, s([ g(cc.Node) ], t.prototype, "maskNode", void 0), s([ g(cc.Node) ], t.prototype, "spineBox", void 0), 
s([ g(cc.Node) ], t.prototype, "bgCoin", void 0), s([ g(cc.Label) ], t.prototype, "bgCoinLabel", void 0), 
s([ g(cc.Node) ], t.prototype, "bgProp", void 0), s([ g(cc.Label) ], t.prototype, "bgPropLabel", void 0), 
s([ g(cc.Node) ], t.prototype, "reveiceBtn", void 0), s([ g(cc.Label) ], t.prototype, "reveiceBtnLabel", void 0), 
s([ g(cc.Node) ], t.prototype, "spineProgress", void 0), s([ g(cc.Node) ], t.prototype, "particleNode", void 0), 
s([ g(cc.Node) ], t.prototype, "labelNode", void 0), s([ m ], t);
}(cc.Component);
i.default = b;
cc._RF.pop();
}, {} ],
sprintRewardPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "28f4dgUbolNKYJgMwFcV4Es", "sprintRewardPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("gd_language"), l = r("i18n"), u = r("CcJsFunc"), p = r("dataTs"), d = r("enumConfig"), f = r("spine"), h = r("util"), y = r("GameManager"), m = cc._decorator, g = m.ccclass, b = m.property, v = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.popNode = null, t.closeBtn = null, t.titleLabel = null, t.spineNode = null, 
t.timeSpineNode = null, t.descLabel = null, t.playBtn = null, t.timeLabel = null, 
t.exitBtn = null, t.resetBtn = null, t.mainBtn = null, t.playLabel = null, t.exitLabel = null, 
t.restartLabel = null, t.mainLabel = null, t.firstLabel = null, t.secondLabel = null, 
t.threeLabel = null, t.particleNode = null, t.showPopData = null, t.updateTime = 0, 
t;
}
return a(t, e), t.prototype.update = function(e) {
this.updateTime += e, 1 <= this.updateTime && (--this.updateTime, this.updateTimeNum());
}, t.prototype.updateTimeNum = function() {
var e = p.default.updateSprintRewardTime();
0 == e ? (console.log("已满"), this.timeLabel.string = "End") : 0 < (e = h.default.formatTime(e))[0] ? this.timeLabel.string = e[0] + "d" + e[1] + "h" : 0 < e[1] ? this.timeLabel.string = e[1] + "h" + e[2] + "m" : (0 < e[2] || 0 < e[3]) && (this.timeLabel.string = e[2] + "m" + e[3] + "s");
}, t.prototype.start = function() {
u.default.addbtnTouchStartScale(this.closeBtn), u.default.addbtnTouchEndScale(this.closeBtn, this.closeBtnFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.closeBtn), u.default.addbtnTouchStartScale(this.playBtn), 
u.default.addbtnTouchEndScale(this.playBtn, this.playBtnFunc.bind(this)), u.default.addbtnTouchCancelScale(this.playBtn), 
u.default.addbtnTouchStartScale(this.exitBtn), u.default.addbtnTouchEndScale(this.exitBtn, this.exitBtnFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.exitBtn), u.default.addbtnTouchStartScale(this.resetBtn), 
u.default.addbtnTouchEndScale(this.resetBtn, this.resetBtnFunc.bind(this)), u.default.addbtnTouchCancelScale(this.resetBtn), 
u.default.addbtnTouchStartScale(this.mainBtn), u.default.addbtnTouchEndScale(this.mainBtn, this.mainBtnFunc.bind(this)), 
u.default.addbtnTouchCancelScale(this.mainBtn), this.updateTimeNum(), this.setupFonts();
}, t.prototype.setupFonts = function() {
this.playLabel.string = l.default.instance.trans(c.GDLanguage.daily_start), this.restartLabel.string = l.default.instance.trans(c.GDLanguage.pop_restart), 
this.exitLabel.string = l.default.instance.trans(c.GDLanguage.pop_quit), this.mainLabel.string = l.default.instance.trans(c.GDLanguage.main_screen);
}, t.prototype.resetBtnFunc = function() {
this.node.active = !1, this.exitBtnFunc();
}, t.prototype.mainBtnFunc = function() {
this.exitBtnFunc();
}, t.prototype.exitBtnFunc = function() {
this.node.active = !1, cc.game.emit("blowupHeartAnim", 1);
}, t.prototype.closeBtnFunc = function() {
this.node.active = !1, cc.game.emit("blowupHeartAnim", 0);
}, t.prototype.playBtnFunc = function() {
console.log("去玩游戏"), this.node.active = !1;
}, t.prototype.showPop = function(e) {
var t = this;
this.node.active = !0, this.firstLabel.node.scale = 1, this.secondLabel.node.scale = 1, 
this.showPopData = e, this.playBtn.active = !1, this.mainBtn.active = !1, this.exitBtn.active = !1, 
this.resetBtn.active = !1;
var o = this.node.getChildByName("mask");
o.opacity = 0, cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), this.titleLabel.string = l.default.instance.trans(c.GDLanguage.level_1, p.default.getUserData().playLevelId), 
this.timeSpineNode.getComponent(f.default).play("5Clock1", 0);
var n = p.default.getSprintRewardData();
console.log("冲刺奖励 = " + JSON.stringify(n));
e = n.winBox;
var r = n.rewardProgress;
n = 3 * e;
3 <= r && 0 < e ? (this.firstLabel.string = 2 + (n = 3 * (e - 1)) + "", this.secondLabel.string = n + 3 + "", 
this.threeLabel.string = n + 4 + "") : (this.firstLabel.string = n + 1 + "", this.secondLabel.string = n + 2 + "", 
this.threeLabel.string = n + 3 + ""), this.firstLabel.node.active = !0, this.secondLabel.node.active = !0, 
this.threeLabel.node.active = !0, 1 == r || 2 != r && 3 != r || (t.firstLabel.node.active = !1);
e = {
spineName: "2RichRoad0_0",
standBy: !0
}, e = r <= 0 ? this.getSpineNameWithStaydBy(!0) : this.getSpineNameWithStaydBy(!y.default.getInstance().sprintMark), 
n = l.default.instance.trans(c.GDLanguage.streak_award);
0 == this.showPopData.popType ? (this.popNode.height = 600, this.playBtn.active = !0, 
o.opacity = 178) : 1 == this.showPopData.popType ? (this.popNode.height = 600, this.exitBtn.active = !0, 
e = this.getSpineNameWithStaydBy(!0), n = l.default.instance.trans(c.GDLanguage.streak_lose)) : 2 == this.showPopData.popType && (this.popNode.height = 700, 
this.resetBtn.active = !0, this.mainBtn.active = !0, e = this.getSpineNameWithStaydBy(!0), 
n = l.default.instance.trans(c.GDLanguage.streak_lose)), this.descLabel.string = n, 
this.spineNode.getComponent(f.default).setFrameEventCb("NoShow1", function(e) {
console.log("NoShow1 = " + e), t.updateProgressLabel(r);
}), this.spineNode.getComponent(f.default).setFrameEventCb("Open2", function(e) {
console.log("Open2 = " + e), t.particleNode.getComponent(cc.ParticleSystem).resetSystem(), 
t.particleNode.getChildByName("Star0").getComponent(cc.ParticleSystem).resetSystem(), 
t.particleNode.getChildByName("Star1").getComponent(cc.ParticleSystem).resetSystem();
});
var i = e.spineName;
e = e.standBy;
console.log("spineDict", i, e), e ? (t.updateProgressLabel(r), this.spineNode.getComponent(f.default).play(i, 0, function() {})) : this.spineNode.getComponent(f.default).play(i, 1, function() {
i += "_1", console.log("待机 " + i), t.spineNode.getComponent(f.default).play(i, 0, function() {});
}), y.default.getInstance().sprintMark = !1, 0 == this.showPopData.popType && cc.game.emit(d.EMITKEY.MAINUPDATEUI);
}, t.prototype.updateProgressLabel = function(e) {
1 == e ? this.firstLabel.node.active = !1 : 2 != e && 3 != e || (this.secondLabel.node.active = !1);
}, t.prototype.getSpineNameWithStaydBy = function(e) {
var t = (n = p.default.getSprintRewardData()).winBox, o = n.rewardProgress, n = 5 <= (n = t <= 0 ? 1 : t + 1) ? 5 : n;
3 <= o && 1 < n && n <= 5 && --n;
t = o <= 0 ? 1 : 3 <= o ? 3 : o;
return {
spineName: 0 == o ? "2RichRoad0_0" : "2RichRoad" + n + "_" + (e ? t + "_1" : t),
standBy: e
};
}, s([ b(cc.Node) ], t.prototype, "popNode", void 0), s([ b(cc.Node) ], t.prototype, "closeBtn", void 0), 
s([ b(cc.Label) ], t.prototype, "titleLabel", void 0), s([ b(cc.Node) ], t.prototype, "spineNode", void 0), 
s([ b(cc.Node) ], t.prototype, "timeSpineNode", void 0), s([ b(cc.Label) ], t.prototype, "descLabel", void 0), 
s([ b(cc.Node) ], t.prototype, "playBtn", void 0), s([ b(cc.Label) ], t.prototype, "timeLabel", void 0), 
s([ b(cc.Node) ], t.prototype, "exitBtn", void 0), s([ b(cc.Node) ], t.prototype, "resetBtn", void 0), 
s([ b(cc.Node) ], t.prototype, "mainBtn", void 0), s([ b(cc.Label) ], t.prototype, "playLabel", void 0), 
s([ b(cc.Label) ], t.prototype, "exitLabel", void 0), s([ b(cc.Label) ], t.prototype, "restartLabel", void 0), 
s([ b(cc.Label) ], t.prototype, "mainLabel", void 0), s([ b(cc.Label) ], t.prototype, "firstLabel", void 0), 
s([ b(cc.Label) ], t.prototype, "secondLabel", void 0), s([ b(cc.Label) ], t.prototype, "threeLabel", void 0), 
s([ b(cc.Node) ], t.prototype, "particleNode", void 0), s([ g ], t);
}(cc.Component);
i.default = v;
cc._RF.pop();
}, {} ],
stagePop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "7537cBSDCRLP5ZtoGd5R7fy", "stagePop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("spine"), u = r("util"), p = r("DateManager"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mask = null, t.popNode = null, t.closeBtn = null, t.titleLabel = null, 
t.spNode = null, t.headerNode = null, t.manNode = null, t.womanNode = null, t.userName = null, 
t.userAddress = null, t.topTimeLabel = null, t.lTimeLabel = null, t.timeLabel = null, 
t.rTimeLabel = null, t.noKingNode = null, t.showPopData = null, t;
}
return a(t, e), t.prototype.start = function() {
c.default.addbtnTouchEndScale(this.mask, this.closeBtnFunc.bind(this)), c.default.addbtnTouchStartScale(this.closeBtn), 
c.default.addbtnTouchEndScale(this.closeBtn, this.closeBtnFunc.bind(this)), c.default.addbtnTouchCancelScale(this.closeBtn);
}, t.prototype.closeBtnFunc = function() {
this.node.active = !1;
}, t.prototype.showPop = function(e) {
var t = this;
this.node.active = !0;
var o = (this.showPopData = e).idx;
cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start();
try {
var n, r = "", i = "", a = "", s = "", c = (e = "", ""), u = "default";
1 == o ? (r = "全国领头羊", a = "于昨日", s = "首个通关", e = "sheep/Alpaca01", c = "animation") : 2 == o ? (r = "最强王者", 
i = "于昨日在不使用道具和复活的情", a = "况下仅用", s = "通关", e = "sheep/DJ1", c = "Jump2", u = "00") : 3 == o && (r = "秋名山羊神", 
a = "于昨日仅用", s = "通关", e = "sheep/Alpaca02", c = "animation"), this.spNode.getComponent(l.default).loadSpine(e, function() {
t.spNode.getComponent(l.default).setNewSkin(u), t.spNode.getComponent(l.default).play(c, 0);
}), this.titleLabel.string = r, this.topTimeLabel.string = i, this.lTimeLabel.string = a, 
this.rTimeLabel.string = s;
a = this.showPopData.stageInfo;
1 == o && a.firstWin && a.firstWin.nick_name && a.firstWin.nick_name.length && (console.log(JSON.stringify(a.firstWin)), 
n = this.getTimeDate(a.firstWin.ts), s = p.default.getInstance().formatTs(a.firstWin.ts), 
this.timeLabel.string = s[3] + ":" + s[4] + ":" + s[5], this.updateInfo(a.firstWin)), 
this.noKingNode.active = !1, 2 == o && a.iqWin && a.iqWin.nick_name && a.iqWin.nick_name.length ? (console.log(JSON.stringify(a.iqWin)), 
n = this.getTimeDate(a.iqWin.time), this.timeLabel.string = n[1] + "分" + n[2] + "秒", 
this.updateInfo(a.iqWin)) : 2 == o && (this.noKingNode.active = !0, this.titleLabel.string = "最强王者", 
console.log("最强王者")), 3 == o && a.timeWin && a.timeWin.nick_name && a.timeWin.nick_name.length && (console.log(JSON.stringify(a.timeWin)), 
n = this.getTimeDate(a.timeWin.time), this.timeLabel.string = n[1] + "分" + n[2] + "秒", 
this.updateInfo(a.timeWin));
} catch (e) {
console.log("error:", JSON.stringify(e));
}
}, t.prototype.updateInfo = function(e) {
c.default.setAvatar(this.headerNode, e.avatar), this.userName.getComponent(cc.Label).string = e.nick_name, 
this.userAddress.getComponent(cc.Label).string = e.city, 0 == e.gender ? this.manNode.active = !0 : this.manNode.active = !1;
}, t.prototype.getTimeDate = function(e) {
return [ (e = u.default.countdownTime(e))[0] < 10 ? "0" + e[0] : e[0] + "", e[1] < 10 ? "0" + e[1] : e[1] + "", e[2] < 10 ? "0" + e[2] : e[2] + "" ];
}, s([ h(cc.Node) ], t.prototype, "mask", void 0), s([ h(cc.Node) ], t.prototype, "popNode", void 0), 
s([ h(cc.Node) ], t.prototype, "closeBtn", void 0), s([ h(cc.Label) ], t.prototype, "titleLabel", void 0), 
s([ h(cc.Node) ], t.prototype, "spNode", void 0), s([ h(cc.Node) ], t.prototype, "headerNode", void 0), 
s([ h(cc.Node) ], t.prototype, "manNode", void 0), s([ h(cc.Node) ], t.prototype, "womanNode", void 0), 
s([ h(cc.Label) ], t.prototype, "userName", void 0), s([ h(cc.Label) ], t.prototype, "userAddress", void 0), 
s([ h(cc.Label) ], t.prototype, "topTimeLabel", void 0), s([ h(cc.Label) ], t.prototype, "lTimeLabel", void 0), 
s([ h(cc.Label) ], t.prototype, "timeLabel", void 0), s([ h(cc.Label) ], t.prototype, "rTimeLabel", void 0), 
s([ h({
type: cc.Node,
tooltip: "最强王者"
}) ], t.prototype, "noKingNode", void 0), s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
"str-utils": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "622d8ysQvVFXaRZmKMfNXEC", "str-utils");
var n = o;
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = function() {
function e() {}
return e.formatStr = function(e) {
for (var t = [], o = 1; o < arguments.length; o++) t[o - 1] = arguments[o];
if (t && 0 < t.length) for (var n = 0; n < t.length; n++) {
var r = new RegExp("\\{" + n + "\\}", "g");
e = e.replace(r, String(t[n]));
}
return e;
}, e.trim = function(e) {
return e && 0 != e.length ? e.replace(/^\s+/, "").replace(/\s+$/, "") : "";
}, e;
}();
n.default = r;
cc._RF.pop();
}, {} ],
"strict-uri-encode": [ function(e, t) {
"use strict";
cc._RF.push(t, "5452b957fpC0pylDRAl74a7", "strict-uri-encode");
cc._RF.pop();
}, {} ],
"thinkingdata.mg.cocoscreator.min": [ function(e, t) {
"use strict";
cc._RF.push(t, "a0a6ahsQR5GbrwuSTQ1Rjj5", "thinkingdata.mg.cocoscreator.min");
function o(e) {
return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
})(e);
}
function n(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function r(e, t) {
for (var o = 0; o < t.length; o++) {
var n = t[o];
n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), 
Object.defineProperty(e, n.key, n);
}
}
function i(e, t, o) {
return t && r(e.prototype, t), o && r(e, o), e;
}
var a = {}, s = Array.prototype, c = Object.prototype, l = s.slice, u = c.toString, p = Object.prototype.hasOwnProperty, d = s.forEach, f = Array.isArray, h = {};
a.each = function(e, t, o) {
if (null == e) return !1;
if (d && e.forEach === d) e.forEach(t, o); else if (e.length === +e.length) {
for (var n = 0, r = e.length; n < r; n++) if (n in e && t.call(o, e[n], n, e) === h) return !1;
} else for (var i in e) if (p.call(e, i) && t.call(o, e[i], i, e) === h) return !1;
}, a.extend = function(e) {
return a.each(l.call(arguments, 1), function(t) {
for (var o in t) void 0 !== t[o] && (e[o] = t[o]);
}), e;
}, a.extend2Layers = function(e) {
return a.each(l.call(arguments, 1), function(t) {
for (var o in t) void 0 !== t[o] && (a.isObject(t[o]) && a.isObject(e[o]) ? a.extend(e[o], t[o]) : e[o] = t[o]);
}), e;
}, a.isArray = f || function(e) {
return "[object Array]" === u.call(e);
}, a.isFunction = function(e) {
try {
return "function" == typeof e;
} catch (e) {
return !1;
}
}, a.isPromise = function(e) {
return "[object Promise]" === u.call(e) && null != e;
}, a.isObject = function(e) {
return "[object Object]" === u.call(e) && null != e;
}, a.isEmptyObject = function(e) {
if (a.isObject(e)) {
for (var t in e) if (p.call(e, t)) return !1;
return !0;
}
return !1;
}, a.isUndefined = function(e) {
return void 0 === e;
}, a.isString = function(e) {
return "[object String]" === u.call(e);
}, a.isDate = function(e) {
return "[object Date]" === u.call(e);
}, a.isBoolean = function(e) {
return "[object Boolean]" === u.call(e);
}, a.isNumber = function(e) {
return "[object Number]" === u.call(e) && /[\d\.]+/.test(String(e));
}, a.isJSONString = function(e) {
try {
JSON.parse(e);
} catch (e) {
return !1;
}
return !0;
}, a.decodeURIComponent = function(e) {
var t = "";
try {
t = decodeURIComponent(e);
} catch (o) {
t = e;
}
return t;
}, a.encodeURIComponent = function(e) {
var t = "";
try {
t = encodeURIComponent(e);
} catch (o) {
t = e;
}
return t;
}, a.utf8Encode = function(e) {
for (var t, o = "", n = t = 0, r = (e = (e + "").replace(/\r\n/g, "\n").replace(/\r/g, "\n")).length, i = 0; i < r; i++) {
var a = e.charCodeAt(i), s = null;
a < 128 ? t++ : s = 127 < a && a < 2048 ? String.fromCharCode(a >> 6 | 192, 63 & a | 128) : String.fromCharCode(a >> 12 | 224, a >> 6 & 63 | 128, 63 & a | 128), 
null !== s && (n < t && (o += e.substring(n, t)), o += s, n = t = i + 1);
}
return n < t && (o += e.substring(n, e.length)), o;
}, a.base64Encode = function(e) {
var t, o, n, r, i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", s = 0, c = 0, l = "", u = [];
if (!e) return e;
for (e = a.utf8Encode(e); t = (r = e.charCodeAt(s++) << 16 | e.charCodeAt(s++) << 8 | e.charCodeAt(s++)) >> 18 & 63, 
o = r >> 12 & 63, n = r >> 6 & 63, r &= 63, u[c++] = i.charAt(t) + i.charAt(o) + i.charAt(n) + i.charAt(r), 
s < e.length; ) ;
switch (l = u.join(""), e.length % 3) {
case 1:
l = l.slice(0, -2) + "==";
break;

case 2:
l = l.slice(0, -1) + "=";
}
return l;
}, a.encodeDates = function(e) {
return a.each(e, function(t, o) {
if (a.isDate(t)) e[o] = a.formatDate(t); else if (a.isObject(t)) e[o] = a.encodeDates(t); else if (a.isArray(t)) for (var n = 0; n < t.length; n++) a.isDate(t[n]) && (e[o][n] = a.formatDate(t[n]));
}), e;
}, a.formatDate = function(e) {
function t(e) {
return e < 10 ? "0" + e : e;
}
return e.getFullYear() + "-" + t(e.getMonth() + 1) + "-" + t(e.getDate()) + " " + t(e.getHours()) + ":" + t(e.getMinutes()) + ":" + t(e.getSeconds()) + "." + ((e = e.getMilliseconds()) < 100 && 9 < e ? "0" + e : e < 10 ? "00" + e : e);
}, a.searchObjDate = function(e) {
try {
(a.isObject(e) || a.isArray(e)) && a.each(e, function(t, o) {
a.isObject(t) || a.isArray(t) ? a.searchObjDate(e[o]) : a.isDate(t) && (e[o] = a.formatDate(t));
});
} catch (e) {
y.warn(e);
}
}, a.UUID = function() {
var e = new Date().getTime();
return String(Math.random()).replace(".", "").slice(1, 11) + "-" + e;
}, a.UUIDv4 = function() {
return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
var t = 16 * Math.random() | 0;
return ("x" === e ? t : 3 & t | 8).toString(16);
});
}, a.setMpPlatform = function(e) {
a.mpPlatform = e;
}, a.getMpPlatform = function() {
return a.mpPlatform;
}, a.createExtraHeaders = function() {
return {
"TA-Integration-Type": "MG",
"TA-Integration-Version": "2.1.0",
"TA-Integration-Count": "1",
"TA-Integration-Extra": a.getMpPlatform()
};
}, a.checkAppId = function(e) {
return e.replace(/\s*/g, "");
}, a.checkUrl = function(e) {
return e = e.replace(/\s*/g, ""), a.url("basic", e);
}, a.url = function() {
function e() {
return new RegExp(/(.*?)\.?([^.]*?)\.(com|net|org|biz|ws|in|me|co\.uk|co|org\.uk|ltd\.uk|plc\.uk|me\.uk|edu|mil|br\.com|cn\.com|eu\.com|hu\.com|no\.com|qc\.com|sa\.com|se\.com|se\.net|us\.com|uy\.com|ac|co\.ac|gv\.ac|or\.ac|ac\.ac|af|am|as|at|ac\.at|co\.at|gv\.at|or\.at|asn\.au|com\.au|edu\.au|org\.au|net\.au|id\.au|be|ac\.be|adm\.br|adv\.br|am\.br|arq\.br|art\.br|bio\.br|cng\.br|cnt\.br|com\.br|ecn\.br|eng\.br|esp\.br|etc\.br|eti\.br|fm\.br|fot\.br|fst\.br|g12\.br|gov\.br|ind\.br|inf\.br|jor\.br|lel\.br|med\.br|mil\.br|net\.br|nom\.br|ntr\.br|odo\.br|org\.br|ppg\.br|pro\.br|psc\.br|psi\.br|rec\.br|slg\.br|tmp\.br|tur\.br|tv\.br|vet\.br|zlg\.br|br|ab\.ca|bc\.ca|mb\.ca|nb\.ca|nf\.ca|ns\.ca|nt\.ca|on\.ca|pe\.ca|qc\.ca|sk\.ca|yk\.ca|ca|cc|ac\.cn|net\.cn|com\.cn|edu\.cn|gov\.cn|org\.cn|bj\.cn|sh\.cn|tj\.cn|cq\.cn|he\.cn|nm\.cn|ln\.cn|jl\.cn|hl\.cn|js\.cn|zj\.cn|ah\.cn|gd\.cn|gx\.cn|hi\.cn|sc\.cn|gz\.cn|yn\.cn|xz\.cn|sn\.cn|gs\.cn|qh\.cn|nx\.cn|xj\.cn|tw\.cn|hk\.cn|mo\.cn|cn|cx|cz|de|dk|fo|com\.ec|tm\.fr|com\.fr|asso\.fr|presse\.fr|fr|gf|gs|co\.il|net\.il|ac\.il|k12\.il|gov\.il|muni\.il|ac\.in|co\.in|org\.in|ernet\.in|gov\.in|net\.in|res\.in|is|it|ac\.jp|co\.jp|go\.jp|or\.jp|ne\.jp|ac\.kr|co\.kr|go\.kr|ne\.kr|nm\.kr|or\.kr|li|lt|lu|asso\.mc|tm\.mc|com\.mm|org\.mm|net\.mm|edu\.mm|gov\.mm|ms|nl|no|nu|pl|ro|org\.ro|store\.ro|tm\.ro|firm\.ro|www\.ro|arts\.ro|rec\.ro|info\.ro|nom\.ro|nt\.ro|se|si|com\.sg|org\.sg|net\.sg|gov\.sg|sk|st|tf|ac\.th|co\.th|go\.th|mi\.th|net\.th|or\.th|tm|to|com\.tr|edu\.tr|gov\.tr|k12\.tr|net\.tr|org\.tr|com\.tw|org\.tw|net\.tw|ac\.uk|uk\.com|uk\.net|gb\.com|gb\.net|vg|sh|kz|ch|info|ua|gov|name|pro|ie|hk|com\.hk|org\.hk|net\.hk|edu\.hk|us|tk|cd|by|ad|lv|eu\.lv|bz|es|jp|cl|ag|mobi|eu|co\.nz|org\.nz|net\.nz|maori\.nz|iwi\.nz|io|la|md|sc|sg|vc|tw|travel|my|se|tv|pt|com\.pt|edu\.pt|asia|fi|com\.ve|net\.ve|fi|org\.ve|web\.ve|info\.ve|co\.ve|tel|im|gr|ru|net\.ru|org\.ru|hr|com\.hr|ly|xyz)$/);
}
function t(e, t) {
var o = e.charAt(0);
return t = t.split(o), o === e ? t : t[(e = parseInt(e.substring(1), 10)) < 0 ? t.length + e : e - 1];
}
function o(e, t) {
for (var o, n = e.charAt(0), r = t.split("&"), i = [], s = {}, c = e.substring(1), l = 0, u = r.length; l < u; l++) if ("" !== (i = (i = r[l].match(/(.*?)=(.*)/)) || [ r[l], r[l], "" ])[1].replace(/\s/g, "")) {
if (i[2] = (o = i[2] || "", a.decodeURIComponent(o.replace(/\+/g, " "))), c === i[1]) return i[2];
(o = i[1].match(/(.*)\[([0-9]+)\]/)) ? (s[o[1]] = s[o[1]] || [], s[o[1]][o[2]] = i[2]) : s[i[1]] = i[2];
}
return n === e ? s : s[c];
}
return function(n, r) {
var i = {};
if ("tld?" === n) return e();
if (r = r || window.location.toString(), !n) return r;
if (n = n.toString(), r.match(/^mailto:([^/].+)/)) a = r.match(/^mailto:([^/].+)/), 
i.protocol = "mailto", i.email = a[1]; else {
if ((r = r.match(/(.*?)\/#!(.*)/) ? (a = r.match(/(.*?)\/#!(.*)/))[1] + a[2] : r).match(/(.*?)#(.*)/) && (a = r.match(/(.*?)#(.*)/), 
i.hash = a[2], r = a[1]), i.hash && n.match(/^#/)) return o(n, i.hash);
if (r.match(/(.*?)\?(.*)/) && (a = r.match(/(.*?)\?(.*)/), i.query = a[2], r = a[1]), 
i.query && n.match(/^\?/)) return o(n, i.query);
if (r.match(/(.*?):?\/\/(.*)/) && (a = r.match(/(.*?):?\/\/(.*)/), i.protocol = a[1].toLowerCase(), 
r = a[2]), r.match(/(.*?)(\/.*)/) && (a = r.match(/(.*?)(\/.*)/), i.path = a[2], 
r = a[1]), i.path = (i.path || "").replace(/^([^/])/, "/$1").replace(/\/$/, ""), 
(n = n.match(/^[-0-9]+$/) ? n.replace(/^([^/])/, "/$1") : n).match(/^\//)) return t(n, i.path.substring(1));
if ((a = (a = t("/-1", i.path.substring(1))) && a.match(/(.*?)\.(.*)/)) && (i.file = a[0], 
i.filename = a[1], i.fileext = a[2]), r.match(/(.*):([0-9]+)$/) && (a = r.match(/(.*):([0-9]+)$/), 
i.port = a[2], r = a[1]), r.match(/(.*?)@(.*)/) && (a = r.match(/(.*?)@(.*)/), i.auth = a[1], 
r = a[2]), i.auth && (a = i.auth.match(/(.*):(.*)/), i.user = a ? a[1] : i.auth, 
i.pass = a ? a[2] : void 0), i.hostname = r.toLowerCase(), "." === n.charAt(0)) return t(n, i.hostname);
e() && (a = i.hostname.match(e())) && (i.tld = a[3], i.domain = a[2] ? a[2] + "." + a[3] : void 0, 
i.sub = a[1] || void 0);
var a = i.port ? ":" + i.port : "";
i.protocol = i.protocol || window.location.protocol.replace(":", ""), i.port = i.port || ("https" === i.protocol ? "443" : "80"), 
i.protocol = i.protocol || ("443" === i.port ? "https" : "http"), i.basic = i.protocol + "://" + i.hostname + a;
}
return n in i ? i[n] : "{}" === n ? i : "";
};
}(), a.createString = function(e) {
for (var t = e, o = Math.random().toString(36).substr(2); o.length < t; ) o += Math.random().toString(36).substr(2);
return o.substr(0, e);
}, a.createAesKey = function() {
return a.createString(16);
}, a.generateEncryptyData = function(e, t) {
if (void 0 === t) return e;
var o = t.publicKey, n = t.version;
if (void 0 === o || void 0 === n) return e;
if ("undefined" == typeof CryptoJS || "undefined" == typeof JSEncrypt) return e;
t = a.createAesKey();
try {
var r = CryptoJS.enc.Utf8.parse(t), i = CryptoJS.enc.Utf8.parse(JSON.stringify(e)), s = a.isUndefined(CryptoJS.pad.Pkcs7) ? CryptoJS.pad.PKCS7 : CryptoJS.pad.Pkcs7;
r = CryptoJS.AES.encrypt(i, r, {
mode: CryptoJS.mode.ECB,
padding: s
}).toString();
return (s = new JSEncrypt()).setPublicKey(o), !1 === (s = s.encrypt(t)) ? (y.warn("私钥加密失败，返回原数据"), 
e) : {
pkv: n,
ekey: s,
payload: r
};
} catch (e) {
y.warn("数据加密失败，返回原数据: " + e);
}
return e;
};
var y = "object" === o(y) ? y : {};
y.info = function() {
if ("object" === ("undefined" == typeof console ? "undefined" : o(console)) && console.log && y.enabled) try {
return console.log.apply(console, arguments);
} catch (e) {
console.log(arguments[0]);
}
}, y.warn = function() {
if ("object" === ("undefined" == typeof console ? "undefined" : o(console)) && console.log && y.enabled) try {
return console.warn.apply(console, arguments);
} catch (e) {
console.warn(arguments[0]);
}
};
var m = function() {
function e() {
n(this, e), this.config = {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_mg"
};
}
return i(e, [ {
key: "getConfig",
value: function() {
return this.config;
}
}, {
key: "getStorage",
value: function(e, t, o) {
if (e = localStorage.getItem(e), !t) return a.isJSONString(e) ? JSON.parse(e) : {};
a.isJSONString(e) ? o(JSON.parse(e)) : o({});
}
}, {
key: "setStorage",
value: function(e, t) {
localStorage.setItem(e, t);
}
}, {
key: "_setSystemProxy",
value: function(e) {
this._sysCallback = e;
}
}, {
key: "getSystemInfo",
value: function(e) {
var t = {
mp_platform: "web",
system: this._getOs(),
screenWidth: window.screen.width,
screenHeight: window.screen.height,
systemLanguage: navigator.language
};
this._sysCallback && (t = a.extend(t, this._sysCallback(e))), e.success(t), e.complete();
}
}, {
key: "_getOs",
value: function() {
var e = navigator.userAgent;
return /Windows/i.test(e) ? /Phone/.test(e) || /WPDesktop/.test(e) ? "Windows Phone" : "Windows" : /(iPhone|iPad|iPod)/.test(e) ? "iOS" : /Android/.test(e) ? "Android" : /(BlackBerry|PlayBook|BB10)/i.test(e) ? "BlackBerry" : /Mac/i.test(e) ? "MacOS" : /Linux/.test(e) ? "Linux" : /CrOS/.test(e) ? "ChromeOS" : "";
}
}, {
key: "getNetworkType",
value: function(e) {
e.complete();
}
}, {
key: "onNetworkStatusChange",
value: function() {}
}, {
key: "request",
value: function(e) {
var t = {}, o = new XMLHttpRequest();
if (o.open(e.method, e.url), e.header) for (var n in e.header) o.setRequestHeader(n, e.header[n]);
return o.onreadystatechange = function() {
4 === o.readyState && 200 === o.status ? (t.statusCode = 200, a.isJSONString(o.responseText) && (t.data = JSON.parse(o.responseText)), 
e.success(t)) : 200 !== o.status && (t.errMsg = "network error", e.fail(t));
}, o.ontimeout = function() {
t.errMsg = "timeout", e.fail(t);
}, o.send(e.data), o;
}
}, {
key: "initAutoTrackInstance",
value: function(e, t) {
this.instance = e, this.autoTrack = t.autoTrack;
var o = this;
"onpagehide" in window ? window.onpagehide = function() {
o.onPageHide(!0);
} : window.onbeforeunload = function() {
o.onPageHide(!0);
}, o.onPageShow(), o.autoTrack.appHide && o.instance.timeEvent("ta_page_hide"), 
"onvisibilitychange" in document && (document.onvisibilitychange = function() {
document.hidden ? o.onPageHide(!1) : (o.onPageShow(), o.autoTrack.appHide && o.instance.timeEvent("ta_page_hide"));
});
}
}, {
key: "setGlobal",
value: function(e, t) {
window[t] = e;
}
}, {
key: "getAppOptions",
value: function() {}
}, {
key: "showToast",
value: function() {}
}, {
key: "onPageShow",
value: function() {
var e;
this.autoTrack.appShow && (a.extend(e = {}, this.autoTrack.properties), a.isFunction(this.autoTrack.callback) && a.extend(e, this.autoTrack.callback("appShow")), 
this.instance._internalTrack("ta_page_show", e));
}
}, {
key: "onPageHide",
value: function(e) {
var t;
this.autoTrack.appHide && (a.extend(t = {}, this.autoTrack.properties), a.isFunction(this.autoTrack.callback) && a.extend(t, this.autoTrack.callback("appHide")), 
this.instance._internalTrack("ta_page_hide", t, new Date(), null, e));
}
} ], [ {
key: "createInstance",
value: function() {
return new e();
}
} ]), e;
}(), g = function() {
function e(t, o) {
n(this, e), this.taInstance = t, this.config = o || {}, this.referrer = "Directly open", 
this.config.isPlugin ? (t.App = function() {
App.apply(this, arguments);
}, inension(t.Page)) : (t = App, App = this._initAppExtention(t), t = Page, Page = this._initPageExtension(t));
}
return i(e, [ {
key: "_initPageExtension",
value: function(e) {
var t = this;
return function(o) {
var n = o.onShow, r = o.onShareAppMessage;
return o.onShow = function(e) {
t.onPageShow(), "function" == typeof n && n.call(this, e);
}, "function" == typeof r && (o.onShareAppMessage = function(e) {
return e = r.call(this, e), t.onPageShare(e);
}), e(o);
};
}
}, {
key: "_initAppExtention",
value: function(e) {
var t = this;
return function(o) {
var n = o.onLaunch, r = o.onShow, i = o.onHide;
return o.onLaunch = function(e) {
t.onAppLaunch(e, this), "function" == typeof n && n.call(this, e);
}, o.onShow = function(e) {
t.onAppShow(e), "function" == typeof r && r.call(this, e);
}, o.onHide = function() {
t.onAppHide(), "function" == typeof i && i.call(this);
}, e(o);
};
}
}, {
key: "onAppLaunch",
value: function(e, t) {
this._setAutoTrackProperties(e), a.isUndefined(t) || (t[this.taInstance.name] = this.taInstance), 
this.config.appLaunch && (t = {}, e && e.path && (t["#url_path"] = this._getPath(e.path)), 
this.taInstance._internalTrack("ta_mp_launch", t));
}
}, {
key: "onAppShow",
value: function(e) {
var t;
this.config.appHide && this.taInstance.timeEvent("ta_mp_hide"), this._setAutoTrackProperties(e), 
this.config.appShow && (t = {}, e && e.path && (t["#url_path"] = this._getPath(e.path)), 
a.extend(t, this.config.properties), a.isFunction(this.config.callback) && a.extend(t, this.config.callback("appShow")), 
this.taInstance._internalTrack("ta_mp_show", t));
}
}, {
key: "onAppHide",
value: function() {
var e;
this.config.appHide && (e = {
"#url_path": this._getCurrentPath()
}, a.extend(e, this.config.properties), a.isFunction(this.config.callback) && a.extend(e, this.config.callback("appHide")), 
this.taInstance._internalTrack("ta_mp_hide", e));
}
}, {
key: "_getCurrentPath",
value: function() {
var e = "Not to get";
try {
var t = getCurrentPages();
e = t[t.length - 1].route;
} catch (e) {
y.info(e);
}
return e;
}
}, {
key: "_setAutoTrackProperties",
value: function(e) {
e = {
"#scene": e.scene
}, this.taInstance._setAutoTrackProperties(e);
}
}, {
key: "_getPath",
value: function(e) {
return "string" == typeof e ? e.replace(/^\//, "") : "Abnormal values";
}
}, {
key: "onPageShare",
value: function(e) {
return this.config.pageShare && this.taInstance._internalTrack("ta_mp_share", {
"#url_path": this._getCurrentPath()
}), a.isObject(e) ? e : {};
}
}, {
key: "onPageShow",
value: function() {
var e, t;
this.config.pageShow && (t = {
"#url_path": (e = this._getCurrentPath()) || "The system did not get a value",
"#referrer": this.referrer
}, this.referrer = e, this.taInstance._internalTrack("ta_mp_view", t));
}
} ]), e;
}(), b = function() {
function e(t, o, r) {
var i = this;
n(this, e), this.taInstance = t, this.config = o || {}, o = r.getLaunchOptionsSync(), 
this._onShow(o), this.startTracked = !0, r.onShow(function(e) {
i._onShow(e);
}), r.onHide(function() {
var e;
i.startTracked = !1, i.config.appHide && (a.extend(e = {}, i.config.properties), 
a.isFunction(i.config.callback) && a.extend(e, i.config.callback("appHide")), i.taInstance._internalTrack("ta_mg_hide", e));
});
}
return i(e, [ {
key: "_onShow",
value: function(e) {
this.startTracked || (this.config.appHide && this.taInstance.timeEvent("ta_mg_hide"), 
e && e.scene && this.taInstance._setAutoTrackProperties({
"#scene": e.scene
}), this.config.appShow && (a.extend(e = {}, this.config.properties), a.isFunction(this.config.callback) && a.extend(e, this.config.callback("appShow")), 
this.taInstance._internalTrack("ta_mg_show", e)));
}
} ]), e;
}(), v = function() {
function e(t, o, r) {
n(this, e), this.api = t, this.config = o, this._config = r;
}
return i(e, [ {
key: "getConfig",
value: function() {
return this.config;
}
}, {
key: "getStorage",
value: function(e, t, o) {
if (!t) {
if ("dd_mp" !== this._config.platform) return n = this.api.getStorageSync(e), a.isJSONString(n) ? JSON.parse(n) : {};
var n = this.api.getStorageSync({
key: e
});
return a.isJSONString(n.data) ? JSON.parse(n.data) : {};
}
this.api.getStorage({
key: e,
success: function(e) {
e = a.isJSONString(e.data) ? JSON.parse(e.data) : {}, o(e);
},
fail: function() {
y.warn("getStorage faild"), o({});
}
});
}
}, {
key: "setStorage",
value: function(e, t) {
this.api.setStorage({
key: e,
data: t
});
}
}, {
key: "_getPlatform",
value: function() {
return "";
}
}, {
key: "getSystemInfo",
value: function(e) {
var t = this._config.mpPlatform;
this.api.getSystemInfo({
success: function(o) {
a.isFunction(t) ? o.mp_platform = t(o) : o.mp_platform = t, e.success(o), "wechat" === t && e.complete();
},
complete: function() {
e.complete();
}
});
}
}, {
key: "getNetworkType",
value: function(e) {
a.isFunction(this.api.getNetworkType) ? this.api.getNetworkType({
success: function(t) {
e.success(t);
},
complete: function() {
e.complete();
}
}) : (e.success({}), e.complete());
}
}, {
key: "onNetworkStatusChange",
value: function(e) {
a.isFunction(this.api.onNetworkStatusChange) ? this.api.onNetworkStatusChange(e) : e({});
}
}, {
key: "request",
value: function(e) {
if ("ali_mp" !== this._config.platform && "dd_mp" !== this._config.platform) return this.api.request(e);
var t = a.extend({}, e);
return t.headers = e.header, t.success = function(t) {
t.statusCode = t.status, e.success(t);
}, t.fail = function(t) {
t.errMsg = t.errorMessage, e.fail(t);
}, "dd_mp" === this._config.platform ? this.api.httpRequest(t) : this.api.request(t);
}
}, {
key: "initAutoTrackInstance",
value: function(e, t) {
return a.isObject(t.autoTrack) && (t.autoTrack.isPlugin = t.is_plugin), new (this._config.mp ? g : b)(e, t.autoTrack, this.api);
}
}, {
key: "setGlobal",
value: function(e, t) {
this._config.mp ? y.warn("ThinkingAnalytics: we do not set global name for TA instance when you do not enable auto track.") : GameGlobal[t] = e;
}
}, {
key: "getAppOptions",
value: function(e) {
var t = {};
try {
t = this.api.getLaunchOptionsSync();
} catch (e) {
y.warn("Cannot get launch options.");
}
if (a.isFunction(e)) try {
this._config.mp ? this.api.onAppShow(e) : this.api.onShow(e);
} catch (e) {
y.warn("Cannot register onShow callback.");
}
return t;
}
}, {
key: "showToast",
value: function(e) {
var t;
a.isFunction(this.api.showToast) && (t = {
title: e
}, "dd_mp" !== this._config.platform && "ali_mp" !== this._config.platform || (t.content = e), 
this.api.showToast(t));
}
} ], [ {
key: "createInstance",
value: function() {
return this._createInstance("R_CURRENT_PLATFORM");
}
}, {
key: "_createInstance",
value: function(t) {
switch (t) {
case "wechat_mp":
return new e(wx, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_wechat"
}, {
mpPlatform: "wechat",
mp: !0,
platform: t
});

case "wechat_mg":
return new e(wx, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_wechat_game"
}, {
mpPlatform: "wechat",
platform: t
});

case "qq_mp":
return new e(qq, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_qq"
}, {
mpPlatform: "qq",
mp: !0,
platform: t
});

case "qq_mg":
return new e(qq, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_qq_game"
}, {
mpPlatform: "qq",
platform: t
});

case "baidu_mp":
return new e(swan, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_swan"
}, {
mpPlatform: function(e) {
return e.host;
},
mp: !0,
platform: t
});

case "baidu_mg":
return new e(swan, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_swan_game"
}, {
mpPlatform: function(e) {
return e.host;
},
platform: t
});

case "tt_mg":
return new e(tt, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_tt_game"
}, {
mpPlatform: function(e) {
return e.appName;
},
platform: t
});

case "tt_mp":
return new e(tt, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_tt"
}, {
mpPlatform: function(e) {
return e.appName;
},
mp: !0,
platform: t
});

case "ali_mp":
return new e(my, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_ali"
}, {
mpPlatform: function(e) {
return e.app;
},
mp: !0,
platform: t
});

case "dd_mp":
return new e(dd, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_dd"
}, {
mpPlatform: "dingding",
mp: !0,
platform: t
});

case "bl_mg":
return new e(bl, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_mg"
}, {
mpPlatform: "bilibili",
platform: t
});

case "kuaishou_mp":
return new e(ks, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_kuaishou"
}, {
mpPlatform: "kuaishou",
mp: !0,
platform: t
});

case "qh360_mg":
return new e(qh, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_qh360"
}, {
mpPlatform: "qh360",
platform: t
});

case "tb_mp":
return new e(my, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_tb"
}, {
mpPlatform: "tb",
mp: !0,
platform: t
});

case "jd_mp":
return new e(jd, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_jd"
}, {
mpPlatform: "jd",
mp: !0,
platform: t
});

case "qh360_mp":
return new e(qh, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_qh360"
}, {
mpPlatform: "qh360",
mp: !0,
platform: t
});

case "WEB":
return new m.createInstance();
}
}
} ]), e;
}(), _ = function e(t, o) {
var r = this;
n(this, e), this.taInstance = t, this.config = o || {}, this.config.appShow && this.taInstance._internalTrack("ta_mg_show"), 
this.config.appHide && this.taInstance.timeEvent("ta_mg_hide"), qg.onShow(function() {
var e;
r.config.appHide && r.taInstance.timeEvent("ta_mg_hide"), r.config.appShow && (a.extend(e = {}, r.config.properties), 
a.isFunction(r.config.callback) && a.extend(e, r.config.callback("appShow")), r.taInstance._internalTrack("ta_mg_show"));
}), qg.onHide(function() {
var e;
r.config.appHide && (a.extend(e = {}, r.config.properties), a.isFunction(r.config.callback) && a.extend(e, r.config.callback("appHide")), 
r.taInstance._internalTrack("ta_mg_hide"));
});
}, w = function() {
function e() {
n(this, e), this.config = {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_qg_vivo_game",
asyncPersistence: !0
};
}
return i(e, [ {
key: "getConfig",
value: function() {
return this.config || {};
}
}, {
key: "getStorage",
value: function(e, t, o) {
if (!t) return t = qg.getStorageSync({
key: e
}), a.isJSONString(t) ? JSON.parse(t) : {};
qg.getStorage({
key: e,
success: function(e) {
e = a.isJSONString(e) ? JSON.parse(e) : {}, o(e);
},
fail: function() {
o({});
}
});
}
}, {
key: "setStorage",
value: function(e, t) {
qg.setStorage({
key: e,
value: t
});
}
}, {
key: "getSystemInfo",
value: function(e) {
qg.getSystemInfo({
success: function(t) {
var o = t, n = [ t.osType, t.osVersionName ].join(" ");
o.brand = t.manufacturer, o.system = n, o.mp_platform = "vivo_qg", e.success(o);
},
complete: function() {
e.complete();
}
});
}
}, {
key: "getNetworkType",
value: function(e) {
qg.getNetworkType({
success: function(t) {
var o = t;
o.networkType = t.type, e.success(o);
},
complete: function() {
e.complete();
}
});
}
}, {
key: "onNetworkStatusChange",
value: function(e) {
qg.subscribeNetworkStatus({
callback: function(t) {
var o = t;
o.networkType = t.type, e(o);
}
});
}
}, {
key: "request",
value: function(e) {
return qg.request({
url: e.url,
data: e.data,
method: e.method,
header: e.header,
success: function(t) {
e.success(t);
},
fail: function(t) {
e.fail(t);
}
});
}
}, {
key: "initAutoTrackInstance",
value: function(e, t) {
return new _(e, t.autoTrack);
}
}, {
key: "setGlobal",
value: function(e, t) {
globalThis[t] = e;
}
}, {
key: "getAppOptions",
value: function() {
return {};
}
}, {
key: "showToast",
value: function(e) {
qg.showToast({
message: e,
duration: 0
});
}
} ], [ {
key: "createInstance",
value: function() {
return new e();
}
} ]), e;
}(), N = function e(t, o, r) {
var i = this;
n(this, e), this.taInstance = t, this.config = o || {}, this.config.appShow && (a.extend(o = {}, this.config.properties), 
a.isFunction(this.config.callback) && a.extend(o, this.config.callback("appShow")), 
this.taInstance._internalTrack("ta_mg_show", o)), this.config.appHide && this.taInstance.timeEvent("ta_mg_hide"), 
r.onShow(function() {
var e;
i.config.appHide && i.taInstance.timeEvent("ta_mg_hide"), i.config.appShow && (a.extend(e = {}, i.config.properties), 
a.isFunction(i.config.callback) && a.extend(e, i.config.callback("appShow")), i.taInstance._internalTrack("ta_mg_show", e));
}), r.onHide(function() {
var e;
i.config.appHide && (a.extend(e = {}, i.config.properties), a.isFunction(i.config.callback) && a.extend(e, i.config.callback("appHide")), 
i.taInstance._internalTrack("ta_mg_hide", e));
});
}, P = function() {
function e(t, o, r) {
n(this, e), this.api = t, this.config = o, this._config = r;
}
return i(e, [ {
key: "getConfig",
value: function() {
return this.config || {};
}
}, {
key: "getStorage",
value: function(e, t, o) {
if (e = localStorage.getItem(e), !t) return a.isJSONString(e) ? JSON.parse(e) : {};
a.isJSONString(e) ? o(JSON.parse(e)) : o({});
}
}, {
key: "setStorage",
value: function(e, t) {
localStorage.setItem(e, t);
}
}, {
key: "getSystemInfo",
value: function(e) {
var t = this._config.mpPlatform;
this.api.getSystemInfo({
success: function(o) {
o.mp_platform = t, e.success(o);
},
complete: function() {
e.complete();
}
});
}
}, {
key: "getNetworkType",
value: function(e) {
this.api.getNetworkType({
success: function(t) {
e.success(t);
},
complete: function() {
e.complete();
}
});
}
}, {
key: "onNetworkStatusChange",
value: function(e) {
this.api.onNetworkStatusChange({
callback: function(t) {
e(t);
}
});
}
}, {
key: "request",
value: function(e) {
var t = {}, o = new XMLHttpRequest();
if (o.open(e.method, e.url), e.header) for (var n in e.header) o.setRequestHeader(n, e.header[n]);
return o.onreadystatechange = function() {
4 === o.readyState && 200 === o.status ? (t.statusCode = 200, a.isJSONString(o.responseText) && (t.data = JSON.parse(o.responseText)), 
e.success(t)) : 200 !== o.status && (t.errMsg = "network error", e.fail(t));
}, o.ontimeout = function() {
t.errMsg = "timeout", e.fail(t);
}, o.send(e.data), o;
}
}, {
key: "initAutoTrackInstance",
value: function(e, t) {
return new N(e, t.autoTrack, this.api);
}
}, {
key: "setGlobal",
value: function(e, t) {
globalThis[t] = e;
}
}, {
key: "getAppOptions",
value: function() {
return this.api.getLaunchOptionsSync();
}
}, {
key: "showToast",
value: function(e) {
this.api.showToast({
title: e,
icon: "none",
duration: 2e3
});
}
} ], [ {
key: "createInstance",
value: function() {
return this._createInstance("R_CURRENT_PLATFORM");
}
}, {
key: "_createInstance",
value: function(t) {
switch (t) {
case "oppo":
return new e(qg, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_qg_oppo_game"
}, {
mpPlatform: "oppo_qg"
});

case "huawei":
return new e(hbs, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_qg_huawei_game"
}, {
mpPlatform: "huawei_qg"
});

case "mz":
return new e(qg, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_qg_mz_game"
}, {
mpPlatform: "mz"
});

case "xiaomi":
return new e(qg, {
persistenceName: "thinkingdata",
persistenceNameOld: "thinkingdata_qg"
}, {
mpPlatform: "xiaomi"
});
}
}
} ]), e;
}(), A = function() {
function e() {
n(this, e);
}
return i(e, null, [ {
key: "createInstance",
value: function() {
var e = Object.freeze({
WECHAT_GAME: 104,
QQ_PLAY: 105,
BAIDU_GAME: 107,
VIVO_GAME: 108,
OPPO_GAME: 109,
HUAWEI_GAME: 110,
XIAOMI_GAME: 111,
BYTEDANCE_GAME: 117,
QTT_GAME: 116,
LINKSURE: 119,
WECHAT_MINI_GAME: "WECHAT_GAME",
BAIDU_MINI_GAME: "BAIDU_MINI_GAME",
XIAOMI_QUICK_GAME: "XIAOMI_QUICK_GAME",
OPPO_MINI_GAME: "OPPO_MINI_GAME",
VIVO_MINI_GAME: "VIVO_MINI_GAME",
HUAWEI_QUICK_GAME: "HUAWEI_QUICK_GAME",
BYTEDANCE_MINI_GAME: "BYTEDANCE_MINI_GAME",
QTT_MINI_GAME: "QTT_MINI_GAME",
LINKSURE_MINI_GAME: "LINKSURE_MINI_GAME"
});
if (cc.sys.platform === e.WECHAT_GAME || cc.sys.platform === e.WECHAT_MINI_GAME) return v._createInstance("wechat_mg");
if (cc.sys.platform === e.BAIDU_GAME || cc.sys.platform === e.BAIDU_MIN_GAME) return v._createInstance("baidu_mg");
if (cc.sys.platform === e.VIVO_GAME || cc.sys.platform === e.VIVO_MINI_GAME) return w.createInstance();
if (cc.sys.platform === e.QQ_PLAY) return v._createInstance("qq_mg");
if (cc.sys.platform === e.OPPO_GAME || cc.sys.platform === e.OPPO_MINI_GAME) return P._createInstance("oppo");
if (cc.sys.platform === e.HUAWEI_GAME || cc.sys.platform === e.HUAWEI_QUICK_GAME) return P._createInstance("huawei");
if (cc.sys.platform === e.XIAOMI_GAME || cc.sys.platform === e.XIAOMI_QUICK_GAME) return P._createInstance("xiaomi");
if (cc.sys.platform === e.BYTEDANCE_GAME || cc.sys.platform === e.BYTEDANCE_MINI_GAME) return v._createInstance("tt_mg");
var t = m.createInstance();
return t._sysCallback = function() {
return {
system: cc.sys.os.replace(" ", "") + " " + cc.sys.osVersion
};
}, t.getNetworkType = function(e) {
var t = {};
switch (cc.sys.getNetworkType()) {
case cc.sys.NetworkType.LAN:
t.networkType = "WIFI";
break;

case cc.sys.NetworkType.WWAN:
t.networkType = "WWAN";
break;

default:
t.networkType = "NONE";
}
e.success(t), e.complete();
}, t.getSystemInfo = function(e) {
var o = {
mp_platform: cc.sys.platform.toString(),
system: t._getOs(),
screenWidth: window.screen.width,
screenHeight: window.screen.height
};
t._sysCallback && (o = a.extend(o, t._sysCallback(e))), e.success(o), e.complete();
}, t;
}
} ]), e;
}(), S = function() {
function e() {
n(this, e);
}
return i(e, null, [ {
key: "_getCurrentPlatform",
value: function() {
return this.currentPlatform || (this.currentPlatform = A.createInstance());
}
}, {
key: "getConfig",
value: function() {
return this._getCurrentPlatform().getConfig();
}
}, {
key: "getStorage",
value: function(e, t, o) {
return this._getCurrentPlatform().getStorage(e, t, o);
}
}, {
key: "setStorage",
value: function(e, t) {
return this._getCurrentPlatform().setStorage(e, t);
}
}, {
key: "getSystemInfo",
value: function(e) {
return this._getCurrentPlatform().getSystemInfo(e);
}
}, {
key: "getNetworkType",
value: function(e) {
return this._getCurrentPlatform().getNetworkType(e);
}
}, {
key: "onNetworkStatusChange",
value: function(e) {
this._getCurrentPlatform().onNetworkStatusChange(e);
}
}, {
key: "request",
value: function(e) {
return this._getCurrentPlatform().request(e);
}
}, {
key: "initAutoTrackInstance",
value: function(e, t) {
return this._getCurrentPlatform().initAutoTrackInstance(e, t);
}
}, {
key: "setGlobal",
value: function(e, t) {
e && t && this._getCurrentPlatform().setGlobal(e, t);
}
}, {
key: "getAppOptions",
value: function(e) {
return this._getCurrentPlatform().getAppOptions(e);
}
}, {
key: "showDebugToast",
value: function(e) {
this._getCurrentPlatform().showToast(e);
}
} ]), e;
}(), C = /^[a-zA-Z][a-zA-Z0-9_]{0,49}$/, O = function() {
function e() {
n(this, e);
}
return i(e, null, [ {
key: "stripProperties",
value: function(e) {
return a.isObject(e) && a.each(e, function(e, t) {
a.isString(e) || a.isNumber(e) || a.isDate(e) || a.isBoolean(e) || a.isArray(e) || a.isObject(e) || y.warn("Your data -", t, e, "- format does not meet requirements and may not be stored correctly. Attribute values only support String, Number, Date, Boolean, Array, Object");
}), e;
}
}, {
key: "_checkPropertiesKey",
value: function(e) {
var t = !0;
return a.each(e, function(e, o) {
C.test(o) || (y.warn("Invalid KEY: " + o), t = !1);
}), t;
}
}, {
key: "event",
value: function(e) {
return !(!a.isString(e) || !C.test(e)) || (y.warn("Check the parameter format. The eventName must start with an English letter and contain no more than 50 characters including letters, digits, and underscores: " + e), 
!1);
}
}, {
key: "propertyName",
value: function(e) {
return !(!a.isString(e) || !C.test(e)) || (y.warn("Check the parameter format. PropertyName must start with a letter and contain letters, digits, and underscores (_). The value is a string of no more than 50 characters: " + e), 
!1);
}
}, {
key: "properties",
value: function(e) {
return this.stripProperties(e), !(e && (a.isObject(e) ? !this._checkPropertiesKey(e) && (y.warn("Check the parameter format. The properties key must start with a letter, contain digits, letters, and underscores (_), and contain a maximum of 50 characters"), 
1) : (y.warn("properties can be none, but it must be an object"), 1)));
}
}, {
key: "propertiesMust",
value: function(e) {
return this.stripProperties(e), void 0 === e || !a.isObject(e) || a.isEmptyObject(e) ? (y.warn("properties must be an object with a value"), 
!1) : !!this._checkPropertiesKey(e) || (y.warn("Check the parameter format. The properties key must start with a letter, contain digits, letters, and underscores (_), and contain a maximum of 50 characters"), 
!1);
}
}, {
key: "userId",
value: function(e) {
return !(!a.isString(e) || !/^.{1,64}$/.test(e)) || (y.warn("The user ID must be a string of less than 64 characters and cannot be null"), 
!1);
}
}, {
key: "userAddProperties",
value: function(e) {
if (!this.propertiesMust(e)) return !1;
for (var t in e) if (!a.isNumber(e[t])) return y.warn("The attributes of userAdd need to be Number"), 
!1;
return !0;
}
}, {
key: "userAppendProperties",
value: function(e) {
if (!this.propertiesMust(e)) return !1;
for (var t in e) if (!a.isArray(e[t])) return y.warn("The attribute of userAppend must be Array"), 
!1;
return !0;
}
} ]), e;
}(), D = function() {
function e(t, o, r, i, s) {
n(this, e), this.data = t, this.serverUrl = o, this.callback = s, this.tryCount = a.isNumber(r) ? r : 1, 
this.timeout = a.isNumber(i) ? i : 3e3, this.taClassName = "HttpTask";
}
return i(e, [ {
key: "run",
value: function() {
var e = this, t = a.createExtraHeaders();
t["content-type"] = "application/json";
var o = S.request({
url: this.serverUrl,
method: "POST",
data: this.data,
header: t,
success: function(t) {
e.onSuccess(t);
},
fail: function(t) {
e.onFailed(t);
}
});
setTimeout(function() {
(a.isObject(o) || a.isPromise(o)) && a.isFunction(o.abort) && o.abort();
}, this.timeout);
}
}, {
key: "onSuccess",
value: function(e) {
if (200 === e.statusCode) {
var t;
switch (e.data.code) {
case 0:
t = "success";
break;

case -1:
t = "invalid data";
break;

case -2:
t = "invalid APP ID";
break;

default:
t = "Unknown return code";
}
this.callback({
code: e.data.code,
msg: t
});
} else this.callback({
code: -3,
msg: e.statusCode
});
}
}, {
key: "onFailed",
value: function(e) {
0 < --this.tryCount ? this.run() : this.callback({
code: -3,
msg: e.errMsg
});
}
} ]), e;
}(), I = function() {
function e(t, o, r, i, s, c, l) {
n(this, e), this.data = t, this.serverDebugUrl = o, this.callback = l, this.tryCount = a.isNumber(r) ? r : 1, 
this.timeout = a.isNumber(i) ? i : 3e3, this.dryrun = s, this.deviceId = c, this.taClassName = "HttpTaskDebug";
}
return i(e, [ {
key: "run",
value: function() {
var e = this, t = "appid=" + this.data["#app_id"] + "&source=client&dryRun=" + this.dryrun + "&deviceId=" + this.deviceId + "&data=" + encodeURIComponent(JSON.stringify(this.data.data[0])), o = a.createExtraHeaders();
o["content-type"] = "application/x-www-form-urlencoded";
var n = S.request({
url: this.serverDebugUrl,
method: "POST",
data: t,
header: o,
success: function(t) {
e.onSuccess(t);
},
fail: function(t) {
e.onFailed(t);
}
});
setTimeout(function() {
(a.isObject(n) || a.isPromise(n)) && a.isFunction(n.abort) && n.abort();
}, this.timeout);
}
}, {
key: "onSuccess",
value: function(e) {
if (200 === e.statusCode) {
var t;
if (0 === e.data.errorLevel) t = "Verify data success."; else if (1 === e.data.errorLevel) {
for (var o = e.data.errorProperties, n = "", r = 0; r < o.length; r++) {
var i = o[r].errorReason;
n = n + " propertyName:" + o[r].propertyName + " errorReasons:" + i + "\n";
}
t = "Debug data error. errorLevel:" + e.data.errorLevel + " reason:" + n;
} else 2 !== e.data.errorLevel && -1 !== e.data.errorLevel || (t = "Debug data error. errorLevel:" + e.data.errorLevel + " reason:" + e.data.errorReasons);
y.info(t), this.callback({
code: e.data.errorLevel,
msg: t
});
} else this.callback({
code: -3,
msg: e.statusCode
});
}
}, {
key: "onFailed",
value: function(e) {
0 < --this.tryCount ? this.run() : this.callback({
code: -3,
msg: e.errMsg
});
}
} ]), e;
}(), k = new (function() {
function e() {
n(this, e), this.items = [], this.isRunning = !1, this.showDebug = !1;
}
return i(e, [ {
key: "enqueue",
value: function(e, t, o, n) {
n = !(3 < arguments.length && void 0 !== n) || n;
var r = this;
t = "debug" === o.debugMode ? new I(e, t, o.maxRetries, o.sendTimeout, 0, o.deviceId, function(e) {
r.isRunning = !1, a.isFunction(o.callback) && o.callback(e), r._runNext(), !1 === r.showDebug && (0 !== e.code && 1 !== e.code && 2 !== e.code || (r.showDebug = !0, 
a.isFunction(S.showDebugToast) && S.showDebugToast("The current mode is Debug")));
}) : "debugOnly" === o.debugMode ? new I(e, t, o.maxRetries, o.sendTimeout, 1, o.deviceId, function(e) {
r.isRunning = !1, a.isFunction(o.callback) && o.callback(e), r._runNext(), !1 === r.showDebug && (0 !== e.code && 1 !== e.code && 2 !== e.code || (r.showDebug = !0, 
a.isFunction(S.showDebugToast) && S.showDebugToast("The current mode is debugOnly")));
}) : new D(JSON.stringify(e), t, o.maxRetries, o.sendTimeout, function(e) {
r.isRunning = !1, a.isFunction(o.callback) && o.callback(e), r._runNext();
}), !0 === n ? (this.items.push(t), this._runNext()) : t.run();
}
}, {
key: "_dequeue",
value: function() {
return this.items.shift();
}
}, {
key: "_runNext",
value: function() {
if (0 < this.items.length && !this.isRunning) if (this.isRunning = !0, "HttpTask" !== this.items[0].taClassName) this._dequeue().run(); else {
for (var e = this.items.splice(0, this.items.length), t = e[0], o = JSON.parse(t.data), n = o["#app_id"], r = 1; r < e.length; r++) {
var i = e[r], a = JSON.parse(i.data);
a["#app_id"] === n && t.serverUrl === i.serverUrl ? o.data = o.data.concat(a.data) : this.items.push(i);
}
var s = new Date().getTime();
o["#flush_time"] = s, new D(JSON.stringify(o), t.serverUrl, t.tryCount, t.timeout, t.callback).run();
}
}
} ]), e;
}())(), F = {
name: "thinkingdata",
is_plugin: !1,
maxRetries: 3,
sendTimeout: 3e3,
enablePersistence: !0,
asyncPersistence: !1,
enableLog: !0,
strict: !1,
debugMode: "none"
}, E = {
properties: {
"#lib": "MG",
"#lib_version": "2.1.0"
},
initDeviceId: function(e) {
a.isString(e) && (this.properties["#device_id"] = e);
},
getSystemInfo: function(e) {
var t = this;
S.onNetworkStatusChange(function(e) {
t.properties["#network_type"] = e.networkType;
}), S.getNetworkType({
success: function(e) {
t.properties["#network_type"] = e.networkType;
},
complete: function() {
S.getSystemInfo({
success: function(e) {
y.info(JSON.stringify(e, null, 4));
var o = e.system ? e.system.replace(/\s+/g, " ").split(" ") : [];
o = {
"#manufacturer": e.brand,
"#device_model": e.model,
"#screen_width": Number(e.screenWidth),
"#screen_height": Number(e.screenHeight),
"#os": o[0],
"#os_version": o[1],
"#mp_platform": e.mp_platform,
"#system_language": e.systemLanguage
};
a.extend(t.properties, o), a.setMpPlatform(e.mp_platform);
},
complete: function() {
e();
}
});
}
});
}
}, R = function() {
function e(t, o) {
var r = this;
n(this, e), this.enabled = t.enablePersistence, this.enabled ? (t.isChildInstance ? (this.name = t.persistenceName + "_" + t.name, 
this.nameOld = t.persistenceNameOld + "_" + t.name) : (this.name = t.persistenceName, 
this.nameOld = t.persistenceNameOld), t.asyncPersistence ? (this._state = {}, S.getStorage(this.name, !0, function(e) {
a.isEmptyObject(e) ? S.getStorage(r.nameOld, !0, function(e) {
r._state = a.extend2Layers({}, e, r._state), r._init(t, o), r._save();
}) : (r._state = a.extend2Layers({}, e, r._state), r._init(t, o), r._save());
})) : (this._state = S.getStorage(this.name) || {}, a.isEmptyObject(this._state) && (this._state = S.getStorage(this.nameOld) || {}), 
this._init(t, o))) : (this._state = {}, this._init(t, o));
}
return i(e, [ {
key: "_init",
value: function(e, t) {
this.getDistinctId() || this.setDistinctId(a.UUID()), e.isChildInstance || (this.getDeviceId() || this._setDeviceId(a.UUID()), 
E.initDeviceId(this.getDeviceId())), this.initComplete = !0, "function" == typeof t && t(), 
this._save();
}
}, {
key: "_save",
value: function() {
this.enabled && this.initComplete && S.setStorage(this.name, JSON.stringify(this._state));
}
}, {
key: "_set",
value: function(e, t) {
var n, r = this;
"string" == typeof e ? (n = {})[e] = t : "object" === o(e) && (n = e), a.each(n, function(e, t) {
r._state[t] = e;
}), this._save();
}
}, {
key: "_get",
value: function(e) {
return this._state[e];
}
}, {
key: "setEventTimer",
value: function(e, t) {
var o = this._state.event_timers || {};
o[e] = t, this._set("event_timers", o);
}
}, {
key: "removeEventTimer",
value: function(e) {
var t = (this._state.event_timers || {})[e];
return a.isUndefined(t) || (delete this._state.event_timers[e], this._save()), t;
}
}, {
key: "getDeviceId",
value: function() {
return this._state.device_id;
}
}, {
key: "_setDeviceId",
value: function(e) {
this.getDeviceId() ? y.warn("cannot modify the device id.") : this._set("device_id", e);
}
}, {
key: "getDistinctId",
value: function() {
return this._state.distinct_id;
}
}, {
key: "setDistinctId",
value: function(e) {
this._set("distinct_id", e);
}
}, {
key: "getAccountId",
value: function() {
return this._state.account_id;
}
}, {
key: "setAccountId",
value: function(e) {
this._set("account_id", e);
}
}, {
key: "getSuperProperties",
value: function() {
return this._state.props || {};
}
}, {
key: "setSuperProperties",
value: function(e, t) {
e = t ? e : a.extend(this.getSuperProperties(), e), this._set("props", e);
}
} ]), e;
}(), T = function() {
function e(t) {
n(this, e), t.appId = t.appId ? a.checkAppId(t.appId) : a.checkAppId(t.appid), t.serverUrl = t.serverUrl ? a.checkUrl(t.serverUrl) : a.checkUrl(t.server_url);
var o = a.extend({}, F, S.getConfig());
a.isObject(t) ? this.config = a.extend(o, t) : this.config = o, this._init(this.config);
}
return i(e, [ {
key: "_init",
value: function(e) {
var t = this;
this.name = e.name, this.appId = e.appId || e.appid;
var o = e.serverUrl || e.server_url;
this.serverUrl = o + "/sync_xcx", this.serverDebugUrl = o + "/data_debug", this.configUrl = o + "/config", 
this.autoTrackProperties = {}, this._queue = [], this.updateConfig(this.configUrl, this.appId), 
e.isChildInstance ? this._state = {} : (y.enabled = e.enableLog, this.instances = [], 
this._state = {
getSystemInfo: !1,
initComplete: !1
}, E.getSystemInfo(function() {
t._updateState({
getSystemInfo: !0
});
}), S.setGlobal(this, this.name)), this.store = new R(e, function() {
t.config.asyncPersistence && a.isFunction(t.config.persistenceComplete) && t.config.persistenceComplete(t), 
t._updateState();
}), this.enabled = !a.isBoolean(this.store._get("ta_enabled")) || this.store._get("ta_enabled"), 
this.isOptOut = !!a.isBoolean(this.store._get("ta_isOptOut")) && this.store._get("ta_isOptOut"), 
!e.isChildInstance && e.autoTrack && (this.autoTrack = S.initAutoTrackInstance(this, e));
}
}, {
key: "updateConfig",
value: function(e, t) {
var o = this, n = a.createExtraHeaders();
n["content-type"] = "application/json";
var r = S.request({
url: e + "?appid=" + t,
method: "GET",
header: n,
success: function(e) {
a.isUndefined(e) || a.isUndefined(e.data) || (y.info("config update success(" + t + ") :" + JSON.stringify(e.data)), 
a.isUndefined(e.data.data) || (o.config.syncBatchSize = e.data.data.sync_batch_size, 
o.config.syncInterval = e.data.data.sync_interval, o.config.disableEventList = e.data.data.disable_event_list, 
a.isUndefined(e.data.data.secret_key) || (e = e.data.data.secret_key, o.config.secretKey = {
publicKey: e.key,
version: e.version
})));
},
fail: function(e) {
y.info("config update fail(" + t + ") :" + e.errMsg);
}
});
setTimeout(function() {
(a.isObject(r) || a.isPromise(r)) && a.isFunction(r.abort) && r.abort();
}, 3e3);
}
}, {
key: "initInstance",
value: function(t, o) {
if (this.config.isChildInstance) y.warn("initInstance() cannot be called on child instance"); else {
if (a.isString(t) && t !== this.name && a.isUndefined(this[t])) return o = new e(a.extend({}, this.config, {
enablePersistence: !1,
isChildInstance: !0,
name: t
}, o)), this[t] = o, this.instances.push(t), this[t]._state = this._state, o;
y.warn("initInstance() failed due to the name is invalid: " + t);
}
}
}, {
key: "lightInstance",
value: function(e) {
return this[e];
}
}, {
key: "_setAutoTrackProperties",
value: function(e) {
a.extend(this.autoTrackProperties, e);
}
}, {
key: "init",
value: function() {
if (this._state.initComplete) return !1;
this._updateState({
initComplete: !0
});
}
}, {
key: "_isReady",
value: function() {
return this._state.getSystemInfo && this._state.initComplete && this.store.initComplete && this.getDeviceId();
}
}, {
key: "_updateState",
value: function(e) {
var t = this;
a.isObject(e) && a.extend(this._state, e), this._onStateChange(), a.each(this.instances, function(e) {
t[e]._onStateChange();
});
}
}, {
key: "_onStateChange",
value: function() {
var e = this;
this._isReady() && this._queue && 0 < this._queue.length && (a.each(this._queue, function(t) {
e[t[0]].apply(e, l.call(t[1]));
}), this._queue = []);
}
}, {
key: "_hasDisabled",
value: function() {
var e = !this.enabled || this.isOptOut;
return e && y.info("ThinkingData is Pause or Stop!"), e;
}
}, {
key: "_sendRequest",
value: function(e, t, o) {
var n, r, i;
this._hasDisabled() || (a.isUndefined(this.config.disableEventList) || !this.config.disableEventList.includes(e.eventName) ? (t = a.isDate(t) ? t : new Date(), 
n = {
data: [ {
"#type": e.type,
"#time": a.formatDate(t),
"#distinct_id": this.store.getDistinctId()
} ]
}, this.store.getAccountId() && (n.data[0]["#account_id"] = this.store.getAccountId()), 
"track" === e.type || "track_update" === e.type || "track_overwrite" === e.type ? (n.data[0]["#event_name"] = e.eventName, 
"track_update" === e.type || "track_overwrite" === e.type ? n.data[0]["#event_id"] = e.extraId : e.firstCheckId && (n.data[0]["#first_check_id"] = e.firstCheckId), 
n.data[0].properties = a.extend({
"#zone_offset": 0 - t.getTimezoneOffset() / 60
}, E.properties, this.autoTrackProperties, this.store.getSuperProperties(), this.dynamicProperties ? this.dynamicProperties() : {}), 
t = this.store.removeEventTimer(e.eventName), a.isUndefined(t) || (r = new Date().getTime() - t, 
86400 < (i = parseFloat((r / 1e3).toFixed(3))) ? i = 86400 : i < 0 && (i = 0), n.data[0].properties["#duration"] = i)) : n.data[0].properties = {}, 
a.isObject(e.properties) && !a.isEmptyObject(e.properties) && a.extend(n.data[0].properties, e.properties), 
a.searchObjDate(n.data[0]), 1 < this.config.maxRetries && (n.data[0]["#uuid"] = a.UUIDv4()), 
n["#app_id"] = this.appId, y.info(JSON.stringify(n, null, 4)), r = "debug" === this.config.debugMode || "debugOnly" === this.config.debugMode ? this.serverDebugUrl : this.serverUrl, 
a.isBoolean(this.config.enableEncrypt) && 1 == this.config.enableEncrypt && (n.data[0] = a.generateEncryptyData(n.data[0], this.config.secretKey)), 
o ? (i = new FormData(), "debug" === this.config.debugMode || "debugOnly" === this.config.debugMode ? (i.append("source", "client"), 
i.append("appid", this.appId), i.append("dryRun", "debugOnly" === this.config.debugMode ? 1 : 0), 
i.append("deviceId", this.getDeviceId()), i.append("data", JSON.stringify(n.data[0]))) : (o = a.base64Encode(JSON.stringify(n)), 
i.append("data", o)), navigator.sendBeacon(r, i), a.isFunction(e.onComplete) && e.onComplete({
statusCode: 200
})) : k.enqueue(n, r, {
maxRetries: this.config.maxRetries,
sendTimeout: this.config.sendTimeout,
callback: e.onComplete,
debugMode: this.config.debugMode,
deviceId: this.getDeviceId()
})) : y.info("disabled Event : " + e.eventName));
}
}, {
key: "_isObjectParams",
value: function(e) {
return a.isObject(e) && a.isFunction(e.onComplete);
}
}, {
key: "track",
value: function(e, t, o, n) {
var r;
this._hasDisabled() || (this._isObjectParams(e) && (e = (r = e).eventName, t = r.properties, 
o = r.time, n = r.onComplete), O.event(e) && O.properties(t) || !this.config.strict ? this._internalTrack(e, t, o, n) : a.isFunction(n) && n({
code: -1,
msg: "invalid parameters"
}));
}
}, {
key: "trackUpdate",
value: function(e) {
var t;
this._hasDisabled() || (e && e.eventId && (O.event(e.eventName) && O.properties(e.properties) || !this.config.strict) ? (t = a.isDate(e.time) ? e.time : new Date(), 
this._isReady() ? this._sendRequest({
type: "track_update",
eventName: e.eventName,
properties: e.properties,
onComplete: e.onComplete,
extraId: e.eventId
}, t) : (e.time = t, this._queue.push([ "trackUpdate", [ e ] ]))) : (y.warn("Invalide parameter for trackUpdate: you should pass an object contains eventId to trackUpdate()"), 
a.isFunction(e.onComplete) && e.onComplete({
code: -1,
msg: "invalid parameters"
})));
}
}, {
key: "trackOverwrite",
value: function(e) {
var t;
this._hasDisabled() || (e && e.eventId && (O.event(e.eventName) && O.properties(e.properties) || !this.config.strict) ? (t = a.isDate(e.time) ? e.time : new Date(), 
this._isReady() ? this._sendRequest({
type: "track_overwrite",
eventName: e.eventName,
properties: e.properties,
onComplete: e.onComplete,
extraId: e.eventId
}, t) : (e.time = t, this._queue.push([ "trackOverwrite", [ e ] ]))) : (y.warn("Invalide parameter for trackOverwrite: you should pass an object contains eventId to trackOverwrite()"), 
a.isFunction(e.onComplete) && e.onComplete({
code: -1,
msg: "invalid parameters"
})));
}
}, {
key: "trackFirstEvent",
value: function(e) {
var t;
this._hasDisabled() || (e && e.eventName && (O.event(e.eventName) && O.properties(e.properties) || !this.config.strict) ? (t = a.isDate(e.time) ? e.time : new Date(), 
this._isReady() ? this._sendRequest({
type: "track",
eventName: e.eventName,
properties: e.properties,
onComplete: e.onComplete,
firstCheckId: e.firstCheckId || this.getDeviceId()
}, t) : (e.time = t, this._queue.push([ "trackFirstEvent", [ e ] ]))) : (y.warn("Invalide parameter for trackFirstEvent: you should pass an object contains eventName to trackFirstEvent()"), 
a.isFunction(e.onComplete) && e.onComplete({
code: -1,
msg: "invalid parameters"
})));
}
}, {
key: "_internalTrack",
value: function(e, t, o, n, r) {
this._hasDisabled() || (o = a.isDate(o) ? o : new Date(), this._isReady() ? this._sendRequest({
type: "track",
eventName: e,
properties: t,
onComplete: n
}, o, r) : this._queue.push([ "_internalTrack", [ e, t, o, n ] ]));
}
}, {
key: "userSet",
value: function(e, t, o) {
var n;
this._hasDisabled() || (this._isObjectParams(e) && (e = (n = e).properties, t = n.time, 
o = n.onComplete), O.propertiesMust(e) || !this.config.strict ? (t = a.isDate(t) ? t : new Date(), 
this._isReady() ? this._sendRequest({
type: "user_set",
properties: e,
onComplete: o
}, t) : this._queue.push([ "userSet", [ e, t, o ] ])) : (y.warn("calling userSet failed due to invalid arguments"), 
a.isFunction(o) && o({
code: -1,
msg: "invalid parameters"
})));
}
}, {
key: "userSetOnce",
value: function(e, t, o) {
var n;
this._hasDisabled() || (this._isObjectParams(e) && (e = (n = e).properties, t = n.time, 
o = n.onComplete), O.propertiesMust(e) || !this.config.strict ? (t = a.isDate(t) ? t : new Date(), 
this._isReady() ? this._sendRequest({
type: "user_setOnce",
properties: e,
onComplete: o
}, t) : this._queue.push([ "userSetOnce", [ e, t, o ] ])) : (y.warn("calling userSetOnce failed due to invalid arguments"), 
a.isFunction(o) && o({
code: -1,
msg: "invalid parameters"
})));
}
}, {
key: "userUnset",
value: function(e, t, o) {
var n;
this._hasDisabled() || (this._isObjectParams(n) && (e = n.property, t = n.time, 
o = n.onComplete), O.propertyName(e) || !this.config.strict ? (t = a.isDate(t) ? t : new Date(), 
this._isReady() ? ((n = {})[e] = 0, this._sendRequest({
type: "user_unset",
properties: n,
onComplete: o
}, t)) : this._queue.push([ "userUnset", [ e, o, t ] ])) : (y.warn("calling userUnset failed due to invalid arguments"), 
a.isFunction(o) && o({
code: -1,
msg: "invalid parameters"
})));
}
}, {
key: "userDel",
value: function(e, t) {
var o;
this._hasDisabled() || (this._isObjectParams(e) && (e = (o = e).time, t = o.onComplete), 
e = a.isDate(e) ? e : new Date(), this._isReady() ? this._sendRequest({
type: "user_del",
onComplete: t
}, e) : this._queue.push([ "userDel", [ e, t ] ]));
}
}, {
key: "userAdd",
value: function(e, t, o) {
var n;
this._hasDisabled() || (this._isObjectParams(e) && (e = (n = e).properties, t = n.time, 
o = n.onComplete), O.userAddProperties(e) || !this.config.strict ? (t = a.isDate(t) ? t : new Date(), 
this._isReady() ? this._sendRequest({
type: "user_add",
properties: e,
onComplete: o
}, t) : this._queue.push([ "userAdd", [ e, t, o ] ])) : (y.warn("calling userAdd failed due to invalid arguments"), 
a.isFunction(o) && o({
code: -1,
msg: "invalid parameters"
})));
}
}, {
key: "userAppend",
value: function(e, t, o) {
var n;
this._hasDisabled() || (this._isObjectParams(e) && (e = (n = e).properties, t = n.time, 
o = n.onComplete), O.userAppendProperties(e) || !this.config.strict ? (t = a.isDate(t) ? t : new Date(), 
this._isReady() ? this._sendRequest({
type: "user_append",
properties: e,
onComplete: o
}, t) : this._queue.push([ "userAppend", [ e, t, o ] ])) : (y.warn("calling userAppend failed due to invalid arguments"), 
a.isFunction(o) && o({
code: -1,
msg: "invalid parameters"
})));
}
}, {
key: "userUniqAppend",
value: function(e, t, o) {
var n;
this._hasDisabled() || (this._isObjectParams(e) && (e = (n = e).properties, t = n.time, 
o = n.onComplete), O.userAppendProperties(e) || !this.config.strict ? (t = a.isDate(t) ? t : new Date(), 
this._isReady() ? this._sendRequest({
type: "user_uniq_append",
properties: e,
onComplete: o
}, t) : this._queue.push([ "userUniqAppend", [ e, t, o ] ])) : (y.warn("calling userAppend failed due to invalid arguments"), 
a.isFunction(o) && o({
code: -1,
msg: "invalid parameters"
})));
}
}, {
key: "authorizeOpenID",
value: function(e) {
this.identify(e);
}
}, {
key: "identify",
value: function(e) {
if (!this._hasDisabled()) {
if ("number" == typeof e) e = String(e); else if ("string" != typeof e) return !1;
this.store.setDistinctId(e);
}
}
}, {
key: "getDistinctId",
value: function() {
return this.store.getDistinctId();
}
}, {
key: "login",
value: function(e) {
if (!this._hasDisabled()) {
if ("number" == typeof e) e = String(e); else if ("string" != typeof e) return !1;
this.store.setAccountId(e);
}
}
}, {
key: "getAccountId",
value: function() {
return this.store.getAccountId();
}
}, {
key: "logout",
value: function() {
this._hasDisabled() || this.store.setAccountId(null);
}
}, {
key: "setSuperProperties",
value: function(e) {
this._hasDisabled() || (O.propertiesMust(e) || !this.config.strict ? this.store.setSuperProperties(e) : y.warn("setSuperProperties parameter must be a valid property value"));
}
}, {
key: "clearSuperProperties",
value: function() {
this._hasDisabled() || this.store.setSuperProperties({}, !0);
}
}, {
key: "unsetSuperProperty",
value: function(e) {
var t;
this._hasDisabled() || a.isString(e) && (delete (t = this.getSuperProperties())[e], 
this.store.setSuperProperties(t, !0));
}
}, {
key: "getSuperProperties",
value: function() {
return this.store.getSuperProperties();
}
}, {
key: "getPresetProperties",
value: function() {
var e = E.properties, t = {}, o = e["#os"];
t.os = a.isUndefined(o) ? "" : o, o = e["#screen_width"], t.screenWidth = a.isUndefined(o) ? 0 : o, 
o = e["#screen_height"], t.screenHeight = a.isUndefined(o) ? 0 : o, o = e["#network_type"], 
t.networkType = a.isUndefined(o) ? "" : o, o = e["#device_model"], t.deviceModel = a.isUndefined(o) ? "" : o, 
o = e["#os_version"], t.osVersion = a.isUndefined(o) ? "" : o, t.deviceId = this.getDeviceId();
var n = 0 - new Date().getTimezoneOffset() / 60;
return t.zoneOffset = n, e = e["#manufacturer"], t.manufacturer = a.isUndefined(e) ? "" : e, 
t.toEventPresetProperties = function() {
return {
"#device_model": t.deviceModel,
"#device_id": t.deviceId,
"#screen_width": t.screenWidth,
"#screen_height": t.screenHeight,
"#os": t.os,
"#os_version": t.osVersion,
"#network_type": t.networkType,
"#zone_offset": n,
"#manufacturer": t.manufacturer
};
}, t;
}
}, {
key: "setDynamicSuperProperties",
value: function(e) {
this._hasDisabled() || ("function" == typeof e ? O.properties(e()) || !this.config.strict ? this.dynamicProperties = e : y.warn("A dynamic public property must return a valid property value") : y.warn("setDynamicSuperProperties parameter must be a function type"));
}
}, {
key: "timeEvent",
value: function(e, t) {
this._hasDisabled() || (t = a.isDate(t) ? t : new Date(), this._isReady() ? O.event(e) || !this.config.strict ? this.store.setEventTimer(e, t.getTime()) : y.warn("calling timeEvent failed due to invalid eventName: " + e) : this._queue.push([ "timeEvent", [ e, t ] ]));
}
}, {
key: "getDeviceId",
value: function() {
return E.properties["#device_id"];
}
}, {
key: "enableTracking",
value: function(e) {
this.enabled = e, this.store._set("ta_enabled", e);
}
}, {
key: "optOutTracking",
value: function() {
this.store.setSuperProperties({}, !0), this.store.setDistinctId(a.UUID()), this.store.setAccountId(null), 
this._queue.splice(0, this._queue.length), this.isOptOut = !0, this.store._set("ta_isOptOut", !0);
}
}, {
key: "optOutTrackingAndDeleteUser",
value: function() {
var e = new Date();
this._sendRequest({
type: "user_del"
}, e), this.optOutTracking();
}
}, {
key: "optInTracking",
value: function() {
this.isOptOut = !1, this.store._set("ta_isOptOut", !1);
}
}, {
key: "setTrackStatus",
value: function(e) {
switch (e) {
case "PAUSE":
this.eventSaveOnly = !1, this.optInTracking(), this.enableTracking(!1);
break;

case "STOP":
this.eventSaveOnly = !1, this.optOutTracking(!0);
break;

default:
this.eventSaveOnly = !1, this.optInTracking(), this.enableTracking(!0);
}
}
} ]), e;
}(), L = {
name: "thinkingdata",
enableLog: !0,
enableNative: !1
}, M = function() {
function e(t) {
n(this, e), t.appId = t.appId ? a.checkAppId(t.appId) : a.checkAppId(t.appid), t.serverUrl = t.serverUrl ? a.checkUrl(t.serverUrl) : a.checkUrl(t.server_url);
var o = a.extend({}, L, S.getConfig());
a.isObject(t) ? this.config = a.extend(o, t) : this.config = o, this._init(this.config);
}
return i(e, [ {
key: "_isNativePlatform",
value: function() {
return !(!this._isIOS() && !this._isAndroid() || !this.config.enableNative);
}
}, {
key: "_isIOS",
value: function() {
return !(!cc.sys.isNative || "iOS" !== cc.sys.os);
}
}, {
key: "_isAndroid",
value: function() {
return !(!cc.sys.isNative || "Android" !== cc.sys.os);
}
}, {
key: "_init",
value: function(e) {
this.name = e.name, this.appId = e.appId || e.appid, this._isNativePlatform() ? (this.initInstanceForNative(this.name, e, this.appId), 
this._readStorage(e)) : this.taJs = new ThinkingAnalyticsAPIForJS(e);
}
}, {
key: "_readStorage",
value: function(e) {
var t = this, o = e.persistenceName, n = e.persistenceNameOld;
e.isChildInstance && (o = e.persistenceName + "_" + e.name, n = e.persistenceNameOld + "_" + e.name), 
this._state = S.getStorage(o) || {}, a.isEmptyObject(this._state) && (this._state = S.getStorage(n) || {}), 
a.isEmptyObject(this._state) ? S.getStorage(o, !0, function(e) {
a.isEmptyObject(e) ? S.getStorage(n, !0, function(e) {
t._state = a.extend2Layers({}, e, t._state);
}) : t._state = a.extend2Layers({}, e, t._state), t._state.distinct_id && t.identifyForNative(t._state.distinct_id), 
t._state.account_id && t.loginForNative(t._state.account_id);
}) : (this._state.distinct_id && this.identifyForNative(this._state.distinct_id), 
this._state.account_id && this.loginForNative(this._state.account_id));
}
}, {
key: "initInstance",
value: function(e, t) {
return this._isNativePlatform() ? a.isUndefined(t) ? this[e] = new ThinkingAnalyticsAPI(this.config) : this[e] = new ThinkingAnalyticsAPI(t) : this[e] = this.taJs.initInstance(e, t), 
this[e];
}
}, {
key: "lightInstance",
value: function(e) {
return this[e];
}
}, {
key: "init",
value: function() {
if (this._isNativePlatform()) {
var e = window, t = this;
return e.__autoTrackCallback = function(e) {
return a.isFunction(t.config.autoTrack.callback) ? (e = t.config.autoTrack.callback(e), 
JSON.stringify(e)) : "{}";
}, void this.startThinkingAnalyticsForNative();
}
this.taJs.init();
}
}, {
key: "track",
value: function(e, t, o, n) {
this._isNativePlatform() ? this.trackForNative(e, t, o, this.appId) : this.taJs.track(e, t, o, n);
}
}, {
key: "trackUpdate",
value: function(e) {
this._isNativePlatform() ? this.trackUpdateForNative(e, this.appId) : this.taJs.trackUpdate(e);
}
}, {
key: "trackOverwrite",
value: function(e) {
this._isNativePlatform() ? this.trackOverwriteForNative(e, this.appId) : this.taJs.trackOverwrite(e);
}
}, {
key: "trackFirstEvent",
value: function(e) {
this._isNativePlatform() ? this.trackFirstEventForNative(e, this.appId) : this.taJs.trackFirstEvent(e);
}
}, {
key: "userSet",
value: function(e, t, o) {
this._isNativePlatform() ? this.userSetForNative(e, this.appId) : this.taJs.userSet(e, t, o);
}
}, {
key: "userSetOnce",
value: function(e, t, o) {
this._isNativePlatform() ? this.userSetOnceForNative(e, this.appId) : this.taJs.userSetOnce(e, t, o);
}
}, {
key: "userUnset",
value: function(e, t, o) {
this._isNativePlatform() ? this.userUnsetForNative(e, this.appId) : this.taJs.userUnset(e, t, o);
}
}, {
key: "userDel",
value: function(e, t) {
this._isNativePlatform() ? this.userDelForNative(this.appId) : this.taJs.userDel(e, t);
}
}, {
key: "userAdd",
value: function(e, t, o) {
this._isNativePlatform() ? this.userAddForNative(e, this.appId) : this.taJs.userAdd(e, t, o);
}
}, {
key: "userAppend",
value: function(e, t, o) {
this._isNativePlatform() ? this.userAppendForNative(e, this.appId) : this.taJs.userAppend(e, t, o);
}
}, {
key: "userUniqAppend",
value: function(e, t, o) {
this._isNativePlatform() ? this.userUniqAppendForNative(e, this.appId) : this.taJs.userUniqAppend(e, t, o);
}
}, {
key: "authorizeOpenID",
value: function(e) {
this.identify(e);
}
}, {
key: "identify",
value: function(e) {
this._isNativePlatform() ? this.identifyForNative(e, this.appId) : this.taJs.identify(e);
}
}, {
key: "getDistinctId",
value: function() {
return this._isNativePlatform() ? this.getDistinctIdForNative(this.appId) : this.taJs.getDistinctId();
}
}, {
key: "login",
value: function(e) {
this._isNativePlatform() ? this.loginForNative(e, this.appId) : this.taJs.login(e);
}
}, {
key: "getAccountId",
value: function() {
return this._isNativePlatform() ? this.getAccountIdForNative(this.appId) : this.taJs.getAccountId();
}
}, {
key: "logout",
value: function() {
this._isNativePlatform() ? this.logoutForNative(this.appId) : this.taJs.logout();
}
}, {
key: "setSuperProperties",
value: function(e) {
this._isNativePlatform() ? this.setSuperPropertiesForNative(e, this.appId) : this.taJs.setSuperProperties(e);
}
}, {
key: "clearSuperProperties",
value: function() {
this._isNativePlatform() ? this.clearSuperPropertiesForNative(this.appId) : this.taJs.clearSuperProperties();
}
}, {
key: "unsetSuperProperty",
value: function(e) {
this._isNativePlatform() ? this.unsetSuperPropertyForNative(e, this.appId) : this.taJs.unsetSuperProperty(e);
}
}, {
key: "getSuperProperties",
value: function() {
return this._isNativePlatform() ? this.getSuperPropertiesForNative(this.appId) : this.taJs.getSuperProperties();
}
}, {
key: "getPresetProperties",
value: function() {
if (this._isNativePlatform()) {
var e = this.getPresetPropertiesForNative(this.appId), t = {}, o = e["#os"];
t.os = a.isUndefined(o) ? "" : o, o = e["#screen_width"], t.screenWidth = a.isUndefined(o) ? 0 : o, 
o = e["#screen_height"], t.screenHeight = a.isUndefined(o) ? 0 : o, o = e["#network_type"], 
t.networkType = a.isUndefined(o) ? "" : o, o = e["#device_model"], t.deviceModel = a.isUndefined(o) ? "" : o, 
o = e["#os_version"], t.osVersion = a.isUndefined(o) ? "" : o, t.deviceId = this.getDeviceId();
var n = 0 - new Date().getTimezoneOffset() / 60;
return t.zoneOffset = n, e = e["#manufacturer"], t.manufacturer = a.isUndefined(e) ? "" : e, 
t.toEventPresetProperties = function() {
return {
"#device_model": t.deviceModel,
"#device_id": t.deviceId,
"#screen_width": t.screenWidth,
"#screen_height": t.screenHeight,
"#os": t.os,
"#os_version": t.osVersion,
"#network_type": t.networkType,
"#zone_offset": n,
"#manufacturer": t.manufacturer
};
}, t;
}
return this.taJs.getPresetProperties();
}
}, {
key: "setDynamicSuperProperties",
value: function(e) {
this._isNativePlatform() ? "function" == typeof e ? (this.dynamicProperties = e, 
window.__dynamicPropertiesForNative = function(t) {
return console.log("__dynamicPropertiesForNative: native msg: ", t), t = e(), t = a.encodeDates(t), 
JSON.stringify(t);
}, this.setDynamicSuperPropertiesForNative("__dynamicPropertiesForNative")) : logger.warn("setDynamicSuperProperties parameter must be a function type") : this.taJs.setDynamicSuperProperties(e);
}
}, {
key: "timeEvent",
value: function(e, t) {
return this._isNativePlatform() ? this.timeEventForNative(e, this.appId) : this.taJs.timeEvent(e, t);
}
}, {
key: "getDeviceId",
value: function() {
return this._isNativePlatform() ? this.getDeviceIdForNative(this.appId) : this.taJs.getDeviceId();
}
}, {
key: "enableTracking",
value: function(e) {
this._isNativePlatform() ? this.enableTrackingForNative(e, this.appId) : this.taJs.enableTracking(e);
}
}, {
key: "optOutTracking",
value: function() {
this._isNativePlatform() ? this.optOutTrackingForNative(this.appId) : this.taJs.optOutTracking();
}
}, {
key: "optOutTrackingAndDeleteUser",
value: function() {
this._isNativePlatform() ? this.optOutTrackingAndDeleteUserForNative(this.appId) : this.taJs.optOutTrackingAndDeleteUser();
}
}, {
key: "optInTracking",
value: function() {
this._isNativePlatform() ? this.optInTrackingForNative(this.appId) : this.taJs.optInTracking();
}
}, {
key: "setTrackStatus",
value: function(e) {
this._isNativePlatform() ? this.setTrackStatusForNative(e, this.appId) : this.taJs.setTrackStatus(e);
}
}, {
key: "trackForNative",
value: function(e, t, o, n) {
o = a.isDate(o) ? a.formatDate(o) : "", a.isUndefined(t) && (t = {}), t = a.extend(t, this.dynamicProperties ? this.dynamicProperties() : {}), 
t = a.encodeDates(t), this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "track", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", e, JSON.stringify(t), o, n) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "track:properties:time:appId:", e, JSON.stringify(t), o, n);
}
}, {
key: "trackUpdateForNative",
value: function(e, t) {
e.properties = a.extend(a.isUndefined(e.properties) ? {} : e.properties, this.dynamicProperties ? this.dynamicProperties() : {}), 
e = a.encodeDates(e), this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "trackUpdate", "(Ljava/lang/String;Ljava/lang/String;)V", JSON.stringify(e), t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "trackUpdate:appId:", JSON.stringify(e), t);
}
}, {
key: "trackFirstEventForNative",
value: function(e, t) {
e.properties = a.extend(a.isUndefined(e.properties) ? {} : e.properties, this.dynamicProperties ? this.dynamicProperties() : {}), 
e = a.encodeDates(e), this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "trackFirstEvent", "(Ljava/lang/String;Ljava/lang/String;)V", JSON.stringify(e), t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "trackFirstEvent:appId:", JSON.stringify(e), t);
}
}, {
key: "trackOverwriteForNative",
value: function(e, t) {
e.properties = a.extend(a.isUndefined(e.properties) ? {} : e.properties, this.dynamicProperties ? this.dynamicProperties() : {}), 
e = a.encodeDates(e), this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "trackOverwrite", "(Ljava/lang/String;Ljava/lang/String;)V", JSON.stringify(e), t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "trackOverwrite:appId:", JSON.stringify(e), t);
}
}, {
key: "timeEventForNative",
value: function(e, t) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "timeEvent", "(Ljava/lang/String;Ljava/lang/String;)V", e, t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "timeEvent:appId:", e, t);
}
}, {
key: "loginForNative",
value: function(e, t) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "login", "(Ljava/lang/String;Ljava/lang/String;)V", e, t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "login:appId:", e, t);
}
}, {
key: "logoutForNative",
value: function(e) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "logout", "(Ljava/lang/String;)V", e) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "logout:", e);
}
}, {
key: "setSuperPropertiesForNative",
value: function(e, t) {
e = a.encodeDates(e), this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "setSuperProperties", "(Ljava/lang/String;Ljava/lang/String;)V", JSON.stringify(e), t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "setSuperProperties:appId:", JSON.stringify(e), t);
}
}, {
key: "getSuperPropertiesForNative",
value: function(e) {
var t = "{}";
return this._isAndroid() ? t = jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "getSuperProperties", "(Ljava/lang/String;)V", e) : this._isIOS() && (t = jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "getSuperProperties:", e)), 
JSON.parse(t);
}
}, {
key: "unsetSuperPropertyForNative",
value: function(e, t) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "unsetSuperProperty", "(Ljava/lang/String;Ljava/lang/String;)V", e, t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "unsetSuperProperty:appId:", e, t);
}
}, {
key: "clearSuperPropertiesForNative",
value: function(e) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "clearSuperProperties", "(Ljava/lang/String;)V", e) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "clearSuperProperties:", e);
}
}, {
key: "userSetForNative",
value: function(e, t) {
e = a.encodeDates(e), this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "userSet", "(Ljava/lang/String;Ljava/lang/String;)V", JSON.stringify(e), t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "userSet:appId:", JSON.stringify(e), t);
}
}, {
key: "userSetOnceForNative",
value: function(e, t) {
e = a.encodeDates(e), this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "userSetOnce", "(Ljava/lang/String;Ljava/lang/String;)V", JSON.stringify(e), t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "userSetOnce:appId:", JSON.stringify(e), t);
}
}, {
key: "userAppendForNative",
value: function(e, t) {
e = a.encodeDates(e), this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "userAppend", "(Ljava/lang/String;Ljava/lang/String;)V", JSON.stringify(e), t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "userAppend:appId:", JSON.stringify(e), t);
}
}, {
key: "userUniqAppendForNative",
value: function(e, t) {
e = a.encodeDates(e), this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "userUniqAppend", "(Ljava/lang/String;Ljava/lang/String;)V", JSON.stringify(e), t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "userUniqAppend:appId:", JSON.stringify(e), t);
}
}, {
key: "userAddForNative",
value: function(e, t) {
e = a.encodeDates(e), this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "userAdd", "(Ljava/lang/String;Ljava/lang/String;)V", JSON.stringify(e), t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "userAdd:appId:", JSON.stringify(e), t);
}
}, {
key: "userUnsetForNative",
value: function(e, t) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "userUnset", "(Ljava/lang/String;Ljava/lang/String;)V", e, t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "userUnset:appId:", e, t);
}
}, {
key: "userDelForNative",
value: function(e) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "userDel", "(Ljava/lang/String;)V", e) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "userDel:", e);
}
}, {
key: "authorizeOpenIDForNative",
value: function(e, t) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "authorizeOpenID", "(Ljava/lang/String;Ljava/lang/String;)V", e, t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "authorizeOpenID:appId:", e, t);
}
}, {
key: "identifyForNative",
value: function(e, t) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "identify", "(Ljava/lang/String;Ljava/lang/String;)V", e, t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "identify:appId:", e, t);
}
}, {
key: "initInstanceForNative",
value: function(e, t, o) {
this._isAndroid() ? (jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "setCustomerLibInfo", "(Ljava/lang/String;Ljava/lang/String;)V", "MG", "2.1.0"), 
a.isUndefined(t) ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "initInstanceAppId", "(Ljava/lang/String;Ljava/lang/String;)V", e, o) : jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "initInstanceConfig", "(Ljava/lang/String;Ljava/lang/String;)V", e, JSON.stringify(t))) : this._isIOS() && (jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "setCustomerLibInfoWithLibName:libVersion:", "MG", "2.1.0"), 
a.isUndefined(t) ? jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "initInstance:appId:", e, o) : jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "initInstance:config:", e, JSON.stringify(t)));
}
}, {
key: "lightInstanceForNative",
value: function(e, t) {
return this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "lightInstance", "(Ljava/lang/String;Ljava/lang/String;)V", e, t) : this._isIOS() ? jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "lightInstance:appId:", e, t) : void 0;
}
}, {
key: "startThinkingAnalyticsForNative",
value: function(e) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "startThinkingAnalytics", "(Ljava/lang/String;)V", e) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "startThinkingAnalytics:", e);
}
}, {
key: "setDynamicSuperPropertiesForNative",
value: function(e, t) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "setDynamicSuperProperties", "(Ljava/lang/String;Ljava/lang/String;)V", e, t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "setDynamicSuperProperties:appId:", e, t);
}
}, {
key: "getDeviceIdForNative",
value: function(e) {
return this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "getDeviceId", "(Ljava/lang/String;)Ljava/lang/String;", e) : this._isIOS() ? jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "getDeviceId:", e) : void 0;
}
}, {
key: "getDistinctIdForNative",
value: function(e) {
return this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "getDistinctId", "(Ljava/lang/String;)Ljava/lang/String;", e) : this._isIOS() ? jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "getDistinctId:", e) : void 0;
}
}, {
key: "getAccountIdForNative",
value: function(e) {
return this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "getAccountId", "(Ljava/lang/String;)Ljava/lang/String;", e) : this._isIOS() ? jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "getAccountId:", e) : void 0;
}
}, {
key: "getPresetPropertiesForNative",
value: function(e) {
var t = "{}";
return this._isAndroid() ? t = jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "getPresetProperties", "(Ljava/lang/String;)Ljava/lang/String;", e) : this._isIOS() && (t = jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "getPresetProperties:", e)), 
JSON.parse(t);
}
}, {
key: "enableTrackingForNative",
value: function(e, t) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "enableTracking", "(Ljava/lang/String;Ljava/lang/String;)V", e.toString(), t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "enableTracking:appId:", e.toString(), t);
}
}, {
key: "optOutTrackingForNative",
value: function(e) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "optOutTracking", "(Ljava/lang/String;)V", e) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "optOutTracking:", e);
}
}, {
key: "optOutTrackingAndDeleteUserForNative",
value: function(e) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "optOutTrackingAndDeleteUser", "(Ljava/lang/String;)V", e) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "optOutTrackingAndDeleteUser:", e);
}
}, {
key: "optInTrackingForNative",
value: function(e) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "optInTracking", "(Ljava/lang/String;)V", e) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "optInTracking:", e);
}
}, {
key: "setTrackStatusForNative",
value: function(e, t) {
this._isAndroid() ? jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi", "setTrackStatus", "(Ljava/lang/String;Ljava/lang/String;)V", e, t) : this._isIOS() && jsb.reflection.callStaticMethod("CocosCreatorProxyApi", "setTrackStatus:appId:", e, t);
}
} ]), e;
}();
window.ThinkingAnalyticsAPI = M, window.ThinkingAnalyticsAPIForJS = T;
cc._RF.pop();
}, {} ],
topUiLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "66108Xuwc1FDr3Qf3OyCrBI", "topUiLayer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("flying-item-pop-coin"), l = r("main-cookie-reward"), u = r("dataTs"), p = r("enumConfig"), d = r("GameManager"), f = cc._decorator, h = f.ccclass, y = f.property, m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.coinNumLabel = null, t.flyCoinNode = null, t.topCoinNode = null, t.cookieReward = null, 
t.moneyData = null, t;
}
return a(t, e), t.prototype.start = function() {
cc.game.on(p.EMITKEY.MAINUPDATEUI, this.setMainLayerData, this), this.setMainLayerData();
}, t.prototype.setMainLayerData = function() {
console.log("topUiLayer MAINUPDATEUI");
var e = u.default.getUserData();
d.default.getInstance().moneyDict, d.default.getInstance().cookieDict, this.coinNumLabel.string = e.coin + "", 
this.checkCoinOrFish();
}, t.prototype.getFlyTime = function(e, t, o) {
return Math.sqrt((o.x - t.x) * (o.x - t.x) + (o.y - t.y) * (o.y - t.y)) / e;
}, t.prototype.updatenNumberAnim = function(e, t, o) {
var n = {
num: t
}, r = e.getComponent(cc.Label);
r.string = n.num + "", console.log((o - t) / 10);
1 < (t = o - t < 10 ? .3 : (o - t) / 10 * .3) && (t = 1), cc.tween(n).to(t, {
num: o
}, {
progress: function(e, t, o, n) {
return r.string = Math.ceil(e + (t - e) * n) + "", e + (t - e) * n;
}
}).start();
}, t.prototype.checkCoinOrFish = function() {
console.log("checkCoinOrFish moneyDict", d.default.getInstance().moneyDict), console.log("checkCoinOrFish cookieDict", d.default.getInstance().cookieDict), 
this.moneyData = d.default.getInstance().moneyDict;
var e = this.moneyData.coin, t = (this.moneyData.fish, d.default.getInstance().cookieDict.cookie), o = u.default.getUserData();
this.coinNumLabel.string = o.coin - e + "", 0 < e ? this.flyCoinFunc() : 0 < t && this.flyCookieFunc();
}, t.prototype.flyCoinFunc = function() {
console.log("flyCoinFunc"), cc.game.emit(p.EMITKEY.SHOWMASKLAYER, 7);
var e = this, t = {
firstCallBack: function() {
console.log("金币开始飞行");
var t = d.default.getInstance().moneyDict.coin, o = u.default.getUserData();
e.updatenNumberAnim(e.coinNumLabel.node, o.coin - t, o.coin);
},
callBack: function() {
console.log("金币飞行结束"), d.default.getInstance().moneyDict.coin = 0, e.flyCoinNode.active = !1, 
cc.game.emit(p.EMITKEY.HIDEMASKLAYER, 12), 0 < d.default.getInstance().cookieDict.cookie && e.flyCookieFunc();
}
};
this.flyCoinNode.active = !0, this.flyCoinNode.getComponent(c.default).flyTo(this.topCoinNode, t);
}, t.prototype.flyCookieFunc = function() {
u.default.getUserData().playLevelId < 17 || (console.log("flyCookieFunc"), cc.game.emit(p.EMITKEY.SHOWMASKLAYER, 7), 
this.cookieReward.getComponent(l.default).checkCookie(function() {
cc.game.emit(p.EMITKEY.HIDEMASKLAYER, 12), console.log("获取饼干动画完毕 ###");
}));
}, t.prototype.getWorldPosition = function(e) {
return e.convertToWorldSpaceAR(cc.v2(0, 0));
}, t.prototype.getNodePosition = function(e, t) {
return e.convertToNodeSpaceAR(t);
}, s([ y(cc.Label) ], t.prototype, "coinNumLabel", void 0), s([ y(cc.Node) ], t.prototype, "flyCoinNode", void 0), 
s([ y(cc.Node) ], t.prototype, "topCoinNode", void 0), s([ y(cc.Node) ], t.prototype, "cookieReward", void 0), 
s([ h ], t);
}(cc.Component);
i.default = m;
cc._RF.pop();
}, {} ],
"topic-card-node": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1be56R1zVlJqa9MONuCRdDg", "topic-card-node");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
r("CcJsFunc");
var c = cc._decorator, l = c.ccclass, u = c.property, p = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.iconHeader = null, t.purpleNode = null, t.blueNode = null, t.nickNameNode = null, 
t.cityNode = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.showData = function() {}, 
s([ u(cc.Node) ], t.prototype, "iconHeader", void 0), s([ u(cc.Node) ], t.prototype, "purpleNode", void 0), 
s([ u(cc.Node) ], t.prototype, "blueNode", void 0), s([ u(cc.Node) ], t.prototype, "nickNameNode", void 0), 
s([ u(cc.Node) ], t.prototype, "cityNode", void 0), s([ l ], t);
}(cc.Component);
i.default = p;
cc._RF.pop();
}, {} ],
"topic-header-node": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "bf959UaKZ5L25ZRO1LSyISJ", "topic-header-node");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
r("api-sheep"), r("CcJsFunc"), r("dataTs");
var c = cc._decorator, l = c.ccclass, u = c.property, p = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.manHeader = null, t.womanHeader = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.showData = function() {}, 
s([ u(cc.Node) ], t.prototype, "manHeader", void 0), s([ u(cc.Node) ], t.prototype, "womanHeader", void 0), 
s([ l ], t);
}(cc.Component);
i.default = p;
cc._RF.pop();
}, {} ],
"topic-rank": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e59f1N9al1CCKpf6SOs72TQ", "topic-rank");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
}, c = function(e, t, o, n) {
return new (o = o || Promise)(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
var t;
e.done ? r(e.value) : ((t = e.value) instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
}
c((n = n.apply(e, t || [])).next());
});
}, l = function(e, t) {
var o, n, r, i = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
}, a = {
next: s(0),
throw: s(1),
return: s(2)
};
return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(a) {
return function(s) {
return function(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;i; ) try {
if (o = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, a[1])).done) return r;
switch (n = 0, (a = r ? [ 2 & a[0], r.value ] : a)[0]) {
case 0:
case 1:
r = a;
break;

case 4:
return i.label++, {
value: a[1],
done: !1
};

case 5:
i.label++, n = a[1], a = [ 0 ];
continue;

case 7:
a = i.ops.pop(), i.trys.pop();
continue;

default:
if (!(r = 0 < (r = i.trys).length && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
i = 0;
continue;
}
if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
i.label = a[1];
break;
}
if (6 === a[0] && i.label < r[1]) {
i.label = r[1], r = a;
break;
}
if (r && i.label < r[2]) {
i.label = r[2], i.ops.push(a);
break;
}
r[2] && i.ops.pop(), i.trys.pop();
continue;
}
a = t.call(e, i);
} catch (e) {
a = [ 6, e ], n = 0;
} finally {
o = r = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}([ a, s ]);
};
}
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var u = r("api-sheep"), p = r("CcJsFunc"), d = r("dataTs"), f = r("spine"), h = r("data-manager"), y = r("GameManager"), m = r("ScrollMsg"), g = r("topic-sheep-node"), b = r("topic-header-node"), v = r("topic-card-node"), _ = r("enumConfig"), w = r("report-common"), N = cc._decorator, P = N.ccclass, A = N.property, S = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.topicUI = null, t.tombScrollPrefabs = null, t.tombScroll = null, t.tombScrollMsg = null, 
t.toaistScroll = null, t.toaistScrollMsg = null, t.BGSP = null, t.tombSP = null, 
t.toaistSP = null, t.spotSP = null, t.DJSP = null, t.tombDeadLabel = null, t.taoistDeadLabel = null, 
t.sheepNodeBase = null, t.sheepNode = null, t.cardNodePrefab = null, t.cardNode = null, 
t.headerNodeBase = null, t.headerNode = null, t.marginH = 0, t.boundBox = null, 
t.sheepArray = [], t.isMoving = !1, t.topicRankModel = null, t.userIdx = 0, t.userID = null, 
t.scrollToPosition = !1, t.contentY = 0, t.curSheepNode = null, t;
}
return a(t, e), t.prototype.start = function() {
var e = this, t = this;
cc.game.on(_.EMITKEY.TOPICPOSITION, this.topicPositionFunc, this), this.node.on(cc.Node.EventType.TOUCH_MOVE, function(e) {
e = e.touch.getDelta();
t.moveActionFunc(e.y);
}), this.node.on(cc.Node.EventType.TOUCH_END, function(e) {
e = e.touch.getDelta();
t.moveActionEndFunc(e.y);
}), this.tombScrollMsg = cc.instantiate(this.tombScrollPrefabs), this.tombScroll.addChild(this.tombScrollMsg), 
this.toaistScrollMsg = cc.instantiate(this.tombScrollPrefabs), this.toaistScroll.addChild(this.toaistScrollMsg), 
setTimeout(function() {
e.boundBox = cc.rect(0, 0, cc.winSize.width, cc.winSize.height);
}, 100), this.cardNode = cc.instantiate(this.cardNodePrefab), this.node.addChild(this.cardNode), 
this.cardNode.opacity = 0;
}, t.prototype.topicPositionFunc = function() {
var e = this;
this.node.stopAllActions(), this.scrollToPosition = !0;
var t = .3 * this.userIdx;
2 <= (t = 0 == t ? .5 : t) && (t = 2);
var o = 4 < this.userIdx ? 100 * (this.userIdx - 5) : 0;
cc.tween(this.node).to(t, {
y: this.contentY - o
}, {
easing: cc.easing.cubicOut
}).call(function() {
var t;
e.scrollToPosition = !1, e.curSheepNode && (1 == y.default.getInstance().game_over ? (y.default.getInstance().game_over = 0, 
e.curSheepNode.getComponent(g.default).playFlashAnimation()) : (t = e.curSheepNode.getComponent(g.default).getUserID(), 
u.default.getTopicUserInfo(t, function(t) {
0 == t.err_code && t.data && t.data.user && e.showCardNode(e.curSheepNode.x, e.curSheepNode.y + 150, t.data.user);
})));
}, this).start();
}, t.prototype.onEnable = function() {
this.requestData();
}, t.prototype.onDisable = function() {
var e;
this.topicRankModel && (e = {
a_team_win: this.topicRankModel.tomb.length,
b_team_win: this.topicRankModel.taoist.length,
a_team_fail: this.topicRankModel.tomb_fail_member,
b_team_fail: this.topicRankModel.taoist_fail_member
}, w.default.reportTACommon("topic_team", e));
}, t.prototype.requestData = function() {
return c(this, void 0, void 0, function() {
var e;
return l(this, function(t) {
switch (t.label) {
case 0:
return e = this, 0 < y.default.getInstance().game_over ? [ 4, u.default.getTopicData(function() {}) ] : [ 3, 2 ];

case 1:
t.sent(), t.label = 2;

case 2:
return [ 4, u.default.topicRankInfo(function(t) {
e.topicRankModel = t.data;
}) ];

case 3:
return t.sent(), h.default.topicModel && h.default.topicModel.info && 0 != h.default.topicModel.info.type || u.default.getTopicData(function() {}), 
this.setupSubviews(), [ 2 ];
}
});
});
}, t.prototype.setupSubviews = function() {
var e, t, o, n, r = this, i = this;
this.topicRankModel && (e = this.topicRankModel.tomb, t = this.topicRankModel.taoist || [], 
o = ((e = e || []).length >= t.length ? e : t).length, n = (cc.winSize.height - cc.winSize.width) / 2, 
this.node.height = cc.winSize.height + 100 * Math.floor(o / 3), this.node.height < 1.5 * cc.winSize.height && (this.node.height = 1.5 * cc.winSize.height), 
this.marginH = (this.node.height - cc.winSize.height) / 2, this.node.y = this.marginH, 
this.contentY = this.node.y, console.log("排行榜高度 = ", this.node.height, n, this.marginH), 
this.setupSheep(e, t), this.tombDeadLabel.string = h.default.topicRankInfo.tomb_fail_member, 
this.taoistDeadLabel.string = h.default.topicRankInfo.taoist_fail_member, setTimeout(function() {
var o;
r.tombScrollMsg && r.toaistScrollMsg && (o = "今日挑战 " + (h.default.topicRankInfo.tomb_fail_member + e.length) + " 羊，通关 " + e.length + " 羊", 
i.tombScrollMsg.getComponent(m.default).showMsg({
msg: o
}), o = "今日挑战 " + (h.default.topicRankInfo.taoist_fail_member + t.length) + " 羊，通关 " + t.length + " 羊", 
i.toaistScrollMsg.getComponent(m.default).showMsg({
msg: o
}));
}, 1e3), 1 == y.default.getInstance().game_over && (n = 500 <= e.length || 500 <= t.length ? 2 : 1, 
setTimeout(function() {
r.scrollToPosition = !0, r.topicPositionFunc();
}, 1e3 * n)));
}, t.prototype.setAnimationSub = function(e, t) {
try {
this.BGSP.getComponent(f.default).play("Stage2", 0), this.spotSP.getComponent(f.default).play("0Spotlight", 0), 
t = e.length >= t.length ? "sheep/DJ1" : "sheep/DJ2", 1 == h.default.topicModel.id ? this.playDJAnimation(t, "The01", "Jump2") : 2 == h.default.topicModel.id ? this.playDJAnimation(t, "The02", "Jump2") : 3 == h.default.topicModel.id ? this.playDJAnimation(t, "The03", "Jump2") : this.playDJAnimation(t, "00", "Jump2");
t = h.default.getJudgeAnimation(h.default.topicModel.id, !0, !1);
this.playTombAnimation(t.spName, t.anim);
t = h.default.getJudgeAnimation(h.default.topicModel.id, !1, !0);
this.playTaoistAnimation(t.spName, t.anim);
} catch (e) {
console.warn("FM_ topic-rank.setAnimationSub");
}
}, t.prototype.playDJAnimation = function() {}, t.prototype.playTombAnimation = function(e, t) {
var o = this;
this.tombSP.getComponent(f.default).loadSpine(e, function() {
o.tombSP.getComponent(f.default).play(t, 0);
});
}, t.prototype.playTaoistAnimation = function(e, t) {
var o = this;
this.toaistSP.getComponent(f.default).loadSpine(e, function() {
o.toaistSP.getComponent(f.default).play(t, 0);
});
}, t.prototype.setupSheep = function(e, t) {
var o, n = this;
for (o in this.sheepArray) this.sheepArray[o].destroy();
this.sheepArray = [], this.userID = d.default.getUserData().userID;
for (var r = 0; r < e.length; r++) !function(o) {
setTimeout(function() {
n.createSheepNode(o, e, t, !0);
}, +o);
}(r);
for (r = 0; r < t.length; r++) !function(o) {
setTimeout(function() {
n.createSheepNode(o, e, t, !1);
}, +o);
}(r);
setTimeout(function() {
n.showOrHide();
}, 300), this.setAnimationSub(e, t);
}, t.prototype.createSheepNode = function(e, t, o, n) {
var r, i, a, s, c, l;
300 < e || (r = this, (i = cc.instantiate(this.sheepNode)).opacity = 0, this.sheepNodeBase.addChild(i), 
this.sheepArray.push(i), a = Math.floor(e / 3), s = Math.floor(e % 3), c = -this.marginH - cc.winSize.height / 2 + 550 + 90 * a, 
l = a % 2 == (l = 0) ? -cc.winSize.width / 2 + 100 * s + 100 : -cc.winSize.width / 2 + 100 * s + 80, 
i.x = l *= n ? 1 : -1, i.y = c, i.scaleX = n ? 1 : -1, i.setSiblingIndex(3 * a), 
(e = (n ? t : o)[e]) == this.userID && (this.userIdx = a, this.curSheepNode = i, 
1 == y.default.getInstance().game_over && this.curSheepNode && (this.curSheepNode.active = !1), 
console.log("找到了用户id ###### taoistData ", e, a)), i.getComponent(g.default).showData(e, n, function(e) {
r.showCardNode(i.x, i.y + 150, e);
}), (n = cc.instantiate(this.headerNode)).opacity = 0, n.x = l, n.y = c, this.headerNodeBase.addChild(n), 
this.sheepArray.push(n), n.getComponent(b.default).showData(e));
}, t.prototype.showCardNode = function(e, t, o) {
var n = this;
this.cardNode.stopAllActions(), this.cardNode.x = e, this.cardNode.y = t, this.cardNode.getComponent(v.default).showData(o), 
cc.tween(this.cardNode).to(0, {
opacity: 255
}).delay(2).call(function() {
n.cardNode.opacity = 0;
}).start();
}, t.prototype.moveActionFunc = function(e) {
this.node.height < cc.winSize.height || (this.node.y += e, this.node.y >= this.marginH ? this.node.y = this.marginH : this.node.y <= -this.marginH && (this.node.y = -this.marginH), 
this.isMoving = !0);
}, t.prototype.moveActionEndFunc = function() {
this.isMoving = !1;
}, t.prototype.update = function() {
(this.isMoving || this.scrollToPosition) && this.showOrHide();
}, t.prototype.showOrHide = function() {
for (var e = 0; e < this.sheepArray.length; e++) {
var t = this.sheepArray[e], o = p.default.getWorldPosition(t);
this.boundBox && this.boundBox.contains(o) ? t.opacity = 255 : t.opacity = 0;
}
}, s([ A({
type: cc.Node,
tooltip: "UI父层级"
}) ], t.prototype, "topicUI", void 0), s([ A({
type: cc.Prefab,
tooltip: "跑马灯预制体"
}) ], t.prototype, "tombScrollPrefabs", void 0), s([ A({
type: cc.Node,
tooltip: "跑马灯base"
}) ], t.prototype, "tombScroll", void 0), s([ A({
type: cc.Node,
tooltip: "跑马灯base"
}) ], t.prototype, "toaistScroll", void 0), s([ A({
type: cc.Node,
tooltip: "背景动画"
}) ], t.prototype, "BGSP", void 0), s([ A({
type: cc.Node,
tooltip: "坟墓动画"
}) ], t.prototype, "tombSP", void 0), s([ A({
type: cc.Node,
tooltip: "道士动画"
}) ], t.prototype, "toaistSP", void 0), s([ A({
type: cc.Node,
tooltip: "灯光动画"
}) ], t.prototype, "spotSP", void 0), s([ A({
type: cc.Node,
tooltip: "蹦迪"
}) ], t.prototype, "DJSP", void 0), s([ A({
type: cc.Label,
tooltip: "僵尸死亡数量"
}) ], t.prototype, "tombDeadLabel", void 0), s([ A({
type: cc.Label,
tooltip: "道士死亡数量"
}) ], t.prototype, "taoistDeadLabel", void 0), s([ A({
type: cc.Node,
tooltip: "羊模型父视图"
}) ], t.prototype, "sheepNodeBase", void 0), s([ A({
type: cc.Prefab,
tooltip: "羊模型"
}) ], t.prototype, "sheepNode", void 0), s([ A({
type: cc.Prefab,
tooltip: "名片"
}) ], t.prototype, "cardNodePrefab", void 0), s([ A({
type: cc.Node,
tooltip: "头像模型父视图"
}) ], t.prototype, "headerNodeBase", void 0), s([ A({
type: cc.Prefab,
tooltip: "头像"
}) ], t.prototype, "headerNode", void 0), s([ P ], t);
}(cc.Component);
i.default = S;
cc._RF.pop();
}, {} ],
"topic-sheep-node": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f08acs7KTtK6rQhXCkhnzFG", "topic-sheep-node");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("api-sheep"), l = (r("CcJsFunc"), r("dataTs")), u = r("spine"), p = r("data-manager"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.flashNode = null, t.sheepSp = null, t.clickNode = null, t.userID = 0, t.clickCallback = null, 
t.userData = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.clickNodeFunc = function() {
var e = this;
this.userData ? e.clickCallback && e.clickCallback(this.userData) : c.default.getTopicUserInfo(this.userID, function(t) {
0 == t.err_code && t.data && t.data.user && (e.userData = t.data.user, e.clickCallback && e.clickCallback(t.data.user));
});
}, t.prototype.getUserID = function() {
return this.userID;
}, t.prototype.playFlashAnimation = function() {
var e = this;
this.node.active = !0, this.sheepSp.getComponent(u.default).play("Drop1", 1, function() {
e.flashNode.active = !0, e.flashNode.getComponent(u.default).play("3Ray1", 1, function() {
e.flashNode.active = !1, l.default.isPlatform(l.GDPlatform.tt) && e.showSharePop();
}), e.sheepSp.getComponent(u.default).play("Jump3", 0);
});
}, t.prototype.showSharePop = function() {
cc.game.emit("showPop", {
popName: "shareNodePop",
showPopData: {
type: 1
}
});
}, t.prototype.showData = function(e, t, o) {
var n;
this.userID = e, this.clickCallback = o, p.default.topicModel && (t ? (n = p.default.getTopicAnimation(p.default.topicModel.id, !0, !1), 
this.playTomb(n.spName, n.skin, "Jump3")) : (n = p.default.getTopicAnimation(p.default.topicModel.id, !1, !0), 
this.playTaoist(n.spName, n.skin, "Jump3")));
}, t.prototype.playTomb = function(e, t, o) {
var n = this;
this.sheepSp.getComponent(u.default).loadSpine(e, function() {
n.sheepSp.getComponent(u.default).setNewSkin(t), n.sheepSp.getComponent(u.default).play(o, 0);
});
}, t.prototype.playTaoist = function(e, t, o) {
var n = this;
this.sheepSp.getComponent(u.default).loadSpine(e, function() {
n.sheepSp.getComponent(u.default).setNewSkin(t), n.sheepSp.getComponent(u.default).play(o, 0);
});
}, s([ h(cc.Node) ], t.prototype, "flashNode", void 0), s([ h(cc.Node) ], t.prototype, "sheepSp", void 0), 
s([ h(cc.Node) ], t.prototype, "clickNode", void 0), s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
"topic-ui-layer": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "41174iuu2NIQJJDkdlO9Oyh", "topic-ui-layer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("enumConfig"), u = r("audio"), p = r("util"), d = r("data-manager"), f = r("DateManager"), h = r("GameManager"), y = r("sdk"), m = cc._decorator, g = m.ccclass, b = m.property, v = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.pointBtn = null, t.settingBtn = null, t.backBtn = null, t.playBtn = null, 
t.locationBtn = null, t.timeNode = null, t.timeLabel = null, t.tombLabel = null, 
t.taoistLabel = null, t.tombNumLabel = null, t.taoistNumLabel = null, t.vsProgress = null, 
t.beginButtonDuration = 0, t.updateTime = 0, t;
}
return a(t, e), t.prototype.start = function() {
cc.game.on(l.EMITKEY.TOPICACCOUNT, this.topicAccountFunc, this), cc.game.on(l.EMITKEY.TOPICRANKINFO, this.topicRankInfoFunc, this), 
c.default.addTargetTouchUpInside(this.pointBtn, this.pointBtnFunc.bind(this)), c.default.addTargetTouchUpInside(this.settingBtn, this.settingBtnFunc.bind(this)), 
c.default.addTargetTouchUpInside(this.backBtn, this.backBtnFunc.bind(this)), c.default.addTargetTouchUpInside(this.playBtn, this.playBtnFunc.bind(this)), 
c.default.addTargetTouchUpInside(this.locationBtn, this.locationBtnFunc.bind(this)), 
this.updateTimeFunc();
}, t.prototype.onEnable = function() {
this.topicAccountFunc(), this.topicRankInfoFunc();
}, t.prototype.topicAccountFunc = function() {
var e;
d.default.topicModel && (this.timeNode.active = !1, (e = d.default.topicModel.name.split("#")).length < 2 || (this.tombLabel.string = e[0], 
this.taoistLabel.string = e[1]));
}, t.prototype.topicRankInfoFunc = function() {
var e, t, o;
d.default.topicRankInfo && (e = d.default.topicRankInfo.tomb || [], t = d.default.topicRankInfo.taoist || [], 
console.log("topicRankInfoFunc ", e.length, "---", t.length), this.tombNumLabel.string = e.length + "羊", 
this.taoistNumLabel.string = t.length + "羊", e.length == t.length ? (this.tombLabel.fontSize = 90, 
this.taoistLabel.fontSize = 90) : e.length > t.length ? (this.tombLabel.fontSize = 90, 
this.taoistLabel.fontSize = 60) : (this.tombLabel.fontSize = 60, this.taoistLabel.fontSize = 90), 
0 == e.length && 0 == t.length ? this.vsProgress.fillStart = .5 : 0 == e.length ? this.vsProgress.fillStart = 0 : 0 == t.length ? this.vsProgress.fillStart = 1 : 0 < e.length && 0 < t.length && (o = e.length / (e.length + t.length), 
this.vsProgress.fillStart = o), this.locationBtn.active = !1, t = this.playBtn.getChildByName("label").getComponent(cc.Label), 
o = this.isWin(), console.log("winNum ###### = ", o), 1 == o ? (t.string = "已加入羊群", 
this.timeNode.active = !0, this.locationBtn.active = !1) : t.string = 0 == o ? "再次挑战" : "加入羊群");
}, t.prototype.isWin = function() {
if (d.default.topicModel && d.default.topicModel.info) {
if (1 == d.default.topicModel.info.state) return 1;
if (2 == d.default.topicModel.info.state) return 0;
}
return -1;
}, t.prototype.pointBtnFunc = function() {
console.log("提示"), this.showChoosePop(1);
}, t.prototype.settingBtnFunc = function() {
console.log("设置"), cc.game.emit("showPop", {
popName: "setupPop",
showPopData: {}
});
}, t.prototype.backBtnFunc = function() {
y.default.showBannerAdNative(!1);
console.log("返回"), cc.game.emit(l.EMITKEY.SHOWTRANSITLAYER, function() {
cc.game.emit(l.EMITKEY.SHOWMODULE, l.MODULETYPE.COMMON);
});
}, t.prototype.playBtnFunc = function() {
console.log("开始游戏"), this.chooseCallbackFunc();
}, t.prototype.showChoosePop = function(e) {
e = {
popName: "topicChoosePop",
showPopData: {
type: e,
chooseCallback: this.chooseCallbackFunc.bind(this)
}
};
cc.game.emit("showPop", e);
}, t.prototype.chooseCallbackFunc = function() {
var e;
1 <= this.beginButtonDuration ? (this.beginButtonDuration = 0, e = this.isWin(), 
console.log("winNum ###### = ", e), 1 != e ? (h.default.setGameType(l.GAMETYPE.GAMETOPIC), 
u.default.playBGM(), cc.game.emit(l.EMITKEY.BEGINGAME)) : cc.game.emit(l.EMITKEY.SHOWMAINTIPS, "每日一关，今天已挑战成功")) : console.log("不能连续点击");
}, t.prototype.locationBtnFunc = function() {
console.log("定位"), cc.game.emit(l.EMITKEY.TOPICPOSITION);
}, t.prototype.update = function(e) {
this.beginButtonDuration += e, this.updateTime += e, 1 <= this.updateTime && (this.updateTime = 0, 
this.updateTimeFunc());
}, t.prototype.updateTimeFunc = function() {
var e = f.default.format(l.CALENDARNAMES[8], new Date()).split(" ");
e.length < 2 || (e = e[1].split(":")).length < 3 || (e = 3600 * (24 - Number(e[0]) - 1) + 60 * (60 - Number(e[1]) - 1) + (60 - Number(e[2])), 
this.timeNode.activeInHierarchy && (e = ((e = p.default.formatTime(1e3 * e))[1] < 10 ? "0" + e[1] : e[1]) + ":" + (e[2] < 10 ? "0" + e[2] : e[2]) + ":" + (e[3] < 10 ? "0" + e[3] : e[3]) + " 重置", 
this.timeLabel.string = e));
}, s([ b({
type: cc.Node,
tooltip: "提示"
}) ], t.prototype, "pointBtn", void 0), s([ b({
type: cc.Node,
tooltip: "设置"
}) ], t.prototype, "settingBtn", void 0), s([ b({
type: cc.Node,
tooltip: "返回"
}) ], t.prototype, "backBtn", void 0), s([ b({
type: cc.Node,
tooltip: "开始游戏"
}) ], t.prototype, "playBtn", void 0), s([ b({
type: cc.Node,
tooltip: "定位"
}) ], t.prototype, "locationBtn", void 0), s([ b({
type: cc.Node,
tooltip: "倒计时"
}) ], t.prototype, "timeNode", void 0), s([ b({
type: cc.Label,
tooltip: "倒计时"
}) ], t.prototype, "timeLabel", void 0), s([ b({
type: cc.Label,
tooltip: "僵尸"
}) ], t.prototype, "tombLabel", void 0), s([ b({
type: cc.Label,
tooltip: "道士"
}) ], t.prototype, "taoistLabel", void 0), s([ b({
type: cc.Label,
tooltip: "僵尸数量"
}) ], t.prototype, "tombNumLabel", void 0), s([ b({
type: cc.Label,
tooltip: "道士数量"
}) ], t.prototype, "taoistNumLabel", void 0), s([ b({
type: cc.Sprite,
tooltip: "vs进度"
}) ], t.prototype, "vsProgress", void 0), s([ g ], t);
}(cc.Component);
i.default = v;
cc._RF.pop();
}, {} ],
"topic-ui": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "8fa33VO+JBKg6ZJbHIXKnoL", "topic-ui");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("dataTs"), l = r("enumConfig"), u = r("audio"), p = r("GameManager"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.rankNode = null, t.uiLayer = null, t.beginBGM = !1, t;
}
return a(t, e), t.prototype.onEnable = function() {
p.default.setGameType(l.GAMETYPE.GAMETOMB), this.playGameBgMusic();
}, t.prototype.start = function() {}, t.prototype.playGameBgMusic = function() {
var e;
c.default.getUserSetupData().musicStatus < 0 ? cc.audioEngine.stopAll() : 0 == this.beginBGM ? (e = this, 
cc.loader.loadRes("audio/music/game_begin.mp3", function(t, o) {
o = cc.audioEngine.playMusic(o, !1);
cc.audioEngine.getCurrentTime(o), cc.audioEngine.getDuration(o), cc.audioEngine.setFinishCallback(o, function() {
e.beginBGM = !0, console.log("播放完成进场音乐 ###### "), e.playBg();
});
})) : this.playBg();
}, t.prototype.playBg = function() {
u.default.playBGM();
}, s([ h({
type: cc.Node,
tooltip: "排行榜"
}) ], t.prototype, "rankNode", void 0), s([ h({
type: cc.Node,
tooltip: "UI"
}) ], t.prototype, "uiLayer", void 0), s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
topicChoosePop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "db225EuZZ1H86t8bfP+ErU1", "topicChoosePop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("api-sheep"), l = r("CcJsFunc"), u = r("dataTs"), p = r("enumConfig"), d = r("sdk"), f = r("spine"), h = r("util"), y = r("data-manager"), m = r("DateManager"), g = cc._decorator, b = g.ccclass, v = g.property, _ = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.popNode = null, t.titleNode = null, t.closeBtn = null, t.yellowNode = null, 
t.redNode = null, t.yellowBtn = null, t.redBtn = null, t.timeNode = null, t.chooseBtn = null, 
t.chooseVideo = null, t.chooseLabel = null, t.noChooseBtn = null, t.giveupBtn = null, 
t.tombName = null, t.taoistName = null, t.tombSP = null, t.taoistSP = null, t.timeLabel = null, 
t.popData = null, t.topicType = 0, t.updateTime = 0, t;
}
return a(t, e), t.prototype.start = function() {
l.default.addTargetTouchUpInside(this.closeBtn, this.closeBtnFunc.bind(this)), l.default.addTargetTouchUpInside(this.yellowNode, this.yellowNodeFunc.bind(this)), 
l.default.addTargetTouchUpInside(this.redNode, this.redNodeFunc.bind(this)), l.default.addTargetTouchUpInside(this.chooseBtn, this.chooseBtnFunc.bind(this)), 
l.default.addTargetTouchUpInside(this.giveupBtn, this.giveupBtnFunc.bind(this));
}, t.prototype.closeBtnFunc = function() {
this.node.active = !1;
}, t.prototype.yellowNodeFunc = function() {
this.topicType = 1, console.log("topicType = ", this.topicType), this.popData && 1 == this.popData.type || this.exchangeUI(!0);
}, t.prototype.redNodeFunc = function() {
this.topicType = 2, console.log("topicType = ", this.topicType), this.popData && 1 == this.popData.type || this.exchangeUI(!1);
}, t.prototype.exchangeUI = function(e, t) {
var o, n;
void 0 === t && (t = !1), this.noChooseBtn.active = !1, y.default.topicModel && y.default.topicModel.name && ((o = y.default.topicModel.name.split("#")).length < 2 || (this.yellowBtn.active = !0, 
this.redBtn.active = !0, e ? (this.chooseLabel.string = "加入" + o[0] + "羊", this.yellowNode.getChildByName("choose").active = !0, 
this.redNode.getChildByName("choose").active = !1, this.yellowBtn.getChildByName("name").color = new cc.Color().fromHEX("#FBE547"), 
this.redBtn.getChildByName("name").color = new cc.Color().fromHEX("#FFFFFF"), this.redBtn.getChildByName("name").getComponent(cc.Label).string = "选择", 
this.redBtn.active = !t, n = t ? "已加入" : "已选择", this.yellowBtn.getChildByName("name").getComponent(cc.Label).string = n) : (this.chooseLabel.string = "加入" + o[1] + "羊", 
this.yellowNode.getChildByName("choose").active = !1, this.redNode.getChildByName("choose").active = !0, 
this.yellowBtn.getChildByName("name").color = new cc.Color().fromHEX("#FFFFFF"), 
this.redBtn.getChildByName("name").color = new cc.Color().fromHEX("#FBE547"), this.yellowBtn.getChildByName("name").getComponent(cc.Label).string = "选择", 
this.yellowBtn.active = !t, n = t ? "已加入" : "已选择", this.redBtn.getChildByName("name").getComponent(cc.Label).string = n)));
}, t.prototype.chooseBtnFunc = function() {
if (0 == this.topicType) {
if (this.yellowBtn.stopAllActions(), this.redBtn.stopAllActions(), cc.tween(this.yellowBtn).to(.2, {
scale: 1.5
}).to(.2, {
scale: 1
}).start(), cc.tween(this.redBtn).to(.2, {
scale: 1.5
}).to(.2, {
scale: 1
}).start(), !y.default.topicModel) return void cc.game.emit(p.EMITKEY.SHOWMAINTIPS, "请选择你的阵营");
y.default.topicModel.tomb < y.default.topicModel.taoist ? this.topicType = 1 : y.default.topicModel.tomb > y.default.topicModel.taoist ? this.topicType = 2 : this.topicType = l.default.randomNum(1, 2);
}
var e, t, o;
1 != y.default.todayIsWin() ? (e = this, d.default.isPlatform(d.Platform.wx) ? (t = u.default.GetVedioID(), 
o = u.default.getUserData().openid, d.default.share(o, t, function() {
e.addTopicMethod();
}, function() {
cc.game.emit(p.EMITKEY.SHOWMAINTIPS, "分享失败，请分享微信群与好友PK");
})) : d.default.watchAdVideo({
id: u.default.GetVedioID(),
success: function() {
console.log("视频播放成功 ###### "), e.addTopicMethod();
},
fail: function() {
console.log("失败");
},
nofit: function() {}
})) : this.addTopicMethod();
}, t.prototype.addTopicMethod = function() {
this.requestData(), this.node.active = !1, this.popData && this.popData.chooseCallback && this.popData.chooseCallback();
}, t.prototype.requestData = function() {
var e = {
type: this.topicType
};
console.log("加入话题参数 = ", e), c.default.joinTopic(e, function() {
console.log("加入话题成功 ######");
});
}, t.prototype.giveupBtnFunc = function() {
this.node.active = !1;
}, t.prototype.showPop = function(e) {
this.node.active = !0, this.popData = e, this.topicType = 0, this.yellowBtn.active = !0, 
this.redBtn.active = !0;
var t = y.default.todayIsWin();
this.chooseVideo.active = 1 != t, u.default.isPlatform(u.GDPlatform.wx) && l.default.changeSpriteFrame(this.chooseVideo, "rewardIcon/reward_share_white.png"), 
y.default.topicModel && y.default.topicModel.name && (2 <= (t = y.default.topicModel.name.split("#")).length && (this.tombName.string = t[0], 
this.taoistName.string = t[1]), t = y.default.getTopicAnimation(y.default.topicModel.id, !0, !1), 
this.playTomb(t.spName, t.skin, "Jump1"), t = y.default.getTopicAnimation(y.default.topicModel.id, !1, !0), 
this.playTaoist(t.spName, t.skin, "Jump1")), this.yellowNode.getChildByName("choose").active = !1, 
this.redNode.getChildByName("choose").active = !1, this.yellowBtn.getChildByName("name").color = new cc.Color().fromHEX("#FFFFFF"), 
this.redBtn.getChildByName("name").color = new cc.Color().fromHEX("#FFFFFF"), this.noChooseBtn.active = !1, 
this.chooseLabel.string = "加入对抗", cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), 0 == e.type ? (this.chooseBtn.active = !0, this.giveupBtn.active = !0, 
this.yellowBtn.getChildByName("name").getComponent(cc.Label).string = "选择", this.redBtn.getChildByName("name").getComponent(cc.Label).string = "选择", 
this.titleNode.getComponent(cc.Label).string = "选择羊队") : 1 == e.type && (this.chooseBtn.active = !1, 
this.giveupBtn.active = !1, this.titleNode.getComponent(cc.Label).string = "今日话题", 
y.default.topicModel && y.default.topicModel.info && (1 == y.default.topicModel.info.type ? this.exchangeUI(!0, !0) : this.exchangeUI(!1, !0))), 
this.updateTimeFunc();
}, t.prototype.playTomb = function(e, t, o) {
var n = this;
this.tombSP.getComponent(f.default).loadSpine(e, function() {
n.tombSP.getComponent(f.default).setNewSkin(t), n.tombSP.getComponent(f.default).play(o, 0);
});
}, t.prototype.playTaoist = function(e, t, o) {
var n = this;
this.taoistSP.getComponent(f.default).loadSpine(e, function() {
n.taoistSP.getComponent(f.default).setNewSkin(t), n.taoistSP.getComponent(f.default).play(o, 0);
});
}, t.prototype.update = function(e) {
this.updateTime += e, 1 <= this.updateTime && (this.updateTime = 0, this.updateTimeFunc());
}, t.prototype.updateTimeFunc = function() {
var e = m.default.format(p.CALENDARNAMES[8], new Date()).split(" ");
e.length < 2 || (e = e[1].split(":")).length < 3 || (e = 3600 * (24 - Number(e[0]) - 1) + 60 * (60 - Number(e[1]) - 1) + (60 - Number(e[2])), 
this.timeNode.activeInHierarchy && (e = ((e = h.default.formatTime(1e3 * e))[1] < 10 ? "0" + e[1] : e[1]) + " 小时 " + (e[2] < 10 ? "0" + e[2] : e[2]) + " 分 " + (e[3] < 10 ? "0" + e[3] : e[3]) + " 秒", 
this.timeLabel.string = e));
}, s([ v({
type: cc.Node,
tooltip: "弹框"
}) ], t.prototype, "popNode", void 0), s([ v({
type: cc.Node,
tooltip: "标题"
}) ], t.prototype, "titleNode", void 0), s([ v({
type: cc.Node,
tooltip: "关闭按钮"
}) ], t.prototype, "closeBtn", void 0), s([ v({
type: cc.Node,
tooltip: "羊base"
}) ], t.prototype, "yellowNode", void 0), s([ v({
type: cc.Node,
tooltip: "羊base"
}) ], t.prototype, "redNode", void 0), s([ v({
type: cc.Node,
tooltip: "选择"
}) ], t.prototype, "yellowBtn", void 0), s([ v({
type: cc.Node,
tooltip: "选择"
}) ], t.prototype, "redBtn", void 0), s([ v({
type: cc.Node,
tooltip: "剩余时间"
}) ], t.prototype, "timeNode", void 0), s([ v({
type: cc.Node,
tooltip: "选择"
}) ], t.prototype, "chooseBtn", void 0), s([ v({
type: cc.Node,
tooltip: "视频"
}) ], t.prototype, "chooseVideo", void 0), s([ v({
type: cc.Label,
tooltip: "描述"
}) ], t.prototype, "chooseLabel", void 0), s([ v({
type: cc.Node,
tooltip: "未选择"
}) ], t.prototype, "noChooseBtn", void 0), s([ v({
type: cc.Node,
tooltip: "放弃"
}) ], t.prototype, "giveupBtn", void 0), s([ v({
type: cc.Label,
tooltip: "阵营名字"
}) ], t.prototype, "tombName", void 0), s([ v({
type: cc.Label,
tooltip: "阵营名字"
}) ], t.prototype, "taoistName", void 0), s([ v({
type: cc.Node,
tooltip: "阵营动画"
}) ], t.prototype, "tombSP", void 0), s([ v({
type: cc.Node,
tooltip: "阵营动画"
}) ], t.prototype, "taoistSP", void 0), s([ v({
type: cc.Label,
tooltip: "倒计时"
}) ], t.prototype, "timeLabel", void 0), s([ b ], t);
}(cc.Component);
i.default = _;
cc._RF.pop();
}, {} ],
topicCollectPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9626bbOFCpLgLU2U6ganUyA", "topicCollectPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
}, c = function() {
for (var e = 0, t = 0, o = arguments.length; t < o; t++) e += arguments[t].length;
var n = Array(e), r = 0;
for (t = 0; t < o; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, 
r++) n[r] = i[a];
return n;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var l = r("CcJsFunc"), u = r("dataTs"), p = r("spine"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.popNode = null, t.closeBtn = null, t.sheepCommonBaseNode = null, t.sheepCommonNode = null, 
t.dressingBaseNode = null, t.dressingNode = null, t.previousBtn = null, t.sureBtn = null, 
t.nextBtn = null, t.indexLabel = null, t.subPop = null, t.subSheep = null, t.titleLabel = null, 
t.contentDesc = null, t.contentTeam = null, t.contentDefault = null, t.luckBtn = null, 
t.changeBtn = null, t.subCloseBtn = null, t.dataArray = [], t.labelArray = [], t.curIdx = 1, 
t.allIdx = 0, t.clothesId = 0, t.popData = null, t;
}
return a(t, e), t.prototype.start = function() {
l.default.addTargetTouchUpInside(this.closeBtn, this.closeBtnFunc.bind(this)), l.default.addTargetTouchUpInside(this.previousBtn, this.previousBtnFunc.bind(this)), 
l.default.addTargetTouchUpInside(this.sureBtn, this.sureBtnFunc.bind(this)), l.default.addTargetTouchUpInside(this.nextBtn, this.nextBtnFunc.bind(this)), 
l.default.addTargetTouchUpInside(this.subCloseBtn, this.subCloseBtnFunc.bind(this)), 
l.default.addTargetTouchUpInside(this.luckBtn, this.luckBtnFunc.bind(this)), l.default.addTargetTouchUpInside(this.changeBtn, this.changeBtnFunc.bind(this));
}, t.prototype.luckBtnFunc = function() {
this.subPop.active = !1;
}, t.prototype.changeBtnFunc = function() {
this.subPop.active = !1;
var e = u.default.getSheepClothesData();
if (0 < this.clothesId) {
for (var t in e) this.clothesId == e[t].clothesId ? (e[t].dressing = !0, this.popData && this.popData.changeClothesCb && this.popData.changeClothesCb(this.clothesId)) : e[t].dressing = !1;
u.default.setSheepClothesData(e), this.setupSubViews(this.curIdx);
}
}, t.prototype.subCloseBtnFunc = function() {
this.subPop.active = !1;
}, t.prototype.closeBtnFunc = function() {
this.node.active = !1;
}, t.prototype.previousBtnFunc = function() {
this.curIdx--, this.curIdx < 1 && (this.curIdx = 1), this.setupSubViews(this.curIdx);
}, t.prototype.sureBtnFunc = function() {
this.node.active = !1;
}, t.prototype.nextBtnFunc = function() {
this.curIdx++, this.curIdx > this.allIdx && (this.curIdx = this.allIdx), this.setupSubViews(this.curIdx);
}, t.prototype.showPop = function(e) {
this.node.active = !0, this.popData = e, cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), this.sheepCommonNode.active = !1, this.dressingNode.active = !1, this.subPop.active = !1, 
this.setupSubViews(this.curIdx);
}, t.prototype.setupSubViews = function(e) {
for (var t in e < 1 && (e = 1), this.dataArray) (n = this.dataArray[t]).destroy();
for (var t in this.labelArray) (n = this.labelArray[t]).destroy();
this.dataArray = [], this.labelArray = [];
var o = u.default.getSheepClothesData();
o = this.bubbleSort(o);
o = this.bubbleIdSort(o), this.allIdx = Math.ceil(o.length / 12), this.indexLabel.string = this.curIdx + " / " + this.allIdx;
for (var n, r, i, a = 0; a < o.length; a++) 12 * (e - 1) <= a && a < 12 * e && (r = o[a], 
(n = cc.instantiate(this.sheepCommonNode)).active = !0, this.sheepCommonBaseNode.addChild(n), 
this.dataArray.push(n), (i = cc.instantiate(this.dressingNode)).active = !0, this.dressingBaseNode.addChild(i), 
this.labelArray.push(i), l.default.addbtnTouchEndScale(n, this.itemBtnFunc.bind(this, r)), 
this.updateItem(n, i, r));
}, t.prototype.itemBtnFunc = function(e) {
var t = this;
console.log(e), this.clothesId = e.clothesId, this.subPop.active = !0, cc.tween(this.subPop).set({
scale: .8,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start();
var o = "sheep/" + e.spName;
this.subSheep.getComponent(p.default).loadSpine(o, function() {
t.subSheep.getComponent(p.default).setNewSkin(e.spSkin), e.unlock ? t.subSheep.getComponent(p.default).play("Jump1", 0) : t.subSheep.getComponent(p.default).play("Unlock1", 0);
}), e.unlock ? (this.luckBtn.active = !1, this.changeBtn.active = !0, this.titleLabel.string = e.name) : (this.luckBtn.active = !0, 
this.changeBtn.active = !1, this.titleLabel.string = "???"), this.contentTeam.string = this.getName(e.clothesId), 
this.contentDesc.string = "在话题战                  中，加入" + e.name + "阵营并获胜后获得。";
}, t.prototype.getName = function(e) {
return this.contentDesc.node.active = !0, this.contentTeam.node.active = !0, this.contentDefault.node.active = !1, 
8 == e || 9 == e ? "僵尸vs道士" : 10 == e || 11 == e ? "狼人vs吸血鬼" : 12 == e || 13 == e ? "黑羊vs白羊" : 41 == e || 42 == e ? "五仁vs莲蓉" : 43 == e || 44 == e ? "学生vs老师" : 45 == e || 46 == e ? "嫦娥vs玉兔" : 47 == e || 48 == e ? "学童vs夫子" : (this.contentDesc.node.active = !1, 
this.contentTeam.node.active = !1, this.contentDefault.node.active = !0, this.contentDefault.string = 1 == e ? "默认装扮。我只是一只孤独的美羊羊。" : "常规模式通关，或话题PK中所选阵营获胜后获得。", 
"");
}, t.prototype.bubbleSort = function(e) {
for (var t, o = c(e), n = 0, r = o.length; n < r; n++) for (var i = 0; i < r - 1 - n; i++) o[i].unlock < o[i + 1].unlock && (t = [ o[i + 1], o[i] ], 
o[i] = t[0], o[i + 1] = t[1]);
return o;
}, t.prototype.bubbleIdSort = function(e) {
for (var t, o = c(e), n = 0, r = o.length; n < r; n++) for (var i = 0; i < r - 1 - n; i++) o[i].unlock <= o[i + 1].unlock && o[i].clothesId > o[i + 1].clothesId && (t = [ o[i + 1], o[i] ], 
o[i] = t[0], o[i + 1] = t[1]);
return o;
}, t.prototype.updateItem = function(e, t, o) {
var n = e.getChildByName("new"), r = e.getChildByName("SP"), i = e.getChildByName("choose");
t.opacity = 0, this.popData && this.popData.topicClothesNum == o.clothesId ? n.active = !0 : n.active = !1;
n = "sheep/" + o.spName;
r.getComponent(p.default).loadSpine(n, function() {
r.getComponent(p.default).setNewSkin(o.spSkin), o.unlock ? o.dressing ? (i.active = !0, 
t.opacity = 255, r.getComponent(p.default).play("Jump1", 0)) : i.active = !1 : (r.getComponent(p.default).play("Unlock1", 0), 
i.active = !1);
});
}, s([ h(cc.Node) ], t.prototype, "popNode", void 0), s([ h(cc.Node) ], t.prototype, "closeBtn", void 0), 
s([ h(cc.Node) ], t.prototype, "sheepCommonBaseNode", void 0), s([ h(cc.Node) ], t.prototype, "sheepCommonNode", void 0), 
s([ h(cc.Node) ], t.prototype, "dressingBaseNode", void 0), s([ h(cc.Node) ], t.prototype, "dressingNode", void 0), 
s([ h(cc.Node) ], t.prototype, "previousBtn", void 0), s([ h(cc.Node) ], t.prototype, "sureBtn", void 0), 
s([ h(cc.Node) ], t.prototype, "nextBtn", void 0), s([ h(cc.Label) ], t.prototype, "indexLabel", void 0), 
s([ h(cc.Node) ], t.prototype, "subPop", void 0), s([ h(cc.Node) ], t.prototype, "subSheep", void 0), 
s([ h(cc.Label) ], t.prototype, "titleLabel", void 0), s([ h(cc.Label) ], t.prototype, "contentDesc", void 0), 
s([ h(cc.Label) ], t.prototype, "contentTeam", void 0), s([ h(cc.Label) ], t.prototype, "contentDefault", void 0), 
s([ h(cc.Node) ], t.prototype, "luckBtn", void 0), s([ h(cc.Node) ], t.prototype, "changeBtn", void 0), 
s([ h(cc.Node) ], t.prototype, "subCloseBtn", void 0), s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
topicJoinedPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "90ef543uIxHfKnKA811WqDS", "topicJoinedPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("api-sheep"), l = r("CcJsFunc"), u = r("dataTs"), p = r("spine"), d = r("data-manager"), f = cc._decorator, h = f.ccclass, y = f.property, m = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.popNode = null, t.titleLabel = null, t.tombNode = null, t.taoistNode = null, 
t.tombLabel = null, t.taoistLabel = null, t.teamLabel = null, t.closeBtn = null, 
t.sureBtn = null, t.tombSP = null, t.taoistSP = null, t;
}
return a(t, e), t.prototype.start = function() {
l.default.addTargetTouchUpInside(this.closeBtn, this.closeBtnFunc.bind(this)), l.default.addTargetTouchUpInside(this.sureBtn, this.sureBtnBtn.bind(this));
}, t.prototype.closeBtnFunc = function() {
this.node.active = !1;
}, t.prototype.sureBtnBtn = function() {
this.node.active = !1;
}, t.prototype.showPop = function() {
var e = this;
this.node.active = !0, this.tombNode.active = !1, this.taoistNode.active = !1, cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), this.updateUI(0);
var t = d.default.getTopicAnimation(d.default.topicModel.id, !0, !1);
this.playTomb(t.spName, t.skin, "Jump1");
t = d.default.getTopicAnimation(d.default.topicModel.id, !1, !0);
this.playTaoist(t.spName, t.skin, "Jump1"), c.default.getTopicUserInfo(u.default.getUserData().userID, function(t) {
0 == t.err_code && t.data && t.data.user && (1 == (t = t.data.user.type) ? e.tombNode.active = !0 : 2 == t && (e.taoistNode.active = !0), 
e.updateUI(t));
});
}, t.prototype.updateUI = function(e) {
var t;
try {
t = d.default.topicModel.name.split("#");
} catch (e) {
t = [ Math.floor(1e4 * Math.random()) + 0, Math.floor(1e4 * Math.random()) + 0 ];
console.warn("FM_ random topic", t);
}
t.length < 2 || (this.tombLabel.string = t[0] + "羊", this.taoistLabel.string = t[1] + "羊", 
this.teamLabel.string = "", 1 == e ? this.teamLabel.string = t[0] + "羊队" : 2 == e && (this.teamLabel.string = t[1] + "羊队"));
}, t.prototype.playTomb = function(e, t, o) {
var n = this;
this.tombSP.getComponent(p.default).loadSpine(e, function() {
n.tombSP.getComponent(p.default).setNewSkin(t), n.tombSP.getComponent(p.default).play(o, 0);
});
}, t.prototype.playTaoist = function(e, t, o) {
var n = this;
this.taoistSP.getComponent(p.default).loadSpine(e, function() {
n.taoistSP.getComponent(p.default).setNewSkin(t), n.taoistSP.getComponent(p.default).play(o, 0);
});
}, s([ y(cc.Node) ], t.prototype, "popNode", void 0), s([ y(cc.Label) ], t.prototype, "titleLabel", void 0), 
s([ y(cc.Node) ], t.prototype, "tombNode", void 0), s([ y(cc.Node) ], t.prototype, "taoistNode", void 0), 
s([ y(cc.Label) ], t.prototype, "tombLabel", void 0), s([ y(cc.Label) ], t.prototype, "taoistLabel", void 0), 
s([ y(cc.Label) ], t.prototype, "teamLabel", void 0), s([ y(cc.Node) ], t.prototype, "closeBtn", void 0), 
s([ y(cc.Node) ], t.prototype, "sureBtn", void 0), s([ y(cc.Node) ], t.prototype, "tombSP", void 0), 
s([ y(cc.Node) ], t.prototype, "taoistSP", void 0), s([ h ], t);
}(cc.Component);
i.default = m;
cc._RF.pop();
}, {} ],
topicLastWinPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "74b18J+qNBMbqeSpfyEZqtg", "topicLastWinPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("spine"), u = r("data-manager"), p = cc._decorator, d = p.ccclass, f = p.property, h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.popNode = null, t.closeBtn = null, t.tombSign = null, t.taoistSign = null, 
t.tombNode = null, t.taoistNode = null, t.nameLabel = null, t.tombLabel = null, 
t.taoistLabel = null, t.tombNumLabel = null, t.taoistNumLabel = null, t.bottomNumLabel = null, 
t.tombProgress = null, t.taoistProgress = null, t.tombSP = null, t.taoistSP = null, 
t.popData = null, t.teamIsWIn = !1, t;
}
return a(t, e), t.prototype.start = function() {
c.default.addTargetTouchUpInside(this.closeBtn, this.closeBtnFunc.bind(this));
}, t.prototype.closeBtnFunc = function() {
var e;
this.node.active = !1, this.teamIsWIn && (e = {
popName: "topicNewPop",
showPopData: {
type: 1,
data: this.popData
}
}, cc.game.emit("showPop", e));
}, t.prototype.showPop = function(e) {
this.node.active = !0, this.popData = e, cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start(), e && this.setupData(e);
}, t.prototype.setupData = function(e) {
var t = e.tomb, o = e.taoist, n = e.tomb_fail_member, r = e.taoist_fail_member, i = t.length, a = o.length, s = e.topic.name.split("#");
t = i + a + n + r, o = i + a, n = 0, r = 0;
i == a ? this.nameLabel.string = "赛况" : a < i ? (1 == e.topic.info.type && (this.teamIsWIn = !0), 
this.tombSign.active = !0, this.taoistSign.active = !1, this.nameLabel.string = s[0] + "羊队获胜！") : (2 == e.topic.info.type && (this.teamIsWIn = !0), 
this.tombSign.active = !1, this.taoistSign.active = !0, this.nameLabel.string = s[1] + "羊队获胜！"), 
0 != o && (n = i / o * 300, r = a / o * 300), n < 50 && (n = 50), r < 50 && (r = 50), 
cc.tween(this.tombProgress).to(0, {
height: 50
}).to(1.5, {
height: n
}).start(), cc.tween(this.taoistProgress).to(0, {
height: 50
}).to(1.5, {
height: r
}).start(), this.tombNumLabel.string = i + "羊", this.taoistNumLabel.string = a + "羊", 
this.tombLabel.string = s[0] + "羊队", this.taoistLabel.string = s[1] + "羊队", this.bottomNumLabel.string = t + "", 
1 == e.topic.info.type ? (this.tombNode.active = !0, this.taoistNode.active = !1) : (this.tombNode.active = !1, 
this.taoistNode.active = !0);
t = u.default.getTopicAnimation(e.topic.id, !0, !1);
this.playTomb(t.spName, t.skin, "Jump3");
e = u.default.getTopicAnimation(e.topic.id, !1, !0);
this.playTaoist(e.spName, e.skin, "Jump3");
}, t.prototype.playTomb = function(e, t, o) {
var n = this;
this.tombSP.getComponent(l.default).loadSpine(e, function() {
n.tombSP.getComponent(l.default).setNewSkin(t), n.tombSP.getComponent(l.default).play(o, 0);
});
}, t.prototype.playTaoist = function(e, t, o) {
var n = this;
this.taoistSP.getComponent(l.default).loadSpine(e, function() {
n.taoistSP.getComponent(l.default).setNewSkin(t), n.taoistSP.getComponent(l.default).play(o, 0);
});
}, s([ f({
type: cc.Node,
tooltip: "弹框"
}) ], t.prototype, "popNode", void 0), s([ f({
type: cc.Node,
tooltip: "关闭按钮"
}) ], t.prototype, "closeBtn", void 0), s([ f(cc.Node) ], t.prototype, "tombSign", void 0), 
s([ f(cc.Node) ], t.prototype, "taoistSign", void 0), s([ f(cc.Node) ], t.prototype, "tombNode", void 0), 
s([ f(cc.Node) ], t.prototype, "taoistNode", void 0), s([ f({
type: cc.Label,
tooltip: "羊队"
}) ], t.prototype, "nameLabel", void 0), s([ f({
type: cc.Label,
tooltip: "僵尸"
}) ], t.prototype, "tombLabel", void 0), s([ f({
type: cc.Label,
tooltip: "道士"
}) ], t.prototype, "taoistLabel", void 0), s([ f({
type: cc.Label,
tooltip: "僵尸数量"
}) ], t.prototype, "tombNumLabel", void 0), s([ f({
type: cc.Label,
tooltip: "道士数量"
}) ], t.prototype, "taoistNumLabel", void 0), s([ f({
type: cc.Label,
tooltip: "总人数"
}) ], t.prototype, "bottomNumLabel", void 0), s([ f(cc.Node) ], t.prototype, "tombProgress", void 0), 
s([ f(cc.Node) ], t.prototype, "taoistProgress", void 0), s([ f(cc.Node) ], t.prototype, "tombSP", void 0), 
s([ f(cc.Node) ], t.prototype, "taoistSP", void 0), s([ d ], t);
}(cc.Component);
i.default = h;
cc._RF.pop();
}, {} ],
topicNewPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "9383fTm8p9NuLEys6rFPQBI", "topicNewPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("dataTs"), u = r("spine"), p = r("GameManager"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.maskNode = null, t.popNode = null, t.nameLabel = null, t.bgFlashSP = null, 
t.sheepSP = null, t.winLabel = null, t.descLabel = null, t;
}
return a(t, e), t.prototype.start = function() {
c.default.addbtnTouchEndScale(this.maskNode, this.maskNodeFunc.bind(this));
}, t.prototype.maskNodeFunc = function() {
this.node.active = !1;
}, t.prototype.showPop = function(e) {
var t = this;
this.node.active = !0, cc.tween(this.bgFlashSP).to(0, {
scale: 0
}).to(.1, {
scale: 1
}).call(function() {
t.bgFlashSP.getComponent(u.default).loadSpine("sheep/UI", function() {
t.bgFlashSP.getComponent(u.default).play("4Ray2", 0);
});
}).start(), 1 == e.type ? this.receiveSheepClothes() : 2 == e.type && this.showSheep(e.data);
}, t.prototype.showSheep = function(e) {
var t = this;
cc.tween(this.sheepSP).to(0, {
scale: 0
}).to(.2, {
scale: 1
}).call(function() {
t.sheepSP.getComponent(u.default).loadSpine("sheep/" + e.spName, function() {
t.sheepSP.getComponent(u.default).setNewSkin(e.spSkin), t.sheepSP.getComponent(u.default).play("Jump1", 0);
});
}).start(), this.nameLabel.string = e.name, this.winLabel.string = "", this.descLabel.string = "";
}, t.prototype.receiveSheepClothes = function() {
for (var e = this, t = l.default.getSheepClothesData(), o = !1, n = "skin_00", r = "羊", i = (t = c.default.shuffle(t), 
0); i < t.length; i++) {
var a = t[i];
a.dressing, "Sheeps" != a.spName || 0 != a.unlock || o || (a.unlock = o = !0, n = a.spSkin, 
r = a.name, p.default.getInstance().collectionMark.topicClothesNum = a.clothesId);
}
o && l.default.setSheepClothesData(t), cc.tween(this.sheepSP).to(0, {
scale: 0
}).to(.2, {
scale: 1
}).call(function() {
e.sheepSP.getComponent(u.default).loadSpine("sheep/Sheeps", function() {
e.sheepSP.getComponent(u.default).setNewSkin(n), e.sheepSP.getComponent(u.default).play("Jump1", 0);
});
}).start(), this.nameLabel.string = r, this.descLabel.string = "昨日的话题PK战", this.winLabel.string = "你所在的羊队胜出";
}, s([ h(cc.Node) ], t.prototype, "maskNode", void 0), s([ h(cc.Node) ], t.prototype, "popNode", void 0), 
s([ h(cc.Label) ], t.prototype, "nameLabel", void 0), s([ h(cc.Node) ], t.prototype, "bgFlashSP", void 0), 
s([ h(cc.Node) ], t.prototype, "sheepSP", void 0), s([ h(cc.Label) ], t.prototype, "winLabel", void 0), 
s([ h(cc.Label) ], t.prototype, "descLabel", void 0), s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
transitionsLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "1496aPelvpJyp4OMHFbWe8I", "transitionsLayer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("enumConfig"), l = r("audio"), u = r("spine"), p = cc._decorator, d = p.ccclass, f = p.property, h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.sheepSp = null, t.playing = !1, t.animCallBack = null, t;
}
return a(t, e), t.prototype.start = function() {
cc.game.on(c.EMITKEY.SHOWTRANSITLAYER, this.playTransitionLayerAnim, this);
}, t.prototype.playTransitionLayerAnim = function(e) {
var t;
this.playing || ((t = this).playing = !0, this.animCallBack = e, this.sheepSp.active = !0, 
l.default.playAudioMusic("audio/sound/transitFont.mp3", !1), this.sheepSp.getComponent(u.default).setFrameEventCb("Turnarounds", function(e) {
console.log("专场动画 ### ", e), t.animCallBack(t.playAnimOpen.bind(t));
}), this.sheepSp.getComponent(u.default).play("Interlude", 1, function() {
t.playing = !1, t.sheepSp.active = !1, console.log("专场动画 end ###");
}));
}, t.prototype.playAnimOpen = function() {
console.log("转场动画切换 ### ");
}, s([ f(cc.Node) ], t.prototype, "sheepSp", void 0), s([ d ], t);
}(cc.Component);
i.default = h;
cc._RF.pop();
}, {} ],
"tt-sdk": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "0d66ayRO/dGya2ZzHsK5JHr", "tt-sdk");
var n = o;
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = function() {
function e() {}
return e.init = function() {
cc.sys.platform == cc.sys.BYTEDANCE_GAME && tt.showShareMenu({
success: function() {
console.log("[tt] 已成功显示转发按钮");
},
fail: function(e) {
console.log("[tt] showShareMenu 调用失败", e.errMsg);
},
complete: function() {
console.log("[tt] showShareMenu 调用完成");
}
});
}, e.vibrateShort = function() {
tt.vibrateShort({});
}, e.vibrateLong = function() {
tt.vibrateLong({});
}, e.login = function() {
tt.login({
success: function(e) {
console.log("[tt] 登录成功", e);
},
fail: function(e) {
console.log("[tt] 登录失败", e);
}
});
}, e.checkSession = function() {
tt.checkSession({
success: function() {
console.log("[tt] session 未过期");
},
fail: function() {
console.log("[tt] session 已过期，需要重新登录"), this.login();
}
});
}, e.getSetting = function() {
tt.checkSession({
success: function(e) {
console.log("[tt] -------------getSetting 获取用户当前的授权状态成功-----------", e), e.errMsg;
},
fail: function(e) {
console.log("[tt] -------------getSetting 获取用户当前的授权状态失败-----------", e);
}
});
}, e.openSetting = function() {
tt.openSetting({
success: function(e) {
console.log("[tt] -------------openSetting success-----------", e);
},
complete: function(e) {
console.log("[tt] -------------openSetting complete-----------", e);
},
fail: function(e) {
console.log("[tt] -------------openSetting fail-----------", e);
}
});
}, e.authorize = function() {
tt.authorize({
scope: "scope.userInfo",
success: function(e) {
console.log("[tt] authorize success", e);
},
complete: function(e) {
console.log("[tt] authorize complete", e);
},
fail: function(e) {
console.log("[tt] authorize fail", e);
}
});
}, e.recorderStart = function() {
if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) try {
console.log("开始录屏 ###### "), tt.getGameRecorderManager().start({
duration: 300
});
} catch (e) {
cc.warn(e);
}
}, e.recorderStop = function() {
if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
console.log("录屏结束stop ###### ");
try {
tt.getGameRecorderManager().stop();
} catch (e) {
cc.warn(e);
}
}
}, e.recorderPause = function() {
cc.sys.platform == cc.sys.BYTEDANCE_GAME && (console.log("录屏结束pause ###### "), tt.getGameRecorderManager().pause());
}, e.recorderResume = function() {
cc.sys.platform == cc.sys.BYTEDANCE_GAME && (console.log("录屏结束resume ###### "), 
tt.getGameRecorderManager().resume());
}, e.setVideoPath = function(e) {
this.videoPath = e;
}, e.shareTemplate = function(e) {
cc.sys.platform == cc.sys.BYTEDANCE_GAME ? tt.shareAppMessage({
templateId: "gf33jlfc0h1k415a7o",
query: "",
success: function() {
console.log("分享成功"), e(!0);
},
fail: function() {
console.log("分享失败"), e(!1);
}
}) : e(!0);
}, e.shareAppMessage = function(e) {
var t = e.success, o = e.fail;
e = e.url;
console.log("[tt] [sdk][tt] share app message", e), e = e || this.videoPath;
try {
tt.shareAppMessage({
channel: "video",
query: "",
templateId: "",
title: "羊了个羊",
desc: "看看大家都喜欢什么羊",
extra: {
videoPath: e,
videoTopics: [ "羊了个羊" ]
},
success: function() {
t && t(), console.log("[tt] 分享视频成功");
},
fail: function(e) {
o && o(), console.log("[tt] 分享视频失败", e);
}
});
} catch (e) {
cc.warn("share app message err", e);
}
}, e.rewardVideoAd = function(e) {
var t = this;
this.onRewardVideoAdSuccess = e.success, this.onRewardVideoAdFail = e.fail, this.rewardAd ? this.rewardAd.show() : (this.rewardAd = tt.createRewardedVideoAd({
adUnitId: e.id
}), this.rewardAd.onLoad(function() {
t.rewardAd.show();
}), this.rewardAd.onError(function(e) {
t.onRewardVideoAdFail && t.onRewardVideoAdFail(), cc.warn("tt reward video ad error", e);
}), this.rewardAd.onClose(function(e) {
e.isEnded && t.onRewardVideoAdSuccess && t.onRewardVideoAdSuccess(), t.onRewardVideoAdFail && t.onRewardVideoAdFail();
}));
}, e.setClipboardData = function(e) {
tt.setClipboardData({
data: e,
success: function() {
tt.getClipboardData({
success: function(e) {
console.log("tt get clipboard data:", e.data);
}
});
}
});
}, e.showBannerAd = function(e) {
var t = this;
this.onRewardBannerAdSuccess = e.success, this.onRewardBannerAdFail = e.fail, this.bannerAd ? this.bannerAd.show() : (this.bannerAd = tt.createBannerAd({
adUnitId: e.id,
adIntervals: 30,
style: {
left: 0,
top: cc.winSize.height,
width: 300
}
}), this.bannerAd.onLoad(function() {
t.bannerAd.show();
}), this.bannerAd.onError(function(e) {
t.onRewardBannerAdFail && t.onRewardBannerAdFail(), cc.warn("tt reward video ad error", e);
}));
}, e.hideBannerAd = function() {
this.bannerAd && this.bannerAd.hide();
}, e.showInterstitialAd = function() {}, e.showRewardVideoAd = function() {}, e.focusDouYin = function() {
cc.sys.platform == cc.sys.BYTEDANCE_GAME && tt.openAwemeUserProfile({
success: function(e) {
console.log(e);
}
});
}, e.isSupportFocusDouYin = function() {
if (cc.sys.platform != cc.sys.BYTEDANCE_GAME) return !1;
for (var e = (n = tt.getSystemInfoSync()).system, t = n.SDKVersion, o = n.version, n = n.appName, r = (e.split(" "), 
o.split(".")), i = 0; i < r.length; i++) r[i].length < 2 && (r[i] = "0" + r[i]);
return !(t.replace(/\./g, "") < 1840) && "Douyin" == n;
}, e.addShortcut = function(e) {
cc.sys.platform == cc.sys.BYTEDANCE_GAME && tt.addShortcut({
success: function() {
console.log("添加桌面成功"), e && e(!0);
},
fail: function(t) {
console.log("添加桌面失败", t.errMsg), e && e(!1);
}
});
}, e.isSupportShortcut = function() {
if (cc.sys.platform != cc.sys.BYTEDANCE_GAME) return !1;
var e = tt.getSystemInfoSync();
console.log("sdkversion = " + JSON.stringify(e));
for (var t = e.system, o = e.SDKVersion, n = (e = e.version, t.split(" "), e.split(".")), r = 0; r < n.length; r++) n[r].length < 2 && (n[r] = "0" + n[r]);
o = o.replace(/\./g, "");
return console.log("sdkversion = " + o), !(o < 2460);
}, e.getSystemInfo = function() {
if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) return tt.getSystemInfoSync();
}, e.gameBox = function() {
var e;
cc.sys.platform == cc.sys.BYTEDANCE_GAME && (tt.onMoreGamesModalClose(function(e) {
console.log("modal closed", e);
}), tt.onNavigateToMiniGameBox(function(e) {
console.log("box = " + e.errCode), console.log("box = " + e.errMsg);
}), "ios" !== tt.getSystemInfoSync().platform) && (e = tt.getLaunchOptionsSync(), 
console.log("options = ", JSON.stringify(e)), tt.showMoreGamesModal({
appLaunchOptions: [ {
appId: "ttb06fc6d22f51b12b02",
query: "foo=bar&baz=qux",
extraData: {}
}, {
appId: "tte3e995547cd7daab02",
query: "foo=bar&baz=qux",
extraData: {}
} ],
success: function(e) {
console.log("success", e.errMsg);
},
fail: function(e) {
console.log("fail", e.errMsg);
}
}));
}, e.videoPath = "", e.rewardAd = null, e.onRewardVideoAdSuccess = null, e.onRewardVideoAdFail = null, 
e.bannerAd = null, e.onRewardBannerAdSuccess = null, e.onRewardBannerAdFail = null, 
e.interstitialAd = null, e.onRewardInterstitialAdSuccess = null, e.onRewardInterstitialAdFail = null, 
e;
}();
(n.default = r).init();
cc._RF.pop();
}, {} ],
"typed-event": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "a986cr5ta9GR5lVg0qHZvFl", "typed-event");
var n = o;
Object.defineProperty(n, "__esModule", {
value: !0
}), n.TypedEvent = void 0, n.TypedEvent = function() {
var e = this;
this.listeners = [], this.listenersOncer = [], this.on = function(t) {
return e.listeners.push(t), {
dispose: function() {
return e.off(t);
}
};
}, this.once = function(t) {
e.listenersOncer.push(t);
}, this.off = function(t) {
-1 < (t = e.listeners.indexOf(t)) && e.listeners.splice(t, 1);
}, this.emit = function(t) {
var o;
e.listeners.forEach(function(e) {
return e(t);
}), 0 < e.listenersOncer.length && (o = e.listenersOncer, e.listenersOncer = [], 
o.forEach(function(e) {
return e(t);
}));
}, this.pipe = function(t) {
return e.on(function(e) {
return t.emit(e);
});
};
};
cc._RF.pop();
}, {} ],
uiControler: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "81349GiDV5P+4W7p0Ox2i/o", "uiControler");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("mapEditor"), l = r("newLevelPop"), u = r("selectLevelPop"), p = r("setBlockNumPop"), d = r("config"), f = r("dataTs"), h = r("editorGameLayer"), y = r("saveAsPop"), m = cc._decorator, g = m.ccclass, b = m.property, v = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mapEditorNode = null, t.setBlockNumPop = null, t.selectLevelPop = null, 
t.newLevelPop = null, t.saveAsPop = null, t.editorGameLayer = null, t.levelNumLabel = null, 
t.blockNumLabel = null, t;
}
return a(t, e), t.prototype.onLoad = function() {}, t.prototype.start = function() {
cc.game.on("initLevelData", this.initLevelData, this), cc.game.on("setBlockNum", this.showBlockNum, this), 
cc.game.on("saveAsNewMap", this.saveAsNewMap, this);
}, t.prototype.selectLevelFun = function() {
console.log("编辑关卡"), this.selectLevelPop.getComponent(u.default).showSelectLevelPop();
}, t.prototype.newLevelFun = function() {
console.log("新建关卡"), this.newLevelPop.getComponent(l.default).showNewLevelPop();
}, t.prototype.chooseMapSizeFun = function(e, t) {
cc.game.emit("refreshMapSizeData", d.default.mapType[t]);
}, t.prototype.saveAsShowLayer = function() {
console.log("另存为关卡"), this.saveAsPop.getComponent(y.default).showSaveAsPop();
}, t.prototype.saveLevelMapFun = function() {
console.log("保存关卡");
var e = this.mapEditorNode.getComponent(c.default).levelID, t = this.mapEditorNode.getComponent(c.default).newLevelDataObj;
this.checkMapIsRight(t) ? f.default.setLevelMapData(e, t) : console.log("关卡配置错误");
}, t.prototype.checkMapIsRight = function(e) {
var t = 0, o = 0, n = (e = e).levelData;
for (i in n) for (var r in n[i]) 0 == n[i][r].type ? t++ : o++;
if (console.log("blockNum:", t), console.log("blockTypeNum:", o), t % 3 != 0) return console.log("空白块不是3的倍数"), 
cc.game.emit("showTips", "空白块不是3的倍数"), !1;
if (o % 3 != 0) return console.log("类型块不是3的倍数"), cc.game.emit("showTips", "类型块不是3的倍数"), 
!1;
var i, a = e.blockTypeData, s = 0;
for (i in a) s += a[i];
return console.log("typeNum:", s), s == t / 3 || (console.log("块类型设置数量错误"), cc.game.emit("showTips", "块类型设置数量错误"), 
!1);
}, t.prototype.saveAsNewMap = function(e) {
var t = this.mapEditorNode.getComponent(c.default).newLevelDataObj;
t.levelKey = e, f.default.setLevelMapData(e, t), cc.game.emit("initLevelData", {
newLevelData: t
});
}, t.prototype.setBlockTypeFun = function() {
console.log("设置本关的图块类型数量");
var e, t = 0, o = this.mapEditorNode.getComponent(c.default).newLevelDataObj, n = o.levelData;
for (e in n) for (var r in n[e]) 0 == n[e][r].type && t++;
o = o.blockTypeData;
t % 3 == 0 ? this.setBlockNumPop.getComponent(p.default).showSetBlockPop(t / 3, o) : (console.log("error:块数量不能被整除"), 
cc.game.emit("showTips", "error:块数量不能被整除"), this.setBlockNumPop.getComponent(p.default).showSetBlockPop(0, o));
}, t.prototype.selectNewBlockTypeFun = function() {
console.log("选择即将摆放的图块类型");
}, t.prototype.testPlayFun = function() {
console.log("试玩本关卡"), this.mapEditorNode.getComponent(c.default).levelID;
var e = cc.instantiate(this.mapEditorNode.getComponent(c.default).newLevelDataObj);
console.log("data:", e);
e = [ e ];
this.editorGameLayer.getComponent(h.default).initLevelLayer(e);
}, t.prototype.backOffFun = function() {
console.log("回退组块");
}, t.prototype.initLevelData = function(e) {
this.levelNumLabel.string = "当前关卡ID：" + e.newLevelData.levelKey;
}, t.prototype.showBlockNum = function() {
if (!this.mapEditorNode.getComponent(c.default).newLevelDataObj) return !1;
var e = this.getAllBlockNum();
this.blockNumLabel.string = "" + e;
}, t.prototype.getAllBlockNum = function() {
var e, t = 0, o = this.mapEditorNode.getComponent(c.default).newLevelDataObj.levelData;
for (e in o) t += o[e].length;
return t;
}, s([ b(cc.Node) ], t.prototype, "mapEditorNode", void 0), s([ b(cc.Node) ], t.prototype, "setBlockNumPop", void 0), 
s([ b(cc.Node) ], t.prototype, "selectLevelPop", void 0), s([ b(cc.Node) ], t.prototype, "newLevelPop", void 0), 
s([ b(cc.Node) ], t.prototype, "saveAsPop", void 0), s([ b(cc.Node) ], t.prototype, "editorGameLayer", void 0), 
s([ b(cc.Label) ], t.prototype, "levelNumLabel", void 0), s([ b(cc.Label) ], t.prototype, "blockNumLabel", void 0), 
s([ g ], t);
}(cc.Component);
i.default = v;
cc._RF.pop();
}, {} ],
"uma-sdk": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "31ca3gDt7FFSYn5bPlPkMAx", "uma-sdk");
var n = e, r = o, i = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var a = n("dataTs"), s = n("enumConfig"), c = n("sdk"), l = n("DateManager"), u = cc._decorator, p = u.ccclass, d = (u.property, 
function() {
function e() {}
return e.setUserid = function() {
c.default.isPlatform(c.Platform.wx);
}, e.trackEvent = function(e, t) {
void 0 === t && (t = null);
var o = a.default.getUserData();
t = t || {};
var n = Number(a.default.getUserData().registerTime);
n = l.default.format(s.CALENDARNAMES[6], new Date(n));
t.time = n, t.c_time = Number(n), t.uid = o.userID;
o = JSON.stringify(t);
t.data = o, c.default.isPlatform(c.Platform.wx);
}, i([ p ], e);
}());
r.default = d;
cc._RF.pop();
}, {} ],
"unlock-build-pop": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "23d5cnrWYpLtbx08aY5sAOq", "unlock-build-pop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("dataTs"), u = r("audio"), p = r("spine"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mainCultivateLayer = null, t.flightNode = null, t.spriteNode = null, t.spineTitle = null, 
t.spineAnim = null, t.receiveBtn = null, t;
}
return a(t, e), t.prototype.start = function() {
c.default.addbtnTouchStartScale(this.receiveBtn, this.receiveBtnFunc.bind(this)), 
c.default.addbtnTouchEndScale(this.receiveBtn, this.receiveBtnFunc.bind(this)), 
c.default.addbtnTouchCancelScale(this.receiveBtn, this.receiveBtnFunc.bind(this));
}, t.prototype.hideDefault = function() {
this.flightNode.active = !1, this.spriteNode.active = !1, this.spineTitle.active = !1, 
this.spineAnim.active = !1, this.receiveBtn.active = !1;
}, t.prototype.showGetRemoveProp = function() {
this.node.active = !0, this.hideDefault(), this.playRemoveAnim();
}, t.prototype.playRemoveAnim = function() {
var e = this, t = this;
this.spineAnim.active = !0, this.spineAnim.getComponent(p.default).setFrameEventCb("Open1", function() {
console.log("1"), u.default.playAudioMusic("audio/sound/Open2.mp3", !1);
}), this.spineAnim.getComponent(p.default).setFrameEventCb("Eff_Sheen1", function() {
t.spineTitle.active = !0, console.log("2"), u.default.playAudioMusic("audio/sound/Words2.mp3", !1), 
t.spineTitle.getComponent(p.default).play("Award1_Words1", 1), e.spineAnim.getComponent(p.default).setFrameEventCb("Treasure1", function() {
console.log("3"), t.flightNode.active = !0, e.spriteNode.active = !0, t.receiveBtn.active = !0, 
t.flightNode.scale = 0, t.spriteNode.scale = 0, t.receiveBtn.scale = 0, cc.tween(t.flightNode).to(.3, {
scale: .8
}).call(function() {
cc.tween(t.flightNode).by(5, {
angle: 360
}).repeatForever().start();
}, t).start(), cc.tween(t.spriteNode).to(.1, {
scale: 1.4
}).to(.1, {
scale: 1
}).to(.1, {
scale: 1.2
}).to(.1, {
scale: 1
}).call(function() {
cc.tween(t.receiveBtn).to(.1, {
scale: 1.3
}).to(.1, {
scale: 1
}).start();
}).start();
});
}), this.spineAnim.getComponent(p.default).play("Ref1_Open3", 1, function() {
console.log("4");
});
var o = l.default.getUserData();
o.prop_remove += 2, l.default.saveUserData(o);
}, t.prototype.receiveBtnFunc = function() {
this.node.active = !1;
}, s([ h(cc.Node) ], t.prototype, "mainCultivateLayer", void 0), s([ h(cc.Node) ], t.prototype, "flightNode", void 0), 
s([ h(cc.Node) ], t.prototype, "spriteNode", void 0), s([ h(cc.Node) ], t.prototype, "spineTitle", void 0), 
s([ h(cc.Node) ], t.prototype, "spineAnim", void 0), s([ h(cc.Node) ], t.prototype, "receiveBtn", void 0), 
s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
"unlock-build": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "b4509jR79lK778pfI4KU2y8", "unlock-build");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("dataTs"), l = r("audio"), u = r("spine"), p = cc._decorator, d = p.ccclass, f = p.property, h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.catContent = null, t.unlockBuildBtn = null, t.lightBg = null, t.ribbonNode = null, 
t.catNode = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.playCatAnimation = function(e) {
void 0 === e && (e = 1);
var t = this;
this.hideDefault(), this.catContent.active = !0, t.catContent.scale = 1;
var o = c.default.getGameConfigData().baseConfigData.catClothesData["cat_" + e];
o && o.length && (t.ribbonNode.getComponent(cc.Label).string = o[0].name), this.unlockBuildBtn.active = !0, 
t.unlockBuildBtn.getComponent(u.default).setFrameEventCb("Cat1", function() {
console.log("Cat1 frame ######"), l.default.playAudioMusic("audio/sound/Open2.mp3", !1), 
t.lightBg.active = !0, t.ribbonNode.active = !0, t.catNode.active = !0, cc.tween(t.lightBg).by(5, {
angle: 360
}).repeatForever().start(), t.catContent.scale = 0, cc.tween(t.catContent).to(.1, {
scale: 1.1
}).to(.1, {
scale: 1
}).start(), t.setCatSpine(e), cc.tween(t.catContent).delay(2).to(.2, {
scale: 1.2
}).to(.3, {
scale: 0
}, {
easing: cc.easing.cubicIn
}).call(function() {
t.node.active = !1;
}).start();
}), this.unlockBuildBtn.getComponent(u.default).play("3UnlockCat1", 1, function() {
console.log("3UnlockCat1 播放完成");
});
}, t.prototype.setCatSpine = function(e) {
var t = this;
e = "Model" + (e < 10 ? "0" + e : e + "");
this.catNode.getComponent(u.default).loadNewSpine(e, function() {
t.catNode.getComponent(u.default).setNewSkin("00"), t.catNode.getComponent(u.default).play("2_Action1", 1, function() {
t.catNode.getComponent(u.default).play("1_Standby1", 0);
});
});
}, t.prototype.hideDefault = function() {
this.unlockBuildBtn.active = !1, this.lightBg.active = !1, this.ribbonNode.active = !1, 
this.catNode.active = !1;
}, s([ f(cc.Node) ], t.prototype, "catContent", void 0), s([ f(cc.Node) ], t.prototype, "unlockBuildBtn", void 0), 
s([ f(cc.Node) ], t.prototype, "lightBg", void 0), s([ f(cc.Node) ], t.prototype, "ribbonNode", void 0), 
s([ f(cc.Node) ], t.prototype, "catNode", void 0), s([ d ], t);
}(cc.Component);
i.default = h;
cc._RF.pop();
}, {} ],
"upgrade-tip": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "fc6e6B31jVAnbLpM0OJ9CQp", "upgrade-tip");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("dataTs"), u = r("mainCultivateLayer"), p = cc._decorator, d = p.ccclass, f = p.property, h = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.iconFish = null, t.iconPoint = null, t.iconNode = null, t.fishNode = null, 
t.arrowNode = null, t.mainCultivateLayer = null, t.houseData = null, t;
}
return a(t, e), t.prototype.start = function() {
c.default.addbtnTouchEndScale(this.iconPoint, this.iconPointEndFunc.bind(this)), 
c.default.addbtnTouchEndScale(this.iconFish, this.iconFishEndFunc.bind(this));
}, t.prototype.iconPointEndFunc = function(e) {
e.stopPropagation(), this.mainCultivateLayer && this.mainCultivateLayer.getComponent(u.default).clickUpgradePoint(this);
}, t.prototype.iconFishEndFunc = function(e) {
e.stopPropagation(), this.mainCultivateLayer && this.mainCultivateLayer.getComponent(u.default).clickUpgradeFish(this.houseData, this);
}, t.prototype.showPoint = function(e, t, o) {
void 0 === e && (e = this.houseData), void 0 === t && (t = this.mainCultivateLayer), 
void 0 === o && (o = !1), this.mainCultivateLayer = t, this.houseData = e, this.iconPoint.active = !0, 
this.iconFish.active = !1, this.fishNode.getComponent(cc.Label).string = "x" + e.fish, 
l.default.getUserData().fish >= e.fish ? this.arrowNode.active = !0 : this.arrowNode.active = !1, 
o && (this.iconPoint.scale = 0, cc.tween(this.iconPoint).delay(.1).to(.5, {
scale: 1
}).start());
o = "rewardIcon/Unlock_Hammer.png";
"cat" == e.buildType ? o = "rewardIcon/Unlock_Cat.png" : "skin" == e.buildType ? o = "rewardIcon/Unlock_Clothing.png" : 1 == e.buildid && (o = "rewardIcon/Unlock_Brush.png"), 
c.default.changeSpriteFrame(this.iconNode, o);
}, t.prototype.showFish = function() {
console.log(JSON.stringify(this.houseData)), this.iconPoint.active = !1, this.iconFish.active = !0, 
this.iconFish.scale = 0, cc.tween(this.iconFish).to(.3, {
scale: 1
}).start();
}, t.prototype.show = function() {
this.node.active = !0, this.iconPoint.active = !0, this.iconFish.active = !1, this.iconPoint.scale = 0, 
cc.tween(this.iconPoint).delay(.1).to(.5, {
scale: 1
}).start();
}, t.prototype.hide = function() {
this.node.active = !1;
}, s([ f(cc.Node) ], t.prototype, "iconFish", void 0), s([ f(cc.Node) ], t.prototype, "iconPoint", void 0), 
s([ f(cc.Node) ], t.prototype, "iconNode", void 0), s([ f(cc.Node) ], t.prototype, "fishNode", void 0), 
s([ f(cc.Node) ], t.prototype, "arrowNode", void 0), s([ d ], t);
}(cc.Component);
i.default = h;
cc._RF.pop();
}, {} ],
upgradePop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "56493C1WJVBQJG8pH7F9E9g", "upgradePop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("CcJsFunc"), l = r("dataTs"), u = r("enumConfig"), p = r("audio"), d = r("spine"), f = r("uma-sdk"), h = cc._decorator, y = h.ccclass, m = h.property, g = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.coinNum = null, t.catNode = null, t.closeBtn = null, t.upgradeBtn = null, 
t.popNode = null, t.catId = 0, t.clothId = 0, t.callBack = null, t.popCallbackCollect = null, 
t;
}
return a(t, e), t.prototype.start = function() {
c.default.addbtnTouchStartScale(this.closeBtn), c.default.addbtnTouchEndScale(this.closeBtn, this.hideUpgradePop.bind(this)), 
c.default.addbtnTouchCancelScale(this.closeBtn), c.default.addbtnTouchStartScale(this.upgradeBtn), 
c.default.addbtnTouchEndScale(this.upgradeBtn, this.upgradeFunc.bind(this)), c.default.addbtnTouchCancelScale(this.upgradeBtn), 
this.popCallbackCollect = {
playGameCallBack: this.playGameFunc.bind(this)
};
}, t.prototype.playGameFunc = function() {}, t.prototype.showUpgradePop = function(e, t) {
this.node.active = !0, this.catId = e, this.callBack = t, l.default.getGameConfigData().baseConfigData.catClothesData;
for (var o = l.default.getUserData().catClothesData["cat_" + this.catId], n = 0; n < o.length; n++) o[n].isWear && (this.clothId = o[n].clothesID, 
this.setCatSpine(this.clothId, o[n].clothRank + 1));
cc.tween(this.popNode).set({
scale: 0,
opacity: 0
}).to(.2, {
scale: 1.1,
opacity: 255
}, {
easing: cc.easing.quadOut
}).to(.2, {
scale: 1
}).start();
}, t.prototype.hideUpgradePop = function() {
this.node.active = !1, this.callBack && this.callBack(!1);
}, t.prototype.upgradeFunc = function() {
console.log("升级服装");
var e, t = l.default.upgradeClothesLevel(this.catId, this.clothId);
t ? (this.node.active = !1, cc.game.emit(u.EMITKEY.MAINUPDATEUI), this.callBack(!0), 
p.default.playAudioMusic("audio/sound/Clothe_Upgrade.mp3", !1)) : (e = {
popName: "nothingPop",
showPopData: {
popCallbackCollect: this.popCallbackCollect,
popType: 0
}
}, cc.game.emit("showPop", e), this.hideUpgradePop()), f.default.trackEvent("house_clothing_upgrade", {
upgrade: t ? "升级成功" : "升级失败"
});
}, t.prototype.setCatSpine = function(e, t) {
var o = this, n = "Model" + (this.catId < 10 ? "0" + this.catId : this.catId + "");
this.catNode.getComponent(d.default).loadNewSpine(n, function() {
var n = (n = e % 1e3) < 10 ? "0" + n : n + "";
o.catNode.getComponent(d.default).setNewSkin(n), o.catNode.getComponent(d.default).play("1_Standby1", 0);
for (var r = 1, i = (r = t < 2 ? 0 : 1, [ "Collar2", "Collar1" ]), a = 0; a < i.length; a++) o.catNode.getComponent("spine").spine.getAttachment(i[a], i[a]) && (o.catNode.getComponent("spine").spine.getAttachment(i[a], i[a]).color.a = r);
r = t < 3 ? 0 : 1;
var s = [ "Body1", "Arm_L1", "Arm_R1", "Cloak1" ];
for (a = 0; a < s.length; a++) o.catNode.getComponent("spine").spine.getAttachment(s[a], s[a]) && (o.catNode.getComponent("spine").spine.getAttachment(s[a], s[a]).color.a = r);
});
}, s([ m(cc.Label) ], t.prototype, "coinNum", void 0), s([ m(cc.Node) ], t.prototype, "catNode", void 0), 
s([ m(cc.Node) ], t.prototype, "closeBtn", void 0), s([ m(cc.Node) ], t.prototype, "upgradeBtn", void 0), 
s([ m(cc.Node) ], t.prototype, "popNode", void 0), s([ y ], t);
}(cc.Component);
i.default = g;
cc._RF.pop();
}, {} ],
util: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4a098EKhTpIr40rNw8ENK2v", "util");
var n = o;
Object.defineProperty(n, "__esModule", {
value: !0
});
var r = {
isType: function(e, t) {
return Object.prototype.toString.call(e).slice(8, -1).toLowerCase() == t;
},
arrayRemoveEqu: function(e) {
for (var t = [], o = 0; o < e.length; o++) -1 == t.indexOf(e[o]) && t.push(e[o]);
return t;
},
copy: function(e) {
e = JSON.stringify(e);
return JSON.parse(e);
},
inRect: function(e, t, o, n, r, i) {
return o <= e && n <= t && e <= o + r && t <= n + i ? 1 : 0;
},
pointLength: function(e, t) {
var o = t.x - e.x;
return o * o + (e = t.y - e.y) * e;
},
join: function(e, t) {
void 0 === t && (t = ",");
var o, n = [], r = 0;
for (o in e) n[r] = e[o], r++;
return n.join(t);
},
concat: function() {
var e, t = {};
for (e in arguments) for (var o in arguments[e]) t[o] = arguments[e][o];
return t;
},
toArray: function(e, t) {
var o = [];
if (t) for (var n in e) o.push(n, e[n]); else for (var n in e) o.push(e[n]);
return o;
},
valueArray: function(e, t) {
var o, n = [];
for (o in e) n.push(e[o][t]);
return n;
},
getObjectLen: function(e) {
var t, o = 0;
for (t in e) o++;
return o;
},
formatTime: function(e) {
var t = [ 0, 0, 0, 0, 0 ];
return t[4] = e % 1e3, t[3] = Math.floor(e / 1e3), 60 <= t[3] && (t[2] = Math.floor(t[3] / 60), 
t[3] = t[3] % 60, 60 <= t[2] && (t[1] = Math.floor(t[2] / 60), t[2] = t[2] % 60, 
24 <= t[1] && (t[0] = Math.floor(t[1] / 24), t[1] = t[1] % 24))), t;
},
countdownTime: function(e) {
var t = [ 0, 0, 0 ];
return t[0] = Math.floor(e / 3600), t[1] = Math.floor(e % 3600 / 60), t[2] = Math.floor(e % 60), 
t;
},
getTime: function(e, t, o) {
var n = "", r = "";
e = new Date(e);
switch (1 == o ? (n += e.getFullYear() + "/", n += this.fixLength(e.getMonth() + 1, 2) + "/", 
n += this.fixLength(e.getDate(), 2)) : 2 == o ? (n += e.getFullYear() + "-", n += this.fixLength(e.getMonth() + 1, 2) + "-", 
n += this.fixLength(e.getDate(), 2)) : (n += e.getFullYear() + "年", n += this.fixLength(e.getMonth() + 1, 2) + "月", 
n += this.fixLength(e.getDate(), 2) + "日"), r += this.fixLength(e.getHours(), 2) + ":", 
r += this.fixLength(e.getMinutes(), 2) + ":", r += this.fixLength(e.getSeconds(), 2), 
t) {
case 1:
return n;

case 2:
return n + " " + r;

default:
return r;
}
},
rnd: function(e, t) {
return (e = null == t ? 0 : e) + Math.floor(Math.random() * (t - e + 1));
},
rndArray: function(e) {
for (var t = e.concat(), o = []; 0 < t.length; ) o.push(t.splice(this.rnd(t.length - 1), 1)[0]);
return o;
},
inArray: function(e, t) {
for (var o in t) if (e == t[o]) return o;
return -1;
},
countArray: function(e, t, o) {
var n, r = 0;
for (n in e) t == e[n] && r++;
return o ? e.length - r : r;
},
fixLength: function(e, t, o, n) {
for (e += "", arguments.length < 3 && (o = 0), arguments.length < 4 && (n = "0"); e.length < t; ) 0 == o ? e = n + e : e += n;
return e.length > t ? 0 == o ? e.slice(-t) : e.slice(0, t) : e;
},
fixNumber: function(e, t, o) {
t = Math.pow(10, t);
return Math[o] ? Math[o](e * t) / t : Math.round(e * t) / t;
},
formatNumber: function(e, t, o) {
if (!isNaN(e) && (arguments.length < 2 && (t = 1), -1 < (o = arguments.length < 3 ? -1 : o) && (e = parseFloat(e).toFixed(o)), 
1 == t)) {
var n = e.toString().split("."), r = n[0], i = "";
for (void 0 !== n[1] && (i = "." + n[1]), n = []; 3 < r.length; ) n.unshift(r.slice(-3)), 
r = r.slice(0, r.length - 3);
0 < r.length && n.unshift(r), e = n.join() + i;
}
return e;
},
fixValue: function(e, t, o, n) {
return e = Math[n] ? Math[n](e) : Math.round(e), null != t && e < t ? e = t : null != o && o < e && (e = o), 
e;
},
isInt: function(e, t, o) {
var n = parseInt(e);
return n != e || null != t && n < t || null != o && o < n ? 0 : 1;
},
unsignInt: function(e, t) {
return e <= 0 ? 0 : Math[t] ? Math[t](e) : Math.round(e);
},
getKey: function(e, t) {
for (var o in e) if (e[o] == t) return o;
},
getGrid: function(e, t, o, n) {
for (var r = [], i = 0; i < t; i++) for (var a = 0; a < e; a++) r[i * e + a] = {}, 
r[i * e + a].y = i * n, r[i * e + a].x = a * o;
return r;
},
getByteLen: function(e) {
for (var t = 0, o = 0; o < e.length; o++) 255 < e.charCodeAt(o) ? t += 2 : t++;
return t;
},
simpleSplit: function(e, t) {
var o = [];
return -1 == e.indexOf(t) ? (o[0] = e, o[1] = "") : (o[0] = e.slice(0, e.indexOf(t)), 
o[1] = e.slice(e.indexOf(t) + 1)), o;
},
getSum: function(e) {
var t, o = 0;
for (t in e) o += e[t];
return o;
},
getAverage: function(e) {
var t, o = 0, n = 0;
for (t in e) o += e[t], n++;
return o / n;
},
parseToObject: function(e, t, o, n) {
var r, i = t.split(n = n || "."), a = (n = i.pop(), e);
for (r in i) a = a[i[r]];
return null != o && (a[n] = o), a[n];
},
multicall: function(e, t) {
var o = t;
switch (o.length) {
case 0:
e();
break;

case 1:
e(o[0]);
break;

case 2:
e(o[0], o[1]);
break;

case 3:
e(o[0], o[1], o[2]);
break;

case 4:
e(o[0], o[1], o[2], o[3]);
break;

case 5:
e(o[0], o[1], o[2], o[3], o[4]);
break;

case 6:
e(o[0], o[1], o[2], o[3], o[4], o[5]);
break;

case 7:
e(o[0], o[1], o[2], o[3], o[4], o[5], o[6]);
break;

case 8:
e(o[0], o[1], o[2], o[3], o[4], o[5], o[6], o[7]);
break;

case 9:
e(o[0], o[1], o[2], o[3], o[4], o[5], o[6], o[7], o[8]);
break;

case 10:
e(o[0], o[1], o[2], o[3], o[4], o[5], o[6], o[7], o[8], o[9]);
}
},
getPointAlpha: function(e, t, o) {
var n = window.document.createElement("canvas"), r = n.getContext("2d");
return n.width = 1, n.height = 1, r.drawImage(e, t, o, 1, 1, 0, 0, 1, 1), r.getImageData(0, 0, 1, 1).data[3];
},
ajax: function(e, t, o, n) {
t = t || "", n = n || "GET";
var r = new window.XMLHttpRequest();
r.onreadystatechange = function() {
4 == r.readyState && 200 == r.status && o(r.responseText);
}, r.open(n, e, !0), r.send(t);
},
getQueryString: function(e) {
e = new RegExp("(^|&)" + e + "=([^&]*)(&|$)", "i");
return null != (e = window.location.search.substr(1).match(e)) ? unescape(e[2]) : null;
},
delayCallbackOnce: function(e, t) {
cc.director.getScheduler().schedule(e, this._defaultTimerTarget, 0, 0, t, !1);
}
};
n.default = r;
cc._RF.pop();
}, {} ],
wallpaperPrefab: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "5ccb7gpTcZNy6oxSxO1hXsJ", "wallpaperPrefab");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = cc._decorator, l = c.ccclass, u = c.property, p = r("wallpaperSubPrefab"), d = r("dataTs"), f = r("enumConfig"), h = r("wallpaperSv"), y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.content = null, t.wallpaperSubPrefab = null, t.base_title_label = null, 
t.parentNode = null, t.nodeData = null, t;
}
return a(t, e), t.prototype.start = function() {}, t.prototype.setNodeData = function(e, t) {
for (var o in this.parentNode = t, this.nodeData = e, d.default.langCode == f.LangEnum.zhCN && "- Coming soon -" == this.nodeData.titleName ? this.base_title_label.string = "- 敬请期待 -" : this.base_title_label.string = this.nodeData.titleName, 
this.nodeData.bgArray) {
var n = cc.instantiate(this.wallpaperSubPrefab);
n.getComponent(p.default).setNodeData(this.nodeData.bgArray[o], this), this.content.addChild(n);
}
}, t.prototype.refreshNode = function(e, t) {
this.parentNode = t, this.nodeData = e;
var o, n = this.content.children;
for (o in n) n[o].getComponent(p.default).setNodeData(this.nodeData.bgArray[o], this);
}, t.prototype.refreshSubNode = function() {
this.parentNode.getComponent(h.default).refreshSubNode();
}, s([ u(cc.Node) ], t.prototype, "content", void 0), s([ u(cc.Prefab) ], t.prototype, "wallpaperSubPrefab", void 0), 
s([ u(cc.Label) ], t.prototype, "base_title_label", void 0), s([ l ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
wallpaperSubPrefab: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "f4535mVxXNAALqaewBHYpME", "wallpaperSubPrefab");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = cc._decorator, l = c.ccclass, u = c.property, p = r("dataTs"), d = r("CcJsFunc"), f = r("wallpaperPrefab"), h = r("GameManager"), y = r("uma-sdk"), m = r("enumConfig"), g = r("report-common"), b = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.imgContent = null, t.imgLabel = null, t.imgBorder = null, t.imgLock = null, 
t.parentNode = null, t.userData = null, t.nodeData = null, t.levelNum = null, t.pictureData = null, 
t.isReward = !1, t;
}
return a(t, e), t.prototype.start = function() {
d.default.addbtnTouchEndScale(this.node, this.clickNodeAction.bind(this));
}, t.prototype.rewardNodeData = function(e, t) {
this.isReward = t = void 0 === t || t, this.imgLock.active = !1, this.imgContent.active = !0, 
this.imgBorder.active = !1, d.default.changeSpriteFrame(this.imgContent, "pictureIcon/GameBgicon" + e + ".png"), 
this.imgBorder.getChildByName("mark").active = !1, this.imgLabel.node.active = !1;
}, t.prototype.setNodeData = function(e, t) {
this.isReward = !1, this.parentNode = t, this.nodeData = e, this.userData = p.default.getUserData(), 
this.levelNum = this.userData.playLevelId, this.pictureData = p.default.getPictureData(), 
p.default.langCode == m.LangEnum.zhCN ? this.imgLabel.string = this.nodeData.name : this.imgLabel.string = this.nodeData.en_name;
t = "pictureIcon/GameBgicon" + this.nodeData.bgID + ".png";
d.default.changeSpriteFrame(this.imgContent, t), this.levelNum > this.nodeData.unlockNum ? (this.imgLock.active = !1, 
this.imgContent.active = !0, this.imgBorder.active = !1, this.pictureData.bgNum == this.nodeData.bgID ? this.imgBorder.active = !0 : this.imgBorder.active = !1) : (this.imgLock.active = !0, 
this.imgContent.active = !1, this.imgBorder.active = !1), h.default.getInstance().collectionMark.bgNum == e.bgID ? (this.imgBorder.getChildByName("mark").active = !0, 
h.default.getInstance().collectionMark.bgNum = 0) : this.imgBorder.getChildByName("mark").active = !1;
}, t.prototype.clickNodeAction = function() {
var e;
d.default.addClickAudio(), this.levelNum >= this.nodeData.unlockNum && !this.isReward && (this.pictureData.bgNum != this.nodeData.bgID && g.default.reportTACommon("collar_bg", {
bg_before: this.pictureData.bgNum,
bg_after: this.nodeData.bgID
}), this.imgBorder.active = !0, this.pictureData.bgNum = this.nodeData.bgID, p.default.savePictureData(this.pictureData), 
this.parentNode.getComponent(f.default).refreshSubNode(), this.imgBorder.getChildByName("mark").active = !1, 
e = this.nodeData.bgID + "", y.default.trackEvent("collar_bg", {
ID: e,
c_ID: Number(e)
}), cc.game.emit(m.EMITKEY.UPDATEPICTURE));
}, s([ u(cc.Node) ], t.prototype, "imgContent", void 0), s([ u(cc.Label) ], t.prototype, "imgLabel", void 0), 
s([ u(cc.Node) ], t.prototype, "imgBorder", void 0), s([ u(cc.Node) ], t.prototype, "imgLock", void 0), 
s([ l ], t);
}(cc.Component);
i.default = b;
cc._RF.pop();
}, {} ],
wallpaperSv: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e1a4baQrCVBT5Hpjf/VGnTF", "wallpaperSv");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("dataTs"), l = r("wallpaperPrefab"), u = r("i18n"), p = r("gd_language"), d = cc._decorator, f = d.ccclass, h = d.property, y = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.content = null, t.wallpaperPrefab = null, t.dataArray = [], t.i18nArray = [], 
t;
}
return a(t, e), t.prototype.start = function() {
this.i18nArray.push(u.default.instance.trans(p.GDLanguage.wallpaper_commuter_road)), 
this.i18nArray.push(u.default.instance.trans(p.GDLanguage.wallpaper_starry)), this.i18nArray.push(u.default.instance.trans(p.GDLanguage.wallpaper_lamp)), 
this.i18nArray.push(u.default.instance.trans(p.GDLanguage.wallpaper_harbour)), this.i18nArray.push(u.default.instance.trans(p.GDLanguage.wallpaper_snow)), 
this.i18nArray.push(u.default.instance.trans(p.GDLanguage.wallpaper_dinner)), this.i18nArray.push(u.default.instance.trans(p.GDLanguage.wallpaper_moon)), 
this.i18nArray.push(u.default.instance.trans(p.GDLanguage.wallpaper_lazy_time)), 
this.i18nArray.push(u.default.instance.trans(p.GDLanguage.wallpaper_waiting_alone)), 
this.i18nArray.push(u.default.instance.trans(p.GDLanguage.wallpaper_lighthouse)), 
this.i18nArray.push(u.default.instance.trans(p.GDLanguage.wallpaper_meteor_shower)), 
this.i18nArray.push(u.default.instance.trans(p.GDLanguage.wallpaper_harbour)), this.i18nArray.push(u.default.instance.trans(p.GDLanguage.wallpaper_lamp)), 
this.content.removeAllChildren(), this.dataArray = c.default.gameConfigData.baseConfigData.bgData;
var e, t = 0;
for (e in this.dataArray) for (var o in this.dataArray[e].bgArray) t < this.i18nArray.length && (this.dataArray[e].bgArray[o].en_name = this.i18nArray[t]), 
t++;
for (e in this.dataArray) {
var n = cc.instantiate(this.wallpaperPrefab);
n.getComponent(l.default).setNodeData(this.dataArray[e], this), this.content.addChild(n);
}
}, t.prototype.onEnable = function() {
0 < this.dataArray.length && this.refreshSubNode();
}, t.prototype.refreshSubNode = function() {
var e, t = this.content.children;
for (e in t) {
var o = this.dataArray[e];
t[e].getComponent(l.default).refreshNode(o, this);
}
}, s([ h(cc.Node) ], t.prototype, "content", void 0), s([ h(cc.Prefab) ], t.prototype, "wallpaperPrefab", void 0), 
s([ f ], t);
}(cc.Component);
i.default = y;
cc._RF.pop();
}, {} ],
wardrobeLayer: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "4448eEzJr1BMqSaSIx1uqZX", "wardrobeLayer");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("clothesPrefab"), l = r("CcJsFunc"), u = r("dataTs"), p = r("enumConfig"), d = r("upgradePop"), f = r("uma-sdk"), h = r("mainCultivateLayer"), y = cc._decorator, m = y.ccclass, g = y.property, b = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.mainCultivateLayer = null, t.changeClothesNode = null, t.scrollContent = null, 
t.clothesPrefab = null, t.btnLayer = null, t.ribbonNode = null, t.ribbonLabel = null, 
t.rankBtn = null, t.levelLabel1 = null, t.levelLabel2 = null, t.upgradePop = null, 
t.challengeBtn = null, t.clothPadding = 20, t.catId = 0, t.clothNodeArray = [], 
t.cultivateComp = null, t.isShowing = !1, t;
}
return a(t, e), t.prototype.start = function() {
l.default.addbtnTouchStartScale(this.rankBtn), l.default.addbtnTouchEndScale(this.rankBtn, this.rankFunc.bind(this)), 
l.default.addbtnTouchCancelScale(this.rankBtn), l.default.addbtnTouchStartScale(this.challengeBtn), 
l.default.addbtnTouchEndScale(this.challengeBtn, this.challengeBtnFunc.bind(this)), 
l.default.addbtnTouchCancelScale(this.challengeBtn);
}, t.prototype.showWardrobelLayer = function(e, t) {
var o = this;
console.log("catId = ", e), this.isShowing || (this.isShowing = !0, this.cultivateComp = t, 
this.catId = e, this.scrollContent.removeAllChildren(), this.changeClothesNode.active = !0, 
this.changeClothesNode.y = -cc.winSize.height / 2, this.initCatClothesNode(), cc.tween(this.changeClothesNode).by(.3, {
y: 350
}, {
easing: cc.easing.cubicOut
}).start(), this.cultivateComp.houseToBigMiddle(this.catId), cc.tween(this.changeClothesNode).delay(.3).call(function() {
o.showBtnLayer(!0);
}, this).start());
}, t.prototype.hideWardrobelLayer = function() {
var e = this;
0 != this.catId && (this.catId = 0, this.isShowing = !1, this.changeClothesNode.stopAllActions(), 
cc.tween(this.changeClothesNode).to(.2, {
y: -cc.winSize.height / 2
}).call(function() {
e.changeClothesNode.active = !1;
}, this).start(), this.hideBtnLayer());
}, t.prototype.showBtnLayer = function(e) {
this.btnLayer.active = !0;
for (var t, o = u.default.getUserData().catClothesData["cat_" + this.catId], n = 0; n < o.length; n++) o[n].isWear && (t = u.default.getClothesData(this.catId, o[n].clothesID), 
this.ribbonLabel.string = t.name, console.log("clothesData = " + JSON.stringify(o[n])), 
3 <= o[n].clothRank ? (this.rankBtn.active = !1, this.challengeBtn.active = !1) : (2 == t.skin ? (this.challengeBtn.active = !0, 
this.rankBtn.active = !1) : (this.challengeBtn.active = !1, this.rankBtn.active = !0), 
this.levelLabel1.string = o[n].clothRank + "", this.levelLabel2.string = o[n].clothRank + 1 + ""));
e && (cc.tween(this.ribbonNode).set({
scale: 0
}).to(.3, {
scale: 1
}, {
easing: cc.easing.backOut
}).start(), cc.tween(this.rankBtn).set({
scale: 0
}).delay(.15).to(.3, {
scale: 1
}, {
easing: cc.easing.cubicOut
}).start());
}, t.prototype.hideBtnLayer = function() {
this.btnLayer.active = !1;
}, t.prototype.rankFunc = function(e) {
e.stopPropagation(), cc.log("打开升级弹窗"), this.upgradePop.getComponent(d.default).showUpgradePop(this.catId, this.popCallbackFunc.bind(this));
}, t.prototype.challengeBtnFunc = function() {
this.hideWardrobelLayer(), this.mainCultivateLayer.getComponent(h.default).houseToMinDefault(), 
cc.game.emit(p.EMITKEY.UPDATETABBARRECEIVE, 2);
}, t.prototype.popCallbackFunc = function(e) {
this.cultivateComp.refreshCatCloth(this.catId, e = void 0 !== e && e, e), this.refreshClothSelect(), 
this.showBtnLayer(!1);
}, t.prototype.initCatClothesNode = function() {
var e = u.default.getGameConfigData().baseConfigData.catClothesData, t = u.default.getUserData().catClothesData;
console.log("baseConfig catClothesData = ", e), console.log("userData userClothesData = ", t), 
this.clothNodeArray = [];
for (var o = "cat_" + this.catId, n = e[o], r = 0; r < n.length; r++) this.addClotheNode(r, n[r], t[o]);
}, t.prototype.refreshClothSelect = function() {
for (var e = u.default.getUserData().catClothesData, t = "cat_" + this.catId, o = 0; o < this.clothNodeArray.length; o++) {
var n = this.clothNodeArray[o].getComponent(c.default).clothData;
this.clothNodeArray[o].getComponent(c.default).setClothNodeData(n, this, this.catId, e[t]);
}
}, t.prototype.addClotheNode = function(e, t, o) {
var n = cc.instantiate(this.clothesPrefab), r = n.width;
n.x = (r + this.clothPadding) * e + r / 2, n.getComponent(c.default).setClothNodeData(t, this, this.catId, o), 
this.scrollContent.addChild(n), this.scrollContent.width = (e + 1) * (r + this.clothPadding), 
this.clothNodeArray.push(n);
}, t.prototype.dressCloth = function(e) {
var t, o = "cat_" + this.catId, n = u.default.getUserData(), r = n.catClothesData[o];
for (t in r) r[t].clothesID == e ? r[t].isWear = !0 : r[t].isWear = !1;
u.default.saveUserData(n), this.refreshClothSelect(), this.cultivateComp.refreshCatCloth(this.catId, !1, !0), 
this.showBtnLayer(!1), f.default.trackEvent("house_clothing", {
clothID: e + ""
});
}, s([ g(cc.Node) ], t.prototype, "mainCultivateLayer", void 0), s([ g(cc.Node) ], t.prototype, "changeClothesNode", void 0), 
s([ g(cc.Node) ], t.prototype, "scrollContent", void 0), s([ g(cc.Prefab) ], t.prototype, "clothesPrefab", void 0), 
s([ g(cc.Node) ], t.prototype, "btnLayer", void 0), s([ g(cc.Node) ], t.prototype, "ribbonNode", void 0), 
s([ g(cc.Label) ], t.prototype, "ribbonLabel", void 0), s([ g(cc.Node) ], t.prototype, "rankBtn", void 0), 
s([ g(cc.Label) ], t.prototype, "levelLabel1", void 0), s([ g(cc.Label) ], t.prototype, "levelLabel2", void 0), 
s([ g(cc.Node) ], t.prototype, "upgradePop", void 0), s([ g(cc.Node) ], t.prototype, "challengeBtn", void 0), 
s([ m ], t);
}(cc.Component);
i.default = b;
cc._RF.pop();
}, {} ],
winPop: [ function(e, t, o) {
"use strict";
cc._RF.push(t, "e67c6kaMd9Juoslo14wbz9l", "winPop");
var n, r = e, i = o, a = (n = function(e, t) {
return (n = Object.setPrototypeOf || {
__proto__: []
} instanceof Array && function(e, t) {
e.__proto__ = t;
} || function(e, t) {
for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
})(e, t);
}, function(e, t) {
function o() {
this.constructor = e;
}
n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, 
new o());
}), s = function(e, t, o, n) {
var r, i = arguments.length, a = i < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, o) : n;
if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, o, n); else for (var s = e.length - 1; 0 <= s; s--) (r = e[s]) && (a = (i < 3 ? r(a) : 3 < i ? r(t, o, a) : r(t, o)) || a);
return 3 < i && a && Object.defineProperty(t, o, a), a;
};
Object.defineProperty(i, "__esModule", {
value: !0
});
var c = r("api-sheep"), l = r("CcJsFunc"), u = r("dataTs"), p = r("enumConfig"), d = r("spine"), f = r("util"), h = r("data-manager"), y = r("DateManager"), m = r("GameManager"), g = r("report-common"), b = r("sdk"), v = cc._decorator, _ = v.ccclass, w = v.property, N = function(e) {
function t() {
var t = null !== e && e.apply(this, arguments) || this;
return t.titleNode = null, t.barefootNode = null, t.barefootTitle = null, t.barefootDesc = null, 
t.sheepSp = null, t.sheepFlagSp = null, t.winDescNode = null, t.backBtn = null, 
t.shareNode = null, t.shareBtn = null, t.noShareBtn = null, t.shareCloseBtn = null, 
t.timeNode = null, t.flashSp = null, t;
}
return a(t, e), t.prototype.start = function() {
l.default.addbtnTouchStartScale(this.backBtn), l.default.addbtnTouchEndScale(this.backBtn, this.backBtnFunc.bind(this)), 
l.default.addbtnTouchCancelScale(this.backBtn), l.default.addbtnTouchStartScale(this.shareBtn), 
l.default.addbtnTouchEndScale(this.shareBtn, this.shareBtnFunc.bind(this)), l.default.addbtnTouchCancelScale(this.shareBtn), 
l.default.addbtnTouchStartScale(this.noShareBtn), l.default.addbtnTouchEndScale(this.noShareBtn, this.noShareBtnFunc.bind(this)), 
l.default.addbtnTouchCancelScale(this.noShareBtn), l.default.addbtnTouchStartScale(this.shareCloseBtn), 
l.default.addbtnTouchEndScale(this.shareCloseBtn, this.shareCloseBtnFunc.bind(this)), 
l.default.addbtnTouchCancelScale(this.shareCloseBtn);
}, t.prototype.shareBtnFunc = function() {
cc.game.emit(p.EMITKEY.TTSHARERECORD);
}, t.prototype.noShareBtnFunc = function() {
this.shareNode.active = !1, this.showBackBtn();
}, t.prototype.shareCloseBtnFunc = function() {
this.shareNode.active = !1, this.showBackBtn();
}, t.prototype.backBtnFunc = function() {
cc.game.emit(p.EMITKEY.SHOWMAINLAYER);
}, t.prototype.showBackBtn = function() {
cc.tween(this.backBtn).delay(.5).to(.2, {
scale: 1.1
}).to(.1, {
scale: .9
}).to(.1, {
scale: 1
}).start();
}, t.prototype.showWinPop = function(e) {
cc.audioEngine.stopAll();					
winMusic(cc);
b.default.showNativeAd(!1, !1);
var t = this;
this.node.active = !0, this.backBtn.scale = 0, this.shareNode.scale = 0;
var o = h.default.getTAUserInfo();
g.default.reportTACommon("game_finish", o), this.titleNode.getComponent(cc.Label).string = y.default.getDateString();
e = (o = f.default.countdownTime(e.time))[1] < 10 ? "0" + o[1] : o[1] + "", o = o[2] < 10 ? "0" + o[2] : o[2] + "";
this.timeNode.getComponent(cc.Label).string = "通关用时" + e + "分" + o + "秒", m.default.getInstance().gameType == p.GAMETYPE.GAMEDAILY ? (this.barefootDesc.getComponent(cc.Label).string = "加入羊群", 
c.default.getRankInfoData(function(e) {
h.default.setRankData(e), m.default.getInstance().rankInfo = e.data;
e = 12, e = "<color=#ffffff>您所在的地区为第</color><color=#ffea00><size=56> " + (e = m.default.getInstance().rankInfo ? m.default.getInstance().rankInfo.user.index : e) + " </size></color><color=#ffffff>名</color>";
t.winDescNode.getComponent(cc.RichText).string = e;
})) : m.default.getInstance().gameType == p.GAMETYPE.GAMETOPIC && (this.barefootDesc.getComponent(cc.Label).string = "加入" + this.getTeamName(), 
o = "", h.default.topicRankInfo && h.default.topicModel && (o = 1 == h.default.topicModel.info.type ? h.default.topicRankInfo.tomb ? h.default.topicRankInfo.tomb.length + "" : "0" : h.default.topicRankInfo.taoist ? h.default.topicRankInfo.taoist.length + "" : "0"), 
o = "<color=#ffffff>" + this.getTeamName() + "羊队已有 </color><color=#ffea00><size=56> " + o + " </size></color><color=#ffffff> 羊</color>", 
t.winDescNode.getComponent(cc.RichText).string = o), this.playBareFoot(), t.sheepSp.getComponent(d.default).play("Finish1", 1, function() {
t.sheepSp.getComponent(d.default).play("Finish2", 0);
}), t.flashSp.active = !1, cc.tween(t.sheepFlagSp).to(0, {
scale: 0
}).delay(1).call(function() {
t.playDescSp();
}).to(.2, {
scale: 1.1
}).to(.1, {
scale: .9
}).to(.1, {
scale: 1
}).start();
}, t.prototype.playDescSp = function() {
var e = this;
if (m.default.getInstance().gameType == p.GAMETYPE.GAMEDAILY) {
for (var t = u.default.getSheepClothesData(), o = !1, n = "sheep/Sheeps", r = "skin_00", i = null, a = (t = l.default.shuffle(t), 
0); a < t.length; a++) (s = t[a]).dressing && (n = "sheep/" + s.spName, r = s.spSkin), 
"Sheeps" != s.spName || 0 != s.unlock || o || (s.unlock = o = !0, i = s, m.default.getInstance().collectionMark.topicClothesNum = s.clothesId);
o && u.default.setSheepClothesData(t), e.flashSp.active = !1, e.sheepFlagSp.getComponent(d.default).loadSpine(n, function() {
console.log("skinName = ", r), e.sheepFlagSp.getComponent(d.default).setNewSkin(r), 
e.sheepFlagSp.getComponent(d.default).play("Jump2", 0), setTimeout(function() {
e.flashSp.active = !0, e.flashSp.getComponent(d.default).play("4Ray1", 1, function() {
e.flashSp.getComponent(d.default).play("4Ray2", 0);
});
}, 300);
}), this.showNewSheep(i);
} else if (m.default.getInstance().gameType == p.GAMETYPE.GAMETOPIC) {
var s, c = 1 == h.default.topicModel.info.type, f = 2 == h.default.topicModel.info.type, y = h.default.getTopicAnimation(h.default.topicModel.id, c, f);
for (e.flashSp.active = !1, e.sheepFlagSp.getComponent(d.default).loadSpine(y.spName, function() {
e.sheepFlagSp.getComponent(d.default).setNewSkin(y.skin), e.sheepFlagSp.getComponent(d.default).play("Jump1", 0), 
setTimeout(function() {
e.flashSp.active = !0, e.flashSp.getComponent(d.default).play("4Ray1", 1, function() {
e.flashSp.getComponent(d.default).play("4Ray2", 0);
});
}, 300);
}), t = u.default.getSheepClothesData(), o = !1, i = null, a = 0; a < t.length; a++) (s = t[a]).dressing, 
s.spSkin != y.skin || 0 != s.unlock || o || (s.unlock = o = !0, i = s, m.default.getInstance().collectionMark.topicClothesNum = s.clothesId);
this.showNewSheep(i), o && u.default.setSheepClothesData(t);
}
setTimeout(function() {
e.showBackBtn();
}, 500);
}, t.prototype.showNewSheep = function(e) {
e && setTimeout(function() {
cc.game.emit("showPop", {
popName: "topicNewPop",
showPopData: {
type: 2,
data: e
}
});
}, 1e3);
}, t.prototype.getTeamName = function() {
var e = h.default.topicModel.name.split("#");
return 2 <= e.length ? 1 == h.default.topicModel.info.type ? e[0] : e[1] : "";
}, t.prototype.showShareNode = function() {
this.shareNode.active = !0, cc.tween(this.shareNode).delay(.5).to(.2, {
scale: 1.1
}).to(.1, {
scale: .9
}).to(.1, {
scale: 1
}).start();
}, t.prototype.playBareFoot = function() {
var e = this;
this.barefootNode.active = !0, cc.tween(this.barefootNode).to(0, {
scale: 0
}).to(.1, {
scale: 1.1
}).to(.1, {
scale: .9
}).to(.1, {
scale: 1
}).call(function() {
cc.tween(e.barefootTitle).to(.1, {
scale: 1.1
}).to(.1, {
scale: .9
}).to(.1, {
scale: 1
}).call(function() {
cc.tween(e.barefootDesc).to(.1, {
scale: 1.1
}).to(.1, {
scale: .9
}).to(.1, {
scale: 1
}).start();
}, e).start();
}, this).start();
}, s([ w(cc.Node) ], t.prototype, "titleNode", void 0), s([ w(cc.Node) ], t.prototype, "barefootNode", void 0), 
s([ w(cc.Node) ], t.prototype, "barefootTitle", void 0), s([ w(cc.Node) ], t.prototype, "barefootDesc", void 0), 
s([ w(cc.Node) ], t.prototype, "sheepSp", void 0), s([ w(cc.Node) ], t.prototype, "sheepFlagSp", void 0), 
s([ w(cc.Node) ], t.prototype, "winDescNode", void 0), s([ w(cc.Node) ], t.prototype, "backBtn", void 0), 
s([ w(cc.Node) ], t.prototype, "shareNode", void 0), s([ w(cc.Node) ], t.prototype, "shareBtn", void 0), 
s([ w(cc.Node) ], t.prototype, "noShareBtn", void 0), s([ w(cc.Node) ], t.prototype, "shareCloseBtn", void 0), 
s([ w(cc.Node) ], t.prototype, "timeNode", void 0), s([ w({
type: cc.Node,
tooltip: "flash动画"
}) ], t.prototype, "flashSp", void 0), s([ _ ], t);
}(cc.Component);
i.default = N;
cc._RF.pop();
}, {} ],
"wx-sdk": [ function(e, t, o) {
"use strict";
cc._RF.push(t, "dbb360ys3xP25Wexckd5YGf", "wx-sdk");
var n = e, r = o, i = function(e, t, o, n) {
return new (o = o || Promise)(function(r, i) {
function a(e) {
try {
c(n.next(e));
} catch (e) {
i(e);
}
}
function s(e) {
try {
c(n.throw(e));
} catch (e) {
i(e);
}
}
function c(e) {
var t;
e.done ? r(e.value) : ((t = e.value) instanceof o ? t : new o(function(e) {
e(t);
})).then(a, s);
}
c((n = n.apply(e, t || [])).next());
});
}, a = function(e, t) {
var o, n, r, i = {
label: 0,
sent: function() {
if (1 & r[0]) throw r[1];
return r[1];
},
trys: [],
ops: []
}, a = {
next: s(0),
throw: s(1),
return: s(2)
};
return "function" == typeof Symbol && (a[Symbol.iterator] = function() {
return this;
}), a;
function s(a) {
return function(s) {
return function(a) {
if (o) throw new TypeError("Generator is already executing.");
for (;i; ) try {
if (o = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 
0) : n.next) && !(r = r.call(n, a[1])).done) return r;
switch (n = 0, (a = r ? [ 2 & a[0], r.value ] : a)[0]) {
case 0:
case 1:
r = a;
break;

case 4:
return i.label++, {
value: a[1],
done: !1
};

case 5:
i.label++, n = a[1], a = [ 0 ];
continue;

case 7:
a = i.ops.pop(), i.trys.pop();
continue;

default:
if (!(r = 0 < (r = i.trys).length && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
i = 0;
continue;
}
if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
i.label = a[1];
break;
}
if (6 === a[0] && i.label < r[1]) {
i.label = r[1], r = a;
break;
}
if (r && i.label < r[2]) {
i.label = r[2], i.ops.push(a);
break;
}
r[2] && i.ops.pop(), i.trys.pop();
continue;
}
a = t.call(e, i);
} catch (e) {
a = [ 6, e ], n = 0;
} finally {
o = r = 0;
}
if (5 & a[0]) throw a[1];
return {
value: a[0] ? a[1] : void 0,
done: !0
};
}([ a, s ]);
};
}
};
Object.defineProperty(r, "__esModule", {
value: !0
});
var s = n("sdk");
cc.sys.platform, cc.sys.WECHAT_GAME;
var c = function() {
function e() {}
return e.init = function() {
cc.sys.platform == cc.sys.WECHAT_GAME && (wx.onInteractiveStorageModified(function(e) {
cc.log("onInteractiveStorageModified", e);
}), wx.onShareMessageToFriend(function(e) {
cc.log("wx.shareMessageToFriend", e);
var t = e.success ? "分享成功" : "分享失败";
wx.showToast({
title: t,
icon: "none",
duration: 2e3
}), e.success;
}), wx.createGameIcon && (this.gameIconAd = wx.createGameIcon({
adUnitId: "PBgAAvMtdTk_v2ho",
count: 1,
style: []
}, {
appNameHidden: !1,
color: "#713A0CC8",
size: 60,
borderWidth: 5,
borderColor: "#ffffff77",
left: 0,
top: 200
})), this.authorize(), console.info("-- 开启转发 --"), this.registerShowHide());
}, e.checkUpdateManager = function() {
var e;
cc.sys.platform == cc.sys.WECHAT_GAME && ((e = wx.getUpdateManager()).onCheckForUpdate(function(e) {
console.info("[app update]", e.hasUpdate);
}), e.onUpdateReady(function() {
wx.showModal({
title: "更新提示",
content: "新版本已经准备好，是否重启应用？",
success: function(t) {
t.confirm && e.applyUpdate();
}
});
}));
}, e.registerShowHide = function() {
return i(this, void 0, Promise, function() {
var e = this;
return a(this, function() {
return wx.onShow(function() {
e.onShowFunction && e.onShowFunction.forEach(function(e) {
return e();
}), e.onShowOnceFunction && (e.onShowOnceFunction.forEach(function(e) {
e();
}), e.onShowOnceFunction.length = 0);
}), wx.onHide(function() {
e.onHideFunction && e.onHideFunction.forEach(function(e) {
return e();
}), e.onHideOnceFunction && (e.onHideOnceFunction.forEach(function(e) {
e();
}), e.onHideOnceFunction.length = 0);
}), [ 2 ];
});
});
}, e.showGameIcon = function() {
var e = this;
this.gameIconAd && (this.gameIconAdShown || this.gameIconAd.load().then(function() {
e.gameIconAd.show(), e.gameIconAdShown = !0;
}).catch(function(t) {
cc.error("wx-sdk show game icon", t), e.gameIconAd.hide();
}));
}, e.hideGameIcon = function() {
this.gameIconAd && (this.gameIconAd.hide(), this.gameIconAdShown = !1);
}, e.authorizeLocation = function() {
return i(this, void 0, Promise, function() {
return a(this, function() {
return wx.authorize({
scope: "scope.userLocation",
success: function(e) {
cc.log("authorize success:", e);
},
fail: function(e) {
cc.log("authorize fail:", e);
}
}), [ 2 ];
});
});
}, e.authorize = function() {
return i(this, void 0, Promise, function() {
return a(this, function() {
return [ 2 ];
});
});
}, e.weiBoJump = function() {
wx.navigateToMiniProgram({
appId: "wx9074de28009e1111",
path: "pages/profile/profile?nickname=羊了个羊官博",
success: function() {
console.log("成功跳转微博小程序");
}
});
}, e.vibrateShort = function(e) {
void 0 === e && (e = "light"), wx.vibrateShort({
type: e,
style: e
});
}, e.vibrateLong = function() {
wx.vibrateLong({});
}, e.wxAppLogin = function() {
throw new Error("Method not implemented.");
}, e.getSubVersion = function(e) {
e = e.split(".");
return {
first: parseInt(e[0].trim()),
second: parseInt(e[1].trim()),
third: parseInt(e[2].trim())
};
}, e.isVersionLower = function(e, t) {
e = this.getSubVersion(e), t = this.getSubVersion(t);
return !(e.first > t.first || e.second > t.second || e.third > t.third);
}, e.isWxVersionLower = function(e) {
if (cc.sys.platform != cc.sys.WECHAT_GAME && cc.sys.platform != cc.sys.WECHAT_GAME_SUB) return !0;
var t = wx.getSystemInfoSync().SDKVersion, o = !1;
return this.isVersionLower(t, e) && (o = !0), cc.log("[sdk] is wx version lower", t, e, o), 
o;
}, e.isWxVersionHigher = function(e) {
return !this.isWxVersionLower(e);
}, e.wxRankScoreUpdate = function(e, t, o) {
cc.sys.platform == cc.sys.WECHAT_GAME && wx.getOpenDataContext().postMessage({
cmd: "update-" + e,
type: o,
score: t
});
}, e.wxRankScoreRemove = function(e) {
cc.sys.platform == cc.sys.WECHAT_GAME && wx.getOpenDataContext().postMessage({
cmd: "remove-" + e,
score: 0
});
}, e.wxShowSubContext = function(e, t, o, n) {
cc.sys.platform == cc.sys.WECHAT_GAME && wx.getOpenDataContext().postMessage({
cmd: "show-" + e,
setData: t,
w: o,
h: n
});
}, e.onShareAppMessage = function(e) {
wx.showShareMenu({
withShareTicket: !0
}), wx.onShareAppMessage(function() {
return {
title: e.title,
imageUrl: e.imageUrl,
query: e.query
};
}), wx.onShareTimeline(function() {
return {
title: "羊了个羊",
imageUrl: "",
query: "a=1&b=2"
};
});
}, e.onShareAppMessageQuery = function() {
return wx.getEnterOptionsSync().query;
}, e.wxShare = function(e, t) {
var o;
cc.sys.platform == cc.sys.WECHAT_GAME && (o = cc.winSize, t = t || canvas.toTempFilePathSync({
destHeight: o.width / 5 * 4
}), wx.shareAppMessage({
title: e,
imageUrl: t
}));
}, e.wxShareWithCallBack = function(e) {
if (e.tag, cc.sys.isBrowser) return e.success && e.success("local"), void (e.complete && e.complete("local"));
if (cc.sys.platform != cc.sys.WECHAT_GAME) return e.success && e.success("local"), 
void (e.complete && e.complete("local"));
null == e.validate && (e.validate = !0);
function t(t) {
r || (console.log("构建 success"), e.success && e.success(t), r = !0);
}
function o(t) {
e.complete && e.complete(t);
}
var n = !(this._beforeOnHideAction = 1), r = !1, i = !1, a = Date.now();
this.setOnShow(function() {
Date.now() - a < 1e3 * s.SHARE_CALLBACK_TIME && (n = !0);
}), this.setOnShow(function() {
return !(!n || r) && (e.validate && Date.now() - a < 1e3 * s.SHARE_CALLBACK_TIME ? void (Math.random() < s.SHARE_CALLBACK_RATE ? (t(), 
o()) : wx.showModal({
title: "提示",
content: "分享失败，请分享到群！",
confirmText: "重试",
showCancel: !1,
complete: function() {
console.log("执行 complete");
},
success: function() {
console.log("执行 success"), t();
},
fail: function() {
console.log("执行 fail"), i || (console.log("构建 fail"), e.fail && e.fail(void 0), 
i = !0);
}
})) : (t(), void o()));
});
var c = setInterval(function() {
t(), o();
}, 2e3);
clearInterval(c);
c = "";
e.query && (c = e.query), wx.shareAppMessage({
title: e.title,
imageUrl: e.imageUrl,
query: c
});
}, e.setOnShow = function(e) {
e && this.onShowFunction.push(e);
}, e.setOffShow = function(e) {
-1 < (e = this.onShowFunction.indexOf(e)) && this.onShowFunction.splice(e, 1);
}, e.setOnShowOnce = function(e) {
e && this.onShowOnceFunction.push(e);
}, e.setOffShowOnce = function(e) {
-1 < (e = this.onShowOnceFunction.indexOf(e)) && this.onShowOnceFunction.splice(e, 1);
}, e.setOnHide = function(e) {
e && this.onHideFunction.push(e);
}, e.setOffHide = function(e) {
-1 < (e = this.onHideFunction.indexOf(e)) && this.onHideFunction.splice(e, 1);
}, e.setOnHideOnce = function(e) {
e && this.onHideOnceFunction.push(e);
}, e.setOffHideOnce = function(e) {
-1 < (e = this.onHideOnceFunction.indexOf(e)) && this.onHideOnceFunction.splice(e, 1);
}, e.getAppVersion = function() {
if (cc.sys.platform == cc.sys.WECHAT_GAME && wx.getAccountInfoSync) {
var e = wx.getAccountInfoSync();
return cc.log("[sdk] accountInfo:", e), e.miniProgram.version || "";
}
return "";
}, e.setClipboardData = function(e) {
wx.setClipboardData({
data: e,
success: function() {
wx.getClipboardData({
success: function(e) {
cc.log("wx get clipboard data:", e.data);
}
});
}
});
}, e.showToast = function(e) {
wx.showToast(e);
}, e.showBannerAd = function() {}, e.hideBannerAd = function() {}, e.showInterstitialAd = function() {}, 
e.showRewardVideoAd = function(e, t, o) {
var n, r;
wx ? (n = !1, (r = wx.createRewardedVideoAd({
adUnitId: e
})).onClose(function(e) {
0 == n && (n = !0, e && e.isEnded || void 0 === e ? t() : o(!1, "观看失败"));
}), r.onError(function(e) {
0 == n && o(!(n = !0), e.errMsg);
}), r.load().then(function() {
r.show();
}).catch(function() {
o(!1, "广告拉取失败");
})) : o(!1, "wx undefined");
}, e.onShowFunction = [], e.onHideFunction = [], e.onShowOnceFunction = [], e.onHideOnceFunction = [], 
e.gameIconAd = null, e.gameIconAdShown = !1, e;
}();
(r.default = c).init();
cc._RF.pop();
}, {} ]
}, {}, [ "GameEntry", "BuiltinDataComponent", "DRMusic", "DRScene", "DRSound", "DRUIForm", "DRUISound", "ConstantBundle", "ConstantData", "ConstantEvent", "ConstantEventEngine", "ConstantNativeAdInterface", "ConstantPrivacy", "ConstantSceneName", "ConstantSetting", "ConstantSound", "ConstantVersion", "BuildInfo", "DfGfCcCfg", "MiniGameInfo", "VersionInfo", "ProcedureBase", "ProcedureChangeScene", "ProcedureCheckVersion", "ProcedureLaunch", "ProcedurePreload", "ProcedurePreloadLaunchRes", "ProcedureSplash", "ProcedureFreeGame", "ProcedureGame", "ProcedureHealth", "ProcedureLogin", "ProcedureMenu", "ProcedurePrivacy", "ProcedureSplashAd", "DialogForm", "HealthForm", "NetTipsForm", "PrivacyForm", "SplashForm", "UiFormId", "AutoBgUi", "AutoCanvasAdapter", "BtnAndroidActive", "BtnEditorInactive", "BtnHwMiniGameActive", "BtnMoreActive", "BtnSpace", "NativePlatformBtn", "LoginForm", "LogoutForm", "NativeAdForm", "RotateCircle", "DialogParams", "AssetUtility", "GameFrameworkEntry", "GameFrameworkLinkedList", "GameFrameworkLinkedListRange", "GameFrameworkModule", "GameFrameworkMultiDictionary", "GameFrameworkType", "DataProvider", "IDataProvider", "IDataProviderHelper", "TypeNamePair", "GameFrameworkLog", "GameFrameworkLogLevel", "IGameFrameworkLogHelper", "IReference", "ReferenceCollection", "ReferencePool", "ReferencePoolInfo", "GameFrameworkConstant", "GameFrameworkConstantConfig", "ITaskAgent", "StartTaskStatus", "TaskBase", "TaskInfo", "TaskPool", "TaskStatus", "Variable", "VariableBase", "GameFrameworkVersion", "IVersionHelper", "ConfigDataDf", "ConfigManager", "IConfigHelper", "IConfigManager", "DataNode", "DataNodeManager", "IDataNode", "IDataNodeManager", "DataTable", "DataTableBase", "DataTableManager", "IDataRow", "IDataTable", "IDataTableHelper", "IDataTableManager", "EventManager", "IEventManager", "Fsm", "FsmBase", "FsmManager", "FsmState", "IFsm", "IFsmManager", "HeartbeatManager", "IHeartBeatHelper", "IHeartbeatManager", "IObjectPool", "IObjectPoolManager", "ObjectBase", "ObjectInfo", "ObjectPoolBase", "ObjectPoolManager", "ObjectPoolManagerObject", "ObjectPoolManagerObjectPool", "ReleaseObjectFilterCallback", "IProcedureManager", "ProcedureBaseBase", "ProcedureManager", "ISettingHelper", "ISettingManager", "SettingManager", "ConstantSoundGF", "ISoundAgent", "ISoundAgentHelper", "ISoundGroup", "ISoundGroupHelper", "ISoundHelper", "ISoundManager", "PlaySoundErrorCode", "PlaySoundInfoGF", "PlaySoundParams", "SoundAgent", "SoundGroupGF", "SoundManager", "ISwitchHelper", "ISwitchManager", "SwitchManager", "DictionaryDf", "LinkedList", "LinkedListNode", "ListDf", "QueueDf", "StackDF", "IUIForm", "IUIFormHelper", "IUIGroup", "IUIGroupHelper", "IUIManager", "OpenUIFormInfo", "UIFormInfo", "UIFormInstanceObject", "UIGroup", "UIManager", "DFClassFactory", "DFClassUtils", "GFClassUtils", "IJsonHelper", "JsonUtility", "Ramdom", "StringUtility", "TextAssetReader", "TimeUtils", "XORUtil", "IWebRequestHelper", "IWebRequestManager", "WebRequestManager", "AdComponent", "MiniGamePlatformBase", "NativePlatformBase", "PlatformBase", "AdProcessBase", "BannerAdBase", "BoxBannerAdBase", "BoxPortalAdBase", "InterstitialAdBase", "MiniGameAccountBase", "MiniGameAdBase", "MiniGameNativeAdBase", "MiniGameRecordBase", "MiniGameRewardAdBase", "MiniGameShareBase", "MiniGameSystemBase", "AdShowingType", "GamePlatform", "LoadAdState", "NativeStyle", "NativeAdInfo", "IMiniGameAccount", "IMiniGameAd", "IMiniGameCb", "IMiniGameRecord", "IMiniGameShare", "IMiniGameSystem", "IPlatform", "IRewardCb", "ISwitch", "PlatformAndroid", "PlatformByteDance", "PlatformHwMiniGame", "PlatformOppoMiniGame", "PlatformVivoMiniGame", "PlatformWeChat", "BDBannerAd", "BDGameSystem", "BDInterstitialAd", "BDRecord", "BDRewardAd", "BDShare", "HwAccount", "HwBannerAd", "HwBannerNativeAd", "HwGameSystem", "HwInterstitialAd", "HwNativeAd", "HwRewardAd", "OppoAccount", "OppoBannerAd", "OppoBoxBannerAd", "OppoGameSystem", "OppoInterstitialAd", "OppoNativeAd", "OppoPortalAd", "OppoRewardAd", "VivoAccount", "VivoBannerAd", "VivoBoxBannerAd", "VivoBoxPortalAd", "VivoGameSystem", "VivoInterstitialAd", "VivoNativeAd", "VivoRewardAd", "VivoShare", "AnalysisComponent", "BaseComponent", "GameEntryEngine", "GameFrameworkComponent", "ShutdownType", "gfclass", "ConfigComponent", "ConfigHelperBase", "DefaultConfigHelper", "DataNodeComponent", "DataRowBase", "DataTableComponent", "DataTableHelperBase", "DefaultDataTableHelper", "ConstantBundleEngine", "ConstantEngineAssetPriority", "ConstantGF", "ConstantNativeMsg", "ConstantNativeProtocol", "AdLoopType", "GameInfo", "UserRegionInfo", "Entity", "EntityLogic", "EventComponent", "FsmComponent", "DreamFlyGlobal", "DefaultHeartbeatHelper", "HeartbeatComponent", "DFLog", "DefaultLogHelper", "ObjectPoolComponent", "ProcedureComponent", "ReferencePoolComponent", "ConstantResourceCGF", "IResourceManager", "LoadAssetCallbacksTypes", "ResourceManager", "ResourcesComponent", "ISceneManager", "SceneComponent", "SceneManager", "LocalStorageCcHelper", "SettingComponent", "SettingHelperBase", "DefaultSoundAgentHelper", "DefaultSoundGroupHelper", "DefaultSoundHelper", "PlaySoundInfo", "SoundAgentHelperBase", "SoundComponent", "SoundGroup", "SoundGroupHelperBase", "SoundHelperBase", "DefaultSwitchHelper", "SwitchComponent", "CcUIForm", "CcUIGroupHelper", "DefaultUIFormHelper", "DefaultUIGroupHelper", "UIForm", "UIFormHelperBase", "UIFormLogic", "UIGroupHelperBase", "UIGroupInfo", "UiComponent", "CCNodeUtility", "ComponentHelper", "DefaultJsonHelper", "UIExtension", "VarBool", "VarDateTime", "VarNode", "VarNumber", "VarObject", "VarString", "VarVec2", "VarVec3", "DefaultVersionHelper", "DefaultWebRequestHelper", "WebRequestComponent", "ApiTool", "BulletPrefab", "CcJsFunc", "CoinEmitter", "CoinEmitterByTime", "DateManager", "FriendRankPop", "FriendSubContextView", "GameManager", "PersonalPop", "PoolManager", "PrivacyPolicy", "PrivacyUserPop", "ScrollMsg", "SpriteWithMask", "SpriteWithMaskAssembler", "TodayRankPop", "TodaySubContextView", "ad", "android-sdk", "api-sheep", "audio", "blockArea", "blockEditorPrefab", "blockPrefab", "brickPrefab", "brickSubPrefab", "brickSv", "bullet-item", "bullet-screen-pop", "bullet-screen", "calendar-item", "cat-house-progress", "catClawPrefabs", "catNode", "challengeSucPop", "chessboard", "clothesPrefab", "collectPrefab", "collectSubPrefab", "collectSv", "config", "cookiePrefab", "cookieRewardNode", "crushArea", "cubic-bezier-curve", "curve-sample", "daily-challenge", "data-env", "data-manager", "data-type", "dataModel", "dataTs", "editorGameLayer", "editorGameUiLayer", "editorPopCommon", "editorTips", "enumConfig", "export-helper", "failPop", "flying-item-pop-coin", "flying-item-pop-fish", "fontTipsLayer", "game-top-ui", "gameLayer", "gameUiLayer", "gd_language", "getLovePop", "getPropPop", "giftLayerAnimate", "houseLayer", "http", "i18n", "key-map", "loadCanvas", "loadLayer", "loseCookiePop", "loseLovePop", "main-cookie-reward", "main-rank", "main-tabbar", "mainCanvas", "mainCultivateLayer", "mainLayer", "mainUiLayer", "mapArea", "mapEditor", "mask", "maskLayer", "mesh-vertex", "moveOutArea", "native-bridge", "native-def", "native-event", "network-tool", "newLevelPop", "nextLevelPop", "noLimitPop", "nothingPop", "page-house", "page-main", "picturePop", "player-head-atlas", "decode-uri-component", "filter-obj", "query-string", "split-on-first", "strict-uri-encode", "popManager", "prop-prefab", "register-head-image", "report-common", "reward-emitter", "rewardPrefab", "saveAsPop", "sdk", "selectLevelPop", "setBloackNumPrefab", "setBlockNumPop", "setupPop", "share", "shareNodePop", "sheep-card", "sheep-flock-icon", "sheep-flock", "sheep-rank-pop", "sheepRankItem", "show-daily-pop", "show-reward-pop", "snake-ctrl-point", "snake-sprite-assembler", "spine", "spline-node", "spline-sprite", "spline", "sprintRewardBar", "sprintRewardPop", "stagePop", "str-utils", "thinkingdata.mg.cocoscreator.min", "topUiLayer", "topic-card-node", "topic-header-node", "topic-rank", "topic-sheep-node", "topic-ui-layer", "topic-ui", "topicChoosePop", "topicCollectPop", "topicJoinedPop", "topicLastWinPop", "topicNewPop", "transitionsLayer", "tt-sdk", "typed-event", "uiControler", "uma-sdk", "unlock-build-pop", "unlock-build", "upgrade-tip", "upgradePop", "util", "wallpaperPrefab", "wallpaperSubPrefab", "wallpaperSv", "wardrobeLayer", "winPop", "wx-sdk" ]);